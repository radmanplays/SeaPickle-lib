!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.SeaPicklelib=t():e.SeaPicklelib=t()}(this,(()=>(()=>{"use strict";var e={270:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.addgui=t.setguionlyshowifingame=t.setguikeybind=t.setguistyles=t.setguihtml=t.setguiname=t.guionlyshowifingame=t.guikeybind=t.guistyles=t.guihtml=t.guiname=void 0,t.guiname=null,t.guihtml=null,t.guistyles=null,t.guikeybind=null,t.guionlyshowifingame=!1,t.setguiname=function(e){t.guiname=e},t.setguihtml=function(e){t.guihtml=e},t.setguistyles=function(e){t.guistyles=e},t.setguikeybind=function(e){t.guikeybind=e},t.setguionlyshowifingame=function(e){t.guionlyshowifingame=e},t.addgui=function(){if(null!=t.guiname&&null!=t.guihtml&&null!=t.guistyles){var e=!1;window.addEventListener("keydown",(function(e){"RightShift"==t.guikeybind&&"Shift"===e.key&&e.location===KeyboardEvent.DOM_KEY_LOCATION_RIGHT&&n(),"Escape"!==e.key&&"`"!==e.key||r(),e.key===t.guikeybind&&n()}))}else alert("failed to add gui. reason : guiname or guihtml or guistyles are not defined");function n(){e?r():function(){r();var n=document.createElement("gui");1==t.guionlyshowifingame&&null!=document.pointerLockElement?(n.innerHTML=t.guihtml,n.id=t.guiname,n.style=t.guistyles,document.body.appendChild(n),e=!0):(null!=document.pointerLockElement&&document.exitPointerLock(),n.innerHTML=t.guihtml,n.id=t.guiname,n.style=t.guistyles,document.body.appendChild(n),e=!0)}()}function r(){document.getElementById(t.guiname)&&document.getElementById(t.guiname).remove(),e=!1}}},850:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.loadjquery=void 0,t.loadjquery=function(){
/*!
    * jQuery JavaScript Library v3.7.1
    * https://jquery.com/
    *
    * Copyright OpenJS Foundation and other contributors
    * Released under the MIT license
    * https://jquery.org/license
    *
    * Date: 2023-08-28T13:37Z
    */
var r,i;console.log("successfully loaded jquery!"),r="undefined"!=typeof window?window:this,i=function(r,i){var o=[],a=Object.getPrototypeOf,s=o.slice,u=o.flat?function(e){return o.flat.call(e)}:function(e){return o.concat.apply([],e)},l=o.push,c=o.indexOf,f={},p=f.toString,d=f.hasOwnProperty,h=d.toString,g=h.call(Object),v={},y=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},m=function(e){return null!=e&&e===e.window},x=r.document,b={type:!0,src:!0,nonce:!0,noModule:!0};function w(e,t,n){var r,i,o=(n=n||x).createElement("script");if(o.text=e,t)for(r in b)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function T(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?f[p.call(e)]||"object":typeof e}var C="3.7.1",k=/HTML$/i,E=function(e,t){return new E.fn.init(e,t)};function S(e){var t=!!e&&"length"in e&&e.length,n=T(e);return!y(e)&&!m(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function j(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}E.fn=E.prototype={jquery:C,constructor:E,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=E.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return E.each(this,e)},map:function(e){return this.pushStack(E.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(E.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(E.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:o.sort,splice:o.splice},E.extend=E.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||y(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(E.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||E.isPlainObject(n)?n:{},i=!1,a[t]=E.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},E.extend({expando:"jQuery"+(C+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==p.call(e)||(t=a(e))&&("function"!=typeof(n=d.call(t,"constructor")&&t.constructor)||h.call(n)!==g))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){w(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(S(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},text:function(e){var t,n="",r=0,i=e.nodeType;if(!i)for(;t=e[r++];)n+=E.text(t);return 1===i||11===i?e.textContent:9===i?e.documentElement.textContent:3===i||4===i?e.nodeValue:n},makeArray:function(e,t){var n=t||[];return null!=e&&(S(Object(e))?E.merge(n,"string"==typeof e?[e]:e):l.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:c.call(t,e,n)},isXMLDoc:function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!k.test(t||n&&n.nodeName||"HTML")},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(S(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return u(a)},guid:1,support:v}),"function"==typeof Symbol&&(E.fn[Symbol.iterator]=o[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){f["[object "+t+"]"]=t.toLowerCase()}));var A=o.pop,D=o.sort,N=o.splice,L="[\\x20\\t\\r\\n\\f]",q=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g");E.contains=function(e,t){var n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(e.contains?e.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))};var H=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function O(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}E.escapeSelector=function(e){return(e+"").replace(H,O)};var P=x,M=l;!function(){var e,t,n,i,a,u,l,f,p,h,g=M,y=E.expando,m=0,x=0,b=ee(),w=ee(),T=ee(),C=ee(),k=function(e,t){return e===t&&(a=!0),0},S="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",H="(?:\\\\[\\da-fA-F]{1,6}"+L+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",O="\\["+L+"*("+H+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+H+"))|)"+L+"*\\]",R=":("+H+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+O+")*)|.*)\\)|)",I=new RegExp(L+"+","g"),W=new RegExp("^"+L+"*,"+L+"*"),F=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),$=new RegExp(L+"|>"),_=new RegExp(R),B=new RegExp("^"+H+"$"),z={ID:new RegExp("^#("+H+")"),CLASS:new RegExp("^\\.("+H+")"),TAG:new RegExp("^("+H+"|[*])"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+R),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+S+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,U=/^h\d$/i,V=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,G=/[+~]/,Y=new RegExp("\\\\[\\da-fA-F]{1,6}"+L+"?|\\\\([^\\r\\n\\f])","g"),Q=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},J=function(){ue()},K=pe((function(e){return!0===e.disabled&&j(e,"fieldset")}),{dir:"parentNode",next:"legend"});try{g.apply(o=s.call(P.childNodes),P.childNodes),o[P.childNodes.length].nodeType}catch(e){g={apply:function(e,t){M.apply(e,s.call(t))},call:function(e){M.apply(e,s.call(arguments,1))}}}function Z(e,t,n,r){var i,o,a,s,l,c,d,h=t&&t.ownerDocument,m=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==m&&9!==m&&11!==m)return n;if(!r&&(ue(t),t=t||u,f)){if(11!==m&&(l=V.exec(e)))if(i=l[1]){if(9===m){if(!(a=t.getElementById(i)))return n;if(a.id===i)return g.call(n,a),n}else if(h&&(a=h.getElementById(i))&&Z.contains(t,a)&&a.id===i)return g.call(n,a),n}else{if(l[2])return g.apply(n,t.getElementsByTagName(e)),n;if((i=l[3])&&t.getElementsByClassName)return g.apply(n,t.getElementsByClassName(i)),n}if(!(C[e+" "]||p&&p.test(e))){if(d=e,h=t,1===m&&($.test(e)||F.test(e))){for((h=G.test(e)&&se(t.parentNode)||t)==t&&v.scope||((s=t.getAttribute("id"))?s=E.escapeSelector(s):t.setAttribute("id",s=y)),o=(c=ce(e)).length;o--;)c[o]=(s?"#"+s:":scope")+" "+fe(c[o]);d=c.join(",")}try{return g.apply(n,h.querySelectorAll(d)),n}catch(t){C(e,!0)}finally{s===y&&t.removeAttribute("id")}}}return me(e.replace(q,"$1"),t,n,r)}function ee(){var e=[];return function n(r,i){return e.push(r+" ")>t.cacheLength&&delete n[e.shift()],n[r+" "]=i}}function te(e){return e[y]=!0,e}function ne(e){var t=u.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function re(e){return function(t){return j(t,"input")&&t.type===e}}function ie(e){return function(t){return(j(t,"input")||j(t,"button"))&&t.type===e}}function oe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&K(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ae(e){return te((function(t){return t=+t,te((function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))}))}))}function se(e){return e&&void 0!==e.getElementsByTagName&&e}function ue(e){var n,r=e?e.ownerDocument||e:P;return r!=u&&9===r.nodeType&&r.documentElement?(l=(u=r).documentElement,f=!E.isXMLDoc(u),h=l.matches||l.webkitMatchesSelector||l.msMatchesSelector,l.msMatchesSelector&&P!=u&&(n=u.defaultView)&&n.top!==n&&n.addEventListener("unload",J),v.getById=ne((function(e){return l.appendChild(e).id=E.expando,!u.getElementsByName||!u.getElementsByName(E.expando).length})),v.disconnectedMatch=ne((function(e){return h.call(e,"*")})),v.scope=ne((function(){return u.querySelectorAll(":scope")})),v.cssHas=ne((function(){try{return u.querySelector(":has(*,:jqfake)"),!1}catch(e){return!0}})),v.getById?(t.filter.ID=function(e){var t=e.replace(Y,Q);return function(e){return e.getAttribute("id")===t}},t.find.ID=function(e,t){if(void 0!==t.getElementById&&f){var n=t.getElementById(e);return n?[n]:[]}}):(t.filter.ID=function(e){var t=e.replace(Y,Q);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},t.find.ID=function(e,t){if(void 0!==t.getElementById&&f){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),t.find.TAG=function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},t.find.CLASS=function(e,t){if(void 0!==t.getElementsByClassName&&f)return t.getElementsByClassName(e)},p=[],ne((function(e){var t;l.appendChild(e).innerHTML="<a id='"+y+"' href='' disabled='disabled'></a><select id='"+y+"-\r\\' disabled='disabled'><option selected=''></option></select>",e.querySelectorAll("[selected]").length||p.push("\\["+L+"*(?:value|"+S+")"),e.querySelectorAll("[id~="+y+"-]").length||p.push("~="),e.querySelectorAll("a#"+y+"+*").length||p.push(".#.+[+~]"),e.querySelectorAll(":checked").length||p.push(":checked"),(t=u.createElement("input")).setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),l.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&p.push(":enabled",":disabled"),(t=u.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||p.push("\\["+L+"*name"+L+"*="+L+"*(?:''|\"\")")})),v.cssHas||p.push(":has"),p=p.length&&new RegExp(p.join("|")),k=function(e,t){if(e===t)return a=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!v.sortDetached&&t.compareDocumentPosition(e)===n?e===u||e.ownerDocument==P&&Z.contains(P,e)?-1:t===u||t.ownerDocument==P&&Z.contains(P,t)?1:i?c.call(i,e)-c.call(i,t):0:4&n?-1:1)},u):u}for(e in Z.matches=function(e,t){return Z(e,null,null,t)},Z.matchesSelector=function(e,t){if(ue(e),f&&!C[t+" "]&&(!p||!p.test(t)))try{var n=h.call(e,t);if(n||v.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){C(t,!0)}return Z(t,u,null,[e]).length>0},Z.contains=function(e,t){return(e.ownerDocument||e)!=u&&ue(e),E.contains(e,t)},Z.attr=function(e,n){(e.ownerDocument||e)!=u&&ue(e);var r=t.attrHandle[n.toLowerCase()],i=r&&d.call(t.attrHandle,n.toLowerCase())?r(e,n,!f):void 0;return void 0!==i?i:e.getAttribute(n)},Z.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},E.uniqueSort=function(e){var t,n=[],r=0,o=0;if(a=!v.sortStable,i=!v.sortStable&&s.call(e,0),D.call(e,k),a){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)N.call(e,n[r],1)}return i=null,e},E.fn.uniqueSort=function(){return this.pushStack(E.uniqueSort(s.apply(this)))},t=E.expr={cacheLength:50,createPseudo:te,match:z,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Y,Q),e[3]=(e[3]||e[4]||e[5]||"").replace(Y,Q),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||Z.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&Z.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return z.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&_.test(n)&&(t=ce(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Y,Q).toLowerCase();return"*"===e?function(){return!0}:function(e){return j(e,t)}},CLASS:function(e){var t=b[e+" "];return t||(t=new RegExp("(^|"+L+")"+e+"("+L+"|$)"))&&b(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var i=Z.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(I," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,p,d,h=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),x=!u&&!s,b=!1;if(g){if(o){for(;h;){for(f=t;f=f[h];)if(s?j(f,v):1===f.nodeType)return!1;d=h="only"===e&&!d&&"nextSibling"}return!0}if(d=[a?g.firstChild:g.lastChild],a&&x){for(b=(p=(l=(c=g[y]||(g[y]={}))[e]||[])[0]===m&&l[1])&&l[2],f=p&&g.childNodes[p];f=++p&&f&&f[h]||(b=p=0)||d.pop();)if(1===f.nodeType&&++b&&f===t){c[e]=[m,p,b];break}}else if(x&&(b=p=(l=(c=t[y]||(t[y]={}))[e]||[])[0]===m&&l[1]),!1===b)for(;(f=++p&&f&&f[h]||(b=p=0)||d.pop())&&(!(s?j(f,v):1===f.nodeType)||!++b||(x&&((c=f[y]||(f[y]={}))[e]=[m,b]),f!==t)););return(b-=i)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,n){var r,i=t.pseudos[e]||t.setFilters[e.toLowerCase()]||Z.error("unsupported pseudo: "+e);return i[y]?i(n):i.length>1?(r=[e,e,"",n],t.setFilters.hasOwnProperty(e.toLowerCase())?te((function(e,t){for(var r,o=i(e,n),a=o.length;a--;)e[r=c.call(e,o[a])]=!(t[r]=o[a])})):function(e){return i(e,0,r)}):i}},pseudos:{not:te((function(e){var t=[],n=[],r=ye(e.replace(q,"$1"));return r[y]?te((function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))})):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}})),has:te((function(e){return function(t){return Z(e,t).length>0}})),contains:te((function(e){return e=e.replace(Y,Q),function(t){return(t.textContent||E.text(t)).indexOf(e)>-1}})),lang:te((function(e){return B.test(e||"")||Z.error("unsupported lang: "+e),e=e.replace(Y,Q).toLowerCase(),function(t){var n;do{if(n=f?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(e){var t=r.location&&r.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===l},focus:function(e){return e===function(){try{return u.activeElement}catch(e){}}()&&u.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:oe(!1),disabled:oe(!0),checked:function(e){return j(e,"input")&&!!e.checked||j(e,"option")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!t.pseudos.empty(e)},header:function(e){return U.test(e.nodeName)},input:function(e){return X.test(e.nodeName)},button:function(e){return j(e,"input")&&"button"===e.type||j(e,"button")},text:function(e){var t;return j(e,"input")&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ae((function(){return[0]})),last:ae((function(e,t){return[t-1]})),eq:ae((function(e,t,n){return[n<0?n+t:n]})),even:ae((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:ae((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:ae((function(e,t,n){var r;for(r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e})),gt:ae((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}},t.pseudos.nth=t.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[e]=re(e);for(e in{submit:!0,reset:!0})t.pseudos[e]=ie(e);function le(){}function ce(e,n){var r,i,o,a,s,u,l,c=w[e+" "];if(c)return n?0:c.slice(0);for(s=e,u=[],l=t.preFilter;s;){for(a in r&&!(i=W.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=F.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(q," ")}),s=s.slice(r.length)),t.filter)!(i=z[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?Z.error(e):w(e,u).slice(0)}function fe(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function pe(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,s=x++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,u){var l,c,f=[m,s];if(u){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,u))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(c=t[y]||(t[y]={}),i&&j(t,i))t=t[r]||t;else{if((l=c[o])&&l[0]===m&&l[1]===s)return f[2]=l[2];if(c[o]=f,f[2]=e(t,n,u))return!0}return!1}}function de(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function he(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function ge(e,t,n,r,i,o){return r&&!r[y]&&(r=ge(r)),i&&!i[y]&&(i=ge(i,o)),te((function(o,a,s,u){var l,f,p,d,h=[],v=[],y=a.length,m=o||function(e,t,n){for(var r=0,i=t.length;r<i;r++)Z(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),x=!e||!o&&t?m:he(m,h,e,s,u);if(n?n(x,d=i||(o?e:y||r)?[]:a,s,u):d=x,r)for(l=he(d,v),r(l,[],s,u),f=l.length;f--;)(p=l[f])&&(d[v[f]]=!(x[v[f]]=p));if(o){if(i||e){if(i){for(l=[],f=d.length;f--;)(p=d[f])&&l.push(x[f]=p);i(null,d=[],l,u)}for(f=d.length;f--;)(p=d[f])&&(l=i?c.call(o,p):h[f])>-1&&(o[l]=!(a[l]=p))}}else d=he(d===a?d.splice(y,d.length):d),i?i(null,a,d,u):g.apply(a,d)}))}function ve(e){for(var r,i,o,a=e.length,s=t.relative[e[0].type],u=s||t.relative[" "],l=s?1:0,f=pe((function(e){return e===r}),u,!0),p=pe((function(e){return c.call(r,e)>-1}),u,!0),d=[function(e,t,i){var o=!s&&(i||t!=n)||((r=t).nodeType?f(e,t,i):p(e,t,i));return r=null,o}];l<a;l++)if(i=t.relative[e[l].type])d=[pe(de(d),i)];else{if((i=t.filter[e[l].type].apply(null,e[l].matches))[y]){for(o=++l;o<a&&!t.relative[e[o].type];o++);return ge(l>1&&de(d),l>1&&fe(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(q,"$1"),i,l<o&&ve(e.slice(l,o)),o<a&&ve(e=e.slice(o)),o<a&&fe(e))}d.push(i)}return de(d)}function ye(e,r){var i,o=[],a=[],s=T[e+" "];if(!s){for(r||(r=ce(e)),i=r.length;i--;)(s=ve(r[i]))[y]?o.push(s):a.push(s);s=T(e,function(e,r){var i=r.length>0,o=e.length>0,a=function(a,s,l,c,p){var d,h,v,y=0,x="0",b=a&&[],w=[],T=n,C=a||o&&t.find.TAG("*",p),k=m+=null==T?1:Math.random()||.1,S=C.length;for(p&&(n=s==u||s||p);x!==S&&null!=(d=C[x]);x++){if(o&&d){for(h=0,s||d.ownerDocument==u||(ue(d),l=!f);v=e[h++];)if(v(d,s||u,l)){g.call(c,d);break}p&&(m=k)}i&&((d=!v&&d)&&y--,a&&b.push(d))}if(y+=x,i&&x!==y){for(h=0;v=r[h++];)v(b,w,s,l);if(a){if(y>0)for(;x--;)b[x]||w[x]||(w[x]=A.call(c));w=he(w)}g.apply(c,w),p&&!a&&w.length>0&&y+r.length>1&&E.uniqueSort(c)}return p&&(m=k,n=T),b};return i?te(a):a}(a,o)),s.selector=e}return s}function me(e,n,r,i){var o,a,s,u,l,c="function"==typeof e&&e,p=!i&&ce(e=c.selector||e);if(r=r||[],1===p.length){if((a=p[0]=p[0].slice(0)).length>2&&"ID"===(s=a[0]).type&&9===n.nodeType&&f&&t.relative[a[1].type]){if(!(n=(t.find.ID(s.matches[0].replace(Y,Q),n)||[])[0]))return r;c&&(n=n.parentNode),e=e.slice(a.shift().value.length)}for(o=z.needsContext.test(e)?0:a.length;o--&&(s=a[o],!t.relative[u=s.type]);)if((l=t.find[u])&&(i=l(s.matches[0].replace(Y,Q),G.test(a[0].type)&&se(n.parentNode)||n))){if(a.splice(o,1),!(e=i.length&&fe(a)))return g.apply(r,i),r;break}}return(c||ye(e,p))(i,n,!f,r,!n||G.test(e)&&se(n.parentNode)||n),r}le.prototype=t.filters=t.pseudos,t.setFilters=new le,v.sortStable=y.split("").sort(k).join("")===y,ue(),v.sortDetached=ne((function(e){return 1&e.compareDocumentPosition(u.createElement("fieldset"))})),E.find=Z,E.expr[":"]=E.expr.pseudos,E.unique=E.uniqueSort,Z.compile=ye,Z.select=me,Z.setDocument=ue,Z.tokenize=ce,Z.escape=E.escapeSelector,Z.getText=E.text,Z.isXML=E.isXMLDoc,Z.selectors=E.expr,Z.support=E.support,Z.uniqueSort=E.uniqueSort}();var R=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&E(e).is(n))break;r.push(e)}return r},I=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},W=E.expr.match.needsContext,F=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function $(e,t,n){return y(t)?E.grep(e,(function(e,r){return!!t.call(e,r,e)!==n})):t.nodeType?E.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?E.grep(e,(function(e){return c.call(t,e)>-1!==n})):E.filter(t,e,n)}E.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?E.find.matchesSelector(r,e)?[r]:[]:E.find.matches(e,E.grep(t,(function(e){return 1===e.nodeType})))},E.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(E(e).filter((function(){for(t=0;t<r;t++)if(E.contains(i[t],this))return!0})));for(n=this.pushStack([]),t=0;t<r;t++)E.find(e,i[t],n);return r>1?E.uniqueSort(n):n},filter:function(e){return this.pushStack($(this,e||[],!1))},not:function(e){return this.pushStack($(this,e||[],!0))},is:function(e){return!!$(this,"string"==typeof e&&W.test(e)?E(e):e||[],!1).length}});var _,B=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(E.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||_,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:B.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof E?t[0]:t,E.merge(this,E.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:x,!0)),F.test(r[1])&&E.isPlainObject(t))for(r in t)y(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=x.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):y(e)?void 0!==n.ready?n.ready(e):e(E):E.makeArray(e,this)}).prototype=E.fn,_=E(x);var z=/^(?:parents|prev(?:Until|All))/,X={children:!0,contents:!0,next:!0,prev:!0};function U(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}E.fn.extend({has:function(e){var t=E(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(E.contains(this,t[e]))return!0}))},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&E(e);if(!W.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&E.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?E.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?c.call(E(e),this[0]):c.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),E.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return R(e,"parentNode")},parentsUntil:function(e,t,n){return R(e,"parentNode",n)},next:function(e){return U(e,"nextSibling")},prev:function(e){return U(e,"previousSibling")},nextAll:function(e){return R(e,"nextSibling")},prevAll:function(e){return R(e,"previousSibling")},nextUntil:function(e,t,n){return R(e,"nextSibling",n)},prevUntil:function(e,t,n){return R(e,"previousSibling",n)},siblings:function(e){return I((e.parentNode||{}).firstChild,e)},children:function(e){return I(e.firstChild)},contents:function(e){return null!=e.contentDocument&&a(e.contentDocument)?e.contentDocument:(j(e,"template")&&(e=e.content||e),E.merge([],e.childNodes))}},(function(e,t){E.fn[e]=function(n,r){var i=E.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=E.filter(r,i)),this.length>1&&(X[e]||E.uniqueSort(i),z.test(e)&&i.reverse()),this.pushStack(i)}}));var V=/[^\x20\t\r\n\f]+/g;function G(e){return e}function Y(e){throw e}function Q(e,t,n,r){var i;try{e&&y(i=e.promise)?i.call(e).done(t).fail(n):e&&y(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}E.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return E.each(e.match(V)||[],(function(e,n){t[n]=!0})),t}(e):E.extend({},e);var t,n,r,i,o=[],a=[],s=-1,u=function(){for(i=i||e.once,r=t=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},l={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),function t(n){E.each(n,(function(n,r){y(r)?e.unique&&l.has(r)||o.push(r):r&&r.length&&"string"!==T(r)&&t(r)}))}(arguments),n&&!t&&u()),this},remove:function(){return E.each(arguments,(function(e,t){for(var n;(n=E.inArray(t,o,n))>-1;)o.splice(n,1),n<=s&&s--})),this},has:function(e){return e?E.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},E.extend({Deferred:function(e){var t=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return E.Deferred((function(n){E.each(t,(function(t,r){var i=y(e[r[4]])&&e[r[4]];o[r[1]]((function(){var e=i&&i.apply(this,arguments);e&&y(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[e]:arguments)}))})),e=null})).promise()},then:function(e,n,i){var o=0;function a(e,t,n,i){return function(){var s=this,u=arguments,l=function(){var r,l;if(!(e<o)){if((r=n.apply(s,u))===t.promise())throw new TypeError("Thenable self-resolution");l=r&&("object"==typeof r||"function"==typeof r)&&r.then,y(l)?i?l.call(r,a(o,t,G,i),a(o,t,Y,i)):(o++,l.call(r,a(o,t,G,i),a(o,t,Y,i),a(o,t,G,t.notifyWith))):(n!==G&&(s=void 0,u=[r]),(i||t.resolveWith)(s,u))}},c=i?l:function(){try{l()}catch(r){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(r,c.error),e+1>=o&&(n!==Y&&(s=void 0,u=[r]),t.rejectWith(s,u))}};e?c():(E.Deferred.getErrorHook?c.error=E.Deferred.getErrorHook():E.Deferred.getStackHook&&(c.error=E.Deferred.getStackHook()),r.setTimeout(c))}}return E.Deferred((function(r){t[0][3].add(a(0,r,y(i)?i:G,r.notifyWith)),t[1][3].add(a(0,r,y(e)?e:G)),t[2][3].add(a(0,r,y(n)?n:Y))})).promise()},promise:function(e){return null!=e?E.extend(e,i):i}},o={};return E.each(t,(function(e,r){var a=r[2],s=r[5];i[r[1]]=a.add,s&&a.add((function(){n=s}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(r[3].fire),o[r[0]]=function(){return o[r[0]+"With"](this===o?void 0:this,arguments),this},o[r[0]+"With"]=a.fireWith})),i.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=s.call(arguments),o=E.Deferred(),a=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?s.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(Q(e,o.done(a(n)).resolve,o.reject,!t),"pending"===o.state()||y(i[n]&&i[n].then)))return o.then();for(;n--;)Q(i[n],a(n),o.reject);return o.promise()}});var J=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(e,t){r.console&&r.console.warn&&e&&J.test(e.name)&&r.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},E.readyException=function(e){r.setTimeout((function(){throw e}))};var K=E.Deferred();function Z(){x.removeEventListener("DOMContentLoaded",Z),r.removeEventListener("load",Z),E.ready()}E.fn.ready=function(e){return K.then(e).catch((function(e){E.readyException(e)})),this},E.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--E.readyWait:E.isReady)||(E.isReady=!0,!0!==e&&--E.readyWait>0||K.resolveWith(x,[E]))}}),E.ready.then=K.then,"complete"===x.readyState||"loading"!==x.readyState&&!x.documentElement.doScroll?r.setTimeout(E.ready):(x.addEventListener("DOMContentLoaded",Z),r.addEventListener("load",Z));var ee=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===T(n))for(s in i=!0,n)ee(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,y(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(E(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},te=/^-ms-/,ne=/-([a-z])/g;function re(e,t){return t.toUpperCase()}function ie(e){return e.replace(te,"ms-").replace(ne,re)}var oe=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function ae(){this.expando=E.expando+ae.uid++}ae.uid=1,ae.prototype={cache:function(e){var t=e[this.expando];return t||(t={},oe(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[ie(t)]=n;else for(r in t)i[ie(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][ie(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(ie):(t=ie(t))in r?[t]:t.match(V)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||E.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!E.isEmptyObject(t)}};var se=new ae,ue=new ae,le=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ce=/[A-Z]/g;function fe(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(ce,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:le.test(e)?JSON.parse(e):e)}(n)}catch(e){}ue.set(e,t,n)}else n=void 0;return n}E.extend({hasData:function(e){return ue.hasData(e)||se.hasData(e)},data:function(e,t,n){return ue.access(e,t,n)},removeData:function(e,t){ue.remove(e,t)},_data:function(e,t,n){return se.access(e,t,n)},_removeData:function(e,t){se.remove(e,t)}}),E.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=ue.get(o),1===o.nodeType&&!se.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=ie(r.slice(5)),fe(o,r,i[r]));se.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each((function(){ue.set(this,e)})):ee(this,(function(t){var n;if(o&&void 0===t)return void 0!==(n=ue.get(o,e))||void 0!==(n=fe(o,e))?n:void 0;this.each((function(){ue.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){ue.remove(this,e)}))}}),E.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=se.get(e,t),n&&(!r||Array.isArray(n)?r=se.access(e,t,E.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=E.queue(e,t),r=n.length,i=n.shift(),o=E._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,(function(){E.dequeue(e,t)}),o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return se.get(e,n)||se.access(e,n,{empty:E.Callbacks("once memory").add((function(){se.remove(e,[t+"queue",n])}))})}}),E.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?E.queue(this[0],e):void 0===t?this:this.each((function(){var n=E.queue(this,e,t);E._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&E.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){E.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=E.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=se.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var pe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,de=new RegExp("^(?:([+-])=|)("+pe+")([a-z%]*)$","i"),he=["Top","Right","Bottom","Left"],ge=x.documentElement,ve=function(e){return E.contains(e.ownerDocument,e)},ye={composed:!0};ge.getRootNode&&(ve=function(e){return E.contains(e.ownerDocument,e)||e.getRootNode(ye)===e.ownerDocument});var me=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ve(e)&&"none"===E.css(e,"display")};function xe(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return E.css(e,t,"")},u=s(),l=n&&n[3]||(E.cssNumber[t]?"":"px"),c=e.nodeType&&(E.cssNumber[t]||"px"!==l&&+u)&&de.exec(E.css(e,t));if(c&&c[3]!==l){for(u/=2,l=l||c[3],c=+u||1;a--;)E.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,E.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var be={};function we(e){var t,n=e.ownerDocument,r=e.nodeName,i=be[r];return i||(t=n.body.appendChild(n.createElement(r)),i=E.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),be[r]=i,i)}function Te(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=se.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&me(r)&&(i[o]=we(r))):"none"!==n&&(i[o]="none",se.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}E.fn.extend({show:function(){return Te(this,!0)},hide:function(){return Te(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){me(this)?E(this).show():E(this).hide()}))}});var Ce,ke,Ee=/^(?:checkbox|radio)$/i,Se=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,je=/^$|^module$|\/(?:java|ecma)script/i;Ce=x.createDocumentFragment().appendChild(x.createElement("div")),(ke=x.createElement("input")).setAttribute("type","radio"),ke.setAttribute("checked","checked"),ke.setAttribute("name","t"),Ce.appendChild(ke),v.checkClone=Ce.cloneNode(!0).cloneNode(!0).lastChild.checked,Ce.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!Ce.cloneNode(!0).lastChild.defaultValue,Ce.innerHTML="<option></option>",v.option=!!Ce.lastChild;var Ae={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function De(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&j(e,t)?E.merge([e],n):n}function Ne(e,t){for(var n=0,r=e.length;n<r;n++)se.set(e[n],"globalEval",!t||se.get(t[n],"globalEval"))}Ae.tbody=Ae.tfoot=Ae.colgroup=Ae.caption=Ae.thead,Ae.th=Ae.td,v.option||(Ae.optgroup=Ae.option=[1,"<select multiple='multiple'>","</select>"]);var Le=/<|&#?\w+;/;function qe(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===T(o))E.merge(p,o.nodeType?[o]:o);else if(Le.test(o)){for(a=a||f.appendChild(t.createElement("div")),s=(Se.exec(o)||["",""])[1].toLowerCase(),u=Ae[s]||Ae._default,a.innerHTML=u[1]+E.htmlPrefilter(o)+u[2],c=u[0];c--;)a=a.lastChild;E.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));for(f.textContent="",d=0;o=p[d++];)if(r&&E.inArray(o,r)>-1)i&&i.push(o);else if(l=ve(o),a=De(f.appendChild(o),"script"),l&&Ne(a),n)for(c=0;o=a[c++];)je.test(o.type||"")&&n.push(o);return f}var He=/^([^.]*)(?:\.(.+)|)/;function Oe(){return!0}function Pe(){return!1}function Me(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Me(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Pe;else if(!i)return e;return 1===o&&(a=i,i=function(e){return E().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=E.guid++)),e.each((function(){E.event.add(this,t,i,r,n)}))}function Re(e,t,n){n?(se.set(e,t,!1),E.event.add(e,t,{namespace:!1,handler:function(e){var n,r=se.get(this,t);if(1&e.isTrigger&&this[t]){if(r)(E.event.special[t]||{}).delegateType&&e.stopPropagation();else if(r=s.call(arguments),se.set(this,t,r),this[t](),n=se.get(this,t),se.set(this,t,!1),r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n}else r&&(se.set(this,t,E.event.trigger(r[0],r.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=Oe)}})):void 0===se.get(e,t)&&E.event.add(e,t,Oe)}E.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=se.get(e);if(oe(e))for(n.handler&&(n=(o=n).handler,i=o.selector),i&&E.find.matchesSelector(ge,i),n.guid||(n.guid=E.guid++),(u=v.events)||(u=v.events=Object.create(null)),(a=v.handle)||(a=v.handle=function(t){return void 0!==E&&E.event.triggered!==t.type?E.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(V)||[""]).length;l--;)d=g=(s=He.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=E.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=E.event.special[d]||{},c=E.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&E.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,r,h,a)||e.addEventListener&&e.addEventListener(d,a)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),E.event.global[d]=!0)},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=se.hasData(e)&&se.get(e);if(v&&(u=v.events)){for(l=(t=(t||"").match(V)||[""]).length;l--;)if(d=g=(s=He.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){for(f=E.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||E.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)E.event.remove(e,d+t[l],n,r,!0);E.isEmptyObject(u)&&se.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),u=E.event.fix(e),l=(se.get(this,"events")||Object.create(null))[u.type]||[],c=E.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){for(a=E.event.handlers.call(this,u,l),t=0;(i=a[t++])&&!u.isPropagationStopped();)for(u.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!u.isImmediatePropagationStopped();)u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((E.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?E(i,this).index(l)>-1:E.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(e,t){Object.defineProperty(E.Event.prototype,e,{enumerable:!0,configurable:!0,get:y(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[E.expando]?e:new E.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return Ee.test(t.type)&&t.click&&j(t,"input")&&Re(t,"click",!0),!1},trigger:function(e){var t=this||e;return Ee.test(t.type)&&t.click&&j(t,"input")&&Re(t,"click"),!0},_default:function(e){var t=e.target;return Ee.test(t.type)&&t.click&&j(t,"input")&&se.get(t,"click")||j(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},E.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},E.Event=function(e,t){if(!(this instanceof E.Event))return new E.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Oe:Pe,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&E.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:Pe,isPropagationStopped:Pe,isImmediatePropagationStopped:Pe,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Oe,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Oe,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Oe,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},E.event.addProp),E.each({focus:"focusin",blur:"focusout"},(function(e,t){function n(e){if(x.documentMode){var n=se.get(this,"handle"),r=E.event.fix(e);r.type="focusin"===e.type?"focus":"blur",r.isSimulated=!0,n(e),r.target===r.currentTarget&&n(r)}else E.event.simulate(t,e.target,E.event.fix(e))}E.event.special[e]={setup:function(){var r;if(Re(this,e,!0),!x.documentMode)return!1;(r=se.get(this,t))||this.addEventListener(t,n),se.set(this,t,(r||0)+1)},trigger:function(){return Re(this,e),!0},teardown:function(){var e;if(!x.documentMode)return!1;(e=se.get(this,t)-1)?se.set(this,t,e):(this.removeEventListener(t,n),se.remove(this,t))},_default:function(t){return se.get(t.target,e)},delegateType:t},E.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,i=x.documentMode?this:r,o=se.get(i,t);o||(x.documentMode?this.addEventListener(t,n):r.addEventListener(e,n,!0)),se.set(i,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,i=x.documentMode?this:r,o=se.get(i,t)-1;o?se.set(i,t,o):(x.documentMode?this.removeEventListener(t,n):r.removeEventListener(e,n,!0),se.remove(i,t))}}})),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){E.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,i=e.handleObj;return r&&(r===this||E.contains(this,r))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}})),E.fn.extend({on:function(e,t,n,r){return Me(this,e,t,n,r)},one:function(e,t,n,r){return Me(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,E(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Pe),this.each((function(){E.event.remove(this,e,n,t)}))}});var Ie=/<script|<style|<link/i,We=/checked\s*(?:[^=]|=\s*.checked.)/i,Fe=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function $e(e,t){return j(e,"table")&&j(11!==t.nodeType?t:t.firstChild,"tr")&&E(e).children("tbody")[0]||e}function _e(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Be(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function ze(e,t){var n,r,i,o,a,s;if(1===t.nodeType){if(se.hasData(e)&&(s=se.get(e).events))for(i in se.remove(t,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)E.event.add(t,i,s[i][n]);ue.hasData(e)&&(o=ue.access(e),a=E.extend({},o),ue.set(t,a))}}function Xe(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Ee.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Ue(e,t,n,r){t=u(t);var i,o,a,s,l,c,f=0,p=e.length,d=p-1,h=t[0],g=y(h);if(g||p>1&&"string"==typeof h&&!v.checkClone&&We.test(h))return e.each((function(i){var o=e.eq(i);g&&(t[0]=h.call(this,i,o.html())),Ue(o,t,n,r)}));if(p&&(o=(i=qe(t,e[0].ownerDocument,!1,e,r)).firstChild,1===i.childNodes.length&&(i=o),o||r)){for(s=(a=E.map(De(i,"script"),_e)).length;f<p;f++)l=i,f!==d&&(l=E.clone(l,!0,!0),s&&E.merge(a,De(l,"script"))),n.call(e[f],l,f);if(s)for(c=a[a.length-1].ownerDocument,E.map(a,Be),f=0;f<s;f++)l=a[f],je.test(l.type||"")&&!se.access(l,"globalEval")&&E.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?E._evalUrl&&!l.noModule&&E._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},c):w(l.textContent.replace(Fe,""),l,c))}return e}function Ve(e,t,n){for(var r,i=t?E.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||E.cleanData(De(r)),r.parentNode&&(n&&ve(r)&&Ne(De(r,"script")),r.parentNode.removeChild(r));return e}E.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),u=ve(e);if(!(v.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||E.isXMLDoc(e)))for(a=De(s),r=0,i=(o=De(e)).length;r<i;r++)Xe(o[r],a[r]);if(t)if(n)for(o=o||De(e),a=a||De(s),r=0,i=o.length;r<i;r++)ze(o[r],a[r]);else ze(e,s);return(a=De(s,"script")).length>0&&Ne(a,!u&&De(e,"script")),s},cleanData:function(e){for(var t,n,r,i=E.event.special,o=0;void 0!==(n=e[o]);o++)if(oe(n)){if(t=n[se.expando]){if(t.events)for(r in t.events)i[r]?E.event.remove(n,r):E.removeEvent(n,r,t.handle);n[se.expando]=void 0}n[ue.expando]&&(n[ue.expando]=void 0)}}}),E.fn.extend({detach:function(e){return Ve(this,e,!0)},remove:function(e){return Ve(this,e)},text:function(e){return ee(this,(function(e){return void 0===e?E.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Ue(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||$e(this,e).appendChild(e)}))},prepend:function(){return Ue(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=$e(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Ue(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Ue(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(E.cleanData(De(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return E.clone(this,e,t)}))},html:function(e){return ee(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ie.test(e)&&!Ae[(Se.exec(e)||["",""])[1].toLowerCase()]){e=E.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(E.cleanData(De(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Ue(this,arguments,(function(t){var n=this.parentNode;E.inArray(this,e)<0&&(E.cleanData(De(this)),n&&n.replaceChild(t,this))}),e)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){E.fn[e]=function(e){for(var n,r=[],i=E(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),E(i[a])[t](n),l.apply(r,n.get());return this.pushStack(r)}}));var Ge=new RegExp("^("+pe+")(?!px)[a-z%]+$","i"),Ye=/^--/,Qe=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=r),t.getComputedStyle(e)},Je=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},Ke=new RegExp(he.join("|"),"i");function Ze(e,t,n){var r,i,o,a,s=Ye.test(t),u=e.style;return(n=n||Qe(e))&&(a=n.getPropertyValue(t)||n[t],s&&a&&(a=a.replace(q,"$1")||void 0),""!==a||ve(e)||(a=E.style(e,t)),!v.pixelBoxStyles()&&Ge.test(a)&&Ke.test(t)&&(r=u.width,i=u.minWidth,o=u.maxWidth,u.minWidth=u.maxWidth=u.width=a,a=n.width,u.width=r,u.minWidth=i,u.maxWidth=o)),void 0!==a?a+"":a}function et(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ge.appendChild(l).appendChild(c);var e=r.getComputedStyle(c);n="1%"!==e.top,u=12===t(e.marginLeft),c.style.right="60%",a=36===t(e.right),i=36===t(e.width),c.style.position="absolute",o=12===t(c.offsetWidth/3),ge.removeChild(l),c=null}}function t(e){return Math.round(parseFloat(e))}var n,i,o,a,s,u,l=x.createElement("div"),c=x.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===c.style.backgroundClip,E.extend(v,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),u},scrollboxSize:function(){return e(),o},reliableTrDimensions:function(){var e,t,n,i;return null==s&&(e=x.createElement("table"),t=x.createElement("tr"),n=x.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="box-sizing:content-box;border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",ge.appendChild(e).appendChild(t).appendChild(n),i=r.getComputedStyle(t),s=parseInt(i.height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===t.offsetHeight,ge.removeChild(e)),s}}))}();var tt=["Webkit","Moz","ms"],nt=x.createElement("div").style,rt={};function it(e){var t=E.cssProps[e]||rt[e];return t||(e in nt?e:rt[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=tt.length;n--;)if((e=tt[n]+t)in nt)return e}(e)||e)}var ot=/^(none|table(?!-c[ea]).+)/,at={position:"absolute",visibility:"hidden",display:"block"},st={letterSpacing:"0",fontWeight:"400"};function ut(e,t,n){var r=de.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function lt(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0,l=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=E.css(e,n+he[a],!0,i)),r?("content"===n&&(u-=E.css(e,"padding"+he[a],!0,i)),"margin"!==n&&(u-=E.css(e,"border"+he[a]+"Width",!0,i))):(u+=E.css(e,"padding"+he[a],!0,i),"padding"!==n?u+=E.css(e,"border"+he[a]+"Width",!0,i):s+=E.css(e,"border"+he[a]+"Width",!0,i));return!r&&o>=0&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u+l}function ct(e,t,n){var r=Qe(e),i=(!v.boxSizingReliable()||n)&&"border-box"===E.css(e,"boxSizing",!1,r),o=i,a=Ze(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(Ge.test(a)){if(!n)return a;a="auto"}return(!v.boxSizingReliable()&&i||!v.reliableTrDimensions()&&j(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===E.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===E.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+lt(e,t,n||(i?"border":"content"),o,r,a)+"px"}function ft(e,t,n,r,i){return new ft.prototype.init(e,t,n,r,i)}E.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ze(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=ie(t),u=Ye.test(t),l=e.style;if(u||(t=it(s)),a=E.cssHooks[t]||E.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"==(o=typeof n)&&(i=de.exec(n))&&i[1]&&(n=xe(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(E.cssNumber[s]?"":"px")),v.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=ie(t);return Ye.test(t)||(t=it(s)),(a=E.cssHooks[t]||E.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Ze(e,t,r)),"normal"===i&&t in st&&(i=st[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),E.each(["height","width"],(function(e,t){E.cssHooks[t]={get:function(e,n,r){if(n)return!ot.test(E.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ct(e,t,r):Je(e,at,(function(){return ct(e,t,r)}))},set:function(e,n,r){var i,o=Qe(e),a=!v.scrollboxSize()&&"absolute"===o.position,s=(a||r)&&"border-box"===E.css(e,"boxSizing",!1,o),u=r?lt(e,t,r,s,o):0;return s&&a&&(u-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-lt(e,t,"border",!1,o)-.5)),u&&(i=de.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=E.css(e,t)),ut(0,n,u)}}})),E.cssHooks.marginLeft=et(v.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Ze(e,"marginLeft"))||e.getBoundingClientRect().left-Je(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),E.each({margin:"",padding:"",border:"Width"},(function(e,t){E.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+he[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(E.cssHooks[e+t].set=ut)})),E.fn.extend({css:function(e,t){return ee(this,(function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Qe(e),i=t.length;a<i;a++)o[t[a]]=E.css(e,t[a],!1,r);return o}return void 0!==n?E.style(e,t,n):E.css(e,t)}),e,t,arguments.length>1)}}),E.Tween=ft,ft.prototype={constructor:ft,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||E.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(E.cssNumber[n]?"":"px")},cur:function(){var e=ft.propHooks[this.prop];return e&&e.get?e.get(this):ft.propHooks._default.get(this)},run:function(e){var t,n=ft.propHooks[this.prop];return this.options.duration?this.pos=t=E.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ft.propHooks._default.set(this),this}},ft.prototype.init.prototype=ft.prototype,ft.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=E.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){E.fx.step[e.prop]?E.fx.step[e.prop](e):1!==e.elem.nodeType||!E.cssHooks[e.prop]&&null==e.elem.style[it(e.prop)]?e.elem[e.prop]=e.now:E.style(e.elem,e.prop,e.now+e.unit)}}},ft.propHooks.scrollTop=ft.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},E.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},E.fx=ft.prototype.init,E.fx.step={};var pt,dt,ht=/^(?:toggle|show|hide)$/,gt=/queueHooks$/;function vt(){dt&&(!1===x.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(vt):r.setTimeout(vt,E.fx.interval),E.fx.tick())}function yt(){return r.setTimeout((function(){pt=void 0})),pt=Date.now()}function mt(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=he[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function xt(e,t,n){for(var r,i=(bt.tweeners[t]||[]).concat(bt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function bt(e,t,n){var r,i,o=0,a=bt.prefilters.length,s=E.Deferred().always((function(){delete u.elem})),u=function(){if(i)return!1;for(var t=pt||yt(),n=Math.max(0,l.startTime+l.duration-t),r=1-(n/l.duration||0),o=0,a=l.tweens.length;o<a;o++)l.tweens[o].run(r);return s.notifyWith(e,[l,r,n]),r<1&&a?n:(a||s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:E.extend({},t),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},n),originalProperties:t,originalOptions:n,startTime:pt||yt(),duration:n.duration,tweens:[],createTween:function(t,n){var r=E.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),c=l.props;for(function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=ie(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=E.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);o<a;o++)if(r=bt.prefilters[o].call(l,e,c,l.opts))return y(r.stop)&&(E._queueHooks(l.elem,l.opts.queue).stop=r.stop.bind(r)),r;return E.map(c,xt,l),y(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),E.fx.timer(E.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l}E.Animation=E.extend(bt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return xe(n.elem,e,de.exec(t),n),n}]},tweener:function(e,t){y(e)?(t=e,e=["*"]):e=e.match(V);for(var n,r=0,i=e.length;r<i;r++)n=e[r],bt.tweeners[n]=bt.tweeners[n]||[],bt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&me(e),v=se.get(e,"fxshow");for(r in n.queue||(null==(a=E._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always((function(){p.always((function(){a.unqueued--,E.queue(e,"fx").length||a.empty.fire()}))}))),t)if(i=t[r],ht.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||E.style(e,r)}if((u=!E.isEmptyObject(t))||!E.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=se.get(e,"display")),"none"===(c=E.css(e,"display"))&&(l?c=l:(Te([e],!0),l=e.style.display||l,c=E.css(e,"display"),Te([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===E.css(e,"float")&&(u||(p.done((function(){h.display=l})),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always((function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}))),u=!1,d)u||(v?"hidden"in v&&(g=v.hidden):v=se.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&Te([e],!0),p.done((function(){for(r in g||Te([e]),se.remove(e,"fxshow"),d)E.style(e,r,d[r])}))),u=xt(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?bt.prefilters.unshift(e):bt.prefilters.push(e)}}),E.speed=function(e,t,n){var r=e&&"object"==typeof e?E.extend({},e):{complete:n||!n&&t||y(e)&&e,duration:e,easing:n&&t||t&&!y(t)&&t};return E.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in E.fx.speeds?r.duration=E.fx.speeds[r.duration]:r.duration=E.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){y(r.old)&&r.old.call(this),r.queue&&E.dequeue(this,r.queue)},r},E.fn.extend({fadeTo:function(e,t,n,r){return this.filter(me).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=E.isEmptyObject(e),o=E.speed(t,n,r),a=function(){var t=bt(this,E.extend({},e),o);(i||se.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,i=null!=e&&e+"queueHooks",o=E.timers,a=se.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&gt.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||E.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=se.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=E.timers,a=r?r.length:0;for(n.finish=!0,E.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish}))}}),E.each(["toggle","show","hide"],(function(e,t){var n=E.fn[t];E.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(mt(t,!0),e,r,i)}})),E.each({slideDown:mt("show"),slideUp:mt("hide"),slideToggle:mt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){E.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}})),E.timers=[],E.fx.tick=function(){var e,t=0,n=E.timers;for(pt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||E.fx.stop(),pt=void 0},E.fx.timer=function(e){E.timers.push(e),E.fx.start()},E.fx.interval=13,E.fx.start=function(){dt||(dt=!0,vt())},E.fx.stop=function(){dt=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(e,t){return e=E.fx&&E.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var i=r.setTimeout(t,e);n.stop=function(){r.clearTimeout(i)}}))},function(){var e=x.createElement("input"),t=x.createElement("select").appendChild(x.createElement("option"));e.type="checkbox",v.checkOn=""!==e.value,v.optSelected=t.selected,(e=x.createElement("input")).value="t",e.type="radio",v.radioValue="t"===e.value}();var wt,Tt=E.expr.attrHandle;E.fn.extend({attr:function(e,t){return ee(this,E.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){E.removeAttr(this,e)}))}}),E.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?E.prop(e,t,n):(1===o&&E.isXMLDoc(e)||(i=E.attrHooks[t.toLowerCase()]||(E.expr.match.bool.test(t)?wt:void 0)),void 0!==n?null===n?void E.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=E.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!v.radioValue&&"radio"===t&&j(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(V);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),wt={set:function(e,t,n){return!1===t?E.removeAttr(e,n):e.setAttribute(n,n),n}},E.each(E.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=Tt[t]||E.find.attr;Tt[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=Tt[a],Tt[a]=i,i=null!=n(e,t,r)?a:null,Tt[a]=o),i}}));var Ct=/^(?:input|select|textarea|button)$/i,kt=/^(?:a|area)$/i;function Et(e){return(e.match(V)||[]).join(" ")}function St(e){return e.getAttribute&&e.getAttribute("class")||""}function jt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(V)||[]}E.fn.extend({prop:function(e,t){return ee(this,E.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[E.propFix[e]||e]}))}}),E.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&E.isXMLDoc(e)||(t=E.propFix[t]||t,i=E.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=E.find.attr(e,"tabindex");return t?parseInt(t,10):Ct.test(e.nodeName)||kt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(E.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){E.propFix[this.toLowerCase()]=this})),E.fn.extend({addClass:function(e){var t,n,r,i,o,a;return y(e)?this.each((function(t){E(this).addClass(e.call(this,t,St(this)))})):(t=jt(e)).length?this.each((function(){if(r=St(this),n=1===this.nodeType&&" "+Et(r)+" "){for(o=0;o<t.length;o++)i=t[o],n.indexOf(" "+i+" ")<0&&(n+=i+" ");a=Et(n),r!==a&&this.setAttribute("class",a)}})):this},removeClass:function(e){var t,n,r,i,o,a;return y(e)?this.each((function(t){E(this).removeClass(e.call(this,t,St(this)))})):arguments.length?(t=jt(e)).length?this.each((function(){if(r=St(this),n=1===this.nodeType&&" "+Et(r)+" "){for(o=0;o<t.length;o++)for(i=t[o];n.indexOf(" "+i+" ")>-1;)n=n.replace(" "+i+" "," ");a=Et(n),r!==a&&this.setAttribute("class",a)}})):this:this.attr("class","")},toggleClass:function(e,t){var n,r,i,o,a=typeof e,s="string"===a||Array.isArray(e);return y(e)?this.each((function(n){E(this).toggleClass(e.call(this,n,St(this),t),t)})):"boolean"==typeof t&&s?t?this.addClass(e):this.removeClass(e):(n=jt(e),this.each((function(){if(s)for(o=E(this),i=0;i<n.length;i++)r=n[i],o.hasClass(r)?o.removeClass(r):o.addClass(r);else void 0!==e&&"boolean"!==a||((r=St(this))&&se.set(this,"__className__",r),this.setAttribute&&this.setAttribute("class",r||!1===e?"":se.get(this,"__className__")||""))})))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+Et(St(n))+" ").indexOf(t)>-1)return!0;return!1}});var At=/\r/g;E.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=y(e),this.each((function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,E(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=E.map(i,(function(e){return null==e?"":e+""}))),(t=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))}))):i?(t=E.valHooks[i.type]||E.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(At,""):null==n?"":n:void 0}}),E.extend({valHooks:{option:{get:function(e){var t=E.find.attr(e,"value");return null!=t?t:Et(E.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!j(n.parentNode,"optgroup"))){if(t=E(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=E.makeArray(t),a=i.length;a--;)((r=i[a]).selected=E.inArray(E.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),E.each(["radio","checkbox"],(function(){E.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=E.inArray(E(e).val(),t)>-1}},v.checkOn||(E.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}));var Dt=r.location,Nt={guid:Date.now()},Lt=/\?/;E.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new r.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||E.error("Invalid XML: "+(n?E.map(n.childNodes,(function(e){return e.textContent})).join("\n"):e)),t};var qt=/^(?:focusinfocus|focusoutblur)$/,Ht=function(e){e.stopPropagation()};E.extend(E.event,{trigger:function(e,t,n,i){var o,a,s,u,l,c,f,p,h=[n||x],g=d.call(e,"type")?e.type:e,v=d.call(e,"namespace")?e.namespace.split("."):[];if(a=p=s=n=n||x,3!==n.nodeType&&8!==n.nodeType&&!qt.test(g+E.event.triggered)&&(g.indexOf(".")>-1&&(v=g.split("."),g=v.shift(),v.sort()),l=g.indexOf(":")<0&&"on"+g,(e=e[E.expando]?e:new E.Event(g,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=v.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:E.makeArray(t,[e]),f=E.event.special[g]||{},i||!f.trigger||!1!==f.trigger.apply(n,t))){if(!i&&!f.noBubble&&!m(n)){for(u=f.delegateType||g,qt.test(u+g)||(a=a.parentNode);a;a=a.parentNode)h.push(a),s=a;s===(n.ownerDocument||x)&&h.push(s.defaultView||s.parentWindow||r)}for(o=0;(a=h[o++])&&!e.isPropagationStopped();)p=a,e.type=o>1?u:f.bindType||g,(c=(se.get(a,"events")||Object.create(null))[e.type]&&se.get(a,"handle"))&&c.apply(a,t),(c=l&&a[l])&&c.apply&&oe(a)&&(e.result=c.apply(a,t),!1===e.result&&e.preventDefault());return e.type=g,i||e.isDefaultPrevented()||f._default&&!1!==f._default.apply(h.pop(),t)||!oe(n)||l&&y(n[g])&&!m(n)&&((s=n[l])&&(n[l]=null),E.event.triggered=g,e.isPropagationStopped()&&p.addEventListener(g,Ht),n[g](),e.isPropagationStopped()&&p.removeEventListener(g,Ht),E.event.triggered=void 0,s&&(n[l]=s)),e.result}},simulate:function(e,t,n){var r=E.extend(new E.Event,n,{type:e,isSimulated:!0});E.event.trigger(r,null,t)}}),E.fn.extend({trigger:function(e,t){return this.each((function(){E.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return E.event.trigger(e,t,n,!0)}});var Ot=/\[\]$/,Pt=/\r?\n/g,Mt=/^(?:submit|button|image|reset|file)$/i,Rt=/^(?:input|select|textarea|keygen)/i;function It(e,t,n,r){var i;if(Array.isArray(t))E.each(t,(function(t,i){n||Ot.test(e)?r(e,i):It(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)}));else if(n||"object"!==T(t))r(e,t);else for(i in t)It(e+"["+i+"]",t[i],n,r)}E.param=function(e,t){var n,r=[],i=function(e,t){var n=y(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!E.isPlainObject(e))E.each(e,(function(){i(this.name,this.value)}));else for(n in e)It(n,e[n],t,i);return r.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=E.prop(this,"elements");return e?E.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!E(this).is(":disabled")&&Rt.test(this.nodeName)&&!Mt.test(e)&&(this.checked||!Ee.test(e))})).map((function(e,t){var n=E(this).val();return null==n?null:Array.isArray(n)?E.map(n,(function(e){return{name:t.name,value:e.replace(Pt,"\r\n")}})):{name:t.name,value:n.replace(Pt,"\r\n")}})).get()}});var Wt=/%20/g,Ft=/#.*$/,$t=/([?&])_=[^&]*/,_t=/^(.*?):[ \t]*([^\r\n]*)$/gm,Bt=/^(?:GET|HEAD)$/,zt=/^\/\//,Xt={},Ut={},Vt="*/".concat("*"),Gt=x.createElement("a");function Yt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(V)||[];if(y(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Qt(e,t,n,r){var i={},o=e===Ut;function a(s){var u;return i[s]=!0,E.each(e[s]||[],(function(e,s){var l=s(t,n,r);return"string"!=typeof l||o||i[l]?o?!(u=l):void 0:(t.dataTypes.unshift(l),a(l),!1)})),u}return a(t.dataTypes[0])||!i["*"]&&a("*")}function Jt(e,t){var n,r,i=E.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&E.extend(!0,e,r),e}Gt.href=Dt.href,E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Dt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Dt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Vt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Jt(Jt(e,E.ajaxSettings),t):Jt(E.ajaxSettings,e)},ajaxPrefilter:Yt(Xt),ajaxTransport:Yt(Ut),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,i,o,a,s,u,l,c,f,p,d=E.ajaxSetup({},t),h=d.context||d,g=d.context&&(h.nodeType||h.jquery)?E(h):E.event,v=E.Deferred(),y=E.Callbacks("once memory"),m=d.statusCode||{},b={},w={},T="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(l){if(!a)for(a={};t=_t.exec(o);)a[t[1].toLowerCase()+" "]=(a[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=a[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return l?o:null},setRequestHeader:function(e,t){return null==l&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==l&&(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(l)C.always(e[C.status]);else for(t in e)m[t]=[m[t],e[t]];return this},abort:function(e){var t=e||T;return n&&n.abort(t),k(0,t),this}};if(v.promise(C),d.url=((e||d.url||Dt.href)+"").replace(zt,Dt.protocol+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(V)||[""],null==d.crossDomain){u=x.createElement("a");try{u.href=d.url,u.href=u.href,d.crossDomain=Gt.protocol+"//"+Gt.host!=u.protocol+"//"+u.host}catch(e){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=E.param(d.data,d.traditional)),Qt(Xt,d,t,C),l)return C;for(f in(c=E.event&&d.global)&&0==E.active++&&E.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Bt.test(d.type),i=d.url.replace(Ft,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Wt,"+")):(p=d.url.slice(i.length),d.data&&(d.processData||"string"==typeof d.data)&&(i+=(Lt.test(i)?"&":"?")+d.data,delete d.data),!1===d.cache&&(i=i.replace($t,"$1"),p=(Lt.test(i)?"&":"?")+"_="+Nt.guid+++p),d.url=i+p),d.ifModified&&(E.lastModified[i]&&C.setRequestHeader("If-Modified-Since",E.lastModified[i]),E.etag[i]&&C.setRequestHeader("If-None-Match",E.etag[i])),(d.data&&d.hasContent&&!1!==d.contentType||t.contentType)&&C.setRequestHeader("Content-Type",d.contentType),C.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Vt+"; q=0.01":""):d.accepts["*"]),d.headers)C.setRequestHeader(f,d.headers[f]);if(d.beforeSend&&(!1===d.beforeSend.call(h,C,d)||l))return C.abort();if(T="abort",y.add(d.complete),C.done(d.success),C.fail(d.error),n=Qt(Ut,d,t,C)){if(C.readyState=1,c&&g.trigger("ajaxSend",[C,d]),l)return C;d.async&&d.timeout>0&&(s=r.setTimeout((function(){C.abort("timeout")}),d.timeout));try{l=!1,n.send(b,k)}catch(e){if(l)throw e;k(-1,e)}}else k(-1,"No Transport");function k(e,t,a,u){var f,p,x,b,w,T=t;l||(l=!0,s&&r.clearTimeout(s),n=void 0,o=u||"",C.readyState=e>0?4:0,f=e>=200&&e<300||304===e,a&&(b=function(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(d,C,a)),!f&&E.inArray("script",d.dataTypes)>-1&&E.inArray("json",d.dataTypes)<0&&(d.converters["text script"]=function(){}),b=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(d,b,C,f),f?(d.ifModified&&((w=C.getResponseHeader("Last-Modified"))&&(E.lastModified[i]=w),(w=C.getResponseHeader("etag"))&&(E.etag[i]=w)),204===e||"HEAD"===d.type?T="nocontent":304===e?T="notmodified":(T=b.state,p=b.data,f=!(x=b.error))):(x=T,!e&&T||(T="error",e<0&&(e=0))),C.status=e,C.statusText=(t||T)+"",f?v.resolveWith(h,[p,T,C]):v.rejectWith(h,[C,T,x]),C.statusCode(m),m=void 0,c&&g.trigger(f?"ajaxSuccess":"ajaxError",[C,d,f?p:x]),y.fireWith(h,[C,T]),c&&(g.trigger("ajaxComplete",[C,d]),--E.active||E.event.trigger("ajaxStop")))}return C},getJSON:function(e,t,n){return E.get(e,t,n,"json")},getScript:function(e,t){return E.get(e,void 0,t,"script")}}),E.each(["get","post"],(function(e,t){E[t]=function(e,n,r,i){return y(n)&&(i=i||r,r=n,n=void 0),E.ajax(E.extend({url:e,type:t,dataType:i,data:n,success:r},E.isPlainObject(e)&&e))}})),E.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),E._evalUrl=function(e,t,n){return E.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){E.globalEval(e,t,n)}})},E.fn.extend({wrapAll:function(e){var t;return this[0]&&(y(e)&&(e=e.call(this[0])),t=E(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return y(e)?this.each((function(t){E(this).wrapInner(e.call(this,t))})):this.each((function(){var t=E(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=y(e);return this.each((function(n){E(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){E(this).replaceWith(this.childNodes)})),this}}),E.expr.pseudos.hidden=function(e){return!E.expr.pseudos.visible(e)},E.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(e){}};var Kt={0:200,1223:204},Zt=E.ajaxSettings.xhr();v.cors=!!Zt&&"withCredentials"in Zt,v.ajax=Zt=!!Zt,E.ajaxTransport((function(e){var t,n;if(v.cors||Zt&&!e.crossDomain)return{send:function(i,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];for(a in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)s.setRequestHeader(a,i[a]);t=function(e){return function(){t&&(t=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Kt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),n=s.onerror=s.ontimeout=t("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&r.setTimeout((function(){t&&n()}))},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),E.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return E.globalEval(e),e}}}),E.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),E.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,i){t=E("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),x.head.appendChild(t[0])},abort:function(){n&&n()}}}));var en,tn=[],nn=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=tn.pop()||E.expando+"_"+Nt.guid++;return this[e]=!0,e}}),E.ajaxPrefilter("json jsonp",(function(e,t,n){var i,o,a,s=!1!==e.jsonp&&(nn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&nn.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=y(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(nn,"$1"+i):!1!==e.jsonp&&(e.url+=(Lt.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return a||E.error(i+" was not called"),a[0]},e.dataTypes[0]="json",o=r[i],r[i]=function(){a=arguments},n.always((function(){void 0===o?E(r).removeProp(i):r[i]=o,e[i]&&(e.jsonpCallback=t.jsonpCallback,tn.push(i)),a&&y(o)&&o(a[0]),a=o=void 0})),"script"})),v.createHTMLDocument=((en=x.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===en.childNodes.length),E.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(v.createHTMLDocument?((r=(t=x.implementation.createHTMLDocument("")).createElement("base")).href=x.location.href,t.head.appendChild(r)):t=x),o=!n&&[],(i=F.exec(e))?[t.createElement(i[1])]:(i=qe([e],t,o),o&&o.length&&E(o).remove(),E.merge([],i.childNodes)));var r,i,o},E.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=Et(e.slice(s)),e=e.slice(0,s)),y(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&E.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done((function(e){o=arguments,a.html(r?E("<div>").append(E.parseHTML(e)).find(r):e)})).always(n&&function(e,t){a.each((function(){n.apply(this,o||[e.responseText,t,e])}))}),this},E.expr.pseudos.animated=function(e){return E.grep(E.timers,(function(t){return e===t.elem})).length},E.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=E.css(e,"position"),c=E(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=E.css(e,"top"),u=E.css(e,"left"),("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),y(t)&&(t=t.call(e,n,E.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},E.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){E.offset.setOffset(this,e,t)}));var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===E.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===E.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=E(e).offset()).top+=E.css(e,"borderTopWidth",!0),i.left+=E.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-E.css(r,"marginTop",!0),left:t.left-i.left-E.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===E.css(e,"position");)e=e.offsetParent;return e||ge}))}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;E.fn[e]=function(r){return ee(this,(function(e,r,i){var o;if(m(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i}),e,r,arguments.length)}})),E.each(["top","left"],(function(e,t){E.cssHooks[t]=et(v.pixelPosition,(function(e,n){if(n)return n=Ze(e,t),Ge.test(n)?E(e).position()[t]+"px":n}))})),E.each({Height:"height",Width:"width"},(function(e,t){E.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){E.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return ee(this,(function(t,n,i){var o;return m(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?E.css(t,n,s):E.style(t,n,i,s)}),t,a?i:void 0,a)}}))})),E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){E.fn[t]=function(e){return this.on(t,e)}})),E.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)}}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){E.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var rn=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;E.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),y(e))return r=s.call(arguments,2),i=function(){return e.apply(t||this,r.concat(s.call(arguments)))},i.guid=e.guid=e.guid||E.guid++,i},E.holdReady=function(e){e?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=j,E.isFunction=y,E.isWindow=m,E.camelCase=ie,E.type=T,E.now=Date.now,E.isNumeric=function(e){var t=E.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},E.trim=function(e){return null==e?"":(e+"").replace(rn,"$1")},void 0===(n=function(){return E}.apply(t,[]))||(e.exports=n);var on=r.jQuery,an=r.$;return E.noConflict=function(e){return r.$===E&&(r.$=an),e&&r.jQuery===E&&(r.jQuery=on),E},void 0===i&&(r.jQuery=r.$=E),E},"object"==typeof e.exports?e.exports=r.document?i(r,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return i(e)}:i(r)}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}var r={};return(()=>{var e=r;Object.defineProperty(e,"__esModule",{value:!0});var t=n(850);n(270);t.loadjquery})(),r})()));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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MGtDLEVBQ0gsT0FBT0EsRUFBYTF0QyxRQUdyQixJQUFJQyxFQUFTc3RDLEVBQXlCRSxHQUFZLENBR2pEenRDLFFBQVMsQ0FBQyxHQU9YLE9BSEEydEMsRUFBb0JGLEdBQVV4dEMsRUFBUUEsRUFBT0QsUUFBU3d0QyxHQUcvQ3Z0QyxFQUFPRCxPQUNmLEMsNkJDckJBSyxPQUFPQyxlQUFlTixFQUFTLGFBQWMsQ0FBRU8sT0FBTyxJQUN0RCxJQUFJcXRDLEVBQWlCLEVBQVEsS0FDZCxFQUFRLEtBZ0JQQSxFQUFlNXFDLFUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TZWFQaWNrbGVsaWIvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL1NlYVBpY2tsZWxpYi8uL3NyYy9hZGRndWkudHMiLCJ3ZWJwYWNrOi8vU2VhUGlja2xlbGliLy4vc3JjL2pxdWVyeWxvYWRlci50cyIsIndlYnBhY2s6Ly9TZWFQaWNrbGVsaWIvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vU2VhUGlja2xlbGliLy4vc3JjL21haW4udHMiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiU2VhUGlja2xlbGliXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIlNlYVBpY2tsZWxpYlwiXSA9IGZhY3RvcnkoKTtcbn0pKHRoaXMsICgpID0+IHtcbnJldHVybiAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuYWRkZ3VpID0gZXhwb3J0cy5zZXRndWlvbmx5c2hvd2lmaW5nYW1lID0gZXhwb3J0cy5zZXRndWlrZXliaW5kID0gZXhwb3J0cy5zZXRndWlzdHlsZXMgPSBleHBvcnRzLnNldGd1aWh0bWwgPSBleHBvcnRzLnNldGd1aW5hbWUgPSBleHBvcnRzLmd1aW9ubHlzaG93aWZpbmdhbWUgPSBleHBvcnRzLmd1aWtleWJpbmQgPSBleHBvcnRzLmd1aXN0eWxlcyA9IGV4cG9ydHMuZ3VpaHRtbCA9IGV4cG9ydHMuZ3VpbmFtZSA9IHZvaWQgMDtcbmV4cG9ydHMuZ3VpbmFtZSA9IG51bGw7XG5leHBvcnRzLmd1aWh0bWwgPSBudWxsO1xuZXhwb3J0cy5ndWlzdHlsZXMgPSBudWxsO1xuZXhwb3J0cy5ndWlrZXliaW5kID0gbnVsbDtcbmV4cG9ydHMuZ3Vpb25seXNob3dpZmluZ2FtZSA9IGZhbHNlO1xuZnVuY3Rpb24gc2V0Z3VpbmFtZShuYW1lKSB7XG4gICAgZXhwb3J0cy5ndWluYW1lID0gbmFtZTtcbn1cbmV4cG9ydHMuc2V0Z3VpbmFtZSA9IHNldGd1aW5hbWU7XG5mdW5jdGlvbiBzZXRndWlodG1sKGh0bWwpIHtcbiAgICBleHBvcnRzLmd1aWh0bWwgPSBodG1sO1xufVxuZXhwb3J0cy5zZXRndWlodG1sID0gc2V0Z3VpaHRtbDtcbmZ1bmN0aW9uIHNldGd1aXN0eWxlcyhzdHlsZXMpIHtcbiAgICBleHBvcnRzLmd1aXN0eWxlcyA9IHN0eWxlcztcbn1cbmV4cG9ydHMuc2V0Z3Vpc3R5bGVzID0gc2V0Z3Vpc3R5bGVzO1xuZnVuY3Rpb24gc2V0Z3Vpa2V5YmluZChrZXliaW5kKSB7XG4gICAgZXhwb3J0cy5ndWlrZXliaW5kID0ga2V5YmluZDtcbn1cbmV4cG9ydHMuc2V0Z3Vpa2V5YmluZCA9IHNldGd1aWtleWJpbmQ7XG5mdW5jdGlvbiBzZXRndWlvbmx5c2hvd2lmaW5nYW1lKGlkaykge1xuICAgIGV4cG9ydHMuZ3Vpb25seXNob3dpZmluZ2FtZSA9IGlkaztcbn1cbmV4cG9ydHMuc2V0Z3Vpb25seXNob3dpZmluZ2FtZSA9IHNldGd1aW9ubHlzaG93aWZpbmdhbWU7XG5mdW5jdGlvbiBhZGRndWkoKSB7XG4gICAgaWYgKGV4cG9ydHMuZ3VpbmFtZSA9PSBudWxsIHx8IGV4cG9ydHMuZ3VpaHRtbCA9PSBudWxsIHx8IGV4cG9ydHMuZ3Vpc3R5bGVzID09IG51bGwpIHtcbiAgICAgICAgYWxlcnQoXCJmYWlsZWQgdG8gYWRkIGd1aS4gcmVhc29uIDogZ3VpbmFtZSBvciBndWlodG1sIG9yIGd1aXN0eWxlcyBhcmUgbm90IGRlZmluZWRcIik7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGd1aVZpc2libGUgPSBmYWxzZTsgLy8gVmFyaWFibGUgdG8ga2VlcCB0cmFjayBvZiB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgR1VJXG4gICAgZnVuY3Rpb24gdG9nZ2xlR3VpKCkge1xuICAgICAgICBpZiAoZ3VpVmlzaWJsZSkgeyAvLyBJZiB0aGUgR1VJIGlzIHZpc2libGVcbiAgICAgICAgICAgIGhpZGVHdWkoKTsgLy8gSGlkZSB0aGUgR1VJXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzaG93R3VpKCk7IC8vIE90aGVyd2lzZSwgc2hvdyB0aGUgR1VJXG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc2hvd0d1aSgpIHtcbiAgICAgICAgaGlkZUd1aSgpOyAvLyBJZiB0aGUgR1VJIGlzIGFscmVhZHkgb3BlbiwgdGhpcyB3aWxsIGhpZGUgaXQuXG4gICAgICAgIHZhciBndWkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZ3VpXCIpOyAvLyBDcmVhdGUgYSBuZXcgXCJndWlcIiBlbGVtZW50XG4gICAgICAgIGlmIChleHBvcnRzLmd1aW9ubHlzaG93aWZpbmdhbWUgPT0gdHJ1ZSAmJiBkb2N1bWVudC5wb2ludGVyTG9ja0VsZW1lbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgZ3VpLmlubmVySFRNTCA9IGV4cG9ydHMuZ3VpaHRtbDsgLy8gU2V0IHRoZSBIVE1MIGNvbnRlbnQgb2YgdGhlIFwiZ3VpXCIgZWxlbWVudFxuICAgICAgICAgICAgZ3VpLmlkID0gZXhwb3J0cy5ndWluYW1lOyAvLyBTZXQgdGhlIElEIG9mIHRoZSBcImd1aVwiIGVsZW1lbnQgdG8gXCJteUd1aVwiXG4gICAgICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgICAgIGd1aS5zdHlsZSA9IGV4cG9ydHMuZ3Vpc3R5bGVzO1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChndWkpOyAvLyBBcHBlbmQgdGhlIFwiZ3VpXCIgZWxlbWVudCB0byB0aGUgYm9keSBvZiB0aGUgZG9jdW1lbnRcbiAgICAgICAgICAgIGd1aVZpc2libGUgPSB0cnVlOyAvLyBTZXQgdGhlIEdVSSB2aXNpYmlsaXR5IHRvIHRydWVcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChkb2N1bWVudC5wb2ludGVyTG9ja0VsZW1lbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmV4aXRQb2ludGVyTG9jaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ3VpLmlubmVySFRNTCA9IGV4cG9ydHMuZ3VpaHRtbDsgLy8gU2V0IHRoZSBIVE1MIGNvbnRlbnQgb2YgdGhlIFwiZ3VpXCIgZWxlbWVudFxuICAgICAgICAgICAgZ3VpLmlkID0gZXhwb3J0cy5ndWluYW1lOyAvLyBTZXQgdGhlIElEIG9mIHRoZSBcImd1aVwiIGVsZW1lbnQgdG8gXCJteUd1aVwiXG4gICAgICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgICAgIGd1aS5zdHlsZSA9IGV4cG9ydHMuZ3Vpc3R5bGVzO1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChndWkpOyAvLyBBcHBlbmQgdGhlIFwiZ3VpXCIgZWxlbWVudCB0byB0aGUgYm9keSBvZiB0aGUgZG9jdW1lbnRcbiAgICAgICAgICAgIGd1aVZpc2libGUgPSB0cnVlOyAvLyBTZXQgdGhlIEdVSSB2aXNpYmlsaXR5IHRvIHRydWVcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBoaWRlR3VpKCkge1xuICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZXhwb3J0cy5ndWluYW1lKSkgeyAvLyBJZiB0aGUgXCJteUd1aVwiIGVsZW1lbnQgZXhpc3RzXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChleHBvcnRzLmd1aW5hbWUpLnJlbW92ZSgpOyAvLyBSZW1vdmUgdGhlIFwibXlHdWlcIiBlbGVtZW50IGZyb20gdGhlIGRvY3VtZW50XG4gICAgICAgIH1cbiAgICAgICAgZ3VpVmlzaWJsZSA9IGZhbHNlOyAvLyBTZXQgdGhlIEdVSSB2aXNpYmlsaXR5IHRvIGZhbHNlXG4gICAgfVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgaWYgKGV4cG9ydHMuZ3Vpa2V5YmluZCA9PSBcIlJpZ2h0U2hpZnRcIiAmJiBldmVudC5rZXkgPT09IFwiU2hpZnRcIiAmJiBldmVudC5sb2NhdGlvbiA9PT0gS2V5Ym9hcmRFdmVudC5ET01fS0VZX0xPQ0FUSU9OX1JJR0hUKSB7IC8vIElmIHRoZSByaWdodCBTaGlmdCBrZXkgaXMgcHJlc3NlZFxuICAgICAgICAgICAgdG9nZ2xlR3VpKCk7IC8vIFRvZ2dsZSB0aGUgR1VJIHZpc2liaWxpdHlcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnQua2V5ID09PSBcIkVzY2FwZVwiIHx8IGV2ZW50LmtleSA9PT0gXCJgXCIpIHsgLy8gSWYgdGhlIEVzY2FwZSBrZXkgb3IgYmFja3RpY2sgaXMgcHJlc3NlZFxuICAgICAgICAgICAgaGlkZUd1aSgpOyAvLyBIaWRlIHRoZSBHVUlcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnQua2V5ID09PSBleHBvcnRzLmd1aWtleWJpbmQpIHsgLy8gSWYgdGhlIHJpZ2h0IFNoaWZ0IGtleSBpcyBwcmVzc2VkXG4gICAgICAgICAgICB0b2dnbGVHdWkoKTsgLy8gVG9nZ2xlIHRoZSBHVUkgdmlzaWJpbGl0eVxuICAgICAgICB9XG4gICAgfSk7XG59XG5leHBvcnRzLmFkZGd1aSA9IGFkZGd1aTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5sb2FkanF1ZXJ5ID0gdm9pZCAwO1xuLy9AdHMtbm9jaGVja1xuZnVuY3Rpb24gbG9hZGpxdWVyeSgpIHtcbiAgICBjb25zb2xlLmxvZyhcInN1Y2Nlc3NmdWxseSBsb2FkZWQganF1ZXJ5IVwiKTtcbiAgICAvKiFcbiAgICAqIGpRdWVyeSBKYXZhU2NyaXB0IExpYnJhcnkgdjMuNy4xXG4gICAgKiBodHRwczovL2pxdWVyeS5jb20vXG4gICAgKlxuICAgICogQ29weXJpZ2h0IE9wZW5KUyBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAgICAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICAgICogaHR0cHM6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAgICAqXG4gICAgKiBEYXRlOiAyMDIzLTA4LTI4VDEzOjM3WlxuICAgICovXG4gICAgLy9AdHMtaWdub3JlXG4gICAgKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgICAgICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICBpZiAodHlwZW9mIG1vZHVsZSA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIC8vIEZvciBDb21tb25KUyBhbmQgQ29tbW9uSlMtbGlrZSBlbnZpcm9ubWVudHMgd2hlcmUgYSBwcm9wZXIgYHdpbmRvd2BcbiAgICAgICAgICAgIC8vIGlzIHByZXNlbnQsIGV4ZWN1dGUgdGhlIGZhY3RvcnkgYW5kIGdldCBqUXVlcnkuXG4gICAgICAgICAgICAvLyBGb3IgZW52aXJvbm1lbnRzIHRoYXQgZG8gbm90IGhhdmUgYSBgd2luZG93YCB3aXRoIGEgYGRvY3VtZW50YFxuICAgICAgICAgICAgLy8gKHN1Y2ggYXMgTm9kZS5qcyksIGV4cG9zZSBhIGZhY3RvcnkgYXMgbW9kdWxlLmV4cG9ydHMuXG4gICAgICAgICAgICAvLyBUaGlzIGFjY2VudHVhdGVzIHRoZSBuZWVkIGZvciB0aGUgY3JlYXRpb24gb2YgYSByZWFsIGB3aW5kb3dgLlxuICAgICAgICAgICAgLy8gZS5nLiB2YXIgalF1ZXJ5ID0gcmVxdWlyZShcImpxdWVyeVwiKSh3aW5kb3cpO1xuICAgICAgICAgICAgLy8gU2VlIHRpY2tldCB0cmFjLTE0NTQ5IGZvciBtb3JlIGluZm8uXG4gICAgICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGdsb2JhbC5kb2N1bWVudCA/XG4gICAgICAgICAgICAgICAgZmFjdG9yeShnbG9iYWwsIHRydWUpIDpcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXcuZG9jdW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImpRdWVyeSByZXF1aXJlcyBhIHdpbmRvdyB3aXRoIGEgZG9jdW1lbnRcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhY3Rvcnkodyk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZhY3RvcnkoZ2xvYmFsKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBQYXNzIHRoaXMgaWYgd2luZG93IGlzIG5vdCBkZWZpbmVkIHlldFxuICAgIH0pKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB0aGlzLCBmdW5jdGlvbiAod2luZG93LCBub0dsb2JhbCkge1xuICAgICAgICAvLyBFZGdlIDw9IDEyIC0gMTMrLCBGaXJlZm94IDw9MTggLSA0NSssIElFIDEwIC0gMTEsIFNhZmFyaSA1LjEgLSA5KywgaU9TIDYgLSA5LjFcbiAgICAgICAgLy8gdGhyb3cgZXhjZXB0aW9ucyB3aGVuIG5vbi1zdHJpY3QgY29kZSAoZS5nLiwgQVNQLk5FVCA0LjUpIGFjY2Vzc2VzIHN0cmljdCBtb2RlXG4gICAgICAgIC8vIGFyZ3VtZW50cy5jYWxsZWUuY2FsbGVyICh0cmFjLTEzMzM1KS4gQnV0IGFzIG9mIGpRdWVyeSAzLjAgKDIwMTYpLCBzdHJpY3QgbW9kZSBzaG91bGQgYmUgY29tbW9uXG4gICAgICAgIC8vIGVub3VnaCB0aGF0IGFsbCBzdWNoIGF0dGVtcHRzIGFyZSBndWFyZGVkIGluIGEgdHJ5IGJsb2NrLlxuICAgICAgICBcInVzZSBzdHJpY3RcIjtcbiAgICAgICAgdmFyIGFyciA9IFtdO1xuICAgICAgICB2YXIgZ2V0UHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG4gICAgICAgIHZhciBzbGljZSA9IGFyci5zbGljZTtcbiAgICAgICAgdmFyIGZsYXQgPSBhcnIuZmxhdCA/IGZ1bmN0aW9uIChhcnJheSkge1xuICAgICAgICAgICAgcmV0dXJuIGFyci5mbGF0LmNhbGwoYXJyYXkpO1xuICAgICAgICB9IDogZnVuY3Rpb24gKGFycmF5KSB7XG4gICAgICAgICAgICByZXR1cm4gYXJyLmNvbmNhdC5hcHBseShbXSwgYXJyYXkpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgcHVzaCA9IGFyci5wdXNoO1xuICAgICAgICB2YXIgaW5kZXhPZiA9IGFyci5pbmRleE9mO1xuICAgICAgICB2YXIgY2xhc3MydHlwZSA9IHt9O1xuICAgICAgICB2YXIgdG9TdHJpbmcgPSBjbGFzczJ0eXBlLnRvU3RyaW5nO1xuICAgICAgICB2YXIgaGFzT3duID0gY2xhc3MydHlwZS5oYXNPd25Qcm9wZXJ0eTtcbiAgICAgICAgdmFyIGZuVG9TdHJpbmcgPSBoYXNPd24udG9TdHJpbmc7XG4gICAgICAgIHZhciBPYmplY3RGdW5jdGlvblN0cmluZyA9IGZuVG9TdHJpbmcuY2FsbChPYmplY3QpO1xuICAgICAgICB2YXIgc3VwcG9ydCA9IHt9O1xuICAgICAgICB2YXIgaXNGdW5jdGlvbiA9IGZ1bmN0aW9uIGlzRnVuY3Rpb24ob2JqKSB7XG4gICAgICAgICAgICAvLyBTdXBwb3J0OiBDaHJvbWUgPD01NywgRmlyZWZveCA8PTUyXG4gICAgICAgICAgICAvLyBJbiBzb21lIGJyb3dzZXJzLCB0eXBlb2YgcmV0dXJucyBcImZ1bmN0aW9uXCIgZm9yIEhUTUwgPG9iamVjdD4gZWxlbWVudHNcbiAgICAgICAgICAgIC8vIChpLmUuLCBgdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwib2JqZWN0XCIgKSA9PT0gXCJmdW5jdGlvblwiYCkuXG4gICAgICAgICAgICAvLyBXZSBkb24ndCB3YW50IHRvIGNsYXNzaWZ5ICphbnkqIERPTSBub2RlIGFzIGEgZnVuY3Rpb24uXG4gICAgICAgICAgICAvLyBTdXBwb3J0OiBRdFdlYiA8PTMuOC41LCBXZWJLaXQgPD01MzQuMzQsIHdraHRtbHRvcGRmIHRvb2wgPD0wLjEyLjVcbiAgICAgICAgICAgIC8vIFBsdXMgZm9yIG9sZCBXZWJLaXQsIHR5cGVvZiByZXR1cm5zIFwiZnVuY3Rpb25cIiBmb3IgSFRNTCBjb2xsZWN0aW9uc1xuICAgICAgICAgICAgLy8gKGUuZy4sIGB0eXBlb2YgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJkaXZcIikgPT09IFwiZnVuY3Rpb25cImApLiAoZ2gtNDc1NilcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2Ygb2JqID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIG9iai5ub2RlVHlwZSAhPT0gXCJudW1iZXJcIiAmJlxuICAgICAgICAgICAgICAgIHR5cGVvZiBvYmouaXRlbSAhPT0gXCJmdW5jdGlvblwiO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgaXNXaW5kb3cgPSBmdW5jdGlvbiBpc1dpbmRvdyhvYmopIHtcbiAgICAgICAgICAgIHJldHVybiBvYmogIT0gbnVsbCAmJiBvYmogPT09IG9iai53aW5kb3c7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBkb2N1bWVudCA9IHdpbmRvdy5kb2N1bWVudDtcbiAgICAgICAgdmFyIHByZXNlcnZlZFNjcmlwdEF0dHJpYnV0ZXMgPSB7XG4gICAgICAgICAgICB0eXBlOiB0cnVlLFxuICAgICAgICAgICAgc3JjOiB0cnVlLFxuICAgICAgICAgICAgbm9uY2U6IHRydWUsXG4gICAgICAgICAgICBub01vZHVsZTogdHJ1ZVxuICAgICAgICB9O1xuICAgICAgICBmdW5jdGlvbiBET01FdmFsKGNvZGUsIG5vZGUsIGRvYykge1xuICAgICAgICAgICAgZG9jID0gZG9jIHx8IGRvY3VtZW50O1xuICAgICAgICAgICAgdmFyIGksIHZhbCwgc2NyaXB0ID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XG4gICAgICAgICAgICBzY3JpcHQudGV4dCA9IGNvZGU7XG4gICAgICAgICAgICBpZiAobm9kZSkge1xuICAgICAgICAgICAgICAgIGZvciAoaSBpbiBwcmVzZXJ2ZWRTY3JpcHRBdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IEZpcmVmb3ggNjQrLCBFZGdlIDE4K1xuICAgICAgICAgICAgICAgICAgICAvLyBTb21lIGJyb3dzZXJzIGRvbid0IHN1cHBvcnQgdGhlIFwibm9uY2VcIiBwcm9wZXJ0eSBvbiBzY3JpcHRzLlxuICAgICAgICAgICAgICAgICAgICAvLyBPbiB0aGUgb3RoZXIgaGFuZCwganVzdCB1c2luZyBgZ2V0QXR0cmlidXRlYCBpcyBub3QgZW5vdWdoIGFzXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZSBgbm9uY2VgIGF0dHJpYnV0ZSBpcyByZXNldCB0byBhbiBlbXB0eSBzdHJpbmcgd2hlbmV2ZXIgaXRcbiAgICAgICAgICAgICAgICAgICAgLy8gYmVjb21lcyBicm93c2luZy1jb250ZXh0IGNvbm5lY3RlZC5cbiAgICAgICAgICAgICAgICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93aGF0d2cvaHRtbC9pc3N1ZXMvMjM2OVxuICAgICAgICAgICAgICAgICAgICAvLyBTZWUgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy8jbm9uY2UtYXR0cmlidXRlc1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgYG5vZGUuZ2V0QXR0cmlidXRlYCBjaGVjayB3YXMgYWRkZWQgZm9yIHRoZSBzYWtlIG9mXG4gICAgICAgICAgICAgICAgICAgIC8vIGBqUXVlcnkuZ2xvYmFsRXZhbGAgc28gdGhhdCBpdCBjYW4gZmFrZSBhIG5vbmNlLWNvbnRhaW5pbmcgbm9kZVxuICAgICAgICAgICAgICAgICAgICAvLyB2aWEgYW4gb2JqZWN0LlxuICAgICAgICAgICAgICAgICAgICB2YWwgPSBub2RlW2ldIHx8IG5vZGUuZ2V0QXR0cmlidXRlICYmIG5vZGUuZ2V0QXR0cmlidXRlKGkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JpcHQuc2V0QXR0cmlidXRlKGksIHZhbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkb2MuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc2NyaXB0KTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiB0b1R5cGUob2JqKSB7XG4gICAgICAgICAgICBpZiAob2JqID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqICsgXCJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD0yLjMgb25seSAoZnVuY3Rpb25pc2ggUmVnRXhwKVxuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBvYmogPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIG9iaiA9PT0gXCJmdW5jdGlvblwiID9cbiAgICAgICAgICAgICAgICBjbGFzczJ0eXBlW3RvU3RyaW5nLmNhbGwob2JqKV0gfHwgXCJvYmplY3RcIiA6XG4gICAgICAgICAgICAgICAgdHlwZW9mIG9iajtcbiAgICAgICAgfVxuICAgICAgICAvKiBnbG9iYWwgU3ltYm9sICovXG4gICAgICAgIC8vIERlZmluaW5nIHRoaXMgZ2xvYmFsIGluIC5lc2xpbnRyYy5qc29uIHdvdWxkIGNyZWF0ZSBhIGRhbmdlciBvZiB1c2luZyB0aGUgZ2xvYmFsXG4gICAgICAgIC8vIHVuZ3VhcmRlZCBpbiBhbm90aGVyIHBsYWNlLCBpdCBzZWVtcyBzYWZlciB0byBkZWZpbmUgZ2xvYmFsIG9ubHkgZm9yIHRoaXMgbW9kdWxlXG4gICAgICAgIHZhciB2ZXJzaW9uID0gXCIzLjcuMVwiLCByaHRtbFN1ZmZpeCA9IC9IVE1MJC9pLCBcbiAgICAgICAgLy8gRGVmaW5lIGEgbG9jYWwgY29weSBvZiBqUXVlcnlcbiAgICAgICAgalF1ZXJ5ID0gZnVuY3Rpb24gKHNlbGVjdG9yLCBjb250ZXh0KSB7XG4gICAgICAgICAgICAvLyBUaGUgalF1ZXJ5IG9iamVjdCBpcyBhY3R1YWxseSBqdXN0IHRoZSBpbml0IGNvbnN0cnVjdG9yICdlbmhhbmNlZCdcbiAgICAgICAgICAgIC8vIE5lZWQgaW5pdCBpZiBqUXVlcnkgaXMgY2FsbGVkIChqdXN0IGFsbG93IGVycm9yIHRvIGJlIHRocm93biBpZiBub3QgaW5jbHVkZWQpXG4gICAgICAgICAgICByZXR1cm4gbmV3IGpRdWVyeS5mbi5pbml0KHNlbGVjdG9yLCBjb250ZXh0KTtcbiAgICAgICAgfTtcbiAgICAgICAgalF1ZXJ5LmZuID0galF1ZXJ5LnByb3RvdHlwZSA9IHtcbiAgICAgICAgICAgIC8vIFRoZSBjdXJyZW50IHZlcnNpb24gb2YgalF1ZXJ5IGJlaW5nIHVzZWRcbiAgICAgICAgICAgIGpxdWVyeTogdmVyc2lvbixcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yOiBqUXVlcnksXG4gICAgICAgICAgICAvLyBUaGUgZGVmYXVsdCBsZW5ndGggb2YgYSBqUXVlcnkgb2JqZWN0IGlzIDBcbiAgICAgICAgICAgIGxlbmd0aDogMCxcbiAgICAgICAgICAgIHRvQXJyYXk6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2xpY2UuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBHZXQgdGhlIE50aCBlbGVtZW50IGluIHRoZSBtYXRjaGVkIGVsZW1lbnQgc2V0IE9SXG4gICAgICAgICAgICAvLyBHZXQgdGhlIHdob2xlIG1hdGNoZWQgZWxlbWVudCBzZXQgYXMgYSBjbGVhbiBhcnJheVxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAobnVtKSB7XG4gICAgICAgICAgICAgICAgLy8gUmV0dXJuIGFsbCB0aGUgZWxlbWVudHMgaW4gYSBjbGVhbiBhcnJheVxuICAgICAgICAgICAgICAgIGlmIChudW0gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2xpY2UuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gUmV0dXJuIGp1c3QgdGhlIG9uZSBlbGVtZW50IGZyb20gdGhlIHNldFxuICAgICAgICAgICAgICAgIHJldHVybiBudW0gPCAwID8gdGhpc1tudW0gKyB0aGlzLmxlbmd0aF0gOiB0aGlzW251bV07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gVGFrZSBhbiBhcnJheSBvZiBlbGVtZW50cyBhbmQgcHVzaCBpdCBvbnRvIHRoZSBzdGFja1xuICAgICAgICAgICAgLy8gKHJldHVybmluZyB0aGUgbmV3IG1hdGNoZWQgZWxlbWVudCBzZXQpXG4gICAgICAgICAgICBwdXNoU3RhY2s6IGZ1bmN0aW9uIChlbGVtcykge1xuICAgICAgICAgICAgICAgIC8vIEJ1aWxkIGEgbmV3IGpRdWVyeSBtYXRjaGVkIGVsZW1lbnQgc2V0XG4gICAgICAgICAgICAgICAgdmFyIHJldCA9IGpRdWVyeS5tZXJnZSh0aGlzLmNvbnN0cnVjdG9yKCksIGVsZW1zKTtcbiAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIG9sZCBvYmplY3Qgb250byB0aGUgc3RhY2sgKGFzIGEgcmVmZXJlbmNlKVxuICAgICAgICAgICAgICAgIHJldC5wcmV2T2JqZWN0ID0gdGhpcztcbiAgICAgICAgICAgICAgICAvLyBSZXR1cm4gdGhlIG5ld2x5LWZvcm1lZCBlbGVtZW50IHNldFxuICAgICAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gRXhlY3V0ZSBhIGNhbGxiYWNrIGZvciBldmVyeSBlbGVtZW50IGluIHRoZSBtYXRjaGVkIHNldC5cbiAgICAgICAgICAgIGVhY2g6IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHJldHVybiBqUXVlcnkuZWFjaCh0aGlzLCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbWFwOiBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wdXNoU3RhY2soalF1ZXJ5Lm1hcCh0aGlzLCBmdW5jdGlvbiAoZWxlbSwgaSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2suY2FsbChlbGVtLCBpLCBlbGVtKTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2xpY2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wdXNoU3RhY2soc2xpY2UuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmlyc3Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lcSgwKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsYXN0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXEoLTEpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGV2ZW46IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wdXNoU3RhY2soalF1ZXJ5LmdyZXAodGhpcywgZnVuY3Rpb24gKF9lbGVtLCBpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoaSArIDEpICUgMjtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb2RkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHVzaFN0YWNrKGpRdWVyeS5ncmVwKHRoaXMsIGZ1bmN0aW9uIChfZWxlbSwgaSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaSAlIDI7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVxOiBmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgICAgIHZhciBsZW4gPSB0aGlzLmxlbmd0aCwgaiA9ICtpICsgKGkgPCAwID8gbGVuIDogMCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHVzaFN0YWNrKGogPj0gMCAmJiBqIDwgbGVuID8gW3RoaXNbal1dIDogW10pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVuZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnByZXZPYmplY3QgfHwgdGhpcy5jb25zdHJ1Y3RvcigpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIEZvciBpbnRlcm5hbCB1c2Ugb25seS5cbiAgICAgICAgICAgIC8vIEJlaGF2ZXMgbGlrZSBhbiBBcnJheSdzIG1ldGhvZCwgbm90IGxpa2UgYSBqUXVlcnkgbWV0aG9kLlxuICAgICAgICAgICAgcHVzaDogcHVzaCxcbiAgICAgICAgICAgIHNvcnQ6IGFyci5zb3J0LFxuICAgICAgICAgICAgc3BsaWNlOiBhcnIuc3BsaWNlXG4gICAgICAgIH07XG4gICAgICAgIGpRdWVyeS5leHRlbmQgPSBqUXVlcnkuZm4uZXh0ZW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG9wdGlvbnMsIG5hbWUsIHNyYywgY29weSwgY29weUlzQXJyYXksIGNsb25lLCB0YXJnZXQgPSBhcmd1bWVudHNbMF0gfHwge30sIGkgPSAxLCBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLCBkZWVwID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBIYW5kbGUgYSBkZWVwIGNvcHkgc2l0dWF0aW9uXG4gICAgICAgICAgICBpZiAodHlwZW9mIHRhcmdldCA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICAgICAgICBkZWVwID0gdGFyZ2V0O1xuICAgICAgICAgICAgICAgIC8vIFNraXAgdGhlIGJvb2xlYW4gYW5kIHRoZSB0YXJnZXRcbiAgICAgICAgICAgICAgICB0YXJnZXQgPSBhcmd1bWVudHNbaV0gfHwge307XG4gICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSGFuZGxlIGNhc2Ugd2hlbiB0YXJnZXQgaXMgYSBzdHJpbmcgb3Igc29tZXRoaW5nIChwb3NzaWJsZSBpbiBkZWVwIGNvcHkpXG4gICAgICAgICAgICBpZiAodHlwZW9mIHRhcmdldCAhPT0gXCJvYmplY3RcIiAmJiAhaXNGdW5jdGlvbih0YXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0ge307XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBFeHRlbmQgalF1ZXJ5IGl0c2VsZiBpZiBvbmx5IG9uZSBhcmd1bWVudCBpcyBwYXNzZWRcbiAgICAgICAgICAgIGlmIChpID09PSBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQgPSB0aGlzO1xuICAgICAgICAgICAgICAgIGktLTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAvLyBPbmx5IGRlYWwgd2l0aCBub24tbnVsbC91bmRlZmluZWQgdmFsdWVzXG4gICAgICAgICAgICAgICAgaWYgKChvcHRpb25zID0gYXJndW1lbnRzW2ldKSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEV4dGVuZCB0aGUgYmFzZSBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAgZm9yIChuYW1lIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvcHkgPSBvcHRpb25zW25hbWVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUHJldmVudCBPYmplY3QucHJvdG90eXBlIHBvbGx1dGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUHJldmVudCBuZXZlci1lbmRpbmcgbG9vcFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5hbWUgPT09IFwiX19wcm90b19fXCIgfHwgdGFyZ2V0ID09PSBjb3B5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZWN1cnNlIGlmIHdlJ3JlIG1lcmdpbmcgcGxhaW4gb2JqZWN0cyBvciBhcnJheXNcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZWVwICYmIGNvcHkgJiYgKGpRdWVyeS5pc1BsYWluT2JqZWN0KGNvcHkpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNvcHlJc0FycmF5ID0gQXJyYXkuaXNBcnJheShjb3B5KSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjID0gdGFyZ2V0W25hbWVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVuc3VyZSBwcm9wZXIgdHlwZSBmb3IgdGhlIHNvdXJjZSB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb3B5SXNBcnJheSAmJiAhQXJyYXkuaXNBcnJheShzcmMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFjb3B5SXNBcnJheSAmJiAhalF1ZXJ5LmlzUGxhaW5PYmplY3Qoc3JjKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG9uZSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvbmUgPSBzcmM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcHlJc0FycmF5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTmV2ZXIgbW92ZSBvcmlnaW5hbCBvYmplY3RzLCBjbG9uZSB0aGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0W25hbWVdID0galF1ZXJ5LmV4dGVuZChkZWVwLCBjbG9uZSwgY29weSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRG9uJ3QgYnJpbmcgaW4gdW5kZWZpbmVkIHZhbHVlc1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoY29weSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0W25hbWVdID0gY29weTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFJldHVybiB0aGUgbW9kaWZpZWQgb2JqZWN0XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgICB9O1xuICAgICAgICBqUXVlcnkuZXh0ZW5kKHtcbiAgICAgICAgICAgIC8vIFVuaXF1ZSBmb3IgZWFjaCBjb3B5IG9mIGpRdWVyeSBvbiB0aGUgcGFnZVxuICAgICAgICAgICAgZXhwYW5kbzogXCJqUXVlcnlcIiArICh2ZXJzaW9uICsgTWF0aC5yYW5kb20oKSkucmVwbGFjZSgvXFxEL2csIFwiXCIpLFxuICAgICAgICAgICAgLy8gQXNzdW1lIGpRdWVyeSBpcyByZWFkeSB3aXRob3V0IHRoZSByZWFkeSBtb2R1bGVcbiAgICAgICAgICAgIGlzUmVhZHk6IHRydWUsXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKG1zZykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5vb3A6IGZ1bmN0aW9uICgpIHsgfSxcbiAgICAgICAgICAgIGlzUGxhaW5PYmplY3Q6IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJvdG8sIEN0b3I7XG4gICAgICAgICAgICAgICAgLy8gRGV0ZWN0IG9idmlvdXMgbmVnYXRpdmVzXG4gICAgICAgICAgICAgICAgLy8gVXNlIHRvU3RyaW5nIGluc3RlYWQgb2YgalF1ZXJ5LnR5cGUgdG8gY2F0Y2ggaG9zdCBvYmplY3RzXG4gICAgICAgICAgICAgICAgaWYgKCFvYmogfHwgdG9TdHJpbmcuY2FsbChvYmopICE9PSBcIltvYmplY3QgT2JqZWN0XVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcHJvdG8gPSBnZXRQcm90byhvYmopO1xuICAgICAgICAgICAgICAgIC8vIE9iamVjdHMgd2l0aCBubyBwcm90b3R5cGUgKGUuZy4sIGBPYmplY3QuY3JlYXRlKCBudWxsIClgKSBhcmUgcGxhaW5cbiAgICAgICAgICAgICAgICBpZiAoIXByb3RvKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBPYmplY3RzIHdpdGggcHJvdG90eXBlIGFyZSBwbGFpbiBpZmYgdGhleSB3ZXJlIGNvbnN0cnVjdGVkIGJ5IGEgZ2xvYmFsIE9iamVjdCBmdW5jdGlvblxuICAgICAgICAgICAgICAgIEN0b3IgPSBoYXNPd24uY2FsbChwcm90bywgXCJjb25zdHJ1Y3RvclwiKSAmJiBwcm90by5jb25zdHJ1Y3RvcjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mIEN0b3IgPT09IFwiZnVuY3Rpb25cIiAmJiBmblRvU3RyaW5nLmNhbGwoQ3RvcikgPT09IE9iamVjdEZ1bmN0aW9uU3RyaW5nO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlzRW1wdHlPYmplY3Q6IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgICAgICB2YXIgbmFtZTtcbiAgICAgICAgICAgICAgICBmb3IgKG5hbWUgaW4gb2JqKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gRXZhbHVhdGVzIGEgc2NyaXB0IGluIGEgcHJvdmlkZWQgY29udGV4dDsgZmFsbHMgYmFjayB0byB0aGUgZ2xvYmFsIG9uZVxuICAgICAgICAgICAgLy8gaWYgbm90IHNwZWNpZmllZC5cbiAgICAgICAgICAgIGdsb2JhbEV2YWw6IGZ1bmN0aW9uIChjb2RlLCBvcHRpb25zLCBkb2MpIHtcbiAgICAgICAgICAgICAgICBET01FdmFsKGNvZGUsIHsgbm9uY2U6IG9wdGlvbnMgJiYgb3B0aW9ucy5ub25jZSB9LCBkb2MpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVhY2g6IGZ1bmN0aW9uIChvYmosIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxlbmd0aCwgaSA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKGlzQXJyYXlMaWtlKG9iaikpIHtcbiAgICAgICAgICAgICAgICAgICAgbGVuZ3RoID0gb2JqLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgZm9yICg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrLmNhbGwob2JqW2ldLCBpLCBvYmpbaV0pID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGkgaW4gb2JqKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2suY2FsbChvYmpbaV0sIGksIG9ialtpXSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBSZXRyaWV2ZSB0aGUgdGV4dCB2YWx1ZSBvZiBhbiBhcnJheSBvZiBET00gbm9kZXNcbiAgICAgICAgICAgIHRleHQ6IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5vZGUsIHJldCA9IFwiXCIsIGkgPSAwLCBub2RlVHlwZSA9IGVsZW0ubm9kZVR5cGU7XG4gICAgICAgICAgICAgICAgaWYgKCFub2RlVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiBubyBub2RlVHlwZSwgdGhpcyBpcyBleHBlY3RlZCB0byBiZSBhbiBhcnJheVxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKG5vZGUgPSBlbGVtW2krK10pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEbyBub3QgdHJhdmVyc2UgY29tbWVudCBub2Rlc1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0ICs9IGpRdWVyeS50ZXh0KG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChub2RlVHlwZSA9PT0gMSB8fCBub2RlVHlwZSA9PT0gMTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZW0udGV4dENvbnRlbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChub2RlVHlwZSA9PT0gOSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbS5kb2N1bWVudEVsZW1lbnQudGV4dENvbnRlbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChub2RlVHlwZSA9PT0gMyB8fCBub2RlVHlwZSA9PT0gNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbS5ub2RlVmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIERvIG5vdCBpbmNsdWRlIGNvbW1lbnQgb3IgcHJvY2Vzc2luZyBpbnN0cnVjdGlvbiBub2Rlc1xuICAgICAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gcmVzdWx0cyBpcyBmb3IgaW50ZXJuYWwgdXNhZ2Ugb25seVxuICAgICAgICAgICAgbWFrZUFycmF5OiBmdW5jdGlvbiAoYXJyLCByZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJldCA9IHJlc3VsdHMgfHwgW107XG4gICAgICAgICAgICAgICAgaWYgKGFyciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0FycmF5TGlrZShPYmplY3QoYXJyKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5tZXJnZShyZXQsIHR5cGVvZiBhcnIgPT09IFwic3RyaW5nXCIgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFthcnJdIDogYXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHB1c2guY2FsbChyZXQsIGFycik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbkFycmF5OiBmdW5jdGlvbiAoZWxlbSwgYXJyLCBpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFyciA9PSBudWxsID8gLTEgOiBpbmRleE9mLmNhbGwoYXJyLCBlbGVtLCBpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc1hNTERvYzogZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICB2YXIgbmFtZXNwYWNlID0gZWxlbSAmJiBlbGVtLm5hbWVzcGFjZVVSSSwgZG9jRWxlbSA9IGVsZW0gJiYgKGVsZW0ub3duZXJEb2N1bWVudCB8fCBlbGVtKS5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgLy8gQXNzdW1lIEhUTUwgd2hlbiBkb2N1bWVudEVsZW1lbnQgZG9lc24ndCB5ZXQgZXhpc3QsIHN1Y2ggYXMgaW5zaWRlXG4gICAgICAgICAgICAgICAgLy8gZG9jdW1lbnQgZnJhZ21lbnRzLlxuICAgICAgICAgICAgICAgIHJldHVybiAhcmh0bWxTdWZmaXgudGVzdChuYW1lc3BhY2UgfHwgZG9jRWxlbSAmJiBkb2NFbGVtLm5vZGVOYW1lIHx8IFwiSFRNTFwiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHksIFBoYW50b21KUyAxIG9ubHlcbiAgICAgICAgICAgIC8vIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Mgb24gYW5jaWVudCBXZWJLaXRcbiAgICAgICAgICAgIG1lcmdlOiBmdW5jdGlvbiAoZmlyc3QsIHNlY29uZCkge1xuICAgICAgICAgICAgICAgIHZhciBsZW4gPSArc2Vjb25kLmxlbmd0aCwgaiA9IDAsIGkgPSBmaXJzdC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgZm9yICg7IGogPCBsZW47IGorKykge1xuICAgICAgICAgICAgICAgICAgICBmaXJzdFtpKytdID0gc2Vjb25kW2pdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaXJzdC5sZW5ndGggPSBpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmaXJzdDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBncmVwOiBmdW5jdGlvbiAoZWxlbXMsIGNhbGxiYWNrLCBpbnZlcnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2FsbGJhY2tJbnZlcnNlLCBtYXRjaGVzID0gW10sIGkgPSAwLCBsZW5ndGggPSBlbGVtcy5sZW5ndGgsIGNhbGxiYWNrRXhwZWN0ID0gIWludmVydDtcbiAgICAgICAgICAgICAgICAvLyBHbyB0aHJvdWdoIHRoZSBhcnJheSwgb25seSBzYXZpbmcgdGhlIGl0ZW1zXG4gICAgICAgICAgICAgICAgLy8gdGhhdCBwYXNzIHRoZSB2YWxpZGF0b3IgZnVuY3Rpb25cbiAgICAgICAgICAgICAgICBmb3IgKDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrSW52ZXJzZSA9ICFjYWxsYmFjayhlbGVtc1tpXSwgaSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFja0ludmVyc2UgIT09IGNhbGxiYWNrRXhwZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVzLnB1c2goZWxlbXNbaV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaGVzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIGFyZyBpcyBmb3IgaW50ZXJuYWwgdXNhZ2Ugb25seVxuICAgICAgICAgICAgbWFwOiBmdW5jdGlvbiAoZWxlbXMsIGNhbGxiYWNrLCBhcmcpIHtcbiAgICAgICAgICAgICAgICB2YXIgbGVuZ3RoLCB2YWx1ZSwgaSA9IDAsIHJldCA9IFtdO1xuICAgICAgICAgICAgICAgIC8vIEdvIHRocm91Z2ggdGhlIGFycmF5LCB0cmFuc2xhdGluZyBlYWNoIG9mIHRoZSBpdGVtcyB0byB0aGVpciBuZXcgdmFsdWVzXG4gICAgICAgICAgICAgICAgaWYgKGlzQXJyYXlMaWtlKGVsZW1zKSkge1xuICAgICAgICAgICAgICAgICAgICBsZW5ndGggPSBlbGVtcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gY2FsbGJhY2soZWxlbXNbaV0sIGksIGFyZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldC5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBHbyB0aHJvdWdoIGV2ZXJ5IGtleSBvbiB0aGUgb2JqZWN0LFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChpIGluIGVsZW1zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGNhbGxiYWNrKGVsZW1zW2ldLCBpLCBhcmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXQucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gRmxhdHRlbiBhbnkgbmVzdGVkIGFycmF5c1xuICAgICAgICAgICAgICAgIHJldHVybiBmbGF0KHJldCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gQSBnbG9iYWwgR1VJRCBjb3VudGVyIGZvciBvYmplY3RzXG4gICAgICAgICAgICBndWlkOiAxLFxuICAgICAgICAgICAgLy8galF1ZXJ5LnN1cHBvcnQgaXMgbm90IHVzZWQgaW4gQ29yZSBidXQgb3RoZXIgcHJvamVjdHMgYXR0YWNoIHRoZWlyXG4gICAgICAgICAgICAvLyBwcm9wZXJ0aWVzIHRvIGl0IHNvIGl0IG5lZWRzIHRvIGV4aXN0LlxuICAgICAgICAgICAgc3VwcG9ydDogc3VwcG9ydFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgalF1ZXJ5LmZuW1N5bWJvbC5pdGVyYXRvcl0gPSBhcnJbU3ltYm9sLml0ZXJhdG9yXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBQb3B1bGF0ZSB0aGUgY2xhc3MydHlwZSBtYXBcbiAgICAgICAgalF1ZXJ5LmVhY2goXCJCb29sZWFuIE51bWJlciBTdHJpbmcgRnVuY3Rpb24gQXJyYXkgRGF0ZSBSZWdFeHAgT2JqZWN0IEVycm9yIFN5bWJvbFwiLnNwbGl0KFwiIFwiKSwgZnVuY3Rpb24gKF9pLCBuYW1lKSB7XG4gICAgICAgICAgICBjbGFzczJ0eXBlW1wiW29iamVjdCBcIiArIG5hbWUgKyBcIl1cIl0gPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBmdW5jdGlvbiBpc0FycmF5TGlrZShvYmopIHtcbiAgICAgICAgICAgIC8vIFN1cHBvcnQ6IHJlYWwgaU9TIDguMiBvbmx5IChub3QgcmVwcm9kdWNpYmxlIGluIHNpbXVsYXRvcilcbiAgICAgICAgICAgIC8vIGBpbmAgY2hlY2sgdXNlZCB0byBwcmV2ZW50IEpJVCBlcnJvciAoZ2gtMjE0NSlcbiAgICAgICAgICAgIC8vIGhhc093biBpc24ndCB1c2VkIGhlcmUgZHVlIHRvIGZhbHNlIG5lZ2F0aXZlc1xuICAgICAgICAgICAgLy8gcmVnYXJkaW5nIE5vZGVsaXN0IGxlbmd0aCBpbiBJRVxuICAgICAgICAgICAgdmFyIGxlbmd0aCA9ICEhb2JqICYmIFwibGVuZ3RoXCIgaW4gb2JqICYmIG9iai5sZW5ndGgsIHR5cGUgPSB0b1R5cGUob2JqKTtcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKG9iaikgfHwgaXNXaW5kb3cob2JqKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0eXBlID09PSBcImFycmF5XCIgfHwgbGVuZ3RoID09PSAwIHx8XG4gICAgICAgICAgICAgICAgdHlwZW9mIGxlbmd0aCA9PT0gXCJudW1iZXJcIiAmJiBsZW5ndGggPiAwICYmIChsZW5ndGggLSAxKSBpbiBvYmo7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gbm9kZU5hbWUoZWxlbSwgbmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIGVsZW0ubm9kZU5hbWUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBvcCA9IGFyci5wb3A7XG4gICAgICAgIHZhciBzb3J0ID0gYXJyLnNvcnQ7XG4gICAgICAgIHZhciBzcGxpY2UgPSBhcnIuc3BsaWNlO1xuICAgICAgICB2YXIgd2hpdGVzcGFjZSA9IFwiW1xcXFx4MjBcXFxcdFxcXFxyXFxcXG5cXFxcZl1cIjtcbiAgICAgICAgdmFyIHJ0cmltQ1NTID0gbmV3IFJlZ0V4cChcIl5cIiArIHdoaXRlc3BhY2UgKyBcIit8KCg/Ol58W15cXFxcXFxcXF0pKD86XFxcXFxcXFwuKSopXCIgKyB3aGl0ZXNwYWNlICsgXCIrJFwiLCBcImdcIik7XG4gICAgICAgIC8vIE5vdGU6IGFuIGVsZW1lbnQgZG9lcyBub3QgY29udGFpbiBpdHNlbGZcbiAgICAgICAgalF1ZXJ5LmNvbnRhaW5zID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgIHZhciBidXAgPSBiICYmIGIucGFyZW50Tm9kZTtcbiAgICAgICAgICAgIHJldHVybiBhID09PSBidXAgfHwgISEoYnVwICYmIGJ1cC5ub2RlVHlwZSA9PT0gMSAmJiAoXG4gICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA5IC0gMTErXG4gICAgICAgICAgICAvLyBJRSBkb2Vzbid0IGhhdmUgYGNvbnRhaW5zYCBvbiBTVkcuXG4gICAgICAgICAgICBhLmNvbnRhaW5zID9cbiAgICAgICAgICAgICAgICBhLmNvbnRhaW5zKGJ1cCkgOlxuICAgICAgICAgICAgICAgIGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24gJiYgYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihidXApICYgMTYpKTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gQ1NTIHN0cmluZy9pZGVudGlmaWVyIHNlcmlhbGl6YXRpb25cbiAgICAgICAgLy8gaHR0cHM6Ly9kcmFmdHMuY3Nzd2cub3JnL2Nzc29tLyNjb21tb24tc2VyaWFsaXppbmctaWRpb21zXG4gICAgICAgIHZhciByY3NzZXNjYXBlID0gLyhbXFwwLVxceDFmXFx4N2ZdfF4tP1xcZCl8Xi0kfFteXFx4ODAtXFx1RkZGRlxcdy1dL2c7XG4gICAgICAgIGZ1bmN0aW9uIGZjc3Nlc2NhcGUoY2gsIGFzQ29kZVBvaW50KSB7XG4gICAgICAgICAgICBpZiAoYXNDb2RlUG9pbnQpIHtcbiAgICAgICAgICAgICAgICAvLyBVKzAwMDAgTlVMTCBiZWNvbWVzIFUrRkZGRCBSRVBMQUNFTUVOVCBDSEFSQUNURVJcbiAgICAgICAgICAgICAgICBpZiAoY2ggPT09IFwiXFwwXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXFx1RkZGRFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBDb250cm9sIGNoYXJhY3RlcnMgYW5kIChkZXBlbmRlbnQgdXBvbiBwb3NpdGlvbikgbnVtYmVycyBnZXQgZXNjYXBlZCBhcyBjb2RlIHBvaW50c1xuICAgICAgICAgICAgICAgIHJldHVybiBjaC5zbGljZSgwLCAtMSkgKyBcIlxcXFxcIiArIGNoLmNoYXJDb2RlQXQoY2gubGVuZ3RoIC0gMSkudG9TdHJpbmcoMTYpICsgXCIgXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBPdGhlciBwb3RlbnRpYWxseS1zcGVjaWFsIEFTQ0lJIGNoYXJhY3RlcnMgZ2V0IGJhY2tzbGFzaC1lc2NhcGVkXG4gICAgICAgICAgICByZXR1cm4gXCJcXFxcXCIgKyBjaDtcbiAgICAgICAgfVxuICAgICAgICBqUXVlcnkuZXNjYXBlU2VsZWN0b3IgPSBmdW5jdGlvbiAoc2VsKSB7XG4gICAgICAgICAgICByZXR1cm4gKHNlbCArIFwiXCIpLnJlcGxhY2UocmNzc2VzY2FwZSwgZmNzc2VzY2FwZSk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBwcmVmZXJyZWREb2MgPSBkb2N1bWVudCwgcHVzaE5hdGl2ZSA9IHB1c2g7XG4gICAgICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaSwgRXhwciwgb3V0ZXJtb3N0Q29udGV4dCwgc29ydElucHV0LCBoYXNEdXBsaWNhdGUsIHB1c2ggPSBwdXNoTmF0aXZlLCBcbiAgICAgICAgICAgIC8vIExvY2FsIGRvY3VtZW50IHZhcnNcbiAgICAgICAgICAgIGRvY3VtZW50LCBkb2N1bWVudEVsZW1lbnQsIGRvY3VtZW50SXNIVE1MLCByYnVnZ3lRU0EsIG1hdGNoZXMsIFxuICAgICAgICAgICAgLy8gSW5zdGFuY2Utc3BlY2lmaWMgZGF0YVxuICAgICAgICAgICAgZXhwYW5kbyA9IGpRdWVyeS5leHBhbmRvLCBkaXJydW5zID0gMCwgZG9uZSA9IDAsIGNsYXNzQ2FjaGUgPSBjcmVhdGVDYWNoZSgpLCB0b2tlbkNhY2hlID0gY3JlYXRlQ2FjaGUoKSwgY29tcGlsZXJDYWNoZSA9IGNyZWF0ZUNhY2hlKCksIG5vbm5hdGl2ZVNlbGVjdG9yQ2FjaGUgPSBjcmVhdGVDYWNoZSgpLCBzb3J0T3JkZXIgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgICAgIGlmIChhID09PSBiKSB7XG4gICAgICAgICAgICAgICAgICAgIGhhc0R1cGxpY2F0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfSwgYm9vbGVhbnMgPSBcImNoZWNrZWR8c2VsZWN0ZWR8YXN5bmN8YXV0b2ZvY3VzfGF1dG9wbGF5fGNvbnRyb2xzfGRlZmVyfGRpc2FibGVkfGhpZGRlbnxpc21hcHxcIiArXG4gICAgICAgICAgICAgICAgXCJsb29wfG11bHRpcGxlfG9wZW58cmVhZG9ubHl8cmVxdWlyZWR8c2NvcGVkXCIsIFxuICAgICAgICAgICAgLy8gUmVndWxhciBleHByZXNzaW9uc1xuICAgICAgICAgICAgLy8gaHR0cHM6Ly93d3cudzMub3JnL1RSL2Nzcy1zeW50YXgtMy8jaWRlbnQtdG9rZW4tZGlhZ3JhbVxuICAgICAgICAgICAgaWRlbnRpZmllciA9IFwiKD86XFxcXFxcXFxbXFxcXGRhLWZBLUZdezEsNn1cIiArIHdoaXRlc3BhY2UgK1xuICAgICAgICAgICAgICAgIFwiP3xcXFxcXFxcXFteXFxcXHJcXFxcblxcXFxmXXxbXFxcXHctXXxbXlxcMC1cXFxceDdmXSkrXCIsIFxuICAgICAgICAgICAgLy8gQXR0cmlidXRlIHNlbGVjdG9yczogaHR0cHM6Ly93d3cudzMub3JnL1RSL3NlbGVjdG9ycy8jYXR0cmlidXRlLXNlbGVjdG9yc1xuICAgICAgICAgICAgYXR0cmlidXRlcyA9IFwiXFxcXFtcIiArIHdoaXRlc3BhY2UgKyBcIiooXCIgKyBpZGVudGlmaWVyICsgXCIpKD86XCIgKyB3aGl0ZXNwYWNlICtcbiAgICAgICAgICAgICAgICAvLyBPcGVyYXRvciAoY2FwdHVyZSAyKVxuICAgICAgICAgICAgICAgIFwiKihbKl4kfCF+XT89KVwiICsgd2hpdGVzcGFjZSArXG4gICAgICAgICAgICAgICAgLy8gXCJBdHRyaWJ1dGUgdmFsdWVzIG11c3QgYmUgQ1NTIGlkZW50aWZpZXJzIFtjYXB0dXJlIDVdIG9yIHN0cmluZ3MgW2NhcHR1cmUgMyBvciBjYXB0dXJlIDRdXCJcbiAgICAgICAgICAgICAgICBcIiooPzonKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcJ10pKiknfFxcXCIoKD86XFxcXFxcXFwufFteXFxcXFxcXFxcXFwiXSkqKVxcXCJ8KFwiICsgaWRlbnRpZmllciArIFwiKSl8KVwiICtcbiAgICAgICAgICAgICAgICB3aGl0ZXNwYWNlICsgXCIqXFxcXF1cIiwgcHNldWRvcyA9IFwiOihcIiArIGlkZW50aWZpZXIgKyBcIikoPzpcXFxcKChcIiArXG4gICAgICAgICAgICAgICAgLy8gVG8gcmVkdWNlIHRoZSBudW1iZXIgb2Ygc2VsZWN0b3JzIG5lZWRpbmcgdG9rZW5pemUgaW4gdGhlIHByZUZpbHRlciwgcHJlZmVyIGFyZ3VtZW50czpcbiAgICAgICAgICAgICAgICAvLyAxLiBxdW90ZWQgKGNhcHR1cmUgMzsgY2FwdHVyZSA0IG9yIGNhcHR1cmUgNSlcbiAgICAgICAgICAgICAgICBcIignKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcJ10pKiknfFxcXCIoKD86XFxcXFxcXFwufFteXFxcXFxcXFxcXFwiXSkqKVxcXCIpfFwiICtcbiAgICAgICAgICAgICAgICAvLyAyLiBzaW1wbGUgKGNhcHR1cmUgNilcbiAgICAgICAgICAgICAgICBcIigoPzpcXFxcXFxcXC58W15cXFxcXFxcXCgpW1xcXFxdXXxcIiArIGF0dHJpYnV0ZXMgKyBcIikqKXxcIiArXG4gICAgICAgICAgICAgICAgLy8gMy4gYW55dGhpbmcgZWxzZSAoY2FwdHVyZSAyKVxuICAgICAgICAgICAgICAgIFwiLipcIiArXG4gICAgICAgICAgICAgICAgXCIpXFxcXCl8KVwiLCBcbiAgICAgICAgICAgIC8vIExlYWRpbmcgYW5kIG5vbi1lc2NhcGVkIHRyYWlsaW5nIHdoaXRlc3BhY2UsIGNhcHR1cmluZyBzb21lIG5vbi13aGl0ZXNwYWNlIGNoYXJhY3RlcnMgcHJlY2VkaW5nIHRoZSBsYXR0ZXJcbiAgICAgICAgICAgIHJ3aGl0ZXNwYWNlID0gbmV3IFJlZ0V4cCh3aGl0ZXNwYWNlICsgXCIrXCIsIFwiZ1wiKSwgcmNvbW1hID0gbmV3IFJlZ0V4cChcIl5cIiArIHdoaXRlc3BhY2UgKyBcIiosXCIgKyB3aGl0ZXNwYWNlICsgXCIqXCIpLCBybGVhZGluZ0NvbWJpbmF0b3IgPSBuZXcgUmVnRXhwKFwiXlwiICsgd2hpdGVzcGFjZSArIFwiKihbPit+XXxcIiArIHdoaXRlc3BhY2UgKyBcIilcIiArXG4gICAgICAgICAgICAgICAgd2hpdGVzcGFjZSArIFwiKlwiKSwgcmRlc2NlbmQgPSBuZXcgUmVnRXhwKHdoaXRlc3BhY2UgKyBcInw+XCIpLCBycHNldWRvID0gbmV3IFJlZ0V4cChwc2V1ZG9zKSwgcmlkZW50aWZpZXIgPSBuZXcgUmVnRXhwKFwiXlwiICsgaWRlbnRpZmllciArIFwiJFwiKSwgbWF0Y2hFeHByID0ge1xuICAgICAgICAgICAgICAgIElEOiBuZXcgUmVnRXhwKFwiXiMoXCIgKyBpZGVudGlmaWVyICsgXCIpXCIpLFxuICAgICAgICAgICAgICAgIENMQVNTOiBuZXcgUmVnRXhwKFwiXlxcXFwuKFwiICsgaWRlbnRpZmllciArIFwiKVwiKSxcbiAgICAgICAgICAgICAgICBUQUc6IG5ldyBSZWdFeHAoXCJeKFwiICsgaWRlbnRpZmllciArIFwifFsqXSlcIiksXG4gICAgICAgICAgICAgICAgQVRUUjogbmV3IFJlZ0V4cChcIl5cIiArIGF0dHJpYnV0ZXMpLFxuICAgICAgICAgICAgICAgIFBTRVVETzogbmV3IFJlZ0V4cChcIl5cIiArIHBzZXVkb3MpLFxuICAgICAgICAgICAgICAgIENISUxEOiBuZXcgUmVnRXhwKFwiXjoob25seXxmaXJzdHxsYXN0fG50aHxudGgtbGFzdCktKGNoaWxkfG9mLXR5cGUpKD86XFxcXChcIiArXG4gICAgICAgICAgICAgICAgICAgIHdoaXRlc3BhY2UgKyBcIiooZXZlbnxvZGR8KChbKy1dfCkoXFxcXGQqKW58KVwiICsgd2hpdGVzcGFjZSArIFwiKig/OihbKy1dfClcIiArXG4gICAgICAgICAgICAgICAgICAgIHdoaXRlc3BhY2UgKyBcIiooXFxcXGQrKXwpKVwiICsgd2hpdGVzcGFjZSArIFwiKlxcXFwpfClcIiwgXCJpXCIpLFxuICAgICAgICAgICAgICAgIGJvb2w6IG5ldyBSZWdFeHAoXCJeKD86XCIgKyBib29sZWFucyArIFwiKSRcIiwgXCJpXCIpLFxuICAgICAgICAgICAgICAgIC8vIEZvciB1c2UgaW4gbGlicmFyaWVzIGltcGxlbWVudGluZyAuaXMoKVxuICAgICAgICAgICAgICAgIC8vIFdlIHVzZSB0aGlzIGZvciBQT1MgbWF0Y2hpbmcgaW4gYHNlbGVjdGBcbiAgICAgICAgICAgICAgICBuZWVkc0NvbnRleHQ6IG5ldyBSZWdFeHAoXCJeXCIgKyB3aGl0ZXNwYWNlICtcbiAgICAgICAgICAgICAgICAgICAgXCIqWz4rfl18OihldmVufG9kZHxlcXxndHxsdHxudGh8Zmlyc3R8bGFzdCkoPzpcXFxcKFwiICsgd2hpdGVzcGFjZSArXG4gICAgICAgICAgICAgICAgICAgIFwiKigoPzotXFxcXGQpP1xcXFxkKilcIiArIHdoaXRlc3BhY2UgKyBcIipcXFxcKXwpKD89W14tXXwkKVwiLCBcImlcIilcbiAgICAgICAgICAgIH0sIHJpbnB1dHMgPSAvXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLCByaGVhZGVyID0gL15oXFxkJC9pLCBcbiAgICAgICAgICAgIC8vIEVhc2lseS1wYXJzZWFibGUvcmV0cmlldmFibGUgSUQgb3IgVEFHIG9yIENMQVNTIHNlbGVjdG9yc1xuICAgICAgICAgICAgcnF1aWNrRXhwciA9IC9eKD86IyhbXFx3LV0rKXwoXFx3Kyl8XFwuKFtcXHctXSspKSQvLCByc2libGluZyA9IC9bK35dLywgXG4gICAgICAgICAgICAvLyBDU1MgZXNjYXBlc1xuICAgICAgICAgICAgLy8gaHR0cHM6Ly93d3cudzMub3JnL1RSL0NTUzIxL3N5bmRhdGEuaHRtbCNlc2NhcGVkLWNoYXJhY3RlcnNcbiAgICAgICAgICAgIHJ1bmVzY2FwZSA9IG5ldyBSZWdFeHAoXCJcXFxcXFxcXFtcXFxcZGEtZkEtRl17MSw2fVwiICsgd2hpdGVzcGFjZSArXG4gICAgICAgICAgICAgICAgXCI/fFxcXFxcXFxcKFteXFxcXHJcXFxcblxcXFxmXSlcIiwgXCJnXCIpLCBmdW5lc2NhcGUgPSBmdW5jdGlvbiAoZXNjYXBlLCBub25IZXgpIHtcbiAgICAgICAgICAgICAgICB2YXIgaGlnaCA9IFwiMHhcIiArIGVzY2FwZS5zbGljZSgxKSAtIDB4MTAwMDA7XG4gICAgICAgICAgICAgICAgaWYgKG5vbkhleCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBTdHJpcCB0aGUgYmFja3NsYXNoIHByZWZpeCBmcm9tIGEgbm9uLWhleCBlc2NhcGUgc2VxdWVuY2VcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vbkhleDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gUmVwbGFjZSBhIGhleGFkZWNpbWFsIGVzY2FwZSBzZXF1ZW5jZSB3aXRoIHRoZSBlbmNvZGVkIFVuaWNvZGUgY29kZSBwb2ludFxuICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDw9MTErXG4gICAgICAgICAgICAgICAgLy8gRm9yIHZhbHVlcyBvdXRzaWRlIHRoZSBCYXNpYyBNdWx0aWxpbmd1YWwgUGxhbmUgKEJNUCksIG1hbnVhbGx5IGNvbnN0cnVjdCBhXG4gICAgICAgICAgICAgICAgLy8gc3Vycm9nYXRlIHBhaXJcbiAgICAgICAgICAgICAgICByZXR1cm4gaGlnaCA8IDAgP1xuICAgICAgICAgICAgICAgICAgICBTdHJpbmcuZnJvbUNoYXJDb2RlKGhpZ2ggKyAweDEwMDAwKSA6XG4gICAgICAgICAgICAgICAgICAgIFN0cmluZy5mcm9tQ2hhckNvZGUoaGlnaCA+PiAxMCB8IDB4RDgwMCwgaGlnaCAmIDB4M0ZGIHwgMHhEQzAwKTtcbiAgICAgICAgICAgIH0sIFxuICAgICAgICAgICAgLy8gVXNlZCBmb3IgaWZyYW1lczsgc2VlIGBzZXREb2N1bWVudGAuXG4gICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA5IC0gMTErLCBFZGdlIDEyIC0gMTgrXG4gICAgICAgICAgICAvLyBSZW1vdmluZyB0aGUgZnVuY3Rpb24gd3JhcHBlciBjYXVzZXMgYSBcIlBlcm1pc3Npb24gRGVuaWVkXCJcbiAgICAgICAgICAgIC8vIGVycm9yIGluIElFL0VkZ2UuXG4gICAgICAgICAgICB1bmxvYWRIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHNldERvY3VtZW50KCk7XG4gICAgICAgICAgICB9LCBpbkRpc2FibGVkRmllbGRzZXQgPSBhZGRDb21iaW5hdG9yKGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsZW0uZGlzYWJsZWQgPT09IHRydWUgJiYgbm9kZU5hbWUoZWxlbSwgXCJmaWVsZHNldFwiKTtcbiAgICAgICAgICAgIH0sIHsgZGlyOiBcInBhcmVudE5vZGVcIiwgbmV4dDogXCJsZWdlbmRcIiB9KTtcbiAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG4gICAgICAgICAgICAvLyBBY2Nlc3NpbmcgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBjYW4gdGhyb3cgdW5leHBlY3RlZGx5XG4gICAgICAgICAgICAvLyBodHRwczovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvMTMzOTNcbiAgICAgICAgICAgIGZ1bmN0aW9uIHNhZmVBY3RpdmVFbGVtZW50KCkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE9wdGltaXplIGZvciBwdXNoLmFwcGx5KCBfLCBOb2RlTGlzdCApXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHB1c2guYXBwbHkoKGFyciA9IHNsaWNlLmNhbGwocHJlZmVycmVkRG9jLmNoaWxkTm9kZXMpKSwgcHJlZmVycmVkRG9jLmNoaWxkTm9kZXMpO1xuICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjBcbiAgICAgICAgICAgICAgICAvLyBEZXRlY3Qgc2lsZW50bHkgZmFpbGluZyBwdXNoLmFwcGx5XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC1leHByZXNzaW9uc1xuICAgICAgICAgICAgICAgIGFycltwcmVmZXJyZWREb2MuY2hpbGROb2Rlcy5sZW5ndGhdLm5vZGVUeXBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBwdXNoID0ge1xuICAgICAgICAgICAgICAgICAgICBhcHBseTogZnVuY3Rpb24gKHRhcmdldCwgZWxzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwdXNoTmF0aXZlLmFwcGx5KHRhcmdldCwgc2xpY2UuY2FsbChlbHMpKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgY2FsbDogZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHVzaE5hdGl2ZS5hcHBseSh0YXJnZXQsIHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gZmluZChzZWxlY3RvciwgY29udGV4dCwgcmVzdWx0cywgc2VlZCkge1xuICAgICAgICAgICAgICAgIHZhciBtLCBpLCBlbGVtLCBuaWQsIG1hdGNoLCBncm91cHMsIG5ld1NlbGVjdG9yLCBuZXdDb250ZXh0ID0gY29udGV4dCAmJiBjb250ZXh0Lm93bmVyRG9jdW1lbnQsIFxuICAgICAgICAgICAgICAgIC8vIG5vZGVUeXBlIGRlZmF1bHRzIHRvIDksIHNpbmNlIGNvbnRleHQgZGVmYXVsdHMgdG8gZG9jdW1lbnRcbiAgICAgICAgICAgICAgICBub2RlVHlwZSA9IGNvbnRleHQgPyBjb250ZXh0Lm5vZGVUeXBlIDogOTtcbiAgICAgICAgICAgICAgICByZXN1bHRzID0gcmVzdWx0cyB8fCBbXTtcbiAgICAgICAgICAgICAgICAvLyBSZXR1cm4gZWFybHkgZnJvbSBjYWxscyB3aXRoIGludmFsaWQgc2VsZWN0b3Igb3IgY29udGV4dFxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc2VsZWN0b3IgIT09IFwic3RyaW5nXCIgfHwgIXNlbGVjdG9yIHx8XG4gICAgICAgICAgICAgICAgICAgIG5vZGVUeXBlICE9PSAxICYmIG5vZGVUeXBlICE9PSA5ICYmIG5vZGVUeXBlICE9PSAxMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gVHJ5IHRvIHNob3J0Y3V0IGZpbmQgb3BlcmF0aW9ucyAoYXMgb3Bwb3NlZCB0byBmaWx0ZXJzKSBpbiBIVE1MIGRvY3VtZW50c1xuICAgICAgICAgICAgICAgIGlmICghc2VlZCkge1xuICAgICAgICAgICAgICAgICAgICBzZXREb2N1bWVudChjb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dCA9IGNvbnRleHQgfHwgZG9jdW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudElzSFRNTCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIHNlbGVjdG9yIGlzIHN1ZmZpY2llbnRseSBzaW1wbGUsIHRyeSB1c2luZyBhIFwiZ2V0KkJ5KlwiIERPTSBtZXRob2RcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIChleGNlcHRpbmcgRG9jdW1lbnRGcmFnbWVudCBjb250ZXh0LCB3aGVyZSB0aGUgbWV0aG9kcyBkb24ndCBleGlzdClcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlVHlwZSAhPT0gMTEgJiYgKG1hdGNoID0gcnF1aWNrRXhwci5leGVjKHNlbGVjdG9yKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJRCBzZWxlY3RvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgobSA9IG1hdGNoWzFdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEb2N1bWVudCBjb250ZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlVHlwZSA9PT0gOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChlbGVtID0gY29udGV4dC5nZXRFbGVtZW50QnlJZChtKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA5IG9ubHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBnZXRFbGVtZW50QnlJZCBjYW4gbWF0Y2ggZWxlbWVudHMgYnkgbmFtZSBpbnN0ZWFkIG9mIElEXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW0uaWQgPT09IG0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHVzaC5jYWxsKHJlc3VsdHMsIGVsZW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVsZW1lbnQgY29udGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgOSBvbmx5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBnZXRFbGVtZW50QnlJZCBjYW4gbWF0Y2ggZWxlbWVudHMgYnkgbmFtZSBpbnN0ZWFkIG9mIElEXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3Q29udGV4dCAmJiAoZWxlbSA9IG5ld0NvbnRleHQuZ2V0RWxlbWVudEJ5SWQobSkpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluZC5jb250YWlucyhjb250ZXh0LCBlbGVtKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0uaWQgPT09IG0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdXNoLmNhbGwocmVzdWx0cywgZWxlbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVHlwZSBzZWxlY3RvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChtYXRjaFsyXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdXNoLmFwcGx5KHJlc3VsdHMsIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoc2VsZWN0b3IpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENsYXNzIHNlbGVjdG9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKChtID0gbWF0Y2hbM10pICYmIGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdXNoLmFwcGx5KHJlc3VsdHMsIGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShtKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRha2UgYWR2YW50YWdlIG9mIHF1ZXJ5U2VsZWN0b3JBbGxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbm9ubmF0aXZlU2VsZWN0b3JDYWNoZVtzZWxlY3RvciArIFwiIFwiXSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICghcmJ1Z2d5UVNBIHx8ICFyYnVnZ3lRU0EudGVzdChzZWxlY3RvcikpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3U2VsZWN0b3IgPSBzZWxlY3RvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdDb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBxU0EgY29uc2lkZXJzIGVsZW1lbnRzIG91dHNpZGUgYSBzY29waW5nIHJvb3Qgd2hlbiBldmFsdWF0aW5nIGNoaWxkIG9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZGVzY2VuZGFudCBjb21iaW5hdG9ycywgd2hpY2ggaXMgbm90IHdoYXQgd2Ugd2FudC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJbiBzdWNoIGNhc2VzLCB3ZSB3b3JrIGFyb3VuZCB0aGUgYmVoYXZpb3IgYnkgcHJlZml4aW5nIGV2ZXJ5IHNlbGVjdG9yIGluIHRoZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxpc3Qgd2l0aCBhbiBJRCBzZWxlY3RvciByZWZlcmVuY2luZyB0aGUgc2NvcGUgY29udGV4dC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgdGVjaG5pcXVlIGhhcyB0byBiZSB1c2VkIGFzIHdlbGwgd2hlbiBhIGxlYWRpbmcgY29tYmluYXRvciBpcyB1c2VkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYXMgc3VjaCBzZWxlY3RvcnMgYXJlIG5vdCByZWNvZ25pemVkIGJ5IHF1ZXJ5U2VsZWN0b3JBbGwuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhhbmtzIHRvIEFuZHJldyBEdXBvbnQgZm9yIHRoaXMgdGVjaG5pcXVlLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlVHlwZSA9PT0gMSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocmRlc2NlbmQudGVzdChzZWxlY3RvcikgfHwgcmxlYWRpbmdDb21iaW5hdG9yLnRlc3Qoc2VsZWN0b3IpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBFeHBhbmQgY29udGV4dCBmb3Igc2libGluZyBzZWxlY3RvcnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q29udGV4dCA9IHJzaWJsaW5nLnRlc3Qoc2VsZWN0b3IpICYmIHRlc3RDb250ZXh0KGNvbnRleHQucGFyZW50Tm9kZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGNhbiB1c2UgOnNjb3BlIGluc3RlYWQgb2YgdGhlIElEIGhhY2sgaWYgdGhlIGJyb3dzZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3VwcG9ydHMgaXQgJiBpZiB3ZSdyZSBub3QgY2hhbmdpbmcgdGhlIGNvbnRleHQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4K1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhIFwiUGVybWlzc2lvbiBkZW5pZWRcIiBlcnJvciB3aGVuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0cmljdC1jb21wYXJpbmcgdHdvIGRvY3VtZW50czsgc2hhbGxvdyBjb21wYXJpc29ucyB3b3JrLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdDb250ZXh0ICE9IGNvbnRleHQgfHwgIXN1cHBvcnQuc2NvcGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENhcHR1cmUgdGhlIGNvbnRleHQgSUQsIHNldHRpbmcgaXQgZmlyc3QgaWYgbmVjZXNzYXJ5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKG5pZCA9IGNvbnRleHQuZ2V0QXR0cmlidXRlKFwiaWRcIikpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmlkID0galF1ZXJ5LmVzY2FwZVNlbGVjdG9yKG5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNldEF0dHJpYnV0ZShcImlkXCIsIChuaWQgPSBleHBhbmRvKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUHJlZml4IGV2ZXJ5IHNlbGVjdG9yIGluIHRoZSBsaXN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwcyA9IHRva2VuaXplKHNlbGVjdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGdyb3Vwcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3Vwc1tpXSA9IChuaWQgPyBcIiNcIiArIG5pZCA6IFwiOnNjb3BlXCIpICsgXCIgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvU2VsZWN0b3IoZ3JvdXBzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdTZWxlY3RvciA9IGdyb3Vwcy5qb2luKFwiLFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHVzaC5hcHBseShyZXN1bHRzLCBuZXdDb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwobmV3U2VsZWN0b3IpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChxc2FFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub25uYXRpdmVTZWxlY3RvckNhY2hlKHNlbGVjdG9yLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuaWQgPT09IGV4cGFuZG8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQucmVtb3ZlQXR0cmlidXRlKFwiaWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQWxsIG90aGVyc1xuICAgICAgICAgICAgICAgIHJldHVybiBzZWxlY3Qoc2VsZWN0b3IucmVwbGFjZShydHJpbUNTUywgXCIkMVwiKSwgY29udGV4dCwgcmVzdWx0cywgc2VlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENyZWF0ZSBrZXktdmFsdWUgY2FjaGVzIG9mIGxpbWl0ZWQgc2l6ZVxuICAgICAgICAgICAgICogQHJldHVybnMge2Z1bmN0aW9uKHN0cmluZywgb2JqZWN0KX0gUmV0dXJucyB0aGUgT2JqZWN0IGRhdGEgYWZ0ZXIgc3RvcmluZyBpdCBvbiBpdHNlbGYgd2l0aFxuICAgICAgICAgICAgICpcdHByb3BlcnR5IG5hbWUgdGhlIChzcGFjZS1zdWZmaXhlZCkgc3RyaW5nIGFuZCAoaWYgdGhlIGNhY2hlIGlzIGxhcmdlciB0aGFuIEV4cHIuY2FjaGVMZW5ndGgpXG4gICAgICAgICAgICAqXHRkZWxldGluZyB0aGUgb2xkZXN0IGVudHJ5XG4gICAgICAgICAgICAqL1xuICAgICAgICAgICAgZnVuY3Rpb24gY3JlYXRlQ2FjaGUoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGtleXMgPSBbXTtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBjYWNoZShrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFVzZSAoa2V5ICsgXCIgXCIpIHRvIGF2b2lkIGNvbGxpc2lvbiB3aXRoIG5hdGl2ZSBwcm90b3R5cGUgcHJvcGVydGllc1xuICAgICAgICAgICAgICAgICAgICAvLyAoc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qcXVlcnkvc2l6emxlL2lzc3Vlcy8xNTcpXG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXlzLnB1c2goa2V5ICsgXCIgXCIpID4gRXhwci5jYWNoZUxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gT25seSBrZWVwIHRoZSBtb3N0IHJlY2VudCBlbnRyaWVzXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgY2FjaGVba2V5cy5zaGlmdCgpXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGNhY2hlW2tleSArIFwiIFwiXSA9IHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhY2hlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBNYXJrIGEgZnVuY3Rpb24gZm9yIHNwZWNpYWwgdXNlIGJ5IGpRdWVyeSBzZWxlY3RvciBtb2R1bGVcbiAgICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiB0byBtYXJrXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGZ1bmN0aW9uIG1hcmtGdW5jdGlvbihmbikge1xuICAgICAgICAgICAgICAgIGZuW2V4cGFuZG9dID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFN1cHBvcnQgdGVzdGluZyB1c2luZyBhbiBlbGVtZW50XG4gICAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBQYXNzZWQgdGhlIGNyZWF0ZWQgZWxlbWVudCBhbmQgcmV0dXJucyBhIGJvb2xlYW4gcmVzdWx0XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGZ1bmN0aW9uIGFzc2VydChmbikge1xuICAgICAgICAgICAgICAgIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmaWVsZHNldFwiKTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gISFmbihlbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBmcm9tIGl0cyBwYXJlbnQgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICBpZiAoZWwucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gcmVsZWFzZSBtZW1vcnkgaW4gSUVcbiAgICAgICAgICAgICAgICAgICAgZWwgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVzZSBpbiBwc2V1ZG9zIGZvciBpbnB1dCB0eXBlc1xuICAgICAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZnVuY3Rpb24gY3JlYXRlSW5wdXRQc2V1ZG8odHlwZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm9kZU5hbWUoZWxlbSwgXCJpbnB1dFwiKSAmJiBlbGVtLnR5cGUgPT09IHR5cGU7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVzZSBpbiBwc2V1ZG9zIGZvciBidXR0b25zXG4gICAgICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBmdW5jdGlvbiBjcmVhdGVCdXR0b25Qc2V1ZG8odHlwZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKG5vZGVOYW1lKGVsZW0sIFwiaW5wdXRcIikgfHwgbm9kZU5hbWUoZWxlbSwgXCJidXR0b25cIikpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtLnR5cGUgPT09IHR5cGU7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVzZSBpbiBwc2V1ZG9zIGZvciA6ZW5hYmxlZC86ZGlzYWJsZWRcbiAgICAgICAgICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gZGlzYWJsZWQgdHJ1ZSBmb3IgOmRpc2FibGVkOyBmYWxzZSBmb3IgOmVuYWJsZWRcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZnVuY3Rpb24gY3JlYXRlRGlzYWJsZWRQc2V1ZG8oZGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBLbm93biA6ZGlzYWJsZWQgZmFsc2UgcG9zaXRpdmVzOiBmaWVsZHNldFtkaXNhYmxlZF0gPiBsZWdlbmQ6bnRoLW9mLXR5cGUobisyKSA6Y2FuLWRpc2FibGVcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gT25seSBjZXJ0YWluIGVsZW1lbnRzIGNhbiBtYXRjaCA6ZW5hYmxlZCBvciA6ZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc2NyaXB0aW5nLmh0bWwjc2VsZWN0b3ItZW5hYmxlZFxuICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zY3JpcHRpbmcuaHRtbCNzZWxlY3Rvci1kaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICBpZiAoXCJmb3JtXCIgaW4gZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIGluaGVyaXRlZCBkaXNhYmxlZG5lc3Mgb24gcmVsZXZhbnQgbm9uLWRpc2FibGVkIGVsZW1lbnRzOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gKiBsaXN0ZWQgZm9ybS1hc3NvY2lhdGVkIGVsZW1lbnRzIGluIGEgZGlzYWJsZWQgZmllbGRzZXRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZm9ybXMuaHRtbCNjYXRlZ29yeS1saXN0ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZm9ybXMuaHRtbCNjb25jZXB0LWZlLWRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAqIG9wdGlvbiBlbGVtZW50cyBpbiBhIGRpc2FibGVkIG9wdGdyb3VwXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2Zvcm1zLmh0bWwjY29uY2VwdC1vcHRpb24tZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFsbCBzdWNoIGVsZW1lbnRzIGhhdmUgYSBcImZvcm1cIiBwcm9wZXJ0eS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtLnBhcmVudE5vZGUgJiYgZWxlbS5kaXNhYmxlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPcHRpb24gZWxlbWVudHMgZGVmZXIgdG8gYSBwYXJlbnQgb3B0Z3JvdXAgaWYgcHJlc2VudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcImxhYmVsXCIgaW4gZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJsYWJlbFwiIGluIGVsZW0ucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZW0ucGFyZW50Tm9kZS5kaXNhYmxlZCA9PT0gZGlzYWJsZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbS5kaXNhYmxlZCA9PT0gZGlzYWJsZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgNiAtIDExK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVzZSB0aGUgaXNEaXNhYmxlZCBzaG9ydGN1dCBwcm9wZXJ0eSB0byBjaGVjayBmb3IgZGlzYWJsZWQgZmllbGRzZXQgYW5jZXN0b3JzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZW0uaXNEaXNhYmxlZCA9PT0gZGlzYWJsZWQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2hlcmUgdGhlcmUgaXMgbm8gaXNEaXNhYmxlZCwgY2hlY2sgbWFudWFsbHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5pc0Rpc2FibGVkICE9PSAhZGlzYWJsZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluRGlzYWJsZWRGaWVsZHNldChlbGVtKSA9PT0gZGlzYWJsZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbS5kaXNhYmxlZCA9PT0gZGlzYWJsZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUcnkgdG8gd2lubm93IG91dCBlbGVtZW50cyB0aGF0IGNhbid0IGJlIGRpc2FibGVkIGJlZm9yZSB0cnVzdGluZyB0aGUgZGlzYWJsZWQgcHJvcGVydHkuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTb21lIHZpY3RpbXMgZ2V0IGNhdWdodCBpbiBvdXIgbmV0IChsYWJlbCwgbGVnZW5kLCBtZW51LCB0cmFjayksIGJ1dCBpdCBzaG91bGRuJ3RcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGV2ZW4gZXhpc3Qgb24gdGhlbSwgbGV0IGFsb25lIGhhdmUgYSBib29sZWFuIHZhbHVlLlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKFwibGFiZWxcIiBpbiBlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbS5kaXNhYmxlZCA9PT0gZGlzYWJsZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtYWluaW5nIGVsZW1lbnRzIGFyZSBuZWl0aGVyIDplbmFibGVkIG5vciA6ZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFJldHVybnMgYSBmdW5jdGlvbiB0byB1c2UgaW4gcHNldWRvcyBmb3IgcG9zaXRpb25hbHNcbiAgICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZm4pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFya0Z1bmN0aW9uKGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICAgICAgICAgICAgICAgICAgICBhcmd1bWVudCA9ICthcmd1bWVudDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hcmtGdW5jdGlvbihmdW5jdGlvbiAoc2VlZCwgbWF0Y2hlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGosIG1hdGNoSW5kZXhlcyA9IGZuKFtdLCBzZWVkLmxlbmd0aCwgYXJndW1lbnQpLCBpID0gbWF0Y2hJbmRleGVzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1hdGNoIGVsZW1lbnRzIGZvdW5kIGF0IHRoZSBzcGVjaWZpZWQgaW5kZXhlc1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWVkWyhqID0gbWF0Y2hJbmRleGVzW2ldKV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VlZFtqXSA9ICEobWF0Y2hlc1tqXSA9IHNlZWRbal0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENoZWNrcyBhIG5vZGUgZm9yIHZhbGlkaXR5IGFzIGEgalF1ZXJ5IHNlbGVjdG9yIGNvbnRleHRcbiAgICAgICAgICAgICAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3Q9fSBjb250ZXh0XG4gICAgICAgICAgICAgKiBAcmV0dXJucyB7RWxlbWVudHxPYmplY3R8Qm9vbGVhbn0gVGhlIGlucHV0IG5vZGUgaWYgYWNjZXB0YWJsZSwgb3RoZXJ3aXNlIGEgZmFsc3kgdmFsdWVcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZnVuY3Rpb24gdGVzdENvbnRleHQoY29udGV4dCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0ICYmIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lICE9PSBcInVuZGVmaW5lZFwiICYmIGNvbnRleHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFNldHMgZG9jdW1lbnQtcmVsYXRlZCB2YXJpYWJsZXMgb25jZSBiYXNlZCBvbiB0aGUgY3VycmVudCBkb2N1bWVudFxuICAgICAgICAgICAgICogQHBhcmFtIHtFbGVtZW50fE9iamVjdH0gW25vZGVdIEFuIGVsZW1lbnQgb3IgZG9jdW1lbnQgb2JqZWN0IHRvIHVzZSB0byBzZXQgdGhlIGRvY3VtZW50XG4gICAgICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjdXJyZW50IGRvY3VtZW50XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGZ1bmN0aW9uIHNldERvY3VtZW50KG5vZGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3ViV2luZG93LCBkb2MgPSBub2RlID8gbm9kZS5vd25lckRvY3VtZW50IHx8IG5vZGUgOiBwcmVmZXJyZWREb2M7XG4gICAgICAgICAgICAgICAgLy8gUmV0dXJuIGVhcmx5IGlmIGRvYyBpcyBpbnZhbGlkIG9yIGFscmVhZHkgc2VsZWN0ZWRcbiAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSAxMSssIEVkZ2UgMTcgLSAxOCtcbiAgICAgICAgICAgICAgICAvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhIFwiUGVybWlzc2lvbiBkZW5pZWRcIiBlcnJvciB3aGVuIHN0cmljdC1jb21wYXJpbmdcbiAgICAgICAgICAgICAgICAvLyB0d28gZG9jdW1lbnRzOyBzaGFsbG93IGNvbXBhcmlzb25zIHdvcmsuXG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuICAgICAgICAgICAgICAgIGlmIChkb2MgPT0gZG9jdW1lbnQgfHwgZG9jLm5vZGVUeXBlICE9PSA5IHx8ICFkb2MuZG9jdW1lbnRFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkb2N1bWVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIGdsb2JhbCB2YXJpYWJsZXNcbiAgICAgICAgICAgICAgICBkb2N1bWVudCA9IGRvYztcbiAgICAgICAgICAgICAgICBkb2N1bWVudEVsZW1lbnQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnRJc0hUTUwgPSAhalF1ZXJ5LmlzWE1MRG9jKGRvY3VtZW50KTtcbiAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBpT1MgNyBvbmx5LCBJRSA5IC0gMTErXG4gICAgICAgICAgICAgICAgLy8gT2xkZXIgYnJvd3NlcnMgZGlkbid0IHN1cHBvcnQgdW5wcmVmaXhlZCBgbWF0Y2hlc2AuXG4gICAgICAgICAgICAgICAgbWF0Y2hlcyA9IGRvY3VtZW50RWxlbWVudC5tYXRjaGVzIHx8XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50RWxlbWVudC53ZWJraXRNYXRjaGVzU2VsZWN0b3IgfHxcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnRFbGVtZW50Lm1zTWF0Y2hlc1NlbGVjdG9yO1xuICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDkgLSAxMSssIEVkZ2UgMTIgLSAxOCtcbiAgICAgICAgICAgICAgICAvLyBBY2Nlc3NpbmcgaWZyYW1lIGRvY3VtZW50cyBhZnRlciB1bmxvYWQgdGhyb3dzIFwicGVybWlzc2lvbiBkZW5pZWRcIiBlcnJvcnNcbiAgICAgICAgICAgICAgICAvLyAoc2VlIHRyYWMtMTM5MzYpLlxuICAgICAgICAgICAgICAgIC8vIExpbWl0IHRoZSBmaXggdG8gSUUgJiBFZGdlIExlZ2FjeTsgZGVzcGl0ZSBFZGdlIDE1KyBpbXBsZW1lbnRpbmcgYG1hdGNoZXNgLFxuICAgICAgICAgICAgICAgIC8vIGFsbCBJRSA5KyBhbmQgRWRnZSBMZWdhY3kgdmVyc2lvbnMgaW1wbGVtZW50IGBtc01hdGNoZXNTZWxlY3RvcmAgYXMgd2VsbC5cbiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnRFbGVtZW50Lm1zTWF0Y2hlc1NlbGVjdG9yICYmXG4gICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4K1xuICAgICAgICAgICAgICAgICAgICAvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhIFwiUGVybWlzc2lvbiBkZW5pZWRcIiBlcnJvciB3aGVuIHN0cmljdC1jb21wYXJpbmdcbiAgICAgICAgICAgICAgICAgICAgLy8gdHdvIGRvY3VtZW50czsgc2hhbGxvdyBjb21wYXJpc29ucyB3b3JrLlxuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG4gICAgICAgICAgICAgICAgICAgIHByZWZlcnJlZERvYyAhPSBkb2N1bWVudCAmJlxuICAgICAgICAgICAgICAgICAgICAoc3ViV2luZG93ID0gZG9jdW1lbnQuZGVmYXVsdFZpZXcpICYmIHN1YldpbmRvdy50b3AgIT09IHN1YldpbmRvdykge1xuICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA5IC0gMTErLCBFZGdlIDEyIC0gMTgrXG4gICAgICAgICAgICAgICAgICAgIHN1YldpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidW5sb2FkXCIsIHVubG9hZEhhbmRsZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA8MTBcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBnZXRFbGVtZW50QnlJZCByZXR1cm5zIGVsZW1lbnRzIGJ5IG5hbWVcbiAgICAgICAgICAgICAgICAvLyBUaGUgYnJva2VuIGdldEVsZW1lbnRCeUlkIG1ldGhvZHMgZG9uJ3QgcGljayB1cCBwcm9ncmFtbWF0aWNhbGx5LXNldCBuYW1lcyxcbiAgICAgICAgICAgICAgICAvLyBzbyB1c2UgYSByb3VuZGFib3V0IGdldEVsZW1lbnRzQnlOYW1lIHRlc3RcbiAgICAgICAgICAgICAgICBzdXBwb3J0LmdldEJ5SWQgPSBhc3NlcnQoZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChlbCkuaWQgPSBqUXVlcnkuZXhwYW5kbztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgIWRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKGpRdWVyeS5leHBhbmRvKS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgOSBvbmx5XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgdG8gc2VlIGlmIGl0J3MgcG9zc2libGUgdG8gZG8gbWF0Y2hlc1NlbGVjdG9yXG4gICAgICAgICAgICAgICAgLy8gb24gYSBkaXNjb25uZWN0ZWQgbm9kZS5cbiAgICAgICAgICAgICAgICBzdXBwb3J0LmRpc2Nvbm5lY3RlZE1hdGNoID0gYXNzZXJ0KGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2hlcy5jYWxsKGVsLCBcIipcIik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgOSAtIDExKywgRWRnZSAxMiAtIDE4K1xuICAgICAgICAgICAgICAgIC8vIElFL0VkZ2UgZG9uJ3Qgc3VwcG9ydCB0aGUgOnNjb3BlIHBzZXVkby1jbGFzcy5cbiAgICAgICAgICAgICAgICBzdXBwb3J0LnNjb3BlID0gYXNzZXJ0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCI6c2NvcGVcIik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogQ2hyb21lIDEwNSAtIDExMSBvbmx5LCBTYWZhcmkgMTUuNCAtIDE2LjMgb25seVxuICAgICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgYDpoYXMoKWAgYXJndW1lbnQgaXMgcGFyc2VkIHVuZm9yZ2l2aW5nbHkuXG4gICAgICAgICAgICAgICAgLy8gV2UgaW5jbHVkZSBgKmAgaW4gdGhlIHRlc3QgdG8gZGV0ZWN0IGJ1Z2d5IGltcGxlbWVudGF0aW9ucyB0aGF0IGFyZVxuICAgICAgICAgICAgICAgIC8vIF9zZWxlY3RpdmVseV8gZm9yZ2l2aW5nIChzcGVjaWZpY2FsbHkgd2hlbiB0aGUgbGlzdCBpbmNsdWRlcyBhdCBsZWFzdFxuICAgICAgICAgICAgICAgIC8vIG9uZSB2YWxpZCBzZWxlY3RvcikuXG4gICAgICAgICAgICAgICAgLy8gTm90ZSB0aGF0IHdlIHRyZWF0IGNvbXBsZXRlIGxhY2sgb2Ygc3VwcG9ydCBmb3IgYDpoYXMoKWAgYXMgaWYgaXQgd2VyZVxuICAgICAgICAgICAgICAgIC8vIHNwZWMtY29tcGxpYW50IHN1cHBvcnQsIHdoaWNoIGlzIGZpbmUgYmVjYXVzZSB1c2Ugb2YgYDpoYXMoKWAgaW4gc3VjaFxuICAgICAgICAgICAgICAgIC8vIGVudmlyb25tZW50cyB3aWxsIGZhaWwgaW4gdGhlIHFTQSBwYXRoIGFuZCBmYWxsIGJhY2sgdG8galF1ZXJ5IHRyYXZlcnNhbFxuICAgICAgICAgICAgICAgIC8vIGFueXdheS5cbiAgICAgICAgICAgICAgICBzdXBwb3J0LmNzc0hhcyA9IGFzc2VydChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiOmhhcygqLDpqcWZha2UpXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIElEIGZpbHRlciBhbmQgZmluZFxuICAgICAgICAgICAgICAgIGlmIChzdXBwb3J0LmdldEJ5SWQpIHtcbiAgICAgICAgICAgICAgICAgICAgRXhwci5maWx0ZXIuSUQgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhdHRySWQgPSBpZC5yZXBsYWNlKHJ1bmVzY2FwZSwgZnVuZXNjYXBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtLmdldEF0dHJpYnV0ZShcImlkXCIpID09PSBhdHRySWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBFeHByLmZpbmQuSUQgPSBmdW5jdGlvbiAoaWQsIGNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50QnlJZCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkb2N1bWVudElzSFRNTCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbGVtID0gY29udGV4dC5nZXRFbGVtZW50QnlJZChpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZW0gPyBbZWxlbV0gOiBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIEV4cHIuZmlsdGVyLklEID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXR0cklkID0gaWQucmVwbGFjZShydW5lc2NhcGUsIGZ1bmVzY2FwZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IHR5cGVvZiBlbGVtLmdldEF0dHJpYnV0ZU5vZGUgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5nZXRBdHRyaWJ1dGVOb2RlKFwiaWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vZGUgJiYgbm9kZS52YWx1ZSA9PT0gYXR0cklkO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgNiAtIDcgb25seVxuICAgICAgICAgICAgICAgICAgICAvLyBnZXRFbGVtZW50QnlJZCBpcyBub3QgcmVsaWFibGUgYXMgYSBmaW5kIHNob3J0Y3V0XG4gICAgICAgICAgICAgICAgICAgIEV4cHIuZmluZC5JRCA9IGZ1bmN0aW9uIChpZCwgY29udGV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRCeUlkICE9PSBcInVuZGVmaW5lZFwiICYmIGRvY3VtZW50SXNIVE1MKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5vZGUsIGksIGVsZW1zLCBlbGVtID0gY29udGV4dC5nZXRFbGVtZW50QnlJZChpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVmVyaWZ5IHRoZSBpZCBhdHRyaWJ1dGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZShcImlkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZSAmJiBub2RlLnZhbHVlID09PSBpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtlbGVtXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGYWxsIGJhY2sgb24gZ2V0RWxlbWVudHNCeU5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbXMgPSBjb250ZXh0LmdldEVsZW1lbnRzQnlOYW1lKGlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgoZWxlbSA9IGVsZW1zW2krK10pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlID0gZWxlbS5nZXRBdHRyaWJ1dGVOb2RlKFwiaWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZSAmJiBub2RlLnZhbHVlID09PSBpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbZWxlbV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBUYWdcbiAgICAgICAgICAgICAgICBFeHByLmZpbmQuVEFHID0gZnVuY3Rpb24gKHRhZywgY29udGV4dCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKHRhZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEb2N1bWVudEZyYWdtZW50IG5vZGVzIGRvbid0IGhhdmUgZ0VCVE5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwodGFnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgLy8gQ2xhc3NcbiAgICAgICAgICAgICAgICBFeHByLmZpbmQuQ0xBU1MgPSBmdW5jdGlvbiAoY2xhc3NOYW1lLCBjb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICE9PSBcInVuZGVmaW5lZFwiICYmIGRvY3VtZW50SXNIVE1MKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGNsYXNzTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8qIFFTQS9tYXRjaGVzU2VsZWN0b3JcbiAgICAgICAgICAgICAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4gICAgICAgICAgICAgICAgLy8gUVNBIGFuZCBtYXRjaGVzU2VsZWN0b3Igc3VwcG9ydFxuICAgICAgICAgICAgICAgIHJidWdneVFTQSA9IFtdO1xuICAgICAgICAgICAgICAgIC8vIEJ1aWxkIFFTQSByZWdleFxuICAgICAgICAgICAgICAgIC8vIFJlZ2V4IHN0cmF0ZWd5IGFkb3B0ZWQgZnJvbSBEaWVnbyBQZXJpbmlcbiAgICAgICAgICAgICAgICBhc3NlcnQoZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbnB1dDtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKGVsKS5pbm5lckhUTUwgPVxuICAgICAgICAgICAgICAgICAgICAgICAgXCI8YSBpZD0nXCIgKyBleHBhbmRvICsgXCInIGhyZWY9JycgZGlzYWJsZWQ9J2Rpc2FibGVkJz48L2E+XCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiPHNlbGVjdCBpZD0nXCIgKyBleHBhbmRvICsgXCItXFxyXFxcXCcgZGlzYWJsZWQ9J2Rpc2FibGVkJz5cIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI8b3B0aW9uIHNlbGVjdGVkPScnPjwvb3B0aW9uPjwvc2VsZWN0PlwiO1xuICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBpT1MgPD03IC0gOCBvbmx5XG4gICAgICAgICAgICAgICAgICAgIC8vIEJvb2xlYW4gYXR0cmlidXRlcyBhbmQgXCJ2YWx1ZVwiIGFyZSBub3QgdHJlYXRlZCBjb3JyZWN0bHkgaW4gc29tZSBYTUwgZG9jdW1lbnRzXG4gICAgICAgICAgICAgICAgICAgIGlmICghZWwucXVlcnlTZWxlY3RvckFsbChcIltzZWxlY3RlZF1cIikubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByYnVnZ3lRU0EucHVzaChcIlxcXFxbXCIgKyB3aGl0ZXNwYWNlICsgXCIqKD86dmFsdWV8XCIgKyBib29sZWFucyArIFwiKVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBpT1MgPD03IC0gOCBvbmx5XG4gICAgICAgICAgICAgICAgICAgIGlmICghZWwucXVlcnlTZWxlY3RvckFsbChcIltpZH49XCIgKyBleHBhbmRvICsgXCItXVwiKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJidWdneVFTQS5wdXNoKFwifj1cIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogaU9TIDggb25seVxuICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTM2ODUxXG4gICAgICAgICAgICAgICAgICAgIC8vIEluLXBhZ2UgYHNlbGVjdG9yI2lkIHNpYmxpbmctY29tYmluYXRvciBzZWxlY3RvcmAgZmFpbHNcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlbC5xdWVyeVNlbGVjdG9yQWxsKFwiYSNcIiArIGV4cGFuZG8gKyBcIisqXCIpLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmJ1Z2d5UVNBLnB1c2goXCIuIy4rWyt+XVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBDaHJvbWUgPD0xMDUrLCBGaXJlZm94IDw9MTA0KywgU2FmYXJpIDw9MTUuNCtcbiAgICAgICAgICAgICAgICAgICAgLy8gSW4gc29tZSBvZiB0aGUgZG9jdW1lbnQga2luZHMsIHRoZXNlIHNlbGVjdG9ycyB3b3VsZG4ndCB3b3JrIG5hdGl2ZWx5LlxuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIHByb2JhYmx5IE9LIGJ1dCBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgd2Ugd2FudCB0byBtYWludGFpblxuICAgICAgICAgICAgICAgICAgICAvLyBoYW5kbGluZyB0aGVtIHRocm91Z2ggalF1ZXJ5IHRyYXZlcnNhbCBpbiBqUXVlcnkgMy54LlxuICAgICAgICAgICAgICAgICAgICBpZiAoIWVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6Y2hlY2tlZFwiKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJidWdneVFTQS5wdXNoKFwiOmNoZWNrZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogV2luZG93cyA4IE5hdGl2ZSBBcHBzXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSB0eXBlIGFuZCBuYW1lIGF0dHJpYnV0ZXMgYXJlIHJlc3RyaWN0ZWQgZHVyaW5nIC5pbm5lckhUTUwgYXNzaWdubWVudFxuICAgICAgICAgICAgICAgICAgICBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgICAgICAgICAgICAgZWwuYXBwZW5kQ2hpbGQoaW5wdXQpLnNldEF0dHJpYnV0ZShcIm5hbWVcIiwgXCJEXCIpO1xuICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA5IC0gMTErXG4gICAgICAgICAgICAgICAgICAgIC8vIElFJ3MgOmRpc2FibGVkIHNlbGVjdG9yIGRvZXMgbm90IHBpY2sgdXAgdGhlIGNoaWxkcmVuIG9mIGRpc2FibGVkIGZpZWxkc2V0c1xuICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBDaHJvbWUgPD0xMDUrLCBGaXJlZm94IDw9MTA0KywgU2FmYXJpIDw9MTUuNCtcbiAgICAgICAgICAgICAgICAgICAgLy8gSW4gc29tZSBvZiB0aGUgZG9jdW1lbnQga2luZHMsIHRoZXNlIHNlbGVjdG9ycyB3b3VsZG4ndCB3b3JrIG5hdGl2ZWx5LlxuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIHByb2JhYmx5IE9LIGJ1dCBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgd2Ugd2FudCB0byBtYWludGFpblxuICAgICAgICAgICAgICAgICAgICAvLyBoYW5kbGluZyB0aGVtIHRocm91Z2ggalF1ZXJ5IHRyYXZlcnNhbCBpbiBqUXVlcnkgMy54LlxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoZWwpLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6ZGlzYWJsZWRcIikubGVuZ3RoICE9PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByYnVnZ3lRU0EucHVzaChcIjplbmFibGVkXCIsIFwiOmRpc2FibGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNSAtIDE4K1xuICAgICAgICAgICAgICAgICAgICAvLyBJRSAxMS9FZGdlIGRvbid0IGZpbmQgZWxlbWVudHMgb24gYSBgW25hbWU9JyddYCBxdWVyeSBpbiBzb21lIGNhc2VzLlxuICAgICAgICAgICAgICAgICAgICAvLyBBZGRpbmcgYSB0ZW1wb3JhcnkgYXR0cmlidXRlIHRvIHRoZSBkb2N1bWVudCBiZWZvcmUgdGhlIHNlbGVjdGlvbiB3b3Jrc1xuICAgICAgICAgICAgICAgICAgICAvLyBhcm91bmQgdGhlIGlzc3VlLlxuICAgICAgICAgICAgICAgICAgICAvLyBJbnRlcmVzdGluZ2x5LCBJRSAxMCAmIG9sZGVyIGRvbid0IHNlZW0gdG8gaGF2ZSB0aGUgaXNzdWUuXG4gICAgICAgICAgICAgICAgICAgIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgICAgICAgICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsIFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICBlbC5hcHBlbmRDaGlsZChpbnB1dCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZWwucXVlcnlTZWxlY3RvckFsbChcIltuYW1lPScnXVwiKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJidWdneVFTQS5wdXNoKFwiXFxcXFtcIiArIHdoaXRlc3BhY2UgKyBcIipuYW1lXCIgKyB3aGl0ZXNwYWNlICsgXCIqPVwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGl0ZXNwYWNlICsgXCIqKD86Jyd8XFxcIlxcXCIpXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKCFzdXBwb3J0LmNzc0hhcykge1xuICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBDaHJvbWUgMTA1IC0gMTEwKywgU2FmYXJpIDE1LjQgLSAxNi4zK1xuICAgICAgICAgICAgICAgICAgICAvLyBPdXIgcmVndWxhciBgdHJ5LWNhdGNoYCBtZWNoYW5pc20gZmFpbHMgdG8gZGV0ZWN0IG5hdGl2ZWx5LXVuc3VwcG9ydGVkXG4gICAgICAgICAgICAgICAgICAgIC8vIHBzZXVkby1jbGFzc2VzIGluc2lkZSBgOmhhcygpYCAoc3VjaCBhcyBgOmhhcyg6Y29udGFpbnMoXCJGb29cIikpYClcbiAgICAgICAgICAgICAgICAgICAgLy8gaW4gYnJvd3NlcnMgdGhhdCBwYXJzZSB0aGUgYDpoYXMoKWAgYXJndW1lbnQgYXMgYSBmb3JnaXZpbmcgc2VsZWN0b3IgbGlzdC5cbiAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9kcmFmdHMuY3Nzd2cub3JnL3NlbGVjdG9ycy8jcmVsYXRpb25hbCBub3cgcmVxdWlyZXMgdGhlIGFyZ3VtZW50XG4gICAgICAgICAgICAgICAgICAgIC8vIHRvIGJlIHBhcnNlZCB1bmZvcmdpdmluZ2x5LCBidXQgYnJvd3NlcnMgaGF2ZSBub3QgeWV0IGZ1bGx5IGFkanVzdGVkLlxuICAgICAgICAgICAgICAgICAgICByYnVnZ3lRU0EucHVzaChcIjpoYXNcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJidWdneVFTQSA9IHJidWdneVFTQS5sZW5ndGggJiYgbmV3IFJlZ0V4cChyYnVnZ3lRU0Euam9pbihcInxcIikpO1xuICAgICAgICAgICAgICAgIC8qIFNvcnRpbmdcbiAgICAgICAgICAgICAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4gICAgICAgICAgICAgICAgLy8gRG9jdW1lbnQgb3JkZXIgc29ydGluZ1xuICAgICAgICAgICAgICAgIHNvcnRPcmRlciA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEZsYWcgZm9yIGR1cGxpY2F0ZSByZW1vdmFsXG4gICAgICAgICAgICAgICAgICAgIGlmIChhID09PSBiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNEdXBsaWNhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gU29ydCBvbiBtZXRob2QgZXhpc3RlbmNlIGlmIG9ubHkgb25lIGlucHV0IGhhcyBjb21wYXJlRG9jdW1lbnRQb3NpdGlvblxuICAgICAgICAgICAgICAgICAgICB2YXIgY29tcGFyZSA9ICFhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uIC0gIWIuY29tcGFyZURvY3VtZW50UG9zaXRpb247XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb21wYXJlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29tcGFyZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBDYWxjdWxhdGUgcG9zaXRpb24gaWYgYm90aCBpbnB1dHMgYmVsb25nIHRvIHRoZSBzYW1lIGRvY3VtZW50XG4gICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4K1xuICAgICAgICAgICAgICAgICAgICAvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhIFwiUGVybWlzc2lvbiBkZW5pZWRcIiBlcnJvciB3aGVuIHN0cmljdC1jb21wYXJpbmdcbiAgICAgICAgICAgICAgICAgICAgLy8gdHdvIGRvY3VtZW50czsgc2hhbGxvdyBjb21wYXJpc29ucyB3b3JrLlxuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG4gICAgICAgICAgICAgICAgICAgIGNvbXBhcmUgPSAoYS5vd25lckRvY3VtZW50IHx8IGEpID09IChiLm93bmVyRG9jdW1lbnQgfHwgYikgP1xuICAgICAgICAgICAgICAgICAgICAgICAgYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihiKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2Ugd2Uga25vdyB0aGV5IGFyZSBkaXNjb25uZWN0ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIDE7XG4gICAgICAgICAgICAgICAgICAgIC8vIERpc2Nvbm5lY3RlZCBub2Rlc1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29tcGFyZSAmIDEgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICghc3VwcG9ydC5zb3J0RGV0YWNoZWQgJiYgYi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihhKSA9PT0gY29tcGFyZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENob29zZSB0aGUgZmlyc3QgZWxlbWVudCB0aGF0IGlzIHJlbGF0ZWQgdG8gb3VyIHByZWZlcnJlZCBkb2N1bWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgMTErLCBFZGdlIDE3IC0gMTgrXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhIFwiUGVybWlzc2lvbiBkZW5pZWRcIiBlcnJvciB3aGVuIHN0cmljdC1jb21wYXJpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHR3byBkb2N1bWVudHM7IHNoYWxsb3cgY29tcGFyaXNvbnMgd29yay5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhID09PSBkb2N1bWVudCB8fCBhLm93bmVyRG9jdW1lbnQgPT0gcHJlZmVycmVkRG9jICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluZC5jb250YWlucyhwcmVmZXJyZWREb2MsIGEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgMTErLCBFZGdlIDE3IC0gMTgrXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhIFwiUGVybWlzc2lvbiBkZW5pZWRcIiBlcnJvciB3aGVuIHN0cmljdC1jb21wYXJpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHR3byBkb2N1bWVudHM7IHNoYWxsb3cgY29tcGFyaXNvbnMgd29yay5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiID09PSBkb2N1bWVudCB8fCBiLm93bmVyRG9jdW1lbnQgPT0gcHJlZmVycmVkRG9jICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluZC5jb250YWlucyhwcmVmZXJyZWREb2MsIGIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBNYWludGFpbiBvcmlnaW5hbCBvcmRlclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNvcnRJbnB1dCA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGluZGV4T2YuY2FsbChzb3J0SW5wdXQsIGEpIC0gaW5kZXhPZi5jYWxsKHNvcnRJbnB1dCwgYikpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb21wYXJlICYgNCA/IC0xIDogMTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiBkb2N1bWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmQubWF0Y2hlcyA9IGZ1bmN0aW9uIChleHByLCBlbGVtZW50cykge1xuICAgICAgICAgICAgICAgIHJldHVybiBmaW5kKGV4cHIsIG51bGwsIG51bGwsIGVsZW1lbnRzKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBmaW5kLm1hdGNoZXNTZWxlY3RvciA9IGZ1bmN0aW9uIChlbGVtLCBleHByKSB7XG4gICAgICAgICAgICAgICAgc2V0RG9jdW1lbnQoZWxlbSk7XG4gICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50SXNIVE1MICYmXG4gICAgICAgICAgICAgICAgICAgICFub25uYXRpdmVTZWxlY3RvckNhY2hlW2V4cHIgKyBcIiBcIl0gJiZcbiAgICAgICAgICAgICAgICAgICAgKCFyYnVnZ3lRU0EgfHwgIXJidWdneVFTQS50ZXN0KGV4cHIpKSkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJldCA9IG1hdGNoZXMuY2FsbChlbGVtLCBleHByKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElFIDkncyBtYXRjaGVzU2VsZWN0b3IgcmV0dXJucyBmYWxzZSBvbiBkaXNjb25uZWN0ZWQgbm9kZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXQgfHwgc3VwcG9ydC5kaXNjb25uZWN0ZWRNYXRjaCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFzIHdlbGwsIGRpc2Nvbm5lY3RlZCBub2RlcyBhcmUgc2FpZCB0byBiZSBpbiBhIGRvY3VtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZnJhZ21lbnQgaW4gSUUgOVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0uZG9jdW1lbnQgJiYgZWxlbS5kb2N1bWVudC5ub2RlVHlwZSAhPT0gMTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub25uYXRpdmVTZWxlY3RvckNhY2hlKGV4cHIsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBmaW5kKGV4cHIsIGRvY3VtZW50LCBudWxsLCBbZWxlbV0pLmxlbmd0aCA+IDA7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZmluZC5jb250YWlucyA9IGZ1bmN0aW9uIChjb250ZXh0LCBlbGVtKSB7XG4gICAgICAgICAgICAgICAgLy8gU2V0IGRvY3VtZW50IHZhcnMgaWYgbmVlZGVkXG4gICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgMTErLCBFZGdlIDE3IC0gMTgrXG4gICAgICAgICAgICAgICAgLy8gSUUvRWRnZSBzb21ldGltZXMgdGhyb3cgYSBcIlBlcm1pc3Npb24gZGVuaWVkXCIgZXJyb3Igd2hlbiBzdHJpY3QtY29tcGFyaW5nXG4gICAgICAgICAgICAgICAgLy8gdHdvIGRvY3VtZW50czsgc2hhbGxvdyBjb21wYXJpc29ucyB3b3JrLlxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcbiAgICAgICAgICAgICAgICBpZiAoKGNvbnRleHQub3duZXJEb2N1bWVudCB8fCBjb250ZXh0KSAhPSBkb2N1bWVudCkge1xuICAgICAgICAgICAgICAgICAgICBzZXREb2N1bWVudChjb250ZXh0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGpRdWVyeS5jb250YWlucyhjb250ZXh0LCBlbGVtKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBmaW5kLmF0dHIgPSBmdW5jdGlvbiAoZWxlbSwgbmFtZSkge1xuICAgICAgICAgICAgICAgIC8vIFNldCBkb2N1bWVudCB2YXJzIGlmIG5lZWRlZFxuICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4K1xuICAgICAgICAgICAgICAgIC8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgXCJQZXJtaXNzaW9uIGRlbmllZFwiIGVycm9yIHdoZW4gc3RyaWN0LWNvbXBhcmluZ1xuICAgICAgICAgICAgICAgIC8vIHR3byBkb2N1bWVudHM7IHNoYWxsb3cgY29tcGFyaXNvbnMgd29yay5cbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG4gICAgICAgICAgICAgICAgaWYgKChlbGVtLm93bmVyRG9jdW1lbnQgfHwgZWxlbSkgIT0gZG9jdW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0RG9jdW1lbnQoZWxlbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBmbiA9IEV4cHIuYXR0ckhhbmRsZVtuYW1lLnRvTG93ZXJDYXNlKCldLCBcbiAgICAgICAgICAgICAgICAvLyBEb24ndCBnZXQgZm9vbGVkIGJ5IE9iamVjdC5wcm90b3R5cGUgcHJvcGVydGllcyAoc2VlIHRyYWMtMTM4MDcpXG4gICAgICAgICAgICAgICAgdmFsID0gZm4gJiYgaGFzT3duLmNhbGwoRXhwci5hdHRySGFuZGxlLCBuYW1lLnRvTG93ZXJDYXNlKCkpID9cbiAgICAgICAgICAgICAgICAgICAgZm4oZWxlbSwgbmFtZSwgIWRvY3VtZW50SXNIVE1MKSA6XG4gICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBpZiAodmFsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlKG5hbWUpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGZpbmQuZXJyb3IgPSBmdW5jdGlvbiAobXNnKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU3ludGF4IGVycm9yLCB1bnJlY29nbml6ZWQgZXhwcmVzc2lvbjogXCIgKyBtc2cpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRG9jdW1lbnQgc29ydGluZyBhbmQgcmVtb3ZpbmcgZHVwbGljYXRlc1xuICAgICAgICAgICAgICogQHBhcmFtIHtBcnJheUxpa2V9IHJlc3VsdHNcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgalF1ZXJ5LnVuaXF1ZVNvcnQgPSBmdW5jdGlvbiAocmVzdWx0cykge1xuICAgICAgICAgICAgICAgIHZhciBlbGVtLCBkdXBsaWNhdGVzID0gW10sIGogPSAwLCBpID0gMDtcbiAgICAgICAgICAgICAgICAvLyBVbmxlc3Mgd2UgKmtub3cqIHdlIGNhbiBkZXRlY3QgZHVwbGljYXRlcywgYXNzdW1lIHRoZWlyIHByZXNlbmNlXG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wK1xuICAgICAgICAgICAgICAgIC8vIFRlc3RpbmcgZm9yIGRldGVjdGluZyBkdXBsaWNhdGVzIGlzIHVucHJlZGljdGFibGUgc28gaW5zdGVhZCBhc3N1bWUgd2UgY2FuJ3RcbiAgICAgICAgICAgICAgICAvLyBkZXBlbmQgb24gZHVwbGljYXRlIGRldGVjdGlvbiBpbiBhbGwgYnJvd3NlcnMgd2l0aG91dCBhIHN0YWJsZSBzb3J0LlxuICAgICAgICAgICAgICAgIGhhc0R1cGxpY2F0ZSA9ICFzdXBwb3J0LnNvcnRTdGFibGU7XG4gICAgICAgICAgICAgICAgc29ydElucHV0ID0gIXN1cHBvcnQuc29ydFN0YWJsZSAmJiBzbGljZS5jYWxsKHJlc3VsdHMsIDApO1xuICAgICAgICAgICAgICAgIHNvcnQuY2FsbChyZXN1bHRzLCBzb3J0T3JkZXIpO1xuICAgICAgICAgICAgICAgIGlmIChoYXNEdXBsaWNhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKChlbGVtID0gcmVzdWx0c1tpKytdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW0gPT09IHJlc3VsdHNbaV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqID0gZHVwbGljYXRlcy5wdXNoKGkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChqLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwbGljZS5jYWxsKHJlc3VsdHMsIGR1cGxpY2F0ZXNbal0sIDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIENsZWFyIGlucHV0IGFmdGVyIHNvcnRpbmcgdG8gcmVsZWFzZSBvYmplY3RzXG4gICAgICAgICAgICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qcXVlcnkvc2l6emxlL3B1bGwvMjI1XG4gICAgICAgICAgICAgICAgc29ydElucHV0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBqUXVlcnkuZm4udW5pcXVlU29ydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wdXNoU3RhY2soalF1ZXJ5LnVuaXF1ZVNvcnQoc2xpY2UuYXBwbHkodGhpcykpKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBFeHByID0galF1ZXJ5LmV4cHIgPSB7XG4gICAgICAgICAgICAgICAgLy8gQ2FuIGJlIGFkanVzdGVkIGJ5IHRoZSB1c2VyXG4gICAgICAgICAgICAgICAgY2FjaGVMZW5ndGg6IDUwLFxuICAgICAgICAgICAgICAgIGNyZWF0ZVBzZXVkbzogbWFya0Z1bmN0aW9uLFxuICAgICAgICAgICAgICAgIG1hdGNoOiBtYXRjaEV4cHIsXG4gICAgICAgICAgICAgICAgYXR0ckhhbmRsZToge30sXG4gICAgICAgICAgICAgICAgZmluZDoge30sXG4gICAgICAgICAgICAgICAgcmVsYXRpdmU6IHtcbiAgICAgICAgICAgICAgICAgICAgXCI+XCI6IHsgZGlyOiBcInBhcmVudE5vZGVcIiwgZmlyc3Q6IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgXCIgXCI6IHsgZGlyOiBcInBhcmVudE5vZGVcIiB9LFxuICAgICAgICAgICAgICAgICAgICBcIitcIjogeyBkaXI6IFwicHJldmlvdXNTaWJsaW5nXCIsIGZpcnN0OiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgIFwiflwiOiB7IGRpcjogXCJwcmV2aW91c1NpYmxpbmdcIiB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBwcmVGaWx0ZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgQVRUUjogZnVuY3Rpb24gKG1hdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsxXSA9IG1hdGNoWzFdLnJlcGxhY2UocnVuZXNjYXBlLCBmdW5lc2NhcGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTW92ZSB0aGUgZ2l2ZW4gdmFsdWUgdG8gbWF0Y2hbM10gd2hldGhlciBxdW90ZWQgb3IgdW5xdW90ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzNdID0gKG1hdGNoWzNdIHx8IG1hdGNoWzRdIHx8IG1hdGNoWzVdIHx8IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UocnVuZXNjYXBlLCBmdW5lc2NhcGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoWzJdID09PSBcIn49XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFszXSA9IFwiIFwiICsgbWF0Y2hbM10gKyBcIiBcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaC5zbGljZSgwLCA0KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgQ0hJTEQ6IGZ1bmN0aW9uIChtYXRjaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLyogbWF0Y2hlcyBmcm9tIG1hdGNoRXhwcltcIkNISUxEXCJdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMSB0eXBlIChvbmx5fG50aHwuLi4pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMiB3aGF0IChjaGlsZHxvZi10eXBlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDMgYXJndW1lbnQgKGV2ZW58b2RkfFxcZCp8XFxkKm4oWystXVxcZCspP3wuLi4pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgNCB4bi1jb21wb25lbnQgb2YgeG4reSBhcmd1bWVudCAoWystXT9cXGQqbnwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgNSBzaWduIG9mIHhuLWNvbXBvbmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDYgeCBvZiB4bi1jb21wb25lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA3IHNpZ24gb2YgeS1jb21wb25lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA4IHkgb2YgeS1jb21wb25lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsxXSA9IG1hdGNoWzFdLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hbMV0uc2xpY2UoMCwgMykgPT09IFwibnRoXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBudGgtKiByZXF1aXJlcyBhcmd1bWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbWF0Y2hbM10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluZC5lcnJvcihtYXRjaFswXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG51bWVyaWMgeCBhbmQgeSBwYXJhbWV0ZXJzIGZvciBFeHByLmZpbHRlci5DSElMRFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlbWVtYmVyIHRoYXQgZmFsc2UvdHJ1ZSBjYXN0IHJlc3BlY3RpdmVseSB0byAwLzFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFs0XSA9ICsobWF0Y2hbNF0gP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFs1XSArIChtYXRjaFs2XSB8fCAxKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIgKiAobWF0Y2hbM10gPT09IFwiZXZlblwiIHx8IG1hdGNoWzNdID09PSBcIm9kZFwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hbNV0gPSArKChtYXRjaFs3XSArIG1hdGNoWzhdKSB8fCBtYXRjaFszXSA9PT0gXCJvZGRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb3RoZXIgdHlwZXMgcHJvaGliaXQgYXJndW1lbnRzXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChtYXRjaFszXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmQuZXJyb3IobWF0Y2hbMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBQU0VVRE86IGZ1bmN0aW9uIChtYXRjaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV4Y2VzcywgdW5xdW90ZWQgPSAhbWF0Y2hbNl0gJiYgbWF0Y2hbMl07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hFeHByLkNISUxELnRlc3QobWF0Y2hbMF0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBY2NlcHQgcXVvdGVkIGFyZ3VtZW50cyBhcy1pc1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoWzNdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hbMl0gPSBtYXRjaFs0XSB8fCBtYXRjaFs1XSB8fCBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN0cmlwIGV4Y2VzcyBjaGFyYWN0ZXJzIGZyb20gdW5xdW90ZWQgYXJndW1lbnRzXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh1bnF1b3RlZCAmJiBycHNldWRvLnRlc3QodW5xdW90ZWQpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gR2V0IGV4Y2VzcyBmcm9tIHRva2VuaXplIChyZWN1cnNpdmVseSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZXhjZXNzID0gdG9rZW5pemUodW5xdW90ZWQsIHRydWUpKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFkdmFuY2UgdG8gdGhlIG5leHQgY2xvc2luZyBwYXJlbnRoZXNpc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChleGNlc3MgPSB1bnF1b3RlZC5pbmRleE9mKFwiKVwiLCB1bnF1b3RlZC5sZW5ndGggLSBleGNlc3MpIC0gdW5xdW90ZWQubGVuZ3RoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGV4Y2VzcyBpcyBhIG5lZ2F0aXZlIGluZGV4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hbMF0gPSBtYXRjaFswXS5zbGljZSgwLCBleGNlc3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzJdID0gdW5xdW90ZWQuc2xpY2UoMCwgZXhjZXNzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJldHVybiBvbmx5IGNhcHR1cmVzIG5lZWRlZCBieSB0aGUgcHNldWRvIGZpbHRlciBtZXRob2QgKHR5cGUgYW5kIGFyZ3VtZW50KVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoLnNsaWNlKDAsIDMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmaWx0ZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgVEFHOiBmdW5jdGlvbiAobm9kZU5hbWVTZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV4cGVjdGVkTm9kZU5hbWUgPSBub2RlTmFtZVNlbGVjdG9yLnJlcGxhY2UocnVuZXNjYXBlLCBmdW5lc2NhcGUpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm9kZU5hbWVTZWxlY3RvciA9PT0gXCIqXCIgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vZGVOYW1lKGVsZW0sIGV4cGVjdGVkTm9kZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIENMQVNTOiBmdW5jdGlvbiAoY2xhc3NOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGF0dGVybiA9IGNsYXNzQ2FjaGVbY2xhc3NOYW1lICsgXCIgXCJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhdHRlcm4gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAocGF0dGVybiA9IG5ldyBSZWdFeHAoXCIoXnxcIiArIHdoaXRlc3BhY2UgKyBcIilcIiArIGNsYXNzTmFtZSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiKFwiICsgd2hpdGVzcGFjZSArIFwifCQpXCIpKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc0NhY2hlKGNsYXNzTmFtZSwgZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXR0ZXJuLnRlc3QodHlwZW9mIGVsZW0uY2xhc3NOYW1lID09PSBcInN0cmluZ1wiICYmIGVsZW0uY2xhc3NOYW1lIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGVsZW0uZ2V0QXR0cmlidXRlICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0uZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIEFUVFI6IGZ1bmN0aW9uIChuYW1lLCBvcGVyYXRvciwgY2hlY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBmaW5kLmF0dHIoZWxlbSwgbmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcGVyYXRvciA9PT0gXCIhPVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW9wZXJhdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3BlcmF0b3IgPT09IFwiPVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQgPT09IGNoZWNrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3BlcmF0b3IgPT09IFwiIT1cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0ICE9PSBjaGVjaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wZXJhdG9yID09PSBcIl49XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoZWNrICYmIHJlc3VsdC5pbmRleE9mKGNoZWNrKSA9PT0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wZXJhdG9yID09PSBcIio9XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoZWNrICYmIHJlc3VsdC5pbmRleE9mKGNoZWNrKSA+IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3BlcmF0b3IgPT09IFwiJD1cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2hlY2sgJiYgcmVzdWx0LnNsaWNlKC1jaGVjay5sZW5ndGgpID09PSBjaGVjaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wZXJhdG9yID09PSBcIn49XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcIiBcIiArIHJlc3VsdC5yZXBsYWNlKHJ3aGl0ZXNwYWNlLCBcIiBcIikgKyBcIiBcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGNoZWNrKSA+IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3BlcmF0b3IgPT09IFwifD1cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0ID09PSBjaGVjayB8fCByZXN1bHQuc2xpY2UoMCwgY2hlY2subGVuZ3RoICsgMSkgPT09IGNoZWNrICsgXCItXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIENISUxEOiBmdW5jdGlvbiAodHlwZSwgd2hhdCwgX2FyZ3VtZW50LCBmaXJzdCwgbGFzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNpbXBsZSA9IHR5cGUuc2xpY2UoMCwgMykgIT09IFwibnRoXCIsIGZvcndhcmQgPSB0eXBlLnNsaWNlKC00KSAhPT0gXCJsYXN0XCIsIG9mVHlwZSA9IHdoYXQgPT09IFwib2YtdHlwZVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpcnN0ID09PSAxICYmIGxhc3QgPT09IDAgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNob3J0Y3V0IGZvciA6bnRoLSoobilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gISFlbGVtLnBhcmVudE5vZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGVsZW0sIF9jb250ZXh0LCB4bWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNhY2hlLCBvdXRlckNhY2hlLCBub2RlLCBub2RlSW5kZXgsIHN0YXJ0LCBkaXIgPSBzaW1wbGUgIT09IGZvcndhcmQgPyBcIm5leHRTaWJsaW5nXCIgOiBcInByZXZpb3VzU2libGluZ1wiLCBwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGUsIG5hbWUgPSBvZlR5cGUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLCB1c2VDYWNoZSA9ICF4bWwgJiYgIW9mVHlwZSwgZGlmZiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA6KGZpcnN0fGxhc3R8b25seSktKGNoaWxkfG9mLXR5cGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2ltcGxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGRpcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlID0gZWxlbTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKChub2RlID0gbm9kZVtkaXJdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9mVHlwZSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZU5hbWUobm9kZSwgbmFtZSkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmV2ZXJzZSBkaXJlY3Rpb24gZm9yIDpvbmx5LSogKGlmIHdlIGhhdmVuJ3QgeWV0IGRvbmUgc28pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gZGlyID0gdHlwZSA9PT0gXCJvbmx5XCIgJiYgIXN0YXJ0ICYmIFwibmV4dFNpYmxpbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydCA9IFtmb3J3YXJkID8gcGFyZW50LmZpcnN0Q2hpbGQgOiBwYXJlbnQubGFzdENoaWxkXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vbi14bWwgOm50aC1jaGlsZCguLi4pIHN0b3JlcyBjYWNoZSBkYXRhIG9uIGBwYXJlbnRgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm9yd2FyZCAmJiB1c2VDYWNoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNlZWsgYGVsZW1gIGZyb20gYSBwcmV2aW91c2x5LWNhY2hlZCBpbmRleFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dGVyQ2FjaGUgPSBwYXJlbnRbZXhwYW5kb10gfHwgKHBhcmVudFtleHBhbmRvXSA9IHt9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWNoZSA9IG91dGVyQ2FjaGVbdHlwZV0gfHwgW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZUluZGV4ID0gY2FjaGVbMF0gPT09IGRpcnJ1bnMgJiYgY2FjaGVbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlmZiA9IG5vZGVJbmRleCAmJiBjYWNoZVsyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlID0gbm9kZUluZGV4ICYmIHBhcmVudC5jaGlsZE5vZGVzW25vZGVJbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKChub2RlID0gKytub2RlSW5kZXggJiYgbm9kZSAmJiBub2RlW2Rpcl0gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmFsbGJhY2sgdG8gc2Vla2luZyBgZWxlbWAgZnJvbSB0aGUgc3RhcnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRpZmYgPSBub2RlSW5kZXggPSAwKSB8fCBzdGFydC5wb3AoKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2hlbiBmb3VuZCwgY2FjaGUgaW5kZXhlcyBvbiBgcGFyZW50YCBhbmQgYnJlYWtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IDEgJiYgKytkaWZmICYmIG5vZGUgPT09IGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dGVyQ2FjaGVbdHlwZV0gPSBbZGlycnVucywgbm9kZUluZGV4LCBkaWZmXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXNlIHByZXZpb3VzbHktY2FjaGVkIGVsZW1lbnQgaW5kZXggaWYgYXZhaWxhYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVzZUNhY2hlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dGVyQ2FjaGUgPSBlbGVtW2V4cGFuZG9dIHx8IChlbGVtW2V4cGFuZG9dID0ge30pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWNoZSA9IG91dGVyQ2FjaGVbdHlwZV0gfHwgW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVJbmRleCA9IGNhY2hlWzBdID09PSBkaXJydW5zICYmIGNhY2hlWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWZmID0gbm9kZUluZGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB4bWwgOm50aC1jaGlsZCguLi4pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb3IgOm50aC1sYXN0LWNoaWxkKC4uLikgb3IgOm50aCgtbGFzdCk/LW9mLXR5cGUoLi4uKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaWZmID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVc2UgdGhlIHNhbWUgbG9vcCBhcyBhYm92ZSB0byBzZWVrIGBlbGVtYCBmcm9tIHRoZSBzdGFydFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKG5vZGUgPSArK25vZGVJbmRleCAmJiBub2RlICYmIG5vZGVbZGlyXSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRpZmYgPSBub2RlSW5kZXggPSAwKSB8fCBzdGFydC5wb3AoKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgob2ZUeXBlID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlTmFtZShub2RlLCBuYW1lKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5ub2RlVHlwZSA9PT0gMSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArK2RpZmYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDYWNoZSB0aGUgaW5kZXggb2YgZWFjaCBlbmNvdW50ZXJlZCBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVzZUNhY2hlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dGVyQ2FjaGUgPSBub2RlW2V4cGFuZG9dIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAobm9kZVtleHBhbmRvXSA9IHt9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0ZXJDYWNoZVt0eXBlXSA9IFtkaXJydW5zLCBkaWZmXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUgPT09IGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW5jb3Jwb3JhdGUgdGhlIG9mZnNldCwgdGhlbiBjaGVjayBhZ2FpbnN0IGN5Y2xlIHNpemVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpZmYgLT0gbGFzdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkaWZmID09PSBmaXJzdCB8fCAoZGlmZiAlIGZpcnN0ID09PSAwICYmIGRpZmYgLyBmaXJzdCA+PSAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFBTRVVETzogZnVuY3Rpb24gKHBzZXVkbywgYXJndW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBzZXVkby1jbGFzcyBuYW1lcyBhcmUgY2FzZS1pbnNlbnNpdGl2ZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly93d3cudzMub3JnL1RSL3NlbGVjdG9ycy8jcHNldWRvLWNsYXNzZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFByaW9yaXRpemUgYnkgY2FzZSBzZW5zaXRpdml0eSBpbiBjYXNlIGN1c3RvbSBwc2V1ZG9zIGFyZSBhZGRlZCB3aXRoIHVwcGVyY2FzZSBsZXR0ZXJzXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZW1lbWJlciB0aGF0IHNldEZpbHRlcnMgaW5oZXJpdHMgZnJvbSBwc2V1ZG9zXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXJncywgZm4gPSBFeHByLnBzZXVkb3NbcHNldWRvXSB8fCBFeHByLnNldEZpbHRlcnNbcHNldWRvLnRvTG93ZXJDYXNlKCldIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluZC5lcnJvcihcInVuc3VwcG9ydGVkIHBzZXVkbzogXCIgKyBwc2V1ZG8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHVzZXIgbWF5IHVzZSBjcmVhdGVQc2V1ZG8gdG8gaW5kaWNhdGUgdGhhdFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYXJndW1lbnRzIGFyZSBuZWVkZWQgdG8gY3JlYXRlIHRoZSBmaWx0ZXIgZnVuY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGp1c3QgYXMgalF1ZXJ5IGRvZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmbltleHBhbmRvXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmbihhcmd1bWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBCdXQgbWFpbnRhaW4gc3VwcG9ydCBmb3Igb2xkIHNpZ25hdHVyZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmbi5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJncyA9IFtwc2V1ZG8sIHBzZXVkbywgXCJcIiwgYXJndW1lbnRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBFeHByLnNldEZpbHRlcnMuaGFzT3duUHJvcGVydHkocHNldWRvLnRvTG93ZXJDYXNlKCkpID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFya0Z1bmN0aW9uKGZ1bmN0aW9uIChzZWVkLCBtYXRjaGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWR4LCBtYXRjaGVkID0gZm4oc2VlZCwgYXJndW1lbnQpLCBpID0gbWF0Y2hlZC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4ID0gaW5kZXhPZi5jYWxsKHNlZWQsIG1hdGNoZWRbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlZWRbaWR4XSA9ICEobWF0Y2hlc1tpZHhdID0gbWF0Y2hlZFtpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmbihlbGVtLCAwLCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmbjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcHNldWRvczoge1xuICAgICAgICAgICAgICAgICAgICAvLyBQb3RlbnRpYWxseSBjb21wbGV4IHBzZXVkb3NcbiAgICAgICAgICAgICAgICAgICAgbm90OiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24gKHNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUcmltIHRoZSBzZWxlY3RvciBwYXNzZWQgdG8gY29tcGlsZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdG8gYXZvaWQgdHJlYXRpbmcgbGVhZGluZyBhbmQgdHJhaWxpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNwYWNlcyBhcyBjb21iaW5hdG9yc1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlucHV0ID0gW10sIHJlc3VsdHMgPSBbXSwgbWF0Y2hlciA9IGNvbXBpbGUoc2VsZWN0b3IucmVwbGFjZShydHJpbUNTUywgXCIkMVwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2hlcltleHBhbmRvXSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFya0Z1bmN0aW9uKGZ1bmN0aW9uIChzZWVkLCBtYXRjaGVzLCBfY29udGV4dCwgeG1sKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbGVtLCB1bm1hdGNoZWQgPSBtYXRjaGVyKHNlZWQsIG51bGwsIHhtbCwgW10pLCBpID0gc2VlZC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1hdGNoIGVsZW1lbnRzIHVubWF0Y2hlZCBieSBgbWF0Y2hlcmBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChlbGVtID0gdW5tYXRjaGVkW2ldKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlZWRbaV0gPSAhKG1hdGNoZXNbaV0gPSBlbGVtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZWxlbSwgX2NvbnRleHQsIHhtbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFswXSA9IGVsZW07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZXIoaW5wdXQsIG51bGwsIHhtbCwgcmVzdWx0cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvbid0IGtlZXAgdGhlIGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gKHNlZSBodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5L3NpenpsZS9pc3N1ZXMvMjk5KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFswXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhcmVzdWx0cy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgaGFzOiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24gKHNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmluZChzZWxlY3RvciwgZWxlbSkubGVuZ3RoID4gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBjb250YWluczogbWFya0Z1bmN0aW9uKGZ1bmN0aW9uICh0ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKHJ1bmVzY2FwZSwgZnVuZXNjYXBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoZWxlbS50ZXh0Q29udGVudCB8fCBqUXVlcnkudGV4dChlbGVtKSkuaW5kZXhPZih0ZXh0KSA+IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIC8vIFwiV2hldGhlciBhbiBlbGVtZW50IGlzIHJlcHJlc2VudGVkIGJ5IGEgOmxhbmcoKSBzZWxlY3RvclxuICAgICAgICAgICAgICAgICAgICAvLyBpcyBiYXNlZCBzb2xlbHkgb24gdGhlIGVsZW1lbnQncyBsYW5ndWFnZSB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICAvLyBiZWluZyBlcXVhbCB0byB0aGUgaWRlbnRpZmllciBDLFxuICAgICAgICAgICAgICAgICAgICAvLyBvciBiZWdpbm5pbmcgd2l0aCB0aGUgaWRlbnRpZmllciBDIGltbWVkaWF0ZWx5IGZvbGxvd2VkIGJ5IFwiLVwiLlxuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgbWF0Y2hpbmcgb2YgQyBhZ2FpbnN0IHRoZSBlbGVtZW50J3MgbGFuZ3VhZ2UgdmFsdWUgaXMgcGVyZm9ybWVkIGNhc2UtaW5zZW5zaXRpdmVseS5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGlkZW50aWZpZXIgQyBkb2VzIG5vdCBoYXZlIHRvIGJlIGEgdmFsaWQgbGFuZ3VhZ2UgbmFtZS5cIlxuICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLyNsYW5nLXBzZXVkb1xuICAgICAgICAgICAgICAgICAgICBsYW5nOiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24gKGxhbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxhbmcgdmFsdWUgbXVzdCBiZSBhIHZhbGlkIGlkZW50aWZpZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmlkZW50aWZpZXIudGVzdChsYW5nIHx8IFwiXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluZC5lcnJvcihcInVuc3VwcG9ydGVkIGxhbmc6IFwiICsgbGFuZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBsYW5nID0gbGFuZy5yZXBsYWNlKHJ1bmVzY2FwZSwgZnVuZXNjYXBlKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1MYW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChlbGVtTGFuZyA9IGRvY3VtZW50SXNIVE1MID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0ubGFuZyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtLmdldEF0dHJpYnV0ZShcInhtbDpsYW5nXCIpIHx8IGVsZW0uZ2V0QXR0cmlidXRlKFwibGFuZ1wiKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1MYW5nID0gZWxlbUxhbmcudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtTGFuZyA9PT0gbGFuZyB8fCBlbGVtTGFuZy5pbmRleE9mKGxhbmcgKyBcIi1cIikgPT09IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IHdoaWxlICgoZWxlbSA9IGVsZW0ucGFyZW50Tm9kZSkgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIC8vIE1pc2NlbGxhbmVvdXNcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhhc2ggPSB3aW5kb3cubG9jYXRpb24gJiYgd2luZG93LmxvY2F0aW9uLmhhc2g7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGFzaCAmJiBoYXNoLnNsaWNlKDEpID09PSBlbGVtLmlkO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICByb290OiBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZW0gPT09IGRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZm9jdXM6IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbSA9PT0gc2FmZUFjdGl2ZUVsZW1lbnQoKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50Lmhhc0ZvY3VzKCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhIShlbGVtLnR5cGUgfHwgZWxlbS5ocmVmIHx8IH5lbGVtLnRhYkluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgLy8gQm9vbGVhbiBwcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IGNyZWF0ZURpc2FibGVkUHNldWRvKGZhbHNlKSxcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6IGNyZWF0ZURpc2FibGVkUHNldWRvKHRydWUpLFxuICAgICAgICAgICAgICAgICAgICBjaGVja2VkOiBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW4gQ1NTMywgOmNoZWNrZWQgc2hvdWxkIHJldHVybiBib3RoIGNoZWNrZWQgYW5kIHNlbGVjdGVkIGVsZW1lbnRzXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL3d3dy53My5vcmcvVFIvMjAxMS9SRUMtY3NzMy1zZWxlY3RvcnMtMjAxMTA5MjkvI2NoZWNrZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAobm9kZU5hbWUoZWxlbSwgXCJpbnB1dFwiKSAmJiAhIWVsZW0uY2hlY2tlZCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAobm9kZU5hbWUoZWxlbSwgXCJvcHRpb25cIikgJiYgISFlbGVtLnNlbGVjdGVkKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA8PTExK1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWNjZXNzaW5nIHRoZSBzZWxlY3RlZEluZGV4IHByb3BlcnR5XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmb3JjZXMgdGhlIGJyb3dzZXIgdG8gdHJlYXQgdGhlIGRlZmF1bHQgb3B0aW9uIGFzXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzZWxlY3RlZCB3aGVuIGluIGFuIG9wdGdyb3VwLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW0ucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtZXhwcmVzc2lvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtLnNlbGVjdGVkID09PSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAvLyBDb250ZW50c1xuICAgICAgICAgICAgICAgICAgICBlbXB0eTogZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI2VtcHR5LXBzZXVkb1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gOmVtcHR5IGlzIG5lZ2F0ZWQgYnkgZWxlbWVudCAoMSkgb3IgY29udGVudCBub2RlcyAodGV4dDogMzsgY2RhdGE6IDQ7IGVudGl0eSByZWY6IDUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICBidXQgbm90IGJ5IG90aGVycyAoY29tbWVudDogODsgcHJvY2Vzc2luZyBpbnN0cnVjdGlvbjogNzsgZXRjLilcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vZGVUeXBlIDwgNiB3b3JrcyBiZWNhdXNlIGF0dHJpYnV0ZXMgKDIpIGRvIG5vdCBhcHBlYXIgYXMgY2hpbGRyZW5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoZWxlbSA9IGVsZW0uZmlyc3RDaGlsZDsgZWxlbTsgZWxlbSA9IGVsZW0ubmV4dFNpYmxpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbS5ub2RlVHlwZSA8IDYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gIUV4cHIucHNldWRvcy5lbXB0eShlbGVtKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgLy8gRWxlbWVudC9pbnB1dCB0eXBlc1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXI6IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmhlYWRlci50ZXN0KGVsZW0ubm9kZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBpbnB1dDogZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByaW5wdXRzLnRlc3QoZWxlbS5ub2RlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbjogZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBub2RlTmFtZShlbGVtLCBcImlucHV0XCIpICYmIGVsZW0udHlwZSA9PT0gXCJidXR0b25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVOYW1lKGVsZW0sIFwiYnV0dG9uXCIpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGF0dHI7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm9kZU5hbWUoZWxlbSwgXCJpbnB1dFwiKSAmJiBlbGVtLnR5cGUgPT09IFwidGV4dFwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgPDEwIG9ubHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBOZXcgSFRNTDUgYXR0cmlidXRlIHZhbHVlcyAoZS5nLiwgXCJzZWFyY2hcIikgYXBwZWFyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2l0aCBlbGVtLnR5cGUgPT09IFwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKChhdHRyID0gZWxlbS5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpKSA9PSBudWxsIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHIudG9Mb3dlckNhc2UoKSA9PT0gXCJ0ZXh0XCIpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAvLyBQb3NpdGlvbi1pbi1jb2xsZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgIGZpcnN0OiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMF07XG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBsYXN0OiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uIChfbWF0Y2hJbmRleGVzLCBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbbGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBlcTogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiAoX21hdGNoSW5kZXhlcywgbGVuZ3RoLCBhcmd1bWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFthcmd1bWVudCA8IDAgPyBhcmd1bWVudCArIGxlbmd0aCA6IGFyZ3VtZW50XTtcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIGV2ZW46IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24gKG1hdGNoSW5kZXhlcywgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKDsgaSA8IGxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hJbmRleGVzLnB1c2goaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2hJbmRleGVzO1xuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgb2RkOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uIChtYXRjaEluZGV4ZXMsIGxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICg7IGkgPCBsZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoSW5kZXhlcy5wdXNoKGkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoSW5kZXhlcztcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIGx0OiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uIChtYXRjaEluZGV4ZXMsIGxlbmd0aCwgYXJndW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3VtZW50IDwgMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBhcmd1bWVudCArIGxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFyZ3VtZW50ID4gbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBhcmd1bWVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoOyAtLWkgPj0gMDspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaEluZGV4ZXMucHVzaChpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaEluZGV4ZXM7XG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBndDogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiAobWF0Y2hJbmRleGVzLCBsZW5ndGgsIGFyZ3VtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IGFyZ3VtZW50IDwgMCA/IGFyZ3VtZW50ICsgbGVuZ3RoIDogYXJndW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKDsgKytpIDwgbGVuZ3RoOykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoSW5kZXhlcy5wdXNoKGkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoSW5kZXhlcztcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgRXhwci5wc2V1ZG9zLm50aCA9IEV4cHIucHNldWRvcy5lcTtcbiAgICAgICAgICAgIC8vIEFkZCBidXR0b24vaW5wdXQgdHlwZSBwc2V1ZG9zXG4gICAgICAgICAgICBmb3IgKGkgaW4geyByYWRpbzogdHJ1ZSwgY2hlY2tib3g6IHRydWUsIGZpbGU6IHRydWUsIHBhc3N3b3JkOiB0cnVlLCBpbWFnZTogdHJ1ZSB9KSB7XG4gICAgICAgICAgICAgICAgRXhwci5wc2V1ZG9zW2ldID0gY3JlYXRlSW5wdXRQc2V1ZG8oaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGkgaW4geyBzdWJtaXQ6IHRydWUsIHJlc2V0OiB0cnVlIH0pIHtcbiAgICAgICAgICAgICAgICBFeHByLnBzZXVkb3NbaV0gPSBjcmVhdGVCdXR0b25Qc2V1ZG8oaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBFYXN5IEFQSSBmb3IgY3JlYXRpbmcgbmV3IHNldEZpbHRlcnNcbiAgICAgICAgICAgIGZ1bmN0aW9uIHNldEZpbHRlcnMoKSB7IH1cbiAgICAgICAgICAgIHNldEZpbHRlcnMucHJvdG90eXBlID0gRXhwci5maWx0ZXJzID0gRXhwci5wc2V1ZG9zO1xuICAgICAgICAgICAgRXhwci5zZXRGaWx0ZXJzID0gbmV3IHNldEZpbHRlcnMoKTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIHRva2VuaXplKHNlbGVjdG9yLCBwYXJzZU9ubHkpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWF0Y2hlZCwgbWF0Y2gsIHRva2VucywgdHlwZSwgc29GYXIsIGdyb3VwcywgcHJlRmlsdGVycywgY2FjaGVkID0gdG9rZW5DYWNoZVtzZWxlY3RvciArIFwiIFwiXTtcbiAgICAgICAgICAgICAgICBpZiAoY2FjaGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZU9ubHkgPyAwIDogY2FjaGVkLnNsaWNlKDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzb0ZhciA9IHNlbGVjdG9yO1xuICAgICAgICAgICAgICAgIGdyb3VwcyA9IFtdO1xuICAgICAgICAgICAgICAgIHByZUZpbHRlcnMgPSBFeHByLnByZUZpbHRlcjtcbiAgICAgICAgICAgICAgICB3aGlsZSAoc29GYXIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ29tbWEgYW5kIGZpcnN0IHJ1blxuICAgICAgICAgICAgICAgICAgICBpZiAoIW1hdGNoZWQgfHwgKG1hdGNoID0gcmNvbW1hLmV4ZWMoc29GYXIpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRG9uJ3QgY29uc3VtZSB0cmFpbGluZyBjb21tYXMgYXMgdmFsaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb0ZhciA9IHNvRmFyLnNsaWNlKG1hdGNoWzBdLmxlbmd0aCkgfHwgc29GYXI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cHMucHVzaCgodG9rZW5zID0gW10pKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtYXRjaGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIC8vIENvbWJpbmF0b3JzXG4gICAgICAgICAgICAgICAgICAgIGlmICgobWF0Y2ggPSBybGVhZGluZ0NvbWJpbmF0b3IuZXhlYyhzb0ZhcikpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVkID0gbWF0Y2guc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbWF0Y2hlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDYXN0IGRlc2NlbmRhbnQgY29tYmluYXRvcnMgdG8gc3BhY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBtYXRjaFswXS5yZXBsYWNlKHJ0cmltQ1NTLCBcIiBcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgc29GYXIgPSBzb0Zhci5zbGljZShtYXRjaGVkLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gRmlsdGVyc1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHR5cGUgaW4gRXhwci5maWx0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgobWF0Y2ggPSBtYXRjaEV4cHJbdHlwZV0uZXhlYyhzb0ZhcikpICYmICghcHJlRmlsdGVyc1t0eXBlXSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChtYXRjaCA9IHByZUZpbHRlcnNbdHlwZV0obWF0Y2gpKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVkID0gbWF0Y2guc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBtYXRjaGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVzOiBtYXRjaFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvRmFyID0gc29GYXIuc2xpY2UobWF0Y2hlZC5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghbWF0Y2hlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gUmV0dXJuIHRoZSBsZW5ndGggb2YgdGhlIGludmFsaWQgZXhjZXNzXG4gICAgICAgICAgICAgICAgLy8gaWYgd2UncmUganVzdCBwYXJzaW5nXG4gICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCB0aHJvdyBhbiBlcnJvciBvciByZXR1cm4gdG9rZW5zXG4gICAgICAgICAgICAgICAgaWYgKHBhcnNlT25seSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc29GYXIubGVuZ3RoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gc29GYXIgP1xuICAgICAgICAgICAgICAgICAgICBmaW5kLmVycm9yKHNlbGVjdG9yKSA6XG4gICAgICAgICAgICAgICAgICAgIC8vIENhY2hlIHRoZSB0b2tlbnNcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5DYWNoZShzZWxlY3RvciwgZ3JvdXBzKS5zbGljZSgwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIHRvU2VsZWN0b3IodG9rZW5zKSB7XG4gICAgICAgICAgICAgICAgdmFyIGkgPSAwLCBsZW4gPSB0b2tlbnMubGVuZ3RoLCBzZWxlY3RvciA9IFwiXCI7XG4gICAgICAgICAgICAgICAgZm9yICg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvciArPSB0b2tlbnNbaV0udmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBzZWxlY3RvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIGFkZENvbWJpbmF0b3IobWF0Y2hlciwgY29tYmluYXRvciwgYmFzZSkge1xuICAgICAgICAgICAgICAgIHZhciBkaXIgPSBjb21iaW5hdG9yLmRpciwgc2tpcCA9IGNvbWJpbmF0b3IubmV4dCwga2V5ID0gc2tpcCB8fCBkaXIsIGNoZWNrTm9uRWxlbWVudHMgPSBiYXNlICYmIGtleSA9PT0gXCJwYXJlbnROb2RlXCIsIGRvbmVOYW1lID0gZG9uZSsrO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21iaW5hdG9yLmZpcnN0ID9cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgYWdhaW5zdCBjbG9zZXN0IGFuY2VzdG9yL3ByZWNlZGluZyBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlbGVtLCBjb250ZXh0LCB4bWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgoZWxlbSA9IGVsZW1bZGlyXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbS5ub2RlVHlwZSA9PT0gMSB8fCBjaGVja05vbkVsZW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaGVyKGVsZW0sIGNvbnRleHQsIHhtbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9IDpcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgYWdhaW5zdCBhbGwgYW5jZXN0b3IvcHJlY2VkaW5nIGVsZW1lbnRzXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlbGVtLCBjb250ZXh0LCB4bWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvbGRDYWNoZSwgb3V0ZXJDYWNoZSwgbmV3Q2FjaGUgPSBbZGlycnVucywgZG9uZU5hbWVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgY2FuJ3Qgc2V0IGFyYml0cmFyeSBkYXRhIG9uIFhNTCBub2Rlcywgc28gdGhleSBkb24ndCBiZW5lZml0IGZyb20gY29tYmluYXRvciBjYWNoaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoeG1sKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKChlbGVtID0gZWxlbVtkaXJdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbS5ub2RlVHlwZSA9PT0gMSB8fCBjaGVja05vbkVsZW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hlcihlbGVtLCBjb250ZXh0LCB4bWwpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKGVsZW0gPSBlbGVtW2Rpcl0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtLm5vZGVUeXBlID09PSAxIHx8IGNoZWNrTm9uRWxlbWVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dGVyQ2FjaGUgPSBlbGVtW2V4cGFuZG9dIHx8IChlbGVtW2V4cGFuZG9dID0ge30pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNraXAgJiYgbm9kZU5hbWUoZWxlbSwgc2tpcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtID0gZWxlbVtkaXJdIHx8IGVsZW07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICgob2xkQ2FjaGUgPSBvdXRlckNhY2hlW2tleV0pICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkQ2FjaGVbMF0gPT09IGRpcnJ1bnMgJiYgb2xkQ2FjaGVbMV0gPT09IGRvbmVOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXNzaWduIHRvIG5ld0NhY2hlIHNvIHJlc3VsdHMgYmFjay1wcm9wYWdhdGUgdG8gcHJldmlvdXMgZWxlbWVudHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKG5ld0NhY2hlWzJdID0gb2xkQ2FjaGVbMl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmV1c2UgbmV3Y2FjaGUgc28gcmVzdWx0cyBiYWNrLXByb3BhZ2F0ZSB0byBwcmV2aW91cyBlbGVtZW50c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dGVyQ2FjaGVba2V5XSA9IG5ld0NhY2hlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEEgbWF0Y2ggbWVhbnMgd2UncmUgZG9uZTsgYSBmYWlsIG1lYW5zIHdlIGhhdmUgdG8ga2VlcCBjaGVja2luZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgobmV3Q2FjaGVbMl0gPSBtYXRjaGVyKGVsZW0sIGNvbnRleHQsIHhtbCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIGVsZW1lbnRNYXRjaGVyKG1hdGNoZXJzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoZXJzLmxlbmd0aCA+IDEgP1xuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZWxlbSwgY29udGV4dCwgeG1sKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IG1hdGNoZXJzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW1hdGNoZXJzW2ldKGVsZW0sIGNvbnRleHQsIHhtbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9IDpcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlcnNbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBtdWx0aXBsZUNvbnRleHRzKHNlbGVjdG9yLCBjb250ZXh0cywgcmVzdWx0cykge1xuICAgICAgICAgICAgICAgIHZhciBpID0gMCwgbGVuID0gY29udGV4dHMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGZvciAoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZmluZChzZWxlY3RvciwgY29udGV4dHNbaV0sIHJlc3VsdHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIGNvbmRlbnNlKHVubWF0Y2hlZCwgbWFwLCBmaWx0ZXIsIGNvbnRleHQsIHhtbCkge1xuICAgICAgICAgICAgICAgIHZhciBlbGVtLCBuZXdVbm1hdGNoZWQgPSBbXSwgaSA9IDAsIGxlbiA9IHVubWF0Y2hlZC5sZW5ndGgsIG1hcHBlZCA9IG1hcCAhPSBudWxsO1xuICAgICAgICAgICAgICAgIGZvciAoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKChlbGVtID0gdW5tYXRjaGVkW2ldKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFmaWx0ZXIgfHwgZmlsdGVyKGVsZW0sIGNvbnRleHQsIHhtbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdVbm1hdGNoZWQucHVzaChlbGVtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWFwcGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcC5wdXNoKGkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3VW5tYXRjaGVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gc2V0TWF0Y2hlcihwcmVGaWx0ZXIsIHNlbGVjdG9yLCBtYXRjaGVyLCBwb3N0RmlsdGVyLCBwb3N0RmluZGVyLCBwb3N0U2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICBpZiAocG9zdEZpbHRlciAmJiAhcG9zdEZpbHRlcltleHBhbmRvXSkge1xuICAgICAgICAgICAgICAgICAgICBwb3N0RmlsdGVyID0gc2V0TWF0Y2hlcihwb3N0RmlsdGVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHBvc3RGaW5kZXIgJiYgIXBvc3RGaW5kZXJbZXhwYW5kb10pIHtcbiAgICAgICAgICAgICAgICAgICAgcG9zdEZpbmRlciA9IHNldE1hdGNoZXIocG9zdEZpbmRlciwgcG9zdFNlbGVjdG9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hcmtGdW5jdGlvbihmdW5jdGlvbiAoc2VlZCwgcmVzdWx0cywgY29udGV4dCwgeG1sKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wLCBpLCBlbGVtLCBtYXRjaGVyT3V0LCBwcmVNYXAgPSBbXSwgcG9zdE1hcCA9IFtdLCBwcmVleGlzdGluZyA9IHJlc3VsdHMubGVuZ3RoLCBcbiAgICAgICAgICAgICAgICAgICAgLy8gR2V0IGluaXRpYWwgZWxlbWVudHMgZnJvbSBzZWVkIG9yIGNvbnRleHRcbiAgICAgICAgICAgICAgICAgICAgZWxlbXMgPSBzZWVkIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBtdWx0aXBsZUNvbnRleHRzKHNlbGVjdG9yIHx8IFwiKlwiLCBjb250ZXh0Lm5vZGVUeXBlID8gW2NvbnRleHRdIDogY29udGV4dCwgW10pLCBcbiAgICAgICAgICAgICAgICAgICAgLy8gUHJlZmlsdGVyIHRvIGdldCBtYXRjaGVyIGlucHV0LCBwcmVzZXJ2aW5nIGEgbWFwIGZvciBzZWVkLXJlc3VsdHMgc3luY2hyb25pemF0aW9uXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoZXJJbiA9IHByZUZpbHRlciAmJiAoc2VlZCB8fCAhc2VsZWN0b3IpID9cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmRlbnNlKGVsZW1zLCBwcmVNYXAsIHByZUZpbHRlciwgY29udGV4dCwgeG1sKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtcztcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHdlIGhhdmUgYSBwb3N0RmluZGVyLCBvciBmaWx0ZXJlZCBzZWVkLCBvciBub24tc2VlZCBwb3N0RmlsdGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBvciBwcmVleGlzdGluZyByZXN1bHRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlck91dCA9IHBvc3RGaW5kZXIgfHwgKHNlZWQgPyBwcmVGaWx0ZXIgOiBwcmVleGlzdGluZyB8fCBwb3N0RmlsdGVyKSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi4uaW50ZXJtZWRpYXRlIHByb2Nlc3NpbmcgaXMgbmVjZXNzYXJ5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW10gOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uLm90aGVyd2lzZSB1c2UgcmVzdWx0cyBkaXJlY3RseVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGaW5kIHByaW1hcnkgbWF0Y2hlc1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlcihtYXRjaGVySW4sIG1hdGNoZXJPdXQsIGNvbnRleHQsIHhtbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVyT3V0ID0gbWF0Y2hlckluO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIEFwcGx5IHBvc3RGaWx0ZXJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvc3RGaWx0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAgPSBjb25kZW5zZShtYXRjaGVyT3V0LCBwb3N0TWFwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc3RGaWx0ZXIodGVtcCwgW10sIGNvbnRleHQsIHhtbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVbi1tYXRjaCBmYWlsaW5nIGVsZW1lbnRzIGJ5IG1vdmluZyB0aGVtIGJhY2sgdG8gbWF0Y2hlckluXG4gICAgICAgICAgICAgICAgICAgICAgICBpID0gdGVtcC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChlbGVtID0gdGVtcFtpXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlck91dFtwb3N0TWFwW2ldXSA9ICEobWF0Y2hlckluW3Bvc3RNYXBbaV1dID0gZWxlbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocG9zdEZpbmRlciB8fCBwcmVGaWx0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocG9zdEZpbmRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBHZXQgdGhlIGZpbmFsIG1hdGNoZXJPdXQgYnkgY29uZGVuc2luZyB0aGlzIGludGVybWVkaWF0ZSBpbnRvIHBvc3RGaW5kZXIgY29udGV4dHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcCA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gbWF0Y2hlck91dC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZWxlbSA9IG1hdGNoZXJPdXRbaV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVzdG9yZSBtYXRjaGVySW4gc2luY2UgZWxlbSBpcyBub3QgeWV0IGEgZmluYWwgbWF0Y2hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnB1c2goKG1hdGNoZXJJbltpXSA9IGVsZW0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3N0RmluZGVyKG51bGwsIChtYXRjaGVyT3V0ID0gW10pLCB0ZW1wLCB4bWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNb3ZlIG1hdGNoZWQgZWxlbWVudHMgZnJvbSBzZWVkIHRvIHJlc3VsdHMgdG8ga2VlcCB0aGVtIHN5bmNocm9uaXplZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBtYXRjaGVyT3V0Lmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZWxlbSA9IG1hdGNoZXJPdXRbaV0pICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodGVtcCA9IHBvc3RGaW5kZXIgPyBpbmRleE9mLmNhbGwoc2VlZCwgZWxlbSkgOiBwcmVNYXBbaV0pID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlZWRbdGVtcF0gPSAhKHJlc3VsdHNbdGVtcF0gPSBlbGVtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZCBlbGVtZW50cyB0byByZXN1bHRzLCB0aHJvdWdoIHBvc3RGaW5kZXIgaWYgZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlck91dCA9IGNvbmRlbnNlKG1hdGNoZXJPdXQgPT09IHJlc3VsdHMgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZXJPdXQuc3BsaWNlKHByZWV4aXN0aW5nLCBtYXRjaGVyT3V0Lmxlbmd0aCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZXJPdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBvc3RGaW5kZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3N0RmluZGVyKG51bGwsIHJlc3VsdHMsIG1hdGNoZXJPdXQsIHhtbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdXNoLmFwcGx5KHJlc3VsdHMsIG1hdGNoZXJPdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBtYXRjaGVyRnJvbVRva2Vucyh0b2tlbnMpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hlY2tDb250ZXh0LCBtYXRjaGVyLCBqLCBsZW4gPSB0b2tlbnMubGVuZ3RoLCBsZWFkaW5nUmVsYXRpdmUgPSBFeHByLnJlbGF0aXZlW3Rva2Vuc1swXS50eXBlXSwgaW1wbGljaXRSZWxhdGl2ZSA9IGxlYWRpbmdSZWxhdGl2ZSB8fCBFeHByLnJlbGF0aXZlW1wiIFwiXSwgaSA9IGxlYWRpbmdSZWxhdGl2ZSA/IDEgOiAwLCBcbiAgICAgICAgICAgICAgICAvLyBUaGUgZm91bmRhdGlvbmFsIG1hdGNoZXIgZW5zdXJlcyB0aGF0IGVsZW1lbnRzIGFyZSByZWFjaGFibGUgZnJvbSB0b3AtbGV2ZWwgY29udGV4dChzKVxuICAgICAgICAgICAgICAgIG1hdGNoQ29udGV4dCA9IGFkZENvbWJpbmF0b3IoZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZW0gPT09IGNoZWNrQ29udGV4dDtcbiAgICAgICAgICAgICAgICB9LCBpbXBsaWNpdFJlbGF0aXZlLCB0cnVlKSwgbWF0Y2hBbnlDb250ZXh0ID0gYWRkQ29tYmluYXRvcihmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5kZXhPZi5jYWxsKGNoZWNrQ29udGV4dCwgZWxlbSkgPiAtMTtcbiAgICAgICAgICAgICAgICB9LCBpbXBsaWNpdFJlbGF0aXZlLCB0cnVlKSwgbWF0Y2hlcnMgPSBbZnVuY3Rpb24gKGVsZW0sIGNvbnRleHQsIHhtbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgMTErLCBFZGdlIDE3IC0gMTgrXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhIFwiUGVybWlzc2lvbiBkZW5pZWRcIiBlcnJvciB3aGVuIHN0cmljdC1jb21wYXJpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHR3byBkb2N1bWVudHM7IHNoYWxsb3cgY29tcGFyaXNvbnMgd29yay5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXQgPSAoIWxlYWRpbmdSZWxhdGl2ZSAmJiAoeG1sIHx8IGNvbnRleHQgIT0gb3V0ZXJtb3N0Q29udGV4dCkpIHx8ICgoY2hlY2tDb250ZXh0ID0gY29udGV4dCkubm9kZVR5cGUgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoQ29udGV4dChlbGVtLCBjb250ZXh0LCB4bWwpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaEFueUNvbnRleHQoZWxlbSwgY29udGV4dCwgeG1sKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBdm9pZCBoYW5naW5nIG9udG8gZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gKHNlZSBodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5L3NpenpsZS9pc3N1ZXMvMjk5KVxuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tDb250ZXh0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgICAgICAgICAgICAgIH1dO1xuICAgICAgICAgICAgICAgIGZvciAoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKChtYXRjaGVyID0gRXhwci5yZWxhdGl2ZVt0b2tlbnNbaV0udHlwZV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVycyA9IFthZGRDb21iaW5hdG9yKGVsZW1lbnRNYXRjaGVyKG1hdGNoZXJzKSwgbWF0Y2hlcildO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlciA9IEV4cHIuZmlsdGVyW3Rva2Vuc1tpXS50eXBlXS5hcHBseShudWxsLCB0b2tlbnNbaV0ubWF0Y2hlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXR1cm4gc3BlY2lhbCB1cG9uIHNlZWluZyBhIHBvc2l0aW9uYWwgbWF0Y2hlclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoZXJbZXhwYW5kb10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGaW5kIHRoZSBuZXh0IHJlbGF0aXZlIG9wZXJhdG9yIChpZiBhbnkpIGZvciBwcm9wZXIgaGFuZGxpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqID0gKytpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEV4cHIucmVsYXRpdmVbdG9rZW5zW2pdLnR5cGVdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2V0TWF0Y2hlcihpID4gMSAmJiBlbGVtZW50TWF0Y2hlcihtYXRjaGVycyksIGkgPiAxICYmIHRvU2VsZWN0b3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIHByZWNlZGluZyB0b2tlbiB3YXMgYSBkZXNjZW5kYW50IGNvbWJpbmF0b3IsIGluc2VydCBhbiBpbXBsaWNpdCBhbnktZWxlbWVudCBgKmBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2tlbnMuc2xpY2UoMCwgaSAtIDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jb25jYXQoeyB2YWx1ZTogdG9rZW5zW2kgLSAyXS50eXBlID09PSBcIiBcIiA/IFwiKlwiIDogXCJcIiB9KSkucmVwbGFjZShydHJpbUNTUywgXCIkMVwiKSwgbWF0Y2hlciwgaSA8IGogJiYgbWF0Y2hlckZyb21Ub2tlbnModG9rZW5zLnNsaWNlKGksIGopKSwgaiA8IGxlbiAmJiBtYXRjaGVyRnJvbVRva2VucygodG9rZW5zID0gdG9rZW5zLnNsaWNlKGopKSksIGogPCBsZW4gJiYgdG9TZWxlY3Rvcih0b2tlbnMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZXJzLnB1c2gobWF0Y2hlcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnRNYXRjaGVyKG1hdGNoZXJzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIG1hdGNoZXJGcm9tR3JvdXBNYXRjaGVycyhlbGVtZW50TWF0Y2hlcnMsIHNldE1hdGNoZXJzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJ5U2V0ID0gc2V0TWF0Y2hlcnMubGVuZ3RoID4gMCwgYnlFbGVtZW50ID0gZWxlbWVudE1hdGNoZXJzLmxlbmd0aCA+IDAsIHN1cGVyTWF0Y2hlciA9IGZ1bmN0aW9uIChzZWVkLCBjb250ZXh0LCB4bWwsIHJlc3VsdHMsIG91dGVybW9zdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbSwgaiwgbWF0Y2hlciwgbWF0Y2hlZENvdW50ID0gMCwgaSA9IFwiMFwiLCB1bm1hdGNoZWQgPSBzZWVkICYmIFtdLCBzZXRNYXRjaGVkID0gW10sIGNvbnRleHRCYWNrdXAgPSBvdXRlcm1vc3RDb250ZXh0LCBcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgbXVzdCBhbHdheXMgaGF2ZSBlaXRoZXIgc2VlZCBlbGVtZW50cyBvciBvdXRlcm1vc3QgY29udGV4dFxuICAgICAgICAgICAgICAgICAgICBlbGVtcyA9IHNlZWQgfHwgYnlFbGVtZW50ICYmIEV4cHIuZmluZC5UQUcoXCIqXCIsIG91dGVybW9zdCksIFxuICAgICAgICAgICAgICAgICAgICAvLyBVc2UgaW50ZWdlciBkaXJydW5zIGlmZiB0aGlzIGlzIHRoZSBvdXRlcm1vc3QgbWF0Y2hlclxuICAgICAgICAgICAgICAgICAgICBkaXJydW5zVW5pcXVlID0gKGRpcnJ1bnMgKz0gY29udGV4dEJhY2t1cCA9PSBudWxsID8gMSA6IE1hdGgucmFuZG9tKCkgfHwgMC4xKSwgbGVuID0gZWxlbXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBpZiAob3V0ZXJtb3N0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSAxMSssIEVkZ2UgMTcgLSAxOCtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgXCJQZXJtaXNzaW9uIGRlbmllZFwiIGVycm9yIHdoZW4gc3RyaWN0LWNvbXBhcmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHdvIGRvY3VtZW50czsgc2hhbGxvdyBjb21wYXJpc29ucyB3b3JrLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0ZXJtb3N0Q29udGV4dCA9IGNvbnRleHQgPT0gZG9jdW1lbnQgfHwgY29udGV4dCB8fCBvdXRlcm1vc3Q7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gQWRkIGVsZW1lbnRzIHBhc3NpbmcgZWxlbWVudE1hdGNoZXJzIGRpcmVjdGx5IHRvIHJlc3VsdHNcbiAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogaU9TIDw9NyAtIDkgb25seVxuICAgICAgICAgICAgICAgICAgICAvLyBUb2xlcmF0ZSBOb2RlTGlzdCBwcm9wZXJ0aWVzIChJRTogXCJsZW5ndGhcIjsgU2FmYXJpOiA8bnVtYmVyPikgbWF0Y2hpbmdcbiAgICAgICAgICAgICAgICAgICAgLy8gZWxlbWVudHMgYnkgaWQuIChzZWUgdHJhYy0xNDE0MilcbiAgICAgICAgICAgICAgICAgICAgZm9yICg7IGkgIT09IGxlbiAmJiAoZWxlbSA9IGVsZW1zW2ldKSAhPSBudWxsOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChieUVsZW1lbnQgJiYgZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGogPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4K1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgXCJQZXJtaXNzaW9uIGRlbmllZFwiIGVycm9yIHdoZW4gc3RyaWN0LWNvbXBhcmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHR3byBkb2N1bWVudHM7IHNoYWxsb3cgY29tcGFyaXNvbnMgd29yay5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjb250ZXh0ICYmIGVsZW0ub3duZXJEb2N1bWVudCAhPSBkb2N1bWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXREb2N1bWVudChlbGVtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeG1sID0gIWRvY3VtZW50SXNIVE1MO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKG1hdGNoZXIgPSBlbGVtZW50TWF0Y2hlcnNbaisrXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoZXIoZWxlbSwgY29udGV4dCB8fCBkb2N1bWVudCwgeG1sKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHVzaC5jYWxsKHJlc3VsdHMsIGVsZW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG91dGVybW9zdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXJydW5zID0gZGlycnVuc1VuaXF1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUcmFjayB1bm1hdGNoZWQgZWxlbWVudHMgZm9yIHNldCBmaWx0ZXJzXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYnlTZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGV5IHdpbGwgaGF2ZSBnb25lIHRocm91Z2ggYWxsIHBvc3NpYmxlIG1hdGNoZXJzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChlbGVtID0gIW1hdGNoZXIgJiYgZWxlbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZENvdW50LS07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIExlbmd0aGVuIHRoZSBhcnJheSBmb3IgZXZlcnkgZWxlbWVudCwgbWF0Y2hlZCBvciBub3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bm1hdGNoZWQucHVzaChlbGVtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gYGlgIGlzIG5vdyB0aGUgY291bnQgb2YgZWxlbWVudHMgdmlzaXRlZCBhYm92ZSwgYW5kIGFkZGluZyBpdCB0byBgbWF0Y2hlZENvdW50YFxuICAgICAgICAgICAgICAgICAgICAvLyBtYWtlcyB0aGUgbGF0dGVyIG5vbm5lZ2F0aXZlLlxuICAgICAgICAgICAgICAgICAgICBtYXRjaGVkQ291bnQgKz0gaTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQXBwbHkgc2V0IGZpbHRlcnMgdG8gdW5tYXRjaGVkIGVsZW1lbnRzXG4gICAgICAgICAgICAgICAgICAgIC8vIE5PVEU6IFRoaXMgY2FuIGJlIHNraXBwZWQgaWYgdGhlcmUgYXJlIG5vIHVubWF0Y2hlZCBlbGVtZW50cyAoaS5lLiwgYG1hdGNoZWRDb3VudGBcbiAgICAgICAgICAgICAgICAgICAgLy8gZXF1YWxzIGBpYCksIHVubGVzcyB3ZSBkaWRuJ3QgdmlzaXQgX2FueV8gZWxlbWVudHMgaW4gdGhlIGFib3ZlIGxvb3AgYmVjYXVzZSB3ZSBoYXZlXG4gICAgICAgICAgICAgICAgICAgIC8vIG5vIGVsZW1lbnQgbWF0Y2hlcnMgYW5kIG5vIHNlZWQuXG4gICAgICAgICAgICAgICAgICAgIC8vIEluY3JlbWVudGluZyBhbiBpbml0aWFsbHktc3RyaW5nIFwiMFwiIGBpYCBhbGxvd3MgYGlgIHRvIHJlbWFpbiBhIHN0cmluZyBvbmx5IGluIHRoYXRcbiAgICAgICAgICAgICAgICAgICAgLy8gY2FzZSwgd2hpY2ggd2lsbCByZXN1bHQgaW4gYSBcIjAwXCIgYG1hdGNoZWRDb3VudGAgdGhhdCBkaWZmZXJzIGZyb20gYGlgIGJ1dCBpcyBhbHNvXG4gICAgICAgICAgICAgICAgICAgIC8vIG51bWVyaWNhbGx5IHplcm8uXG4gICAgICAgICAgICAgICAgICAgIGlmIChieVNldCAmJiBpICE9PSBtYXRjaGVkQ291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGogPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKChtYXRjaGVyID0gc2V0TWF0Y2hlcnNbaisrXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVyKHVubWF0Y2hlZCwgc2V0TWF0Y2hlZCwgY29udGV4dCwgeG1sKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVpbnRlZ3JhdGUgZWxlbWVudCBtYXRjaGVzIHRvIGVsaW1pbmF0ZSB0aGUgbmVlZCBmb3Igc29ydGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaGVkQ291bnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHVubWF0Y2hlZFtpXSB8fCBzZXRNYXRjaGVkW2ldKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldE1hdGNoZWRbaV0gPSBwb3AuY2FsbChyZXN1bHRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEaXNjYXJkIGluZGV4IHBsYWNlaG9sZGVyIHZhbHVlcyB0byBnZXQgb25seSBhY3R1YWwgbWF0Y2hlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldE1hdGNoZWQgPSBjb25kZW5zZShzZXRNYXRjaGVkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZCBtYXRjaGVzIHRvIHJlc3VsdHNcbiAgICAgICAgICAgICAgICAgICAgICAgIHB1c2guYXBwbHkocmVzdWx0cywgc2V0TWF0Y2hlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTZWVkbGVzcyBzZXQgbWF0Y2hlcyBzdWNjZWVkaW5nIG11bHRpcGxlIHN1Y2Nlc3NmdWwgbWF0Y2hlcnMgc3RpcHVsYXRlIHNvcnRpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvdXRlcm1vc3QgJiYgIXNlZWQgJiYgc2V0TWF0Y2hlZC5sZW5ndGggPiAwICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKG1hdGNoZWRDb3VudCArIHNldE1hdGNoZXJzLmxlbmd0aCkgPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LnVuaXF1ZVNvcnQocmVzdWx0cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gT3ZlcnJpZGUgbWFuaXB1bGF0aW9uIG9mIGdsb2JhbHMgYnkgbmVzdGVkIG1hdGNoZXJzXG4gICAgICAgICAgICAgICAgICAgIGlmIChvdXRlcm1vc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpcnJ1bnMgPSBkaXJydW5zVW5pcXVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3V0ZXJtb3N0Q29udGV4dCA9IGNvbnRleHRCYWNrdXA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVubWF0Y2hlZDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiBieVNldCA/XG4gICAgICAgICAgICAgICAgICAgIG1hcmtGdW5jdGlvbihzdXBlck1hdGNoZXIpIDpcbiAgICAgICAgICAgICAgICAgICAgc3VwZXJNYXRjaGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gY29tcGlsZShzZWxlY3RvciwgbWF0Y2ggLyogSW50ZXJuYWwgVXNlIE9ubHkgKi8pIHtcbiAgICAgICAgICAgICAgICB2YXIgaSwgc2V0TWF0Y2hlcnMgPSBbXSwgZWxlbWVudE1hdGNoZXJzID0gW10sIGNhY2hlZCA9IGNvbXBpbGVyQ2FjaGVbc2VsZWN0b3IgKyBcIiBcIl07XG4gICAgICAgICAgICAgICAgaWYgKCFjYWNoZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gR2VuZXJhdGUgYSBmdW5jdGlvbiBvZiByZWN1cnNpdmUgZnVuY3Rpb25zIHRoYXQgY2FuIGJlIHVzZWQgdG8gY2hlY2sgZWFjaCBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoID0gdG9rZW5pemUoc2VsZWN0b3IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGkgPSBtYXRjaC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlZCA9IG1hdGNoZXJGcm9tVG9rZW5zKG1hdGNoW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWNoZWRbZXhwYW5kb10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRNYXRjaGVycy5wdXNoKGNhY2hlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50TWF0Y2hlcnMucHVzaChjYWNoZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIENhY2hlIHRoZSBjb21waWxlZCBmdW5jdGlvblxuICAgICAgICAgICAgICAgICAgICBjYWNoZWQgPSBjb21waWxlckNhY2hlKHNlbGVjdG9yLCBtYXRjaGVyRnJvbUdyb3VwTWF0Y2hlcnMoZWxlbWVudE1hdGNoZXJzLCBzZXRNYXRjaGVycykpO1xuICAgICAgICAgICAgICAgICAgICAvLyBTYXZlIHNlbGVjdG9yIGFuZCB0b2tlbml6YXRpb25cbiAgICAgICAgICAgICAgICAgICAgY2FjaGVkLnNlbGVjdG9yID0gc2VsZWN0b3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBjYWNoZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEEgbG93LWxldmVsIHNlbGVjdGlvbiBmdW5jdGlvbiB0aGF0IHdvcmtzIHdpdGggalF1ZXJ5J3MgY29tcGlsZWRcbiAgICAgICAgICAgICAqICBzZWxlY3RvciBmdW5jdGlvbnNcbiAgICAgICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfEZ1bmN0aW9ufSBzZWxlY3RvciBBIHNlbGVjdG9yIG9yIGEgcHJlLWNvbXBpbGVkXG4gICAgICAgICAgICAgKiAgc2VsZWN0b3IgZnVuY3Rpb24gYnVpbHQgd2l0aCBqUXVlcnkgc2VsZWN0b3IgY29tcGlsZVxuICAgICAgICAgICAgICogQHBhcmFtIHtFbGVtZW50fSBjb250ZXh0XG4gICAgICAgICAgICAgKiBAcGFyYW0ge0FycmF5fSBbcmVzdWx0c11cbiAgICAgICAgICAgICAqIEBwYXJhbSB7QXJyYXl9IFtzZWVkXSBBIHNldCBvZiBlbGVtZW50cyB0byBtYXRjaCBhZ2FpbnN0XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGZ1bmN0aW9uIHNlbGVjdChzZWxlY3RvciwgY29udGV4dCwgcmVzdWx0cywgc2VlZCkge1xuICAgICAgICAgICAgICAgIHZhciBpLCB0b2tlbnMsIHRva2VuLCB0eXBlLCBmaW5kLCBjb21waWxlZCA9IHR5cGVvZiBzZWxlY3RvciA9PT0gXCJmdW5jdGlvblwiICYmIHNlbGVjdG9yLCBtYXRjaCA9ICFzZWVkICYmIHRva2VuaXplKChzZWxlY3RvciA9IGNvbXBpbGVkLnNlbGVjdG9yIHx8IHNlbGVjdG9yKSk7XG4gICAgICAgICAgICAgICAgcmVzdWx0cyA9IHJlc3VsdHMgfHwgW107XG4gICAgICAgICAgICAgICAgLy8gVHJ5IHRvIG1pbmltaXplIG9wZXJhdGlvbnMgaWYgdGhlcmUgaXMgb25seSBvbmUgc2VsZWN0b3IgaW4gdGhlIGxpc3QgYW5kIG5vIHNlZWRcbiAgICAgICAgICAgICAgICAvLyAodGhlIGxhdHRlciBvZiB3aGljaCBndWFyYW50ZWVzIHVzIGNvbnRleHQpXG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBSZWR1Y2UgY29udGV4dCBpZiB0aGUgbGVhZGluZyBjb21wb3VuZCBzZWxlY3RvciBpcyBhbiBJRFxuICAgICAgICAgICAgICAgICAgICB0b2tlbnMgPSBtYXRjaFswXSA9IG1hdGNoWzBdLnNsaWNlKDApO1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW5zLmxlbmd0aCA+IDIgJiYgKHRva2VuID0gdG9rZW5zWzBdKS50eXBlID09PSBcIklEXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubm9kZVR5cGUgPT09IDkgJiYgZG9jdW1lbnRJc0hUTUwgJiYgRXhwci5yZWxhdGl2ZVt0b2tlbnNbMV0udHlwZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQgPSAoRXhwci5maW5kLklEKHRva2VuLm1hdGNoZXNbMF0ucmVwbGFjZShydW5lc2NhcGUsIGZ1bmVzY2FwZSksIGNvbnRleHQpIHx8IFtdKVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY29udGV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFByZWNvbXBpbGVkIG1hdGNoZXJzIHdpbGwgc3RpbGwgdmVyaWZ5IGFuY2VzdHJ5LCBzbyBzdGVwIHVwIGEgbGV2ZWxcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNvbXBpbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dCA9IGNvbnRleHQucGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yID0gc2VsZWN0b3Iuc2xpY2UodG9rZW5zLnNoaWZ0KCkudmFsdWUubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBGZXRjaCBhIHNlZWQgc2V0IGZvciByaWdodC10by1sZWZ0IG1hdGNoaW5nXG4gICAgICAgICAgICAgICAgICAgIGkgPSBtYXRjaEV4cHIubmVlZHNDb250ZXh0LnRlc3Qoc2VsZWN0b3IpID8gMCA6IHRva2Vucy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuID0gdG9rZW5zW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWJvcnQgaWYgd2UgaGl0IGEgY29tYmluYXRvclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEV4cHIucmVsYXRpdmVbKHR5cGUgPSB0b2tlbi50eXBlKV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZmluZCA9IEV4cHIuZmluZFt0eXBlXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZWFyY2gsIGV4cGFuZGluZyBjb250ZXh0IGZvciBsZWFkaW5nIHNpYmxpbmcgY29tYmluYXRvcnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHNlZWQgPSBmaW5kKHRva2VuLm1hdGNoZXNbMF0ucmVwbGFjZShydW5lc2NhcGUsIGZ1bmVzY2FwZSksIHJzaWJsaW5nLnRlc3QodG9rZW5zWzBdLnR5cGUpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlc3RDb250ZXh0KGNvbnRleHQucGFyZW50Tm9kZSkgfHwgY29udGV4dCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHNlZWQgaXMgZW1wdHkgb3Igbm8gdG9rZW5zIHJlbWFpbiwgd2UgY2FuIHJldHVybiBlYXJseVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2tlbnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RvciA9IHNlZWQubGVuZ3RoICYmIHRvU2VsZWN0b3IodG9rZW5zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHVzaC5hcHBseShyZXN1bHRzLCBzZWVkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBDb21waWxlIGFuZCBleGVjdXRlIGEgZmlsdGVyaW5nIGZ1bmN0aW9uIGlmIG9uZSBpcyBub3QgcHJvdmlkZWRcbiAgICAgICAgICAgICAgICAvLyBQcm92aWRlIGBtYXRjaGAgdG8gYXZvaWQgcmV0b2tlbml6YXRpb24gaWYgd2UgbW9kaWZpZWQgdGhlIHNlbGVjdG9yIGFib3ZlXG4gICAgICAgICAgICAgICAgKGNvbXBpbGVkIHx8IGNvbXBpbGUoc2VsZWN0b3IsIG1hdGNoKSkoc2VlZCwgY29udGV4dCwgIWRvY3VtZW50SXNIVE1MLCByZXN1bHRzLCAhY29udGV4dCB8fCByc2libGluZy50ZXN0KHNlbGVjdG9yKSAmJiB0ZXN0Q29udGV4dChjb250ZXh0LnBhcmVudE5vZGUpIHx8IGNvbnRleHQpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gT25lLXRpbWUgYXNzaWdubWVudHNcbiAgICAgICAgICAgIC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgLSA0LjErXG4gICAgICAgICAgICAvLyBTb3J0IHN0YWJpbGl0eVxuICAgICAgICAgICAgc3VwcG9ydC5zb3J0U3RhYmxlID0gZXhwYW5kby5zcGxpdChcIlwiKS5zb3J0KHNvcnRPcmRlcikuam9pbihcIlwiKSA9PT0gZXhwYW5kbztcbiAgICAgICAgICAgIC8vIEluaXRpYWxpemUgYWdhaW5zdCB0aGUgZGVmYXVsdCBkb2N1bWVudFxuICAgICAgICAgICAgc2V0RG9jdW1lbnQoKTtcbiAgICAgICAgICAgIC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgLSA0LjErXG4gICAgICAgICAgICAvLyBEZXRhY2hlZCBub2RlcyBjb25mb3VuZGluZ2x5IGZvbGxvdyAqZWFjaCBvdGhlcipcbiAgICAgICAgICAgIHN1cHBvcnQuc29ydERldGFjaGVkID0gYXNzZXJ0KGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgICAgIC8vIFNob3VsZCByZXR1cm4gMSwgYnV0IHJldHVybnMgNCAoZm9sbG93aW5nKVxuICAgICAgICAgICAgICAgIHJldHVybiBlbC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZmllbGRzZXRcIikpICYgMTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgalF1ZXJ5LmZpbmQgPSBmaW5kO1xuICAgICAgICAgICAgLy8gRGVwcmVjYXRlZFxuICAgICAgICAgICAgalF1ZXJ5LmV4cHJbXCI6XCJdID0galF1ZXJ5LmV4cHIucHNldWRvcztcbiAgICAgICAgICAgIGpRdWVyeS51bmlxdWUgPSBqUXVlcnkudW5pcXVlU29ydDtcbiAgICAgICAgICAgIC8vIFRoZXNlIGhhdmUgYWx3YXlzIGJlZW4gcHJpdmF0ZSwgYnV0IHRoZXkgdXNlZCB0byBiZSBkb2N1bWVudGVkIGFzIHBhcnQgb2ZcbiAgICAgICAgICAgIC8vIFNpenpsZSBzbyBsZXQncyBtYWludGFpbiB0aGVtIGZvciBub3cgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHB1cnBvc2VzLlxuICAgICAgICAgICAgZmluZC5jb21waWxlID0gY29tcGlsZTtcbiAgICAgICAgICAgIGZpbmQuc2VsZWN0ID0gc2VsZWN0O1xuICAgICAgICAgICAgZmluZC5zZXREb2N1bWVudCA9IHNldERvY3VtZW50O1xuICAgICAgICAgICAgZmluZC50b2tlbml6ZSA9IHRva2VuaXplO1xuICAgICAgICAgICAgZmluZC5lc2NhcGUgPSBqUXVlcnkuZXNjYXBlU2VsZWN0b3I7XG4gICAgICAgICAgICBmaW5kLmdldFRleHQgPSBqUXVlcnkudGV4dDtcbiAgICAgICAgICAgIGZpbmQuaXNYTUwgPSBqUXVlcnkuaXNYTUxEb2M7XG4gICAgICAgICAgICBmaW5kLnNlbGVjdG9ycyA9IGpRdWVyeS5leHByO1xuICAgICAgICAgICAgZmluZC5zdXBwb3J0ID0galF1ZXJ5LnN1cHBvcnQ7XG4gICAgICAgICAgICBmaW5kLnVuaXF1ZVNvcnQgPSBqUXVlcnkudW5pcXVlU29ydDtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgKi9cbiAgICAgICAgfSkoKTtcbiAgICAgICAgdmFyIGRpciA9IGZ1bmN0aW9uIChlbGVtLCBkaXIsIHVudGlsKSB7XG4gICAgICAgICAgICB2YXIgbWF0Y2hlZCA9IFtdLCB0cnVuY2F0ZSA9IHVudGlsICE9PSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB3aGlsZSAoKGVsZW0gPSBlbGVtW2Rpcl0pICYmIGVsZW0ubm9kZVR5cGUgIT09IDkpIHtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbS5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHJ1bmNhdGUgJiYgalF1ZXJ5KGVsZW0pLmlzKHVudGlsKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZC5wdXNoKGVsZW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBtYXRjaGVkO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgc2libGluZ3MgPSBmdW5jdGlvbiAobiwgZWxlbSkge1xuICAgICAgICAgICAgdmFyIG1hdGNoZWQgPSBbXTtcbiAgICAgICAgICAgIGZvciAoOyBuOyBuID0gbi5uZXh0U2libGluZykge1xuICAgICAgICAgICAgICAgIGlmIChuLm5vZGVUeXBlID09PSAxICYmIG4gIT09IGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZC5wdXNoKG4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBtYXRjaGVkO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgcm5lZWRzQ29udGV4dCA9IGpRdWVyeS5leHByLm1hdGNoLm5lZWRzQ29udGV4dDtcbiAgICAgICAgdmFyIHJzaW5nbGVUYWcgPSAoL148KFthLXpdW15cXC9cXDA+OlxceDIwXFx0XFxyXFxuXFxmXSopW1xceDIwXFx0XFxyXFxuXFxmXSpcXC8/Pig/OjxcXC9cXDE+fCkkL2kpO1xuICAgICAgICAvLyBJbXBsZW1lbnQgdGhlIGlkZW50aWNhbCBmdW5jdGlvbmFsaXR5IGZvciBmaWx0ZXIgYW5kIG5vdFxuICAgICAgICBmdW5jdGlvbiB3aW5ub3coZWxlbWVudHMsIHF1YWxpZmllciwgbm90KSB7XG4gICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihxdWFsaWZpZXIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGpRdWVyeS5ncmVwKGVsZW1lbnRzLCBmdW5jdGlvbiAoZWxlbSwgaSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gISFxdWFsaWZpZXIuY2FsbChlbGVtLCBpLCBlbGVtKSAhPT0gbm90O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2luZ2xlIGVsZW1lbnRcbiAgICAgICAgICAgIGlmIChxdWFsaWZpZXIubm9kZVR5cGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4galF1ZXJ5LmdyZXAoZWxlbWVudHMsIGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoZWxlbSA9PT0gcXVhbGlmaWVyKSAhPT0gbm90O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQXJyYXlsaWtlIG9mIGVsZW1lbnRzIChqUXVlcnksIGFyZ3VtZW50cywgQXJyYXkpXG4gICAgICAgICAgICBpZiAodHlwZW9mIHF1YWxpZmllciAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBqUXVlcnkuZ3JlcChlbGVtZW50cywgZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChpbmRleE9mLmNhbGwocXVhbGlmaWVyLCBlbGVtKSA+IC0xKSAhPT0gbm90O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRmlsdGVyZWQgZGlyZWN0bHkgZm9yIGJvdGggc2ltcGxlIGFuZCBjb21wbGV4IHNlbGVjdG9yc1xuICAgICAgICAgICAgcmV0dXJuIGpRdWVyeS5maWx0ZXIocXVhbGlmaWVyLCBlbGVtZW50cywgbm90KTtcbiAgICAgICAgfVxuICAgICAgICBqUXVlcnkuZmlsdGVyID0gZnVuY3Rpb24gKGV4cHIsIGVsZW1zLCBub3QpIHtcbiAgICAgICAgICAgIHZhciBlbGVtID0gZWxlbXNbMF07XG4gICAgICAgICAgICBpZiAobm90KSB7XG4gICAgICAgICAgICAgICAgZXhwciA9IFwiOm5vdChcIiArIGV4cHIgKyBcIilcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlbGVtcy5sZW5ndGggPT09IDEgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBqUXVlcnkuZmluZC5tYXRjaGVzU2VsZWN0b3IoZWxlbSwgZXhwcikgPyBbZWxlbV0gOiBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBqUXVlcnkuZmluZC5tYXRjaGVzKGV4cHIsIGpRdWVyeS5ncmVwKGVsZW1zLCBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbGVtLm5vZGVUeXBlID09PSAxO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9O1xuICAgICAgICBqUXVlcnkuZm4uZXh0ZW5kKHtcbiAgICAgICAgICAgIGZpbmQ6IGZ1bmN0aW9uIChzZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgIHZhciBpLCByZXQsIGxlbiA9IHRoaXMubGVuZ3RoLCBzZWxmID0gdGhpcztcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNlbGVjdG9yICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnB1c2hTdGFjayhqUXVlcnkoc2VsZWN0b3IpLmZpbHRlcihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoalF1ZXJ5LmNvbnRhaW5zKHNlbGZbaV0sIHRoaXMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXQgPSB0aGlzLnB1c2hTdGFjayhbXSk7XG4gICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeS5maW5kKHNlbGVjdG9yLCBzZWxmW2ldLCByZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbGVuID4gMSA/IGpRdWVyeS51bmlxdWVTb3J0KHJldCkgOiByZXQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmlsdGVyOiBmdW5jdGlvbiAoc2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wdXNoU3RhY2sod2lubm93KHRoaXMsIHNlbGVjdG9yIHx8IFtdLCBmYWxzZSkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5vdDogZnVuY3Rpb24gKHNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHVzaFN0YWNrKHdpbm5vdyh0aGlzLCBzZWxlY3RvciB8fCBbXSwgdHJ1ZSkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlzOiBmdW5jdGlvbiAoc2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gISF3aW5ub3codGhpcywgXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhpcyBpcyBhIHBvc2l0aW9uYWwvcmVsYXRpdmUgc2VsZWN0b3IsIGNoZWNrIG1lbWJlcnNoaXAgaW4gdGhlIHJldHVybmVkIHNldFxuICAgICAgICAgICAgICAgIC8vIHNvICQoXCJwOmZpcnN0XCIpLmlzKFwicDpsYXN0XCIpIHdvbid0IHJldHVybiB0cnVlIGZvciBhIGRvYyB3aXRoIHR3byBcInBcIi5cbiAgICAgICAgICAgICAgICB0eXBlb2Ygc2VsZWN0b3IgPT09IFwic3RyaW5nXCIgJiYgcm5lZWRzQ29udGV4dC50ZXN0KHNlbGVjdG9yKSA/XG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeShzZWxlY3RvcikgOlxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvciB8fCBbXSwgZmFsc2UpLmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIEluaXRpYWxpemUgYSBqUXVlcnkgb2JqZWN0XG4gICAgICAgIC8vIEEgY2VudHJhbCByZWZlcmVuY2UgdG8gdGhlIHJvb3QgalF1ZXJ5KGRvY3VtZW50KVxuICAgICAgICB2YXIgcm9vdGpRdWVyeSwgXG4gICAgICAgIC8vIEEgc2ltcGxlIHdheSB0byBjaGVjayBmb3IgSFRNTCBzdHJpbmdzXG4gICAgICAgIC8vIFByaW9yaXRpemUgI2lkIG92ZXIgPHRhZz4gdG8gYXZvaWQgWFNTIHZpYSBsb2NhdGlvbi5oYXNoICh0cmFjLTk1MjEpXG4gICAgICAgIC8vIFN0cmljdCBIVE1MIHJlY29nbml0aW9uICh0cmFjLTExMjkwOiBtdXN0IHN0YXJ0IHdpdGggPClcbiAgICAgICAgLy8gU2hvcnRjdXQgc2ltcGxlICNpZCBjYXNlIGZvciBzcGVlZFxuICAgICAgICBycXVpY2tFeHByID0gL14oPzpcXHMqKDxbXFx3XFxXXSs+KVtePl0qfCMoW1xcdy1dKykpJC8sIGluaXQgPSBqUXVlcnkuZm4uaW5pdCA9IGZ1bmN0aW9uIChzZWxlY3RvciwgY29udGV4dCwgcm9vdCkge1xuICAgICAgICAgICAgdmFyIG1hdGNoLCBlbGVtO1xuICAgICAgICAgICAgLy8gSEFORExFOiAkKFwiXCIpLCAkKG51bGwpLCAkKHVuZGVmaW5lZCksICQoZmFsc2UpXG4gICAgICAgICAgICBpZiAoIXNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBNZXRob2QgaW5pdCgpIGFjY2VwdHMgYW4gYWx0ZXJuYXRlIHJvb3RqUXVlcnlcbiAgICAgICAgICAgIC8vIHNvIG1pZ3JhdGUgY2FuIHN1cHBvcnQgalF1ZXJ5LnN1YiAoZ2gtMjEwMSlcbiAgICAgICAgICAgIHJvb3QgPSByb290IHx8IHJvb3RqUXVlcnk7XG4gICAgICAgICAgICAvLyBIYW5kbGUgSFRNTCBzdHJpbmdzXG4gICAgICAgICAgICBpZiAodHlwZW9mIHNlbGVjdG9yID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdG9yWzBdID09PSBcIjxcIiAmJlxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcltzZWxlY3Rvci5sZW5ndGggLSAxXSA9PT0gXCI+XCIgJiZcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3IubGVuZ3RoID49IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQXNzdW1lIHRoYXQgc3RyaW5ncyB0aGF0IHN0YXJ0IGFuZCBlbmQgd2l0aCA8PiBhcmUgSFRNTCBhbmQgc2tpcCB0aGUgcmVnZXggY2hlY2tcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2ggPSBbbnVsbCwgc2VsZWN0b3IsIG51bGxdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2ggPSBycXVpY2tFeHByLmV4ZWMoc2VsZWN0b3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBNYXRjaCBodG1sIG9yIG1ha2Ugc3VyZSBubyBjb250ZXh0IGlzIHNwZWNpZmllZCBmb3IgI2lkXG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoICYmIChtYXRjaFsxXSB8fCAhY29udGV4dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSEFORExFOiAkKGh0bWwpIC0+ICQoYXJyYXkpXG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaFsxXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dCA9IGNvbnRleHQgaW5zdGFuY2VvZiBqUXVlcnkgPyBjb250ZXh0WzBdIDogY29udGV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9wdGlvbiB0byBydW4gc2NyaXB0cyBpcyB0cnVlIGZvciBiYWNrLWNvbXBhdFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW50ZW50aW9uYWxseSBsZXQgdGhlIGVycm9yIGJlIHRocm93biBpZiBwYXJzZUhUTUwgaXMgbm90IHByZXNlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5tZXJnZSh0aGlzLCBqUXVlcnkucGFyc2VIVE1MKG1hdGNoWzFdLCBjb250ZXh0ICYmIGNvbnRleHQubm9kZVR5cGUgPyBjb250ZXh0Lm93bmVyRG9jdW1lbnQgfHwgY29udGV4dCA6IGRvY3VtZW50LCB0cnVlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBIQU5ETEU6ICQoaHRtbCwgcHJvcHMpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocnNpbmdsZVRhZy50ZXN0KG1hdGNoWzFdKSAmJiBqUXVlcnkuaXNQbGFpbk9iamVjdChjb250ZXh0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobWF0Y2ggaW4gY29udGV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQcm9wZXJ0aWVzIG9mIGNvbnRleHQgYXJlIGNhbGxlZCBhcyBtZXRob2RzIGlmIHBvc3NpYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKHRoaXNbbWF0Y2hdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1ttYXRjaF0oY29udGV4dFttYXRjaF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi4uYW5kIG90aGVyd2lzZSBzZXQgYXMgYXR0cmlidXRlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hdHRyKG1hdGNoLCBjb250ZXh0W21hdGNoXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhBTkRMRTogJCgjaWQpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobWF0Y2hbMl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJbmplY3QgdGhlIGVsZW1lbnQgZGlyZWN0bHkgaW50byB0aGUgalF1ZXJ5IG9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNbMF0gPSBlbGVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGVuZ3RoID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIEhBTkRMRTogJChleHByLCAkKC4uLikpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFjb250ZXh0IHx8IGNvbnRleHQuanF1ZXJ5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoY29udGV4dCB8fCByb290KS5maW5kKHNlbGVjdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gSEFORExFOiAkKGV4cHIsIGNvbnRleHQpXG4gICAgICAgICAgICAgICAgICAgIC8vICh3aGljaCBpcyBqdXN0IGVxdWl2YWxlbnQgdG86ICQoY29udGV4dCkuZmluZChleHByKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IoY29udGV4dCkuZmluZChzZWxlY3Rvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEhBTkRMRTogJChET01FbGVtZW50KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc2VsZWN0b3Iubm9kZVR5cGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzWzBdID0gc2VsZWN0b3I7XG4gICAgICAgICAgICAgICAgdGhpcy5sZW5ndGggPSAxO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIC8vIEhBTkRMRTogJChmdW5jdGlvbilcbiAgICAgICAgICAgICAgICAvLyBTaG9ydGN1dCBmb3IgZG9jdW1lbnQgcmVhZHlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzRnVuY3Rpb24oc2VsZWN0b3IpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJvb3QucmVhZHkgIT09IHVuZGVmaW5lZCA/XG4gICAgICAgICAgICAgICAgICAgIHJvb3QucmVhZHkoc2VsZWN0b3IpIDpcbiAgICAgICAgICAgICAgICAgICAgLy8gRXhlY3V0ZSBpbW1lZGlhdGVseSBpZiByZWFkeSBpcyBub3QgcHJlc2VudFxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcihqUXVlcnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGpRdWVyeS5tYWtlQXJyYXkoc2VsZWN0b3IsIHRoaXMpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBHaXZlIHRoZSBpbml0IGZ1bmN0aW9uIHRoZSBqUXVlcnkgcHJvdG90eXBlIGZvciBsYXRlciBpbnN0YW50aWF0aW9uXG4gICAgICAgIGluaXQucHJvdG90eXBlID0galF1ZXJ5LmZuO1xuICAgICAgICAvLyBJbml0aWFsaXplIGNlbnRyYWwgcmVmZXJlbmNlXG4gICAgICAgIHJvb3RqUXVlcnkgPSBqUXVlcnkoZG9jdW1lbnQpO1xuICAgICAgICB2YXIgcnBhcmVudHNwcmV2ID0gL14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sIFxuICAgICAgICAvLyBNZXRob2RzIGd1YXJhbnRlZWQgdG8gcHJvZHVjZSBhIHVuaXF1ZSBzZXQgd2hlbiBzdGFydGluZyBmcm9tIGEgdW5pcXVlIHNldFxuICAgICAgICBndWFyYW50ZWVkVW5pcXVlID0ge1xuICAgICAgICAgICAgY2hpbGRyZW46IHRydWUsXG4gICAgICAgICAgICBjb250ZW50czogdHJ1ZSxcbiAgICAgICAgICAgIG5leHQ6IHRydWUsXG4gICAgICAgICAgICBwcmV2OiB0cnVlXG4gICAgICAgIH07XG4gICAgICAgIGpRdWVyeS5mbi5leHRlbmQoe1xuICAgICAgICAgICAgaGFzOiBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgdmFyIHRhcmdldHMgPSBqUXVlcnkodGFyZ2V0LCB0aGlzKSwgbCA9IHRhcmdldHMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgICAgICAgICAgICAgZm9yICg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqUXVlcnkuY29udGFpbnModGhpcywgdGFyZ2V0c1tpXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNsb3Nlc3Q6IGZ1bmN0aW9uIChzZWxlY3RvcnMsIGNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICB2YXIgY3VyLCBpID0gMCwgbCA9IHRoaXMubGVuZ3RoLCBtYXRjaGVkID0gW10sIHRhcmdldHMgPSB0eXBlb2Ygc2VsZWN0b3JzICE9PSBcInN0cmluZ1wiICYmIGpRdWVyeShzZWxlY3RvcnMpO1xuICAgICAgICAgICAgICAgIC8vIFBvc2l0aW9uYWwgc2VsZWN0b3JzIG5ldmVyIG1hdGNoLCBzaW5jZSB0aGVyZSdzIG5vIF9zZWxlY3Rpb25fIGNvbnRleHRcbiAgICAgICAgICAgICAgICBpZiAoIXJuZWVkc0NvbnRleHQudGVzdChzZWxlY3RvcnMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGN1ciA9IHRoaXNbaV07IGN1ciAmJiBjdXIgIT09IGNvbnRleHQ7IGN1ciA9IGN1ci5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWx3YXlzIHNraXAgZG9jdW1lbnQgZnJhZ21lbnRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1ci5ub2RlVHlwZSA8IDExICYmICh0YXJnZXRzID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0cy5pbmRleChjdXIpID4gLTEgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEb24ndCBwYXNzIG5vbi1lbGVtZW50cyB0byBqUXVlcnkjZmluZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXIubm9kZVR5cGUgPT09IDEgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5maW5kLm1hdGNoZXNTZWxlY3RvcihjdXIsIHNlbGVjdG9ycykpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZWQucHVzaChjdXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHVzaFN0YWNrKG1hdGNoZWQubGVuZ3RoID4gMSA/IGpRdWVyeS51bmlxdWVTb3J0KG1hdGNoZWQpIDogbWF0Y2hlZCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gRGV0ZXJtaW5lIHRoZSBwb3NpdGlvbiBvZiBhbiBlbGVtZW50IHdpdGhpbiB0aGUgc2V0XG4gICAgICAgICAgICBpbmRleDogZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICAvLyBObyBhcmd1bWVudCwgcmV0dXJuIGluZGV4IGluIHBhcmVudFxuICAgICAgICAgICAgICAgIGlmICghZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHRoaXNbMF0gJiYgdGhpc1swXS5wYXJlbnROb2RlKSA/IHRoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoIDogLTE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEluZGV4IGluIHNlbGVjdG9yXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBlbGVtID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbmRleE9mLmNhbGwoalF1ZXJ5KGVsZW0pLCB0aGlzWzBdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gTG9jYXRlIHRoZSBwb3NpdGlvbiBvZiB0aGUgZGVzaXJlZCBlbGVtZW50XG4gICAgICAgICAgICAgICAgcmV0dXJuIGluZGV4T2YuY2FsbCh0aGlzLCBcbiAgICAgICAgICAgICAgICAvLyBJZiBpdCByZWNlaXZlcyBhIGpRdWVyeSBvYmplY3QsIHRoZSBmaXJzdCBlbGVtZW50IGlzIHVzZWRcbiAgICAgICAgICAgICAgICBlbGVtLmpxdWVyeSA/IGVsZW1bMF0gOiBlbGVtKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhZGQ6IGZ1bmN0aW9uIChzZWxlY3RvciwgY29udGV4dCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnB1c2hTdGFjayhqUXVlcnkudW5pcXVlU29ydChqUXVlcnkubWVyZ2UodGhpcy5nZXQoKSwgalF1ZXJ5KHNlbGVjdG9yLCBjb250ZXh0KSkpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhZGRCYWNrOiBmdW5jdGlvbiAoc2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hZGQoc2VsZWN0b3IgPT0gbnVsbCA/XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJldk9iamVjdCA6IHRoaXMucHJldk9iamVjdC5maWx0ZXIoc2VsZWN0b3IpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGZ1bmN0aW9uIHNpYmxpbmcoY3VyLCBkaXIpIHtcbiAgICAgICAgICAgIHdoaWxlICgoY3VyID0gY3VyW2Rpcl0pICYmIGN1ci5ub2RlVHlwZSAhPT0gMSkgeyB9XG4gICAgICAgICAgICByZXR1cm4gY3VyO1xuICAgICAgICB9XG4gICAgICAgIGpRdWVyeS5lYWNoKHtcbiAgICAgICAgICAgIHBhcmVudDogZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJlbnQgJiYgcGFyZW50Lm5vZGVUeXBlICE9PSAxMSA/IHBhcmVudCA6IG51bGw7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGFyZW50czogZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGlyKGVsZW0sIFwicGFyZW50Tm9kZVwiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYXJlbnRzVW50aWw6IGZ1bmN0aW9uIChlbGVtLCBfaSwgdW50aWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGlyKGVsZW0sIFwicGFyZW50Tm9kZVwiLCB1bnRpbCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbmV4dDogZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2libGluZyhlbGVtLCBcIm5leHRTaWJsaW5nXCIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHByZXY6IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNpYmxpbmcoZWxlbSwgXCJwcmV2aW91c1NpYmxpbmdcIik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbmV4dEFsbDogZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGlyKGVsZW0sIFwibmV4dFNpYmxpbmdcIik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcHJldkFsbDogZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGlyKGVsZW0sIFwicHJldmlvdXNTaWJsaW5nXCIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5leHRVbnRpbDogZnVuY3Rpb24gKGVsZW0sIF9pLCB1bnRpbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkaXIoZWxlbSwgXCJuZXh0U2libGluZ1wiLCB1bnRpbCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcHJldlVudGlsOiBmdW5jdGlvbiAoZWxlbSwgX2ksIHVudGlsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRpcihlbGVtLCBcInByZXZpb3VzU2libGluZ1wiLCB1bnRpbCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2libGluZ3M6IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNpYmxpbmdzKChlbGVtLnBhcmVudE5vZGUgfHwge30pLmZpcnN0Q2hpbGQsIGVsZW0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNoaWxkcmVuOiBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzaWJsaW5ncyhlbGVtLmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbnRlbnRzOiBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgIGlmIChlbGVtLmNvbnRlbnREb2N1bWVudCAhPSBudWxsICYmXG4gICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDExK1xuICAgICAgICAgICAgICAgICAgICAvLyA8b2JqZWN0PiBlbGVtZW50cyB3aXRoIG5vIGBkYXRhYCBhdHRyaWJ1dGUgaGFzIGFuIG9iamVjdFxuICAgICAgICAgICAgICAgICAgICAvLyBgY29udGVudERvY3VtZW50YCB3aXRoIGEgYG51bGxgIHByb3RvdHlwZS5cbiAgICAgICAgICAgICAgICAgICAgZ2V0UHJvdG8oZWxlbS5jb250ZW50RG9jdW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtLmNvbnRlbnREb2N1bWVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgOSAtIDExIG9ubHksIGlPUyA3IG9ubHksIEFuZHJvaWQgQnJvd3NlciA8PTQuMyBvbmx5XG4gICAgICAgICAgICAgICAgLy8gVHJlYXQgdGhlIHRlbXBsYXRlIGVsZW1lbnQgYXMgYSByZWd1bGFyIG9uZSBpbiBicm93c2VycyB0aGF0XG4gICAgICAgICAgICAgICAgLy8gZG9uJ3Qgc3VwcG9ydCBpdC5cbiAgICAgICAgICAgICAgICBpZiAobm9kZU5hbWUoZWxlbSwgXCJ0ZW1wbGF0ZVwiKSkge1xuICAgICAgICAgICAgICAgICAgICBlbGVtID0gZWxlbS5jb250ZW50IHx8IGVsZW07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBqUXVlcnkubWVyZ2UoW10sIGVsZW0uY2hpbGROb2Rlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uIChuYW1lLCBmbikge1xuICAgICAgICAgICAgalF1ZXJ5LmZuW25hbWVdID0gZnVuY3Rpb24gKHVudGlsLCBzZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgIHZhciBtYXRjaGVkID0galF1ZXJ5Lm1hcCh0aGlzLCBmbiwgdW50aWwpO1xuICAgICAgICAgICAgICAgIGlmIChuYW1lLnNsaWNlKC01KSAhPT0gXCJVbnRpbFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yID0gdW50aWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RvciAmJiB0eXBlb2Ygc2VsZWN0b3IgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZCA9IGpRdWVyeS5maWx0ZXIoc2VsZWN0b3IsIG1hdGNoZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBkdXBsaWNhdGVzXG4gICAgICAgICAgICAgICAgICAgIGlmICghZ3VhcmFudGVlZFVuaXF1ZVtuYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LnVuaXF1ZVNvcnQobWF0Y2hlZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gUmV2ZXJzZSBvcmRlciBmb3IgcGFyZW50cyogYW5kIHByZXYtZGVyaXZhdGl2ZXNcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJwYXJlbnRzcHJldi50ZXN0KG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVkLnJldmVyc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wdXNoU3RhY2sobWF0Y2hlZCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIHJub3RodG1sd2hpdGUgPSAoL1teXFx4MjBcXHRcXHJcXG5cXGZdKy9nKTtcbiAgICAgICAgLy8gQ29udmVydCBTdHJpbmctZm9ybWF0dGVkIG9wdGlvbnMgaW50byBPYmplY3QtZm9ybWF0dGVkIG9uZXNcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgICAgICB2YXIgb2JqZWN0ID0ge307XG4gICAgICAgICAgICBqUXVlcnkuZWFjaChvcHRpb25zLm1hdGNoKHJub3RodG1sd2hpdGUpIHx8IFtdLCBmdW5jdGlvbiAoXywgZmxhZykge1xuICAgICAgICAgICAgICAgIG9iamVjdFtmbGFnXSA9IHRydWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgIH1cbiAgICAgICAgLypcbiAgICAgICAgKiBDcmVhdGUgYSBjYWxsYmFjayBsaXN0IHVzaW5nIHRoZSBmb2xsb3dpbmcgcGFyYW1ldGVyczpcbiAgICAgICAgKlxuICAgICAgICAqXHRvcHRpb25zOiBhbiBvcHRpb25hbCBsaXN0IG9mIHNwYWNlLXNlcGFyYXRlZCBvcHRpb25zIHRoYXQgd2lsbCBjaGFuZ2UgaG93XG4gICAgICAgICpcdFx0XHR0aGUgY2FsbGJhY2sgbGlzdCBiZWhhdmVzIG9yIGEgbW9yZSB0cmFkaXRpb25hbCBvcHRpb24gb2JqZWN0XG4gICAgICAgICpcbiAgICAgICAgKiBCeSBkZWZhdWx0IGEgY2FsbGJhY2sgbGlzdCB3aWxsIGFjdCBsaWtlIGFuIGV2ZW50IGNhbGxiYWNrIGxpc3QgYW5kIGNhbiBiZVxuICAgICAgICAqIFwiZmlyZWRcIiBtdWx0aXBsZSB0aW1lcy5cbiAgICAgICAgKlxuICAgICAgICAqIFBvc3NpYmxlIG9wdGlvbnM6XG4gICAgICAgICpcbiAgICAgICAgKlx0b25jZTpcdFx0XHR3aWxsIGVuc3VyZSB0aGUgY2FsbGJhY2sgbGlzdCBjYW4gb25seSBiZSBmaXJlZCBvbmNlIChsaWtlIGEgRGVmZXJyZWQpXG4gICAgICAgICpcbiAgICAgICAgKlx0bWVtb3J5Olx0XHRcdHdpbGwga2VlcCB0cmFjayBvZiBwcmV2aW91cyB2YWx1ZXMgYW5kIHdpbGwgY2FsbCBhbnkgY2FsbGJhY2sgYWRkZWRcbiAgICAgICAgKlx0XHRcdFx0XHRhZnRlciB0aGUgbGlzdCBoYXMgYmVlbiBmaXJlZCByaWdodCBhd2F5IHdpdGggdGhlIGxhdGVzdCBcIm1lbW9yaXplZFwiXG4gICAgICAgICpcdFx0XHRcdFx0dmFsdWVzIChsaWtlIGEgRGVmZXJyZWQpXG4gICAgICAgICpcbiAgICAgICAgKlx0dW5pcXVlOlx0XHRcdHdpbGwgZW5zdXJlIGEgY2FsbGJhY2sgY2FuIG9ubHkgYmUgYWRkZWQgb25jZSAobm8gZHVwbGljYXRlIGluIHRoZSBsaXN0KVxuICAgICAgICAqXG4gICAgICAgICpcdHN0b3BPbkZhbHNlOlx0aW50ZXJydXB0IGNhbGxpbmdzIHdoZW4gYSBjYWxsYmFjayByZXR1cm5zIGZhbHNlXG4gICAgICAgICpcbiAgICAgICAgKi9cbiAgICAgICAgalF1ZXJ5LkNhbGxiYWNrcyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgICAgICAvLyBDb252ZXJ0IG9wdGlvbnMgZnJvbSBTdHJpbmctZm9ybWF0dGVkIHRvIE9iamVjdC1mb3JtYXR0ZWQgaWYgbmVlZGVkXG4gICAgICAgICAgICAvLyAod2UgY2hlY2sgaW4gY2FjaGUgZmlyc3QpXG4gICAgICAgICAgICBvcHRpb25zID0gdHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIgP1xuICAgICAgICAgICAgICAgIGNyZWF0ZU9wdGlvbnMob3B0aW9ucykgOlxuICAgICAgICAgICAgICAgIGpRdWVyeS5leHRlbmQoe30sIG9wdGlvbnMpO1xuICAgICAgICAgICAgdmFyIC8vIEZsYWcgdG8ga25vdyBpZiBsaXN0IGlzIGN1cnJlbnRseSBmaXJpbmdcbiAgICAgICAgICAgIGZpcmluZywgXG4gICAgICAgICAgICAvLyBMYXN0IGZpcmUgdmFsdWUgZm9yIG5vbi1mb3JnZXR0YWJsZSBsaXN0c1xuICAgICAgICAgICAgbWVtb3J5LCBcbiAgICAgICAgICAgIC8vIEZsYWcgdG8ga25vdyBpZiBsaXN0IHdhcyBhbHJlYWR5IGZpcmVkXG4gICAgICAgICAgICBmaXJlZCwgXG4gICAgICAgICAgICAvLyBGbGFnIHRvIHByZXZlbnQgZmlyaW5nXG4gICAgICAgICAgICBsb2NrZWQsIFxuICAgICAgICAgICAgLy8gQWN0dWFsIGNhbGxiYWNrIGxpc3RcbiAgICAgICAgICAgIGxpc3QgPSBbXSwgXG4gICAgICAgICAgICAvLyBRdWV1ZSBvZiBleGVjdXRpb24gZGF0YSBmb3IgcmVwZWF0YWJsZSBsaXN0c1xuICAgICAgICAgICAgcXVldWUgPSBbXSwgXG4gICAgICAgICAgICAvLyBJbmRleCBvZiBjdXJyZW50bHkgZmlyaW5nIGNhbGxiYWNrIChtb2RpZmllZCBieSBhZGQvcmVtb3ZlIGFzIG5lZWRlZClcbiAgICAgICAgICAgIGZpcmluZ0luZGV4ID0gLTEsIFxuICAgICAgICAgICAgLy8gRmlyZSBjYWxsYmFja3NcbiAgICAgICAgICAgIGZpcmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgLy8gRW5mb3JjZSBzaW5nbGUtZmlyaW5nXG4gICAgICAgICAgICAgICAgbG9ja2VkID0gbG9ja2VkIHx8IG9wdGlvbnMub25jZTtcbiAgICAgICAgICAgICAgICAvLyBFeGVjdXRlIGNhbGxiYWNrcyBmb3IgYWxsIHBlbmRpbmcgZXhlY3V0aW9ucyxcbiAgICAgICAgICAgICAgICAvLyByZXNwZWN0aW5nIGZpcmluZ0luZGV4IG92ZXJyaWRlcyBhbmQgcnVudGltZSBjaGFuZ2VzXG4gICAgICAgICAgICAgICAgZmlyZWQgPSBmaXJpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGZvciAoOyBxdWV1ZS5sZW5ndGg7IGZpcmluZ0luZGV4ID0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgbWVtb3J5ID0gcXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKCsrZmlyaW5nSW5kZXggPCBsaXN0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUnVuIGNhbGxiYWNrIGFuZCBjaGVjayBmb3IgZWFybHkgdGVybWluYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaXN0W2ZpcmluZ0luZGV4XS5hcHBseShtZW1vcnlbMF0sIG1lbW9yeVsxXSkgPT09IGZhbHNlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5zdG9wT25GYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEp1bXAgdG8gZW5kIGFuZCBmb3JnZXQgdGhlIGRhdGEgc28gLmFkZCBkb2Vzbid0IHJlLWZpcmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJpbmdJbmRleCA9IGxpc3QubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lbW9yeSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEZvcmdldCB0aGUgZGF0YSBpZiB3ZSdyZSBkb25lIHdpdGggaXRcbiAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMubWVtb3J5KSB7XG4gICAgICAgICAgICAgICAgICAgIG1lbW9yeSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaXJpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAvLyBDbGVhbiB1cCBpZiB3ZSdyZSBkb25lIGZpcmluZyBmb3IgZ29vZFxuICAgICAgICAgICAgICAgIGlmIChsb2NrZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gS2VlcCBhbiBlbXB0eSBsaXN0IGlmIHdlIGhhdmUgZGF0YSBmb3IgZnV0dXJlIGFkZCBjYWxsc1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVtb3J5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0ID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2UsIHRoaXMgb2JqZWN0IGlzIHNwZW50XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0ID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIFxuICAgICAgICAgICAgLy8gQWN0dWFsIENhbGxiYWNrcyBvYmplY3RcbiAgICAgICAgICAgIHNlbGYgPSB7XG4gICAgICAgICAgICAgICAgLy8gQWRkIGEgY2FsbGJhY2sgb3IgYSBjb2xsZWN0aW9uIG9mIGNhbGxiYWNrcyB0byB0aGUgbGlzdFxuICAgICAgICAgICAgICAgIGFkZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobGlzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZSBtZW1vcnkgZnJvbSBhIHBhc3QgcnVuLCB3ZSBzaG91bGQgZmlyZSBhZnRlciBhZGRpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZW1vcnkgJiYgIWZpcmluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcmluZ0luZGV4ID0gbGlzdC5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2gobWVtb3J5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIChmdW5jdGlvbiBhZGQoYXJncykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5lYWNoKGFyZ3MsIGZ1bmN0aW9uIChfLCBhcmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oYXJnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zLnVuaXF1ZSB8fCAhc2VsZi5oYXMoYXJnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QucHVzaChhcmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFyZyAmJiBhcmcubGVuZ3RoICYmIHRvVHlwZShhcmcpICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJbnNwZWN0IHJlY3Vyc2l2ZWx5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGQoYXJnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkoYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZW1vcnkgJiYgIWZpcmluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBhIGNhbGxiYWNrIGZyb20gdGhlIGxpc3RcbiAgICAgICAgICAgICAgICByZW1vdmU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmVhY2goYXJndW1lbnRzLCBmdW5jdGlvbiAoXywgYXJnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKGluZGV4ID0galF1ZXJ5LmluQXJyYXkoYXJnLCBsaXN0LCBpbmRleCkpID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0LnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSGFuZGxlIGZpcmluZyBpbmRleGVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4IDw9IGZpcmluZ0luZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcmluZ0luZGV4LS07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBhIGdpdmVuIGNhbGxiYWNrIGlzIGluIHRoZSBsaXN0LlxuICAgICAgICAgICAgICAgIC8vIElmIG5vIGFyZ3VtZW50IGlzIGdpdmVuLCByZXR1cm4gd2hldGhlciBvciBub3QgbGlzdCBoYXMgY2FsbGJhY2tzIGF0dGFjaGVkLlxuICAgICAgICAgICAgICAgIGhhczogZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmbiA/XG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuaW5BcnJheShmbiwgbGlzdCkgPiAtMSA6XG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0Lmxlbmd0aCA+IDA7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgYWxsIGNhbGxiYWNrcyBmcm9tIHRoZSBsaXN0XG4gICAgICAgICAgICAgICAgZW1wdHk6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC8vIERpc2FibGUgLmZpcmUgYW5kIC5hZGRcbiAgICAgICAgICAgICAgICAvLyBBYm9ydCBhbnkgY3VycmVudC9wZW5kaW5nIGV4ZWN1dGlvbnNcbiAgICAgICAgICAgICAgICAvLyBDbGVhciBhbGwgY2FsbGJhY2tzIGFuZCB2YWx1ZXNcbiAgICAgICAgICAgICAgICBkaXNhYmxlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvY2tlZCA9IHF1ZXVlID0gW107XG4gICAgICAgICAgICAgICAgICAgIGxpc3QgPSBtZW1vcnkgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGRpc2FibGVkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhbGlzdDtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC8vIERpc2FibGUgLmZpcmVcbiAgICAgICAgICAgICAgICAvLyBBbHNvIGRpc2FibGUgLmFkZCB1bmxlc3Mgd2UgaGF2ZSBtZW1vcnkgKHNpbmNlIGl0IHdvdWxkIGhhdmUgbm8gZWZmZWN0KVxuICAgICAgICAgICAgICAgIC8vIEFib3J0IGFueSBwZW5kaW5nIGV4ZWN1dGlvbnNcbiAgICAgICAgICAgICAgICBsb2NrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvY2tlZCA9IHF1ZXVlID0gW107XG4gICAgICAgICAgICAgICAgICAgIGlmICghbWVtb3J5ICYmICFmaXJpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QgPSBtZW1vcnkgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbG9ja2VkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhIWxvY2tlZDtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC8vIENhbGwgYWxsIGNhbGxiYWNrcyB3aXRoIHRoZSBnaXZlbiBjb250ZXh0IGFuZCBhcmd1bWVudHNcbiAgICAgICAgICAgICAgICBmaXJlV2l0aDogZnVuY3Rpb24gKGNvbnRleHQsIGFyZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFsb2NrZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MgPSBhcmdzIHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJncyA9IFtjb250ZXh0LCBhcmdzLnNsaWNlID8gYXJncy5zbGljZSgpIDogYXJnc107XG4gICAgICAgICAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFmaXJpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvLyBDYWxsIGFsbCB0aGUgY2FsbGJhY2tzIHdpdGggdGhlIGdpdmVuIGFyZ3VtZW50c1xuICAgICAgICAgICAgICAgIGZpcmU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5maXJlV2l0aCh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC8vIFRvIGtub3cgaWYgdGhlIGNhbGxiYWNrcyBoYXZlIGFscmVhZHkgYmVlbiBjYWxsZWQgYXQgbGVhc3Qgb25jZVxuICAgICAgICAgICAgICAgIGZpcmVkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhIWZpcmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgICAgfTtcbiAgICAgICAgZnVuY3Rpb24gSWRlbnRpdHkodikge1xuICAgICAgICAgICAgcmV0dXJuIHY7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gVGhyb3dlcihleCkge1xuICAgICAgICAgICAgdGhyb3cgZXg7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gYWRvcHRWYWx1ZSh2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0LCBub1ZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgbWV0aG9kO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgcHJvbWlzZSBhc3BlY3QgZmlyc3QgdG8gcHJpdmlsZWdlIHN5bmNocm9ub3VzIGJlaGF2aW9yXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlICYmIGlzRnVuY3Rpb24oKG1ldGhvZCA9IHZhbHVlLnByb21pc2UpKSkge1xuICAgICAgICAgICAgICAgICAgICBtZXRob2QuY2FsbCh2YWx1ZSkuZG9uZShyZXNvbHZlKS5mYWlsKHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIE90aGVyIHRoZW5hYmxlc1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSAmJiBpc0Z1bmN0aW9uKChtZXRob2QgPSB2YWx1ZS50aGVuKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kLmNhbGwodmFsdWUsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIE90aGVyIG5vbi10aGVuYWJsZXNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENvbnRyb2wgYHJlc29sdmVgIGFyZ3VtZW50cyBieSBsZXR0aW5nIEFycmF5I3NsaWNlIGNhc3QgYm9vbGVhbiBgbm9WYWx1ZWAgdG8gaW50ZWdlcjpcbiAgICAgICAgICAgICAgICAgICAgLy8gKiBmYWxzZTogWyB2YWx1ZSBdLnNsaWNlKCAwICkgPT4gcmVzb2x2ZSggdmFsdWUgKVxuICAgICAgICAgICAgICAgICAgICAvLyAqIHRydWU6IFsgdmFsdWUgXS5zbGljZSggMSApID0+IHJlc29sdmUoKVxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlLmFwcGx5KHVuZGVmaW5lZCwgW3ZhbHVlXS5zbGljZShub1ZhbHVlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEZvciBQcm9taXNlcy9BKywgY29udmVydCBleGNlcHRpb25zIGludG8gcmVqZWN0aW9uc1xuICAgICAgICAgICAgICAgIC8vIFNpbmNlIGpRdWVyeS53aGVuIGRvZXNuJ3QgdW53cmFwIHRoZW5hYmxlcywgd2UgY2FuIHNraXAgdGhlIGV4dHJhIGNoZWNrcyBhcHBlYXJpbmcgaW5cbiAgICAgICAgICAgICAgICAvLyBEZWZlcnJlZCN0aGVuIHRvIGNvbmRpdGlvbmFsbHkgc3VwcHJlc3MgcmVqZWN0aW9uLlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogQW5kcm9pZCA0LjAgb25seVxuICAgICAgICAgICAgICAgIC8vIFN0cmljdCBtb2RlIGZ1bmN0aW9ucyBpbnZva2VkIHdpdGhvdXQgLmNhbGwvLmFwcGx5IGdldCBnbG9iYWwtb2JqZWN0IGNvbnRleHRcbiAgICAgICAgICAgICAgICByZWplY3QuYXBwbHkodW5kZWZpbmVkLCBbdmFsdWVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBqUXVlcnkuZXh0ZW5kKHtcbiAgICAgICAgICAgIERlZmVycmVkOiBmdW5jdGlvbiAoZnVuYykge1xuICAgICAgICAgICAgICAgIHZhciB0dXBsZXMgPSBbXG4gICAgICAgICAgICAgICAgICAgIC8vIGFjdGlvbiwgYWRkIGxpc3RlbmVyLCBjYWxsYmFja3MsXG4gICAgICAgICAgICAgICAgICAgIC8vIC4uLiAudGhlbiBoYW5kbGVycywgYXJndW1lbnQgaW5kZXgsIFtmaW5hbCBzdGF0ZV1cbiAgICAgICAgICAgICAgICAgICAgW1wibm90aWZ5XCIsIFwicHJvZ3Jlc3NcIiwgalF1ZXJ5LkNhbGxiYWNrcyhcIm1lbW9yeVwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5DYWxsYmFja3MoXCJtZW1vcnlcIiksIDJdLFxuICAgICAgICAgICAgICAgICAgICBbXCJyZXNvbHZlXCIsIFwiZG9uZVwiLCBqUXVlcnkuQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIiksIDAsIFwicmVzb2x2ZWRcIl0sXG4gICAgICAgICAgICAgICAgICAgIFtcInJlamVjdFwiLCBcImZhaWxcIiwgalF1ZXJ5LkNhbGxiYWNrcyhcIm9uY2UgbWVtb3J5XCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LkNhbGxiYWNrcyhcIm9uY2UgbWVtb3J5XCIpLCAxLCBcInJlamVjdGVkXCJdXG4gICAgICAgICAgICAgICAgXSwgc3RhdGUgPSBcInBlbmRpbmdcIiwgcHJvbWlzZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYWx3YXlzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5kb25lKGFyZ3VtZW50cykuZmFpbChhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFwiY2F0Y2hcIjogZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJvbWlzZS50aGVuKG51bGwsIGZuKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgLy8gS2VlcCBwaXBlIGZvciBiYWNrLWNvbXBhdFxuICAgICAgICAgICAgICAgICAgICBwaXBlOiBmdW5jdGlvbiAoIC8qIGZuRG9uZSwgZm5GYWlsLCBmblByb2dyZXNzICovKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZm5zID0gYXJndW1lbnRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGpRdWVyeS5EZWZlcnJlZChmdW5jdGlvbiAobmV3RGVmZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuZWFjaCh0dXBsZXMsIGZ1bmN0aW9uIChfaSwgdHVwbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWFwIHR1cGxlcyAocHJvZ3Jlc3MsIGRvbmUsIGZhaWwpIHRvIGFyZ3VtZW50cyAoZG9uZSwgZmFpbCwgcHJvZ3Jlc3MpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmbiA9IGlzRnVuY3Rpb24oZm5zW3R1cGxlWzRdXSkgJiYgZm5zW3R1cGxlWzRdXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZGVmZXJyZWQucHJvZ3Jlc3MoZnVuY3Rpb24oKSB7IGJpbmQgdG8gbmV3RGVmZXIgb3IgbmV3RGVmZXIubm90aWZ5IH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRlZmVycmVkLmRvbmUoZnVuY3Rpb24oKSB7IGJpbmQgdG8gbmV3RGVmZXIgb3IgbmV3RGVmZXIucmVzb2x2ZSB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBkZWZlcnJlZC5mYWlsKGZ1bmN0aW9uKCkgeyBiaW5kIHRvIG5ld0RlZmVyIG9yIG5ld0RlZmVyLnJlamVjdCB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZFt0dXBsZVsxXV0oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJldHVybmVkID0gZm4gJiYgZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXR1cm5lZCAmJiBpc0Z1bmN0aW9uKHJldHVybmVkLnByb21pc2UpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuZWQucHJvbWlzZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5wcm9ncmVzcyhuZXdEZWZlci5ub3RpZnkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5kb25lKG5ld0RlZmVyLnJlc29sdmUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5mYWlsKG5ld0RlZmVyLnJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdEZWZlclt0dXBsZVswXSArIFwiV2l0aFwiXSh0aGlzLCBmbiA/IFtyZXR1cm5lZF0gOiBhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbnMgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkucHJvbWlzZSgpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0aGVuOiBmdW5jdGlvbiAob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIG9uUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtYXhEZXB0aCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiByZXNvbHZlKGRlcHRoLCBkZWZlcnJlZCwgaGFuZGxlciwgc3BlY2lhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcywgYXJncyA9IGFyZ3VtZW50cywgbWlnaHRUaHJvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXR1cm5lZCwgdGhlbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb24gMi4zLjMuMy4zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC01OVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWdub3JlIGRvdWJsZS1yZXNvbHV0aW9uIGF0dGVtcHRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVwdGggPCBtYXhEZXB0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybmVkID0gaGFuZGxlci5hcHBseSh0aGF0LCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb24gMi4zLjFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTQ4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmV0dXJuZWQgPT09IGRlZmVycmVkLnByb21pc2UoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJUaGVuYWJsZSBzZWxmLXJlc29sdXRpb25cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9ucyAyLjMuMy4xLCAzLjVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTU0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC03NVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmV0cmlldmUgYHRoZW5gIG9ubHkgb25jZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlbiA9IHJldHVybmVkICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogUHJvbWlzZXMvQSsgc2VjdGlvbiAyLjMuNFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTY0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT25seSBjaGVjayBvYmplY3RzIGFuZCBmdW5jdGlvbnMgZm9yIHRoZW5hYmlsaXR5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHR5cGVvZiByZXR1cm5lZCA9PT0gXCJvYmplY3RcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgcmV0dXJuZWQgPT09IFwiZnVuY3Rpb25cIikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5lZC50aGVuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSGFuZGxlIGEgcmV0dXJuZWQgdGhlbmFibGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKHRoZW4pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3BlY2lhbCBwcm9jZXNzb3JzIChub3RpZnkpIGp1c3Qgd2FpdCBmb3IgcmVzb2x1dGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcGVjaWFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZW4uY2FsbChyZXR1cm5lZCwgcmVzb2x2ZShtYXhEZXB0aCwgZGVmZXJyZWQsIElkZW50aXR5LCBzcGVjaWFsKSwgcmVzb2x2ZShtYXhEZXB0aCwgZGVmZXJyZWQsIFRocm93ZXIsIHNwZWNpYWwpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTm9ybWFsIHByb2Nlc3NvcnMgKHJlc29sdmUpIGFsc28gaG9vayBpbnRvIHByb2dyZXNzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAuLi5hbmQgZGlzcmVnYXJkIG9sZGVyIHJlc29sdXRpb24gdmFsdWVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heERlcHRoKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZW4uY2FsbChyZXR1cm5lZCwgcmVzb2x2ZShtYXhEZXB0aCwgZGVmZXJyZWQsIElkZW50aXR5LCBzcGVjaWFsKSwgcmVzb2x2ZShtYXhEZXB0aCwgZGVmZXJyZWQsIFRocm93ZXIsIHNwZWNpYWwpLCByZXNvbHZlKG1heERlcHRoLCBkZWZlcnJlZCwgSWRlbnRpdHksIGRlZmVycmVkLm5vdGlmeVdpdGgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSGFuZGxlIGFsbCBvdGhlciByZXR1cm5lZCB2YWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgc3Vic3RpdHV0ZSBoYW5kbGVycyBwYXNzIG9uIGNvbnRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhbmQgbXVsdGlwbGUgdmFsdWVzIChub24tc3BlYyBiZWhhdmlvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFuZGxlciAhPT0gSWRlbnRpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhhdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJncyA9IFtyZXR1cm5lZF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFByb2Nlc3MgdGhlIHZhbHVlKHMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRGVmYXVsdCBwcm9jZXNzIGlzIHJlc29sdmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoc3BlY2lhbCB8fCBkZWZlcnJlZC5yZXNvbHZlV2l0aCkodGhhdCwgYXJncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IG5vcm1hbCBwcm9jZXNzb3JzIChyZXNvbHZlKSBjYXRjaCBhbmQgcmVqZWN0IGV4Y2VwdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2VzcyA9IHNwZWNpYWwgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWlnaHRUaHJvdyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWlnaHRUaHJvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoalF1ZXJ5LkRlZmVycmVkLmV4Y2VwdGlvbkhvb2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5EZWZlcnJlZC5leGNlcHRpb25Ib29rKGUsIHByb2Nlc3MuZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb24gMi4zLjMuMy40LjFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNjFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWdub3JlIHBvc3QtcmVzb2x1dGlvbiBleGNlcHRpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXB0aCArIDEgPj0gbWF4RGVwdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgc3Vic3RpdHV0ZSBoYW5kbGVycyBwYXNzIG9uIGNvbnRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFuZCBtdWx0aXBsZSB2YWx1ZXMgKG5vbi1zcGVjIGJlaGF2aW9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhhbmRsZXIgIT09IFRocm93ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGF0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MgPSBbZV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3RXaXRoKHRoYXQsIGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogUHJvbWlzZXMvQSsgc2VjdGlvbiAyLjMuMy4zLjFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNTdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmUtcmVzb2x2ZSBwcm9taXNlcyBpbW1lZGlhdGVseSB0byBkb2RnZSBmYWxzZSByZWplY3Rpb24gZnJvbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzdWJzZXF1ZW50IGVycm9yc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVwdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3MoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENhbGwgYW4gb3B0aW9uYWwgaG9vayB0byByZWNvcmQgdGhlIGVycm9yLCBpbiBjYXNlIG9mIGV4Y2VwdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2luY2UgaXQncyBvdGhlcndpc2UgbG9zdCB3aGVuIGV4ZWN1dGlvbiBnb2VzIGFzeW5jXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoalF1ZXJ5LkRlZmVycmVkLmdldEVycm9ySG9vaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3MuZXJyb3IgPSBqUXVlcnkuRGVmZXJyZWQuZ2V0RXJyb3JIb29rKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGRlcHJlY2F0ZWQgYWxpYXMgb2YgdGhlIGFib3ZlLiBXaGlsZSB0aGUgbmFtZSBzdWdnZXN0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybmluZyB0aGUgc3RhY2ssIG5vdCBhbiBlcnJvciBpbnN0YW5jZSwgalF1ZXJ5IGp1c3QgcGFzc2VzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXQgZGlyZWN0bHkgdG8gYGNvbnNvbGUud2FybmAgc28gYm90aCB3aWxsIHdvcms7IGFuIGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8ganVzdCBiZXR0ZXIgY29vcGVyYXRlcyB3aXRoIHNvdXJjZSBtYXBzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoalF1ZXJ5LkRlZmVycmVkLmdldFN0YWNrSG9vaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3MuZXJyb3IgPSBqUXVlcnkuRGVmZXJyZWQuZ2V0U3RhY2tIb29rKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChwcm9jZXNzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4galF1ZXJ5LkRlZmVycmVkKGZ1bmN0aW9uIChuZXdEZWZlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHByb2dyZXNzX2hhbmRsZXJzLmFkZCggLi4uIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0dXBsZXNbMF1bM10uYWRkKHJlc29sdmUoMCwgbmV3RGVmZXIsIGlzRnVuY3Rpb24ob25Qcm9ncmVzcykgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblByb2dyZXNzIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSWRlbnRpdHksIG5ld0RlZmVyLm5vdGlmeVdpdGgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmdWxmaWxsZWRfaGFuZGxlcnMuYWRkKCAuLi4gKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR1cGxlc1sxXVszXS5hZGQocmVzb2x2ZSgwLCBuZXdEZWZlciwgaXNGdW5jdGlvbihvbkZ1bGZpbGxlZCkgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkZ1bGZpbGxlZCA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElkZW50aXR5KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVqZWN0ZWRfaGFuZGxlcnMuYWRkKCAuLi4gKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR1cGxlc1syXVszXS5hZGQocmVzb2x2ZSgwLCBuZXdEZWZlciwgaXNGdW5jdGlvbihvblJlamVjdGVkKSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uUmVqZWN0ZWQgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaHJvd2VyKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KS5wcm9taXNlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIC8vIEdldCBhIHByb21pc2UgZm9yIHRoaXMgZGVmZXJyZWRcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgb2JqIGlzIHByb3ZpZGVkLCB0aGUgcHJvbWlzZSBhc3BlY3QgaXMgYWRkZWQgdG8gdGhlIG9iamVjdFxuICAgICAgICAgICAgICAgICAgICBwcm9taXNlOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqICE9IG51bGwgPyBqUXVlcnkuZXh0ZW5kKG9iaiwgcHJvbWlzZSkgOiBwcm9taXNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgZGVmZXJyZWQgPSB7fTtcbiAgICAgICAgICAgICAgICAvLyBBZGQgbGlzdC1zcGVjaWZpYyBtZXRob2RzXG4gICAgICAgICAgICAgICAgalF1ZXJ5LmVhY2godHVwbGVzLCBmdW5jdGlvbiAoaSwgdHVwbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxpc3QgPSB0dXBsZVsyXSwgc3RhdGVTdHJpbmcgPSB0dXBsZVs1XTtcbiAgICAgICAgICAgICAgICAgICAgLy8gcHJvbWlzZS5wcm9ncmVzcyA9IGxpc3QuYWRkXG4gICAgICAgICAgICAgICAgICAgIC8vIHByb21pc2UuZG9uZSA9IGxpc3QuYWRkXG4gICAgICAgICAgICAgICAgICAgIC8vIHByb21pc2UuZmFpbCA9IGxpc3QuYWRkXG4gICAgICAgICAgICAgICAgICAgIHByb21pc2VbdHVwbGVbMV1dID0gbGlzdC5hZGQ7XG4gICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBzdGF0ZVxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGVTdHJpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QuYWRkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzdGF0ZSA9IFwicmVzb2x2ZWRcIiAoaS5lLiwgZnVsZmlsbGVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0YXRlID0gXCJyZWplY3RlZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSBzdGF0ZVN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVqZWN0ZWRfY2FsbGJhY2tzLmRpc2FibGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZ1bGZpbGxlZF9jYWxsYmFja3MuZGlzYWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgdHVwbGVzWzMgLSBpXVsyXS5kaXNhYmxlLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlamVjdGVkX2hhbmRsZXJzLmRpc2FibGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZ1bGZpbGxlZF9oYW5kbGVycy5kaXNhYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICB0dXBsZXNbMyAtIGldWzNdLmRpc2FibGUsIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHJvZ3Jlc3NfY2FsbGJhY2tzLmxvY2tcbiAgICAgICAgICAgICAgICAgICAgICAgIHR1cGxlc1swXVsyXS5sb2NrLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHByb2dyZXNzX2hhbmRsZXJzLmxvY2tcbiAgICAgICAgICAgICAgICAgICAgICAgIHR1cGxlc1swXVszXS5sb2NrKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBwcm9ncmVzc19oYW5kbGVycy5maXJlXG4gICAgICAgICAgICAgICAgICAgIC8vIGZ1bGZpbGxlZF9oYW5kbGVycy5maXJlXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlamVjdGVkX2hhbmRsZXJzLmZpcmVcbiAgICAgICAgICAgICAgICAgICAgbGlzdC5hZGQodHVwbGVbM10uZmlyZSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGRlZmVycmVkLm5vdGlmeSA9IGZ1bmN0aW9uKCkgeyBkZWZlcnJlZC5ub3RpZnlXaXRoKC4uLikgfVxuICAgICAgICAgICAgICAgICAgICAvLyBkZWZlcnJlZC5yZXNvbHZlID0gZnVuY3Rpb24oKSB7IGRlZmVycmVkLnJlc29sdmVXaXRoKC4uLikgfVxuICAgICAgICAgICAgICAgICAgICAvLyBkZWZlcnJlZC5yZWplY3QgPSBmdW5jdGlvbigpIHsgZGVmZXJyZWQucmVqZWN0V2l0aCguLi4pIH1cbiAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWRbdHVwbGVbMF1dID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWRbdHVwbGVbMF0gKyBcIldpdGhcIl0odGhpcyA9PT0gZGVmZXJyZWQgPyB1bmRlZmluZWQgOiB0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIC8vIGRlZmVycmVkLm5vdGlmeVdpdGggPSBsaXN0LmZpcmVXaXRoXG4gICAgICAgICAgICAgICAgICAgIC8vIGRlZmVycmVkLnJlc29sdmVXaXRoID0gbGlzdC5maXJlV2l0aFxuICAgICAgICAgICAgICAgICAgICAvLyBkZWZlcnJlZC5yZWplY3RXaXRoID0gbGlzdC5maXJlV2l0aFxuICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZFt0dXBsZVswXSArIFwiV2l0aFwiXSA9IGxpc3QuZmlyZVdpdGg7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy8gTWFrZSB0aGUgZGVmZXJyZWQgYSBwcm9taXNlXG4gICAgICAgICAgICAgICAgcHJvbWlzZS5wcm9taXNlKGRlZmVycmVkKTtcbiAgICAgICAgICAgICAgICAvLyBDYWxsIGdpdmVuIGZ1bmMgaWYgYW55XG4gICAgICAgICAgICAgICAgaWYgKGZ1bmMpIHtcbiAgICAgICAgICAgICAgICAgICAgZnVuYy5jYWxsKGRlZmVycmVkLCBkZWZlcnJlZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEFsbCBkb25lIVxuICAgICAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBEZWZlcnJlZCBoZWxwZXJcbiAgICAgICAgICAgIHdoZW46IGZ1bmN0aW9uIChzaW5nbGVWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHZhciBcbiAgICAgICAgICAgICAgICAvLyBjb3VudCBvZiB1bmNvbXBsZXRlZCBzdWJvcmRpbmF0ZXNcbiAgICAgICAgICAgICAgICByZW1haW5pbmcgPSBhcmd1bWVudHMubGVuZ3RoLCBcbiAgICAgICAgICAgICAgICAvLyBjb3VudCBvZiB1bnByb2Nlc3NlZCBhcmd1bWVudHNcbiAgICAgICAgICAgICAgICBpID0gcmVtYWluaW5nLCBcbiAgICAgICAgICAgICAgICAvLyBzdWJvcmRpbmF0ZSBmdWxmaWxsbWVudCBkYXRhXG4gICAgICAgICAgICAgICAgcmVzb2x2ZUNvbnRleHRzID0gQXJyYXkoaSksIHJlc29sdmVWYWx1ZXMgPSBzbGljZS5jYWxsKGFyZ3VtZW50cyksIFxuICAgICAgICAgICAgICAgIC8vIHRoZSBwcmltYXJ5IERlZmVycmVkXG4gICAgICAgICAgICAgICAgcHJpbWFyeSA9IGpRdWVyeS5EZWZlcnJlZCgpLCBcbiAgICAgICAgICAgICAgICAvLyBzdWJvcmRpbmF0ZSBjYWxsYmFjayBmYWN0b3J5XG4gICAgICAgICAgICAgICAgdXBkYXRlRnVuYyA9IGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVDb250ZXh0c1tpXSA9IHRoaXM7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlVmFsdWVzW2ldID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBzbGljZS5jYWxsKGFyZ3VtZW50cykgOiB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKC0tcmVtYWluaW5nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW1hcnkucmVzb2x2ZVdpdGgocmVzb2x2ZUNvbnRleHRzLCByZXNvbHZlVmFsdWVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8vIFNpbmdsZS0gYW5kIGVtcHR5IGFyZ3VtZW50cyBhcmUgYWRvcHRlZCBsaWtlIFByb21pc2UucmVzb2x2ZVxuICAgICAgICAgICAgICAgIGlmIChyZW1haW5pbmcgPD0gMSkge1xuICAgICAgICAgICAgICAgICAgICBhZG9wdFZhbHVlKHNpbmdsZVZhbHVlLCBwcmltYXJ5LmRvbmUodXBkYXRlRnVuYyhpKSkucmVzb2x2ZSwgcHJpbWFyeS5yZWplY3QsICFyZW1haW5pbmcpO1xuICAgICAgICAgICAgICAgICAgICAvLyBVc2UgLnRoZW4oKSB0byB1bndyYXAgc2Vjb25kYXJ5IHRoZW5hYmxlcyAoY2YuIGdoLTMwMDApXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmltYXJ5LnN0YXRlKCkgPT09IFwicGVuZGluZ1wiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBpc0Z1bmN0aW9uKHJlc29sdmVWYWx1ZXNbaV0gJiYgcmVzb2x2ZVZhbHVlc1tpXS50aGVuKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByaW1hcnkudGhlbigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIE11bHRpcGxlIGFyZ3VtZW50cyBhcmUgYWdncmVnYXRlZCBsaWtlIFByb21pc2UuYWxsIGFycmF5IGVsZW1lbnRzXG4gICAgICAgICAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgICAgICAgICBhZG9wdFZhbHVlKHJlc29sdmVWYWx1ZXNbaV0sIHVwZGF0ZUZ1bmMoaSksIHByaW1hcnkucmVqZWN0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByaW1hcnkucHJvbWlzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gVGhlc2UgdXN1YWxseSBpbmRpY2F0ZSBhIHByb2dyYW1tZXIgbWlzdGFrZSBkdXJpbmcgZGV2ZWxvcG1lbnQsXG4gICAgICAgIC8vIHdhcm4gYWJvdXQgdGhlbSBBU0FQIHJhdGhlciB0aGFuIHN3YWxsb3dpbmcgdGhlbSBieSBkZWZhdWx0LlxuICAgICAgICB2YXIgcmVycm9yTmFtZXMgPSAvXihFdmFsfEludGVybmFsfFJhbmdlfFJlZmVyZW5jZXxTeW50YXh8VHlwZXxVUkkpRXJyb3IkLztcbiAgICAgICAgLy8gSWYgYGpRdWVyeS5EZWZlcnJlZC5nZXRFcnJvckhvb2tgIGlzIGRlZmluZWQsIGBhc3luY0Vycm9yYCBpcyBhbiBlcnJvclxuICAgICAgICAvLyBjYXB0dXJlZCBiZWZvcmUgdGhlIGFzeW5jIGJhcnJpZXIgdG8gZ2V0IHRoZSBvcmlnaW5hbCBlcnJvciBjYXVzZVxuICAgICAgICAvLyB3aGljaCBtYXkgb3RoZXJ3aXNlIGJlIGhpZGRlbi5cbiAgICAgICAgalF1ZXJ5LkRlZmVycmVkLmV4Y2VwdGlvbkhvb2sgPSBmdW5jdGlvbiAoZXJyb3IsIGFzeW5jRXJyb3IpIHtcbiAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDggLSA5IG9ubHlcbiAgICAgICAgICAgIC8vIENvbnNvbGUgZXhpc3RzIHdoZW4gZGV2IHRvb2xzIGFyZSBvcGVuLCB3aGljaCBjYW4gaGFwcGVuIGF0IGFueSB0aW1lXG4gICAgICAgICAgICBpZiAod2luZG93LmNvbnNvbGUgJiYgd2luZG93LmNvbnNvbGUud2FybiAmJiBlcnJvciAmJiByZXJyb3JOYW1lcy50ZXN0KGVycm9yLm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUud2FybihcImpRdWVyeS5EZWZlcnJlZCBleGNlcHRpb246IFwiICsgZXJyb3IubWVzc2FnZSwgZXJyb3Iuc3RhY2ssIGFzeW5jRXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBqUXVlcnkucmVhZHlFeGNlcHRpb24gPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICAvLyBUaGUgZGVmZXJyZWQgdXNlZCBvbiBET00gcmVhZHlcbiAgICAgICAgdmFyIHJlYWR5TGlzdCA9IGpRdWVyeS5EZWZlcnJlZCgpO1xuICAgICAgICBqUXVlcnkuZm4ucmVhZHkgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgICAgIHJlYWR5TGlzdFxuICAgICAgICAgICAgICAgIC50aGVuKGZuKVxuICAgICAgICAgICAgICAgIC8vIFdyYXAgalF1ZXJ5LnJlYWR5RXhjZXB0aW9uIGluIGEgZnVuY3Rpb24gc28gdGhhdCB0aGUgbG9va3VwXG4gICAgICAgICAgICAgICAgLy8gaGFwcGVucyBhdCB0aGUgdGltZSBvZiBlcnJvciBoYW5kbGluZyBpbnN0ZWFkIG9mIGNhbGxiYWNrXG4gICAgICAgICAgICAgICAgLy8gcmVnaXN0cmF0aW9uLlxuICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBqUXVlcnkucmVhZHlFeGNlcHRpb24oZXJyb3IpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgalF1ZXJ5LmV4dGVuZCh7XG4gICAgICAgICAgICAvLyBJcyB0aGUgRE9NIHJlYWR5IHRvIGJlIHVzZWQ/IFNldCB0byB0cnVlIG9uY2UgaXQgb2NjdXJzLlxuICAgICAgICAgICAgaXNSZWFkeTogZmFsc2UsXG4gICAgICAgICAgICAvLyBBIGNvdW50ZXIgdG8gdHJhY2sgaG93IG1hbnkgaXRlbXMgdG8gd2FpdCBmb3IgYmVmb3JlXG4gICAgICAgICAgICAvLyB0aGUgcmVhZHkgZXZlbnQgZmlyZXMuIFNlZSB0cmFjLTY3ODFcbiAgICAgICAgICAgIHJlYWR5V2FpdDogMSxcbiAgICAgICAgICAgIC8vIEhhbmRsZSB3aGVuIHRoZSBET00gaXMgcmVhZHlcbiAgICAgICAgICAgIHJlYWR5OiBmdW5jdGlvbiAod2FpdCkge1xuICAgICAgICAgICAgICAgIC8vIEFib3J0IGlmIHRoZXJlIGFyZSBwZW5kaW5nIGhvbGRzIG9yIHdlJ3JlIGFscmVhZHkgcmVhZHlcbiAgICAgICAgICAgICAgICBpZiAod2FpdCA9PT0gdHJ1ZSA/IC0talF1ZXJ5LnJlYWR5V2FpdCA6IGpRdWVyeS5pc1JlYWR5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gUmVtZW1iZXIgdGhhdCB0aGUgRE9NIGlzIHJlYWR5XG4gICAgICAgICAgICAgICAgalF1ZXJ5LmlzUmVhZHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIC8vIElmIGEgbm9ybWFsIERPTSBSZWFkeSBldmVudCBmaXJlZCwgZGVjcmVtZW50LCBhbmQgd2FpdCBpZiBuZWVkIGJlXG4gICAgICAgICAgICAgICAgaWYgKHdhaXQgIT09IHRydWUgJiYgLS1qUXVlcnkucmVhZHlXYWl0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIElmIHRoZXJlIGFyZSBmdW5jdGlvbnMgYm91bmQsIHRvIGV4ZWN1dGVcbiAgICAgICAgICAgICAgICByZWFkeUxpc3QucmVzb2x2ZVdpdGgoZG9jdW1lbnQsIFtqUXVlcnldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGpRdWVyeS5yZWFkeS50aGVuID0gcmVhZHlMaXN0LnRoZW47XG4gICAgICAgIC8vIFRoZSByZWFkeSBldmVudCBoYW5kbGVyIGFuZCBzZWxmIGNsZWFudXAgbWV0aG9kXG4gICAgICAgIGZ1bmN0aW9uIGNvbXBsZXRlZCgpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIGNvbXBsZXRlZCk7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgY29tcGxldGVkKTtcbiAgICAgICAgICAgIGpRdWVyeS5yZWFkeSgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIENhdGNoIGNhc2VzIHdoZXJlICQoZG9jdW1lbnQpLnJlYWR5KCkgaXMgY2FsbGVkXG4gICAgICAgIC8vIGFmdGVyIHRoZSBicm93c2VyIGV2ZW50IGhhcyBhbHJlYWR5IG9jY3VycmVkLlxuICAgICAgICAvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMCBvbmx5XG4gICAgICAgIC8vIE9sZGVyIElFIHNvbWV0aW1lcyBzaWduYWxzIFwiaW50ZXJhY3RpdmVcIiB0b28gc29vblxuICAgICAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gXCJjb21wbGV0ZVwiIHx8XG4gICAgICAgICAgICAoZG9jdW1lbnQucmVhZHlTdGF0ZSAhPT0gXCJsb2FkaW5nXCIgJiYgIWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5kb1Njcm9sbCkpIHtcbiAgICAgICAgICAgIC8vIEhhbmRsZSBpdCBhc3luY2hyb25vdXNseSB0byBhbGxvdyBzY3JpcHRzIHRoZSBvcHBvcnR1bml0eSB0byBkZWxheSByZWFkeVxuICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoalF1ZXJ5LnJlYWR5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFVzZSB0aGUgaGFuZHkgZXZlbnQgY2FsbGJhY2tcbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIGNvbXBsZXRlZCk7XG4gICAgICAgICAgICAvLyBBIGZhbGxiYWNrIHRvIHdpbmRvdy5vbmxvYWQsIHRoYXQgd2lsbCBhbHdheXMgd29ya1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIGNvbXBsZXRlZCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTXVsdGlmdW5jdGlvbmFsIG1ldGhvZCB0byBnZXQgYW5kIHNldCB2YWx1ZXMgb2YgYSBjb2xsZWN0aW9uXG4gICAgICAgIC8vIFRoZSB2YWx1ZS9zIGNhbiBvcHRpb25hbGx5IGJlIGV4ZWN1dGVkIGlmIGl0J3MgYSBmdW5jdGlvblxuICAgICAgICB2YXIgYWNjZXNzID0gZnVuY3Rpb24gKGVsZW1zLCBmbiwga2V5LCB2YWx1ZSwgY2hhaW5hYmxlLCBlbXB0eUdldCwgcmF3KSB7XG4gICAgICAgICAgICB2YXIgaSA9IDAsIGxlbiA9IGVsZW1zLmxlbmd0aCwgYnVsayA9IGtleSA9PSBudWxsO1xuICAgICAgICAgICAgLy8gU2V0cyBtYW55IHZhbHVlc1xuICAgICAgICAgICAgaWYgKHRvVHlwZShrZXkpID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgY2hhaW5hYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBmb3IgKGkgaW4ga2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIGFjY2VzcyhlbGVtcywgZm4sIGksIGtleVtpXSwgdHJ1ZSwgZW1wdHlHZXQsIHJhdyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFNldHMgb25lIHZhbHVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY2hhaW5hYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoIWlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJhdyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChidWxrKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEJ1bGsgb3BlcmF0aW9ucyBydW4gYWdhaW5zdCB0aGUgZW50aXJlIHNldFxuICAgICAgICAgICAgICAgICAgICBpZiAocmF3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmbi5jYWxsKGVsZW1zLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLi5leGNlcHQgd2hlbiBleGVjdXRpbmcgZnVuY3Rpb24gdmFsdWVzXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBidWxrID0gZm47XG4gICAgICAgICAgICAgICAgICAgICAgICBmbiA9IGZ1bmN0aW9uIChlbGVtLCBfa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBidWxrLmNhbGwoalF1ZXJ5KGVsZW0pLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChmbikge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmbihlbGVtc1tpXSwga2V5LCByYXcgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5jYWxsKGVsZW1zW2ldLCBpLCBmbihlbGVtc1tpXSwga2V5KSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNoYWluYWJsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbGVtcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEdldHNcbiAgICAgICAgICAgIGlmIChidWxrKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZuLmNhbGwoZWxlbXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGxlbiA/IGZuKGVsZW1zWzBdLCBrZXkpIDogZW1wdHlHZXQ7XG4gICAgICAgIH07XG4gICAgICAgIC8vIE1hdGNoZXMgZGFzaGVkIHN0cmluZyBmb3IgY2FtZWxpemluZ1xuICAgICAgICB2YXIgcm1zUHJlZml4ID0gL14tbXMtLywgcmRhc2hBbHBoYSA9IC8tKFthLXpdKS9nO1xuICAgICAgICAvLyBVc2VkIGJ5IGNhbWVsQ2FzZSBhcyBjYWxsYmFjayB0byByZXBsYWNlKClcbiAgICAgICAgZnVuY3Rpb24gZmNhbWVsQ2FzZShfYWxsLCBsZXR0ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBsZXR0ZXIudG9VcHBlckNhc2UoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDb252ZXJ0IGRhc2hlZCB0byBjYW1lbENhc2U7IHVzZWQgYnkgdGhlIGNzcyBhbmQgZGF0YSBtb2R1bGVzXG4gICAgICAgIC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExLCBFZGdlIDEyIC0gMTVcbiAgICAgICAgLy8gTWljcm9zb2Z0IGZvcmdvdCB0byBodW1wIHRoZWlyIHZlbmRvciBwcmVmaXggKHRyYWMtOTU3MilcbiAgICAgICAgZnVuY3Rpb24gY2FtZWxDYXNlKHN0cmluZykge1xuICAgICAgICAgICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKHJtc1ByZWZpeCwgXCJtcy1cIikucmVwbGFjZShyZGFzaEFscGhhLCBmY2FtZWxDYXNlKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYWNjZXB0RGF0YSA9IGZ1bmN0aW9uIChvd25lcikge1xuICAgICAgICAgICAgLy8gQWNjZXB0cyBvbmx5OlxuICAgICAgICAgICAgLy8gIC0gTm9kZVxuICAgICAgICAgICAgLy8gICAgLSBOb2RlLkVMRU1FTlRfTk9ERVxuICAgICAgICAgICAgLy8gICAgLSBOb2RlLkRPQ1VNRU5UX05PREVcbiAgICAgICAgICAgIC8vICAtIE9iamVjdFxuICAgICAgICAgICAgLy8gICAgLSBBbnlcbiAgICAgICAgICAgIHJldHVybiBvd25lci5ub2RlVHlwZSA9PT0gMSB8fCBvd25lci5ub2RlVHlwZSA9PT0gOSB8fCAhKCtvd25lci5ub2RlVHlwZSk7XG4gICAgICAgIH07XG4gICAgICAgIGZ1bmN0aW9uIERhdGEoKSB7XG4gICAgICAgICAgICB0aGlzLmV4cGFuZG8gPSBqUXVlcnkuZXhwYW5kbyArIERhdGEudWlkKys7XG4gICAgICAgIH1cbiAgICAgICAgRGF0YS51aWQgPSAxO1xuICAgICAgICBEYXRhLnByb3RvdHlwZSA9IHtcbiAgICAgICAgICAgIGNhY2hlOiBmdW5jdGlvbiAob3duZXIpIHtcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgb3duZXIgb2JqZWN0IGFscmVhZHkgaGFzIGEgY2FjaGVcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBvd25lclt0aGlzLmV4cGFuZG9dO1xuICAgICAgICAgICAgICAgIC8vIElmIG5vdCwgY3JlYXRlIG9uZVxuICAgICAgICAgICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgY2FuIGFjY2VwdCBkYXRhIGZvciBub24tZWxlbWVudCBub2RlcyBpbiBtb2Rlcm4gYnJvd3NlcnMsXG4gICAgICAgICAgICAgICAgICAgIC8vIGJ1dCB3ZSBzaG91bGQgbm90LCBzZWUgdHJhYy04MzM1LlxuICAgICAgICAgICAgICAgICAgICAvLyBBbHdheXMgcmV0dXJuIGFuIGVtcHR5IG9iamVjdC5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGFjY2VwdERhdGEob3duZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBpdCBpcyBhIG5vZGUgdW5saWtlbHkgdG8gYmUgc3RyaW5naWZ5LWVkIG9yIGxvb3BlZCBvdmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB1c2UgcGxhaW4gYXNzaWdubWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG93bmVyLm5vZGVUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3duZXJbdGhpcy5leHBhbmRvXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSBzZWN1cmUgaXQgaW4gYSBub24tZW51bWVyYWJsZSBwcm9wZXJ0eVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbmZpZ3VyYWJsZSBtdXN0IGJlIHRydWUgdG8gYWxsb3cgdGhlIHByb3BlcnR5IHRvIGJlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZGVsZXRlZCB3aGVuIGRhdGEgaXMgcmVtb3ZlZFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG93bmVyLCB0aGlzLmV4cGFuZG8sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAob3duZXIsIGRhdGEsIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHByb3AsIGNhY2hlID0gdGhpcy5jYWNoZShvd25lcik7XG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlOiBbIG93bmVyLCBrZXksIHZhbHVlIF0gYXJnc1xuICAgICAgICAgICAgICAgIC8vIEFsd2F5cyB1c2UgY2FtZWxDYXNlIGtleSAoZ2gtMjI1NylcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FjaGVbY2FtZWxDYXNlKGRhdGEpXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAvLyBIYW5kbGU6IFsgb3duZXIsIHsgcHJvcGVydGllcyB9IF0gYXJnc1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ29weSB0aGUgcHJvcGVydGllcyBvbmUtYnktb25lIHRvIHRoZSBjYWNoZSBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAgZm9yIChwcm9wIGluIGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlW2NhbWVsQ2FzZShwcm9wKV0gPSBkYXRhW3Byb3BdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBjYWNoZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIChvd25lciwga2V5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGtleSA9PT0gdW5kZWZpbmVkID9cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWNoZShvd25lcikgOlxuICAgICAgICAgICAgICAgICAgICAvLyBBbHdheXMgdXNlIGNhbWVsQ2FzZSBrZXkgKGdoLTIyNTcpXG4gICAgICAgICAgICAgICAgICAgIG93bmVyW3RoaXMuZXhwYW5kb10gJiYgb3duZXJbdGhpcy5leHBhbmRvXVtjYW1lbENhc2Uoa2V5KV07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYWNjZXNzOiBmdW5jdGlvbiAob3duZXIsIGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAvLyBJbiBjYXNlcyB3aGVyZSBlaXRoZXI6XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyAgIDEuIE5vIGtleSB3YXMgc3BlY2lmaWVkXG4gICAgICAgICAgICAgICAgLy8gICAyLiBBIHN0cmluZyBrZXkgd2FzIHNwZWNpZmllZCwgYnV0IG5vIHZhbHVlIHByb3ZpZGVkXG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyBUYWtlIHRoZSBcInJlYWRcIiBwYXRoIGFuZCBhbGxvdyB0aGUgZ2V0IG1ldGhvZCB0byBkZXRlcm1pbmVcbiAgICAgICAgICAgICAgICAvLyB3aGljaCB2YWx1ZSB0byByZXR1cm4sIHJlc3BlY3RpdmVseSBlaXRoZXI6XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyAgIDEuIFRoZSBlbnRpcmUgY2FjaGUgb2JqZWN0XG4gICAgICAgICAgICAgICAgLy8gICAyLiBUaGUgZGF0YSBzdG9yZWQgYXQgdGhlIGtleVxuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICAgICAgICAgICgoa2V5ICYmIHR5cGVvZiBrZXkgPT09IFwic3RyaW5nXCIpICYmIHZhbHVlID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldChvd25lciwga2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gV2hlbiB0aGUga2V5IGlzIG5vdCBhIHN0cmluZywgb3IgYm90aCBhIGtleSBhbmQgdmFsdWVcbiAgICAgICAgICAgICAgICAvLyBhcmUgc3BlY2lmaWVkLCBzZXQgb3IgZXh0ZW5kIChleGlzdGluZyBvYmplY3RzKSB3aXRoIGVpdGhlcjpcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vICAgMS4gQW4gb2JqZWN0IG9mIHByb3BlcnRpZXNcbiAgICAgICAgICAgICAgICAvLyAgIDIuIEEga2V5IGFuZCB2YWx1ZVxuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgdGhpcy5zZXQob3duZXIsIGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIC8vIFNpbmNlIHRoZSBcInNldFwiIHBhdGggY2FuIGhhdmUgdHdvIHBvc3NpYmxlIGVudHJ5IHBvaW50c1xuICAgICAgICAgICAgICAgIC8vIHJldHVybiB0aGUgZXhwZWN0ZWQgZGF0YSBiYXNlZCBvbiB3aGljaCBwYXRoIHdhcyB0YWtlblsqXVxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiBrZXk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbiAob3duZXIsIGtleSkge1xuICAgICAgICAgICAgICAgIHZhciBpLCBjYWNoZSA9IG93bmVyW3RoaXMuZXhwYW5kb107XG4gICAgICAgICAgICAgICAgaWYgKGNhY2hlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoa2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydCBhcnJheSBvciBzcGFjZSBzZXBhcmF0ZWQgc3RyaW5nIG9mIGtleXNcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYga2V5IGlzIGFuIGFycmF5IG9mIGtleXMuLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGFsd2F5cyBzZXQgY2FtZWxDYXNlIGtleXMsIHNvIHJlbW92ZSB0aGF0LlxuICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0ga2V5Lm1hcChjYW1lbENhc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gY2FtZWxDYXNlKGtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBhIGtleSB3aXRoIHRoZSBzcGFjZXMgZXhpc3RzLCB1c2UgaXQuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2UsIGNyZWF0ZSBhbiBhcnJheSBieSBtYXRjaGluZyBub24td2hpdGVzcGFjZVxuICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0ga2V5IGluIGNhY2hlID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBba2V5XSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGtleS5tYXRjaChybm90aHRtbHdoaXRlKSB8fCBbXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaSA9IGtleS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBjYWNoZVtrZXlbaV1dO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgZXhwYW5kbyBpZiB0aGVyZSdzIG5vIG1vcmUgZGF0YVxuICAgICAgICAgICAgICAgIGlmIChrZXkgPT09IHVuZGVmaW5lZCB8fCBqUXVlcnkuaXNFbXB0eU9iamVjdChjYWNoZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogQ2hyb21lIDw9MzUgLSA0NVxuICAgICAgICAgICAgICAgICAgICAvLyBXZWJraXQgJiBCbGluayBwZXJmb3JtYW5jZSBzdWZmZXJzIHdoZW4gZGVsZXRpbmcgcHJvcGVydGllc1xuICAgICAgICAgICAgICAgICAgICAvLyBmcm9tIERPTSBub2Rlcywgc28gc2V0IHRvIHVuZGVmaW5lZCBpbnN0ZWFkXG4gICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTM3ODYwNyAoYnVnIHJlc3RyaWN0ZWQpXG4gICAgICAgICAgICAgICAgICAgIGlmIChvd25lci5ub2RlVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3duZXJbdGhpcy5leHBhbmRvXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBvd25lclt0aGlzLmV4cGFuZG9dO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGhhc0RhdGE6IGZ1bmN0aW9uIChvd25lcikge1xuICAgICAgICAgICAgICAgIHZhciBjYWNoZSA9IG93bmVyW3RoaXMuZXhwYW5kb107XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhY2hlICE9PSB1bmRlZmluZWQgJiYgIWpRdWVyeS5pc0VtcHR5T2JqZWN0KGNhY2hlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGRhdGFQcml2ID0gbmV3IERhdGEoKTtcbiAgICAgICAgdmFyIGRhdGFVc2VyID0gbmV3IERhdGEoKTtcbiAgICAgICAgLy9cdEltcGxlbWVudGF0aW9uIFN1bW1hcnlcbiAgICAgICAgLy9cbiAgICAgICAgLy9cdDEuIEVuZm9yY2UgQVBJIHN1cmZhY2UgYW5kIHNlbWFudGljIGNvbXBhdGliaWxpdHkgd2l0aCAxLjkueCBicmFuY2hcbiAgICAgICAgLy9cdDIuIEltcHJvdmUgdGhlIG1vZHVsZSdzIG1haW50YWluYWJpbGl0eSBieSByZWR1Y2luZyB0aGUgc3RvcmFnZVxuICAgICAgICAvL1x0XHRwYXRocyB0byBhIHNpbmdsZSBtZWNoYW5pc20uXG4gICAgICAgIC8vXHQzLiBVc2UgdGhlIHNhbWUgc2luZ2xlIG1lY2hhbmlzbSB0byBzdXBwb3J0IFwicHJpdmF0ZVwiIGFuZCBcInVzZXJcIiBkYXRhLlxuICAgICAgICAvL1x0NC4gX05ldmVyXyBleHBvc2UgXCJwcml2YXRlXCIgZGF0YSB0byB1c2VyIGNvZGUgKFRPRE86IERyb3AgX2RhdGEsIF9yZW1vdmVEYXRhKVxuICAgICAgICAvL1x0NS4gQXZvaWQgZXhwb3NpbmcgaW1wbGVtZW50YXRpb24gZGV0YWlscyBvbiB1c2VyIG9iamVjdHMgKGVnLiBleHBhbmRvIHByb3BlcnRpZXMpXG4gICAgICAgIC8vXHQ2LiBQcm92aWRlIGEgY2xlYXIgcGF0aCBmb3IgaW1wbGVtZW50YXRpb24gdXBncmFkZSB0byBXZWFrTWFwIGluIDIwMTRcbiAgICAgICAgdmFyIHJicmFjZSA9IC9eKD86XFx7W1xcd1xcV10qXFx9fFxcW1tcXHdcXFddKlxcXSkkLywgcm11bHRpRGFzaCA9IC9bQS1aXS9nO1xuICAgICAgICBmdW5jdGlvbiBnZXREYXRhKGRhdGEpIHtcbiAgICAgICAgICAgIGlmIChkYXRhID09PSBcInRydWVcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRhdGEgPT09IFwiZmFsc2VcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhID09PSBcIm51bGxcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gT25seSBjb252ZXJ0IHRvIGEgbnVtYmVyIGlmIGl0IGRvZXNuJ3QgY2hhbmdlIHRoZSBzdHJpbmdcbiAgICAgICAgICAgIGlmIChkYXRhID09PSArZGF0YSArIFwiXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gK2RhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmJyYWNlLnRlc3QoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGRhdGFBdHRyKGVsZW0sIGtleSwgZGF0YSkge1xuICAgICAgICAgICAgdmFyIG5hbWU7XG4gICAgICAgICAgICAvLyBJZiBub3RoaW5nIHdhcyBmb3VuZCBpbnRlcm5hbGx5LCB0cnkgdG8gZmV0Y2ggYW55XG4gICAgICAgICAgICAvLyBkYXRhIGZyb20gdGhlIEhUTUw1IGRhdGEtKiBhdHRyaWJ1dGVcbiAgICAgICAgICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgICAgICAgICAgIG5hbWUgPSBcImRhdGEtXCIgKyBrZXkucmVwbGFjZShybXVsdGlEYXNoLCBcIi0kJlwiKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIGRhdGEgPSBlbGVtLmdldEF0dHJpYnV0ZShuYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBnZXREYXRhKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7IH1cbiAgICAgICAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHdlIHNldCB0aGUgZGF0YSBzbyBpdCBpc24ndCBjaGFuZ2VkIGxhdGVyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFVc2VyLnNldChlbGVtLCBrZXksIGRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBqUXVlcnkuZXh0ZW5kKHtcbiAgICAgICAgICAgIGhhc0RhdGE6IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGFVc2VyLmhhc0RhdGEoZWxlbSkgfHwgZGF0YVByaXYuaGFzRGF0YShlbGVtKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkYXRhOiBmdW5jdGlvbiAoZWxlbSwgbmFtZSwgZGF0YSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhVXNlci5hY2Nlc3MoZWxlbSwgbmFtZSwgZGF0YSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVtb3ZlRGF0YTogZnVuY3Rpb24gKGVsZW0sIG5hbWUpIHtcbiAgICAgICAgICAgICAgICBkYXRhVXNlci5yZW1vdmUoZWxlbSwgbmFtZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gVE9ETzogTm93IHRoYXQgYWxsIGNhbGxzIHRvIF9kYXRhIGFuZCBfcmVtb3ZlRGF0YSBoYXZlIGJlZW4gcmVwbGFjZWRcbiAgICAgICAgICAgIC8vIHdpdGggZGlyZWN0IGNhbGxzIHRvIGRhdGFQcml2IG1ldGhvZHMsIHRoZXNlIGNhbiBiZSBkZXByZWNhdGVkLlxuICAgICAgICAgICAgX2RhdGE6IGZ1bmN0aW9uIChlbGVtLCBuYW1lLCBkYXRhKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGFQcml2LmFjY2VzcyhlbGVtLCBuYW1lLCBkYXRhKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfcmVtb3ZlRGF0YTogZnVuY3Rpb24gKGVsZW0sIG5hbWUpIHtcbiAgICAgICAgICAgICAgICBkYXRhUHJpdi5yZW1vdmUoZWxlbSwgbmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBqUXVlcnkuZm4uZXh0ZW5kKHtcbiAgICAgICAgICAgIGRhdGE6IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGksIG5hbWUsIGRhdGEsIGVsZW0gPSB0aGlzWzBdLCBhdHRycyA9IGVsZW0gJiYgZWxlbS5hdHRyaWJ1dGVzO1xuICAgICAgICAgICAgICAgIC8vIEdldHMgYWxsIHZhbHVlc1xuICAgICAgICAgICAgICAgIGlmIChrZXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBkYXRhVXNlci5nZXQoZWxlbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbS5ub2RlVHlwZSA9PT0gMSAmJiAhZGF0YVByaXYuZ2V0KGVsZW0sIFwiaGFzRGF0YUF0dHJzXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGF0dHJzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDExIG9ubHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGF0dHJzIGVsZW1lbnRzIGNhbiBiZSBudWxsICh0cmFjLTE0ODk0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0cnNbaV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgPSBhdHRyc1tpXS5uYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5hbWUuaW5kZXhPZihcImRhdGEtXCIpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSA9IGNhbWVsQ2FzZShuYW1lLnNsaWNlKDUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhQXR0cihlbGVtLCBuYW1lLCBkYXRhW25hbWVdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhUHJpdi5zZXQoZWxlbSwgXCJoYXNEYXRhQXR0cnNcIiwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFNldHMgbXVsdGlwbGUgdmFsdWVzXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBrZXkgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhVXNlci5zZXQodGhpcywga2V5KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhY2Nlc3ModGhpcywgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRhO1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgY2FsbGluZyBqUXVlcnkgb2JqZWN0IChlbGVtZW50IG1hdGNoZXMpIGlzIG5vdCBlbXB0eVxuICAgICAgICAgICAgICAgICAgICAvLyAoYW5kIHRoZXJlZm9yZSBoYXMgYW4gZWxlbWVudCBhcHBlYXJzIGF0IHRoaXNbIDAgXSkgYW5kIHRoZVxuICAgICAgICAgICAgICAgICAgICAvLyBgdmFsdWVgIHBhcmFtZXRlciB3YXMgbm90IHVuZGVmaW5lZC4gQW4gZW1wdHkgalF1ZXJ5IG9iamVjdFxuICAgICAgICAgICAgICAgICAgICAvLyB3aWxsIHJlc3VsdCBpbiBgdW5kZWZpbmVkYCBmb3IgZWxlbSA9IHRoaXNbIDAgXSB3aGljaCB3aWxsXG4gICAgICAgICAgICAgICAgICAgIC8vIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhbiBhdHRlbXB0IHRvIHJlYWQgYSBkYXRhIGNhY2hlIGlzIG1hZGUuXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbGVtICYmIHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEF0dGVtcHQgdG8gZ2V0IGRhdGEgZnJvbSB0aGUgY2FjaGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBrZXkgd2lsbCBhbHdheXMgYmUgY2FtZWxDYXNlZCBpbiBEYXRhXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gZGF0YVVzZXIuZ2V0KGVsZW0sIGtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBdHRlbXB0IHRvIFwiZGlzY292ZXJcIiB0aGUgZGF0YSBpblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSFRNTDUgY3VzdG9tIGRhdGEtKiBhdHRyc1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IGRhdGFBdHRyKGVsZW0sIGtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSB0cmllZCByZWFsbHkgaGFyZCwgYnV0IHRoZSBkYXRhIGRvZXNuJ3QgZXhpc3QuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gU2V0IHRoZSBkYXRhLi4uXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBhbHdheXMgc3RvcmUgdGhlIGNhbWVsQ2FzZWQga2V5XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhVXNlci5zZXQodGhpcywga2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sIG51bGwsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoID4gMSwgbnVsbCwgdHJ1ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVtb3ZlRGF0YTogZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBkYXRhVXNlci5yZW1vdmUodGhpcywga2V5KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGpRdWVyeS5leHRlbmQoe1xuICAgICAgICAgICAgcXVldWU6IGZ1bmN0aW9uIChlbGVtLCB0eXBlLCBkYXRhKSB7XG4gICAgICAgICAgICAgICAgdmFyIHF1ZXVlO1xuICAgICAgICAgICAgICAgIGlmIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSAodHlwZSB8fCBcImZ4XCIpICsgXCJxdWV1ZVwiO1xuICAgICAgICAgICAgICAgICAgICBxdWV1ZSA9IGRhdGFQcml2LmdldChlbGVtLCB0eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gU3BlZWQgdXAgZGVxdWV1ZSBieSBnZXR0aW5nIG91dCBxdWlja2x5IGlmIHRoaXMgaXMganVzdCBhIGxvb2t1cFxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFxdWV1ZSB8fCBBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVldWUgPSBkYXRhUHJpdi5hY2Nlc3MoZWxlbSwgdHlwZSwgalF1ZXJ5Lm1ha2VBcnJheShkYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBxdWV1ZSB8fCBbXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGVxdWV1ZTogZnVuY3Rpb24gKGVsZW0sIHR5cGUpIHtcbiAgICAgICAgICAgICAgICB0eXBlID0gdHlwZSB8fCBcImZ4XCI7XG4gICAgICAgICAgICAgICAgdmFyIHF1ZXVlID0galF1ZXJ5LnF1ZXVlKGVsZW0sIHR5cGUpLCBzdGFydExlbmd0aCA9IHF1ZXVlLmxlbmd0aCwgZm4gPSBxdWV1ZS5zaGlmdCgpLCBob29rcyA9IGpRdWVyeS5fcXVldWVIb29rcyhlbGVtLCB0eXBlKSwgbmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmRlcXVldWUoZWxlbSwgdHlwZSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgZnggcXVldWUgaXMgZGVxdWV1ZWQsIGFsd2F5cyByZW1vdmUgdGhlIHByb2dyZXNzIHNlbnRpbmVsXG4gICAgICAgICAgICAgICAgaWYgKGZuID09PSBcImlucHJvZ3Jlc3NcIikge1xuICAgICAgICAgICAgICAgICAgICBmbiA9IHF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0TGVuZ3RoLS07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChmbikge1xuICAgICAgICAgICAgICAgICAgICAvLyBBZGQgYSBwcm9ncmVzcyBzZW50aW5lbCB0byBwcmV2ZW50IHRoZSBmeCBxdWV1ZSBmcm9tIGJlaW5nXG4gICAgICAgICAgICAgICAgICAgIC8vIGF1dG9tYXRpY2FsbHkgZGVxdWV1ZWRcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IFwiZnhcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcXVldWUudW5zaGlmdChcImlucHJvZ3Jlc3NcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYXIgdXAgdGhlIGxhc3QgcXVldWUgc3RvcCBmdW5jdGlvblxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgaG9va3Muc3RvcDtcbiAgICAgICAgICAgICAgICAgICAgZm4uY2FsbChlbGVtLCBuZXh0LCBob29rcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghc3RhcnRMZW5ndGggJiYgaG9va3MpIHtcbiAgICAgICAgICAgICAgICAgICAgaG9va3MuZW1wdHkuZmlyZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBOb3QgcHVibGljIC0gZ2VuZXJhdGUgYSBxdWV1ZUhvb2tzIG9iamVjdCwgb3IgcmV0dXJuIHRoZSBjdXJyZW50IG9uZVxuICAgICAgICAgICAgX3F1ZXVlSG9va3M6IGZ1bmN0aW9uIChlbGVtLCB0eXBlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IHR5cGUgKyBcInF1ZXVlSG9va3NcIjtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YVByaXYuZ2V0KGVsZW0sIGtleSkgfHwgZGF0YVByaXYuYWNjZXNzKGVsZW0sIGtleSwge1xuICAgICAgICAgICAgICAgICAgICBlbXB0eTogalF1ZXJ5LkNhbGxiYWNrcyhcIm9uY2UgbWVtb3J5XCIpLmFkZChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhUHJpdi5yZW1vdmUoZWxlbSwgW3R5cGUgKyBcInF1ZXVlXCIsIGtleV0pO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgalF1ZXJ5LmZuLmV4dGVuZCh7XG4gICAgICAgICAgICBxdWV1ZTogZnVuY3Rpb24gKHR5cGUsIGRhdGEpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2V0dGVyID0gMjtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHR5cGUgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHR5cGU7XG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSBcImZ4XCI7XG4gICAgICAgICAgICAgICAgICAgIHNldHRlci0tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IHNldHRlcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4galF1ZXJ5LnF1ZXVlKHRoaXNbMF0sIHR5cGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YSA9PT0gdW5kZWZpbmVkID9cbiAgICAgICAgICAgICAgICAgICAgdGhpcyA6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcXVldWUgPSBqUXVlcnkucXVldWUodGhpcywgdHlwZSwgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBFbnN1cmUgYSBob29rcyBmb3IgdGhpcyBxdWV1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5Ll9xdWV1ZUhvb2tzKHRoaXMsIHR5cGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IFwiZnhcIiAmJiBxdWV1ZVswXSAhPT0gXCJpbnByb2dyZXNzXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuZGVxdWV1ZSh0aGlzLCB0eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGVxdWV1ZTogZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmRlcXVldWUodGhpcywgdHlwZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2xlYXJRdWV1ZTogZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5xdWV1ZSh0eXBlIHx8IFwiZnhcIiwgW10pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIEdldCBhIHByb21pc2UgcmVzb2x2ZWQgd2hlbiBxdWV1ZXMgb2YgYSBjZXJ0YWluIHR5cGVcbiAgICAgICAgICAgIC8vIGFyZSBlbXB0aWVkIChmeCBpcyB0aGUgdHlwZSBieSBkZWZhdWx0KVxuICAgICAgICAgICAgcHJvbWlzZTogZnVuY3Rpb24gKHR5cGUsIG9iaikge1xuICAgICAgICAgICAgICAgIHZhciB0bXAsIGNvdW50ID0gMSwgZGVmZXIgPSBqUXVlcnkuRGVmZXJyZWQoKSwgZWxlbWVudHMgPSB0aGlzLCBpID0gdGhpcy5sZW5ndGgsIHJlc29sdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKC0tY291bnQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZlci5yZXNvbHZlV2l0aChlbGVtZW50cywgW2VsZW1lbnRzXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdHlwZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICBvYmogPSB0eXBlO1xuICAgICAgICAgICAgICAgICAgICB0eXBlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0eXBlID0gdHlwZSB8fCBcImZ4XCI7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgICAgICAgICB0bXAgPSBkYXRhUHJpdi5nZXQoZWxlbWVudHNbaV0sIHR5cGUgKyBcInF1ZXVlSG9va3NcIik7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0bXAgJiYgdG1wLmVtcHR5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgdG1wLmVtcHR5LmFkZChyZXNvbHZlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlZmVyLnByb21pc2Uob2JqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBwbnVtID0gKC9bKy1dPyg/OlxcZCpcXC58KVxcZCsoPzpbZUVdWystXT9cXGQrfCkvKS5zb3VyY2U7XG4gICAgICAgIHZhciByY3NzTnVtID0gbmV3IFJlZ0V4cChcIl4oPzooWystXSk9fCkoXCIgKyBwbnVtICsgXCIpKFthLXolXSopJFwiLCBcImlcIik7XG4gICAgICAgIHZhciBjc3NFeHBhbmQgPSBbXCJUb3BcIiwgXCJSaWdodFwiLCBcIkJvdHRvbVwiLCBcIkxlZnRcIl07XG4gICAgICAgIHZhciBkb2N1bWVudEVsZW1lbnQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgIHZhciBpc0F0dGFjaGVkID0gZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgIHJldHVybiBqUXVlcnkuY29udGFpbnMoZWxlbS5vd25lckRvY3VtZW50LCBlbGVtKTtcbiAgICAgICAgfSwgY29tcG9zZWQgPSB7IGNvbXBvc2VkOiB0cnVlIH07XG4gICAgICAgIC8vIFN1cHBvcnQ6IElFIDkgLSAxMSssIEVkZ2UgMTIgLSAxOCssIGlPUyAxMC4wIC0gMTAuMiBvbmx5XG4gICAgICAgIC8vIENoZWNrIGF0dGFjaG1lbnQgYWNyb3NzIHNoYWRvdyBET00gYm91bmRhcmllcyB3aGVuIHBvc3NpYmxlIChnaC0zNTA0KVxuICAgICAgICAvLyBTdXBwb3J0OiBpT1MgMTAuMC0xMC4yIG9ubHlcbiAgICAgICAgLy8gRWFybHkgaU9TIDEwIHZlcnNpb25zIHN1cHBvcnQgYGF0dGFjaFNoYWRvd2AgYnV0IG5vdCBgZ2V0Um9vdE5vZGVgLFxuICAgICAgICAvLyBsZWFkaW5nIHRvIGVycm9ycy4gV2UgbmVlZCB0byBjaGVjayBmb3IgYGdldFJvb3ROb2RlYC5cbiAgICAgICAgaWYgKGRvY3VtZW50RWxlbWVudC5nZXRSb290Tm9kZSkge1xuICAgICAgICAgICAgaXNBdHRhY2hlZCA9IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGpRdWVyeS5jb250YWlucyhlbGVtLm93bmVyRG9jdW1lbnQsIGVsZW0pIHx8XG4gICAgICAgICAgICAgICAgICAgIGVsZW0uZ2V0Um9vdE5vZGUoY29tcG9zZWQpID09PSBlbGVtLm93bmVyRG9jdW1lbnQ7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHZhciBpc0hpZGRlbldpdGhpblRyZWUgPSBmdW5jdGlvbiAoZWxlbSwgZWwpIHtcbiAgICAgICAgICAgIC8vIGlzSGlkZGVuV2l0aGluVHJlZSBtaWdodCBiZSBjYWxsZWQgZnJvbSBqUXVlcnkjZmlsdGVyIGZ1bmN0aW9uO1xuICAgICAgICAgICAgLy8gaW4gdGhhdCBjYXNlLCBlbGVtZW50IHdpbGwgYmUgc2Vjb25kIGFyZ3VtZW50XG4gICAgICAgICAgICBlbGVtID0gZWwgfHwgZWxlbTtcbiAgICAgICAgICAgIC8vIElubGluZSBzdHlsZSB0cnVtcHMgYWxsXG4gICAgICAgICAgICByZXR1cm4gZWxlbS5zdHlsZS5kaXNwbGF5ID09PSBcIm5vbmVcIiB8fFxuICAgICAgICAgICAgICAgIGVsZW0uc3R5bGUuZGlzcGxheSA9PT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2UsIGNoZWNrIGNvbXB1dGVkIHN0eWxlXG4gICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IEZpcmVmb3ggPD00MyAtIDQ1XG4gICAgICAgICAgICAgICAgICAgIC8vIERpc2Nvbm5lY3RlZCBlbGVtZW50cyBjYW4gaGF2ZSBjb21wdXRlZCBkaXNwbGF5OiBub25lLCBzbyBmaXJzdCBjb25maXJtIHRoYXQgZWxlbSBpc1xuICAgICAgICAgICAgICAgICAgICAvLyBpbiB0aGUgZG9jdW1lbnQuXG4gICAgICAgICAgICAgICAgICAgIGlzQXR0YWNoZWQoZWxlbSkgJiZcbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmNzcyhlbGVtLCBcImRpc3BsYXlcIikgPT09IFwibm9uZVwiO1xuICAgICAgICB9O1xuICAgICAgICBmdW5jdGlvbiBhZGp1c3RDU1MoZWxlbSwgcHJvcCwgdmFsdWVQYXJ0cywgdHdlZW4pIHtcbiAgICAgICAgICAgIHZhciBhZGp1c3RlZCwgc2NhbGUsIG1heEl0ZXJhdGlvbnMgPSAyMCwgY3VycmVudFZhbHVlID0gdHdlZW4gP1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR3ZWVuLmN1cigpO1xuICAgICAgICAgICAgICAgIH0gOlxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGpRdWVyeS5jc3MoZWxlbSwgcHJvcCwgXCJcIik7XG4gICAgICAgICAgICAgICAgfSwgaW5pdGlhbCA9IGN1cnJlbnRWYWx1ZSgpLCB1bml0ID0gdmFsdWVQYXJ0cyAmJiB2YWx1ZVBhcnRzWzNdIHx8IChqUXVlcnkuY3NzTnVtYmVyW3Byb3BdID8gXCJcIiA6IFwicHhcIiksIFxuICAgICAgICAgICAgLy8gU3RhcnRpbmcgdmFsdWUgY29tcHV0YXRpb24gaXMgcmVxdWlyZWQgZm9yIHBvdGVudGlhbCB1bml0IG1pc21hdGNoZXNcbiAgICAgICAgICAgIGluaXRpYWxJblVuaXQgPSBlbGVtLm5vZGVUeXBlICYmXG4gICAgICAgICAgICAgICAgKGpRdWVyeS5jc3NOdW1iZXJbcHJvcF0gfHwgdW5pdCAhPT0gXCJweFwiICYmICtpbml0aWFsKSAmJlxuICAgICAgICAgICAgICAgIHJjc3NOdW0uZXhlYyhqUXVlcnkuY3NzKGVsZW0sIHByb3ApKTtcbiAgICAgICAgICAgIGlmIChpbml0aWFsSW5Vbml0ICYmIGluaXRpYWxJblVuaXRbM10gIT09IHVuaXQpIHtcbiAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBGaXJlZm94IDw9NTRcbiAgICAgICAgICAgICAgICAvLyBIYWx2ZSB0aGUgaXRlcmF0aW9uIHRhcmdldCB2YWx1ZSB0byBwcmV2ZW50IGludGVyZmVyZW5jZSBmcm9tIENTUyB1cHBlciBib3VuZHMgKGdoLTIxNDQpXG4gICAgICAgICAgICAgICAgaW5pdGlhbCA9IGluaXRpYWwgLyAyO1xuICAgICAgICAgICAgICAgIC8vIFRydXN0IHVuaXRzIHJlcG9ydGVkIGJ5IGpRdWVyeS5jc3NcbiAgICAgICAgICAgICAgICB1bml0ID0gdW5pdCB8fCBpbml0aWFsSW5Vbml0WzNdO1xuICAgICAgICAgICAgICAgIC8vIEl0ZXJhdGl2ZWx5IGFwcHJveGltYXRlIGZyb20gYSBub256ZXJvIHN0YXJ0aW5nIHBvaW50XG4gICAgICAgICAgICAgICAgaW5pdGlhbEluVW5pdCA9ICtpbml0aWFsIHx8IDE7XG4gICAgICAgICAgICAgICAgd2hpbGUgKG1heEl0ZXJhdGlvbnMtLSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBFdmFsdWF0ZSBhbmQgdXBkYXRlIG91ciBiZXN0IGd1ZXNzIChkb3VibGluZyBndWVzc2VzIHRoYXQgemVybyBvdXQpLlxuICAgICAgICAgICAgICAgICAgICAvLyBGaW5pc2ggaWYgdGhlIHNjYWxlIGVxdWFscyBvciBjcm9zc2VzIDEgKG1ha2luZyB0aGUgb2xkKm5ldyBwcm9kdWN0IG5vbi1wb3NpdGl2ZSkuXG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeS5zdHlsZShlbGVtLCBwcm9wLCBpbml0aWFsSW5Vbml0ICsgdW5pdCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICgoMSAtIHNjYWxlKSAqICgxIC0gKHNjYWxlID0gY3VycmVudFZhbHVlKCkgLyBpbml0aWFsIHx8IDAuNSkpIDw9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heEl0ZXJhdGlvbnMgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxJblVuaXQgPSBpbml0aWFsSW5Vbml0IC8gc2NhbGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGluaXRpYWxJblVuaXQgPSBpbml0aWFsSW5Vbml0ICogMjtcbiAgICAgICAgICAgICAgICBqUXVlcnkuc3R5bGUoZWxlbSwgcHJvcCwgaW5pdGlhbEluVW5pdCArIHVuaXQpO1xuICAgICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSB1cGRhdGUgdGhlIHR3ZWVuIHByb3BlcnRpZXMgbGF0ZXIgb25cbiAgICAgICAgICAgICAgICB2YWx1ZVBhcnRzID0gdmFsdWVQYXJ0cyB8fCBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2YWx1ZVBhcnRzKSB7XG4gICAgICAgICAgICAgICAgaW5pdGlhbEluVW5pdCA9ICtpbml0aWFsSW5Vbml0IHx8ICtpbml0aWFsIHx8IDA7XG4gICAgICAgICAgICAgICAgLy8gQXBwbHkgcmVsYXRpdmUgb2Zmc2V0ICgrPS8tPSkgaWYgc3BlY2lmaWVkXG4gICAgICAgICAgICAgICAgYWRqdXN0ZWQgPSB2YWx1ZVBhcnRzWzFdID9cbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbEluVW5pdCArICh2YWx1ZVBhcnRzWzFdICsgMSkgKiB2YWx1ZVBhcnRzWzJdIDpcbiAgICAgICAgICAgICAgICAgICAgK3ZhbHVlUGFydHNbMl07XG4gICAgICAgICAgICAgICAgaWYgKHR3ZWVuKSB7XG4gICAgICAgICAgICAgICAgICAgIHR3ZWVuLnVuaXQgPSB1bml0O1xuICAgICAgICAgICAgICAgICAgICB0d2Vlbi5zdGFydCA9IGluaXRpYWxJblVuaXQ7XG4gICAgICAgICAgICAgICAgICAgIHR3ZWVuLmVuZCA9IGFkanVzdGVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhZGp1c3RlZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGVmYXVsdERpc3BsYXlNYXAgPSB7fTtcbiAgICAgICAgZnVuY3Rpb24gZ2V0RGVmYXVsdERpc3BsYXkoZWxlbSkge1xuICAgICAgICAgICAgdmFyIHRlbXAsIGRvYyA9IGVsZW0ub3duZXJEb2N1bWVudCwgbm9kZU5hbWUgPSBlbGVtLm5vZGVOYW1lLCBkaXNwbGF5ID0gZGVmYXVsdERpc3BsYXlNYXBbbm9kZU5hbWVdO1xuICAgICAgICAgICAgaWYgKGRpc3BsYXkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGlzcGxheTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRlbXAgPSBkb2MuYm9keS5hcHBlbmRDaGlsZChkb2MuY3JlYXRlRWxlbWVudChub2RlTmFtZSkpO1xuICAgICAgICAgICAgZGlzcGxheSA9IGpRdWVyeS5jc3ModGVtcCwgXCJkaXNwbGF5XCIpO1xuICAgICAgICAgICAgdGVtcC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRlbXApO1xuICAgICAgICAgICAgaWYgKGRpc3BsYXkgPT09IFwibm9uZVwiKSB7XG4gICAgICAgICAgICAgICAgZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHREaXNwbGF5TWFwW25vZGVOYW1lXSA9IGRpc3BsYXk7XG4gICAgICAgICAgICByZXR1cm4gZGlzcGxheTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBzaG93SGlkZShlbGVtZW50cywgc2hvdykge1xuICAgICAgICAgICAgdmFyIGRpc3BsYXksIGVsZW0sIHZhbHVlcyA9IFtdLCBpbmRleCA9IDAsIGxlbmd0aCA9IGVsZW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIC8vIERldGVybWluZSBuZXcgZGlzcGxheSB2YWx1ZSBmb3IgZWxlbWVudHMgdGhhdCBuZWVkIHRvIGNoYW5nZVxuICAgICAgICAgICAgZm9yICg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgZWxlbSA9IGVsZW1lbnRzW2luZGV4XTtcbiAgICAgICAgICAgICAgICBpZiAoIWVsZW0uc3R5bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRpc3BsYXkgPSBlbGVtLnN0eWxlLmRpc3BsYXk7XG4gICAgICAgICAgICAgICAgaWYgKHNob3cpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2luY2Ugd2UgZm9yY2UgdmlzaWJpbGl0eSB1cG9uIGNhc2NhZGUtaGlkZGVuIGVsZW1lbnRzLCBhbiBpbW1lZGlhdGUgKGFuZCBzbG93KVxuICAgICAgICAgICAgICAgICAgICAvLyBjaGVjayBpcyByZXF1aXJlZCBpbiB0aGlzIGZpcnN0IGxvb3AgdW5sZXNzIHdlIGhhdmUgYSBub25lbXB0eSBkaXNwbGF5IHZhbHVlIChlaXRoZXJcbiAgICAgICAgICAgICAgICAgICAgLy8gaW5saW5lIG9yIGFib3V0LXRvLWJlLXJlc3RvcmVkKVxuICAgICAgICAgICAgICAgICAgICBpZiAoZGlzcGxheSA9PT0gXCJub25lXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlc1tpbmRleF0gPSBkYXRhUHJpdi5nZXQoZWxlbSwgXCJkaXNwbGF5XCIpIHx8IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXZhbHVlc1tpbmRleF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtLnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbGVtLnN0eWxlLmRpc3BsYXkgPT09IFwiXCIgJiYgaXNIaWRkZW5XaXRoaW5UcmVlKGVsZW0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXNbaW5kZXhdID0gZ2V0RGVmYXVsdERpc3BsYXkoZWxlbSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXNwbGF5ICE9PSBcIm5vbmVcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzW2luZGV4XSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVtZW1iZXIgd2hhdCB3ZSdyZSBvdmVyd3JpdGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVByaXYuc2V0KGVsZW0sIFwiZGlzcGxheVwiLCBkaXNwbGF5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNldCB0aGUgZGlzcGxheSBvZiB0aGUgZWxlbWVudHMgaW4gYSBzZWNvbmQgbG9vcCB0byBhdm9pZCBjb25zdGFudCByZWZsb3dcbiAgICAgICAgICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZXNbaW5kZXhdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudHNbaW5kZXhdLnN0eWxlLmRpc3BsYXkgPSB2YWx1ZXNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50cztcbiAgICAgICAgfVxuICAgICAgICBqUXVlcnkuZm4uZXh0ZW5kKHtcbiAgICAgICAgICAgIHNob3c6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2hvd0hpZGUodGhpcywgdHJ1ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaGlkZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzaG93SGlkZSh0aGlzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0b2dnbGU6IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZSA/IHRoaXMuc2hvdygpIDogdGhpcy5oaWRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNIaWRkZW5XaXRoaW5UcmVlKHRoaXMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkodGhpcykuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KHRoaXMpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIHJjaGVja2FibGVUeXBlID0gKC9eKD86Y2hlY2tib3h8cmFkaW8pJC9pKTtcbiAgICAgICAgdmFyIHJ0YWdOYW1lID0gKC88KFthLXpdW15cXC9cXDA+XFx4MjBcXHRcXHJcXG5cXGZdKikvaSk7XG4gICAgICAgIHZhciByc2NyaXB0VHlwZSA9ICgvXiR8Xm1vZHVsZSR8XFwvKD86amF2YXxlY21hKXNjcmlwdC9pKTtcbiAgICAgICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSwgZGl2ID0gZnJhZ21lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSksIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgICAgICAgLy8gU3VwcG9ydDogQW5kcm9pZCA0LjAgLSA0LjMgb25seVxuICAgICAgICAgICAgLy8gQ2hlY2sgc3RhdGUgbG9zdCBpZiB0aGUgbmFtZSBpcyBzZXQgKHRyYWMtMTEyMTcpXG4gICAgICAgICAgICAvLyBTdXBwb3J0OiBXaW5kb3dzIFdlYiBBcHBzIChXV0EpXG4gICAgICAgICAgICAvLyBgbmFtZWAgYW5kIGB0eXBlYCBtdXN0IHVzZSAuc2V0QXR0cmlidXRlIGZvciBXV0EgKHRyYWMtMTQ5MDEpXG4gICAgICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwicmFkaW9cIik7XG4gICAgICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoXCJjaGVja2VkXCIsIFwiY2hlY2tlZFwiKTtcbiAgICAgICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZShcIm5hbWVcIiwgXCJ0XCIpO1xuICAgICAgICAgICAgZGl2LmFwcGVuZENoaWxkKGlucHV0KTtcbiAgICAgICAgICAgIC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjEgb25seVxuICAgICAgICAgICAgLy8gT2xkZXIgV2ViS2l0IGRvZXNuJ3QgY2xvbmUgY2hlY2tlZCBzdGF0ZSBjb3JyZWN0bHkgaW4gZnJhZ21lbnRzXG4gICAgICAgICAgICBzdXBwb3J0LmNoZWNrQ2xvbmUgPSBkaXYuY2xvbmVOb2RlKHRydWUpLmNsb25lTm9kZSh0cnVlKS5sYXN0Q2hpbGQuY2hlY2tlZDtcbiAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDw9MTEgb25seVxuICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRleHRhcmVhIChhbmQgY2hlY2tib3gpIGRlZmF1bHRWYWx1ZSBpcyBwcm9wZXJseSBjbG9uZWRcbiAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgPSBcIjx0ZXh0YXJlYT54PC90ZXh0YXJlYT5cIjtcbiAgICAgICAgICAgIHN1cHBvcnQubm9DbG9uZUNoZWNrZWQgPSAhIWRpdi5jbG9uZU5vZGUodHJ1ZSkubGFzdENoaWxkLmRlZmF1bHRWYWx1ZTtcbiAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG4gICAgICAgICAgICAvLyBJRSA8PTkgcmVwbGFjZXMgPG9wdGlvbj4gdGFncyB3aXRoIHRoZWlyIGNvbnRlbnRzIHdoZW4gaW5zZXJ0ZWQgb3V0c2lkZSBvZlxuICAgICAgICAgICAgLy8gdGhlIHNlbGVjdCBlbGVtZW50LlxuICAgICAgICAgICAgZGl2LmlubmVySFRNTCA9IFwiPG9wdGlvbj48L29wdGlvbj5cIjtcbiAgICAgICAgICAgIHN1cHBvcnQub3B0aW9uID0gISFkaXYubGFzdENoaWxkO1xuICAgICAgICB9KSgpO1xuICAgICAgICAvLyBXZSBoYXZlIHRvIGNsb3NlIHRoZXNlIHRhZ3MgdG8gc3VwcG9ydCBYSFRNTCAodHJhYy0xMzIwMClcbiAgICAgICAgdmFyIHdyYXBNYXAgPSB7XG4gICAgICAgICAgICAvLyBYSFRNTCBwYXJzZXJzIGRvIG5vdCBtYWdpY2FsbHkgaW5zZXJ0IGVsZW1lbnRzIGluIHRoZVxuICAgICAgICAgICAgLy8gc2FtZSB3YXkgdGhhdCB0YWcgc291cCBwYXJzZXJzIGRvLiBTbyB3ZSBjYW5ub3Qgc2hvcnRlblxuICAgICAgICAgICAgLy8gdGhpcyBieSBvbWl0dGluZyA8dGJvZHk+IG9yIG90aGVyIHJlcXVpcmVkIGVsZW1lbnRzLlxuICAgICAgICAgICAgdGhlYWQ6IFsxLCBcIjx0YWJsZT5cIiwgXCI8L3RhYmxlPlwiXSxcbiAgICAgICAgICAgIGNvbDogWzIsIFwiPHRhYmxlPjxjb2xncm91cD5cIiwgXCI8L2NvbGdyb3VwPjwvdGFibGU+XCJdLFxuICAgICAgICAgICAgdHI6IFsyLCBcIjx0YWJsZT48dGJvZHk+XCIsIFwiPC90Ym9keT48L3RhYmxlPlwiXSxcbiAgICAgICAgICAgIHRkOiBbMywgXCI8dGFibGU+PHRib2R5Pjx0cj5cIiwgXCI8L3RyPjwvdGJvZHk+PC90YWJsZT5cIl0sXG4gICAgICAgICAgICBfZGVmYXVsdDogWzAsIFwiXCIsIFwiXCJdXG4gICAgICAgIH07XG4gICAgICAgIHdyYXBNYXAudGJvZHkgPSB3cmFwTWFwLnRmb290ID0gd3JhcE1hcC5jb2xncm91cCA9IHdyYXBNYXAuY2FwdGlvbiA9IHdyYXBNYXAudGhlYWQ7XG4gICAgICAgIHdyYXBNYXAudGggPSB3cmFwTWFwLnRkO1xuICAgICAgICAvLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuICAgICAgICBpZiAoIXN1cHBvcnQub3B0aW9uKSB7XG4gICAgICAgICAgICB3cmFwTWFwLm9wdGdyb3VwID0gd3JhcE1hcC5vcHRpb24gPSBbMSwgXCI8c2VsZWN0IG11bHRpcGxlPSdtdWx0aXBsZSc+XCIsIFwiPC9zZWxlY3Q+XCJdO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGdldEFsbChjb250ZXh0LCB0YWcpIHtcbiAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExIG9ubHlcbiAgICAgICAgICAgIC8vIFVzZSB0eXBlb2YgdG8gYXZvaWQgemVyby1hcmd1bWVudCBtZXRob2QgaW52b2NhdGlvbiBvbiBob3N0IG9iamVjdHMgKHRyYWMtMTUxNTEpXG4gICAgICAgICAgICB2YXIgcmV0O1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgcmV0ID0gY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSh0YWcgfHwgXCIqXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGNvbnRleHQucXVlcnlTZWxlY3RvckFsbCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgIHJldCA9IGNvbnRleHQucXVlcnlTZWxlY3RvckFsbCh0YWcgfHwgXCIqXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0ID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGFnID09PSB1bmRlZmluZWQgfHwgdGFnICYmIG5vZGVOYW1lKGNvbnRleHQsIHRhZykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4galF1ZXJ5Lm1lcmdlKFtjb250ZXh0XSwgcmV0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTWFyayBzY3JpcHRzIGFzIGhhdmluZyBhbHJlYWR5IGJlZW4gZXZhbHVhdGVkXG4gICAgICAgIGZ1bmN0aW9uIHNldEdsb2JhbEV2YWwoZWxlbXMsIHJlZkVsZW1lbnRzKSB7XG4gICAgICAgICAgICB2YXIgaSA9IDAsIGwgPSBlbGVtcy5sZW5ndGg7XG4gICAgICAgICAgICBmb3IgKDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICAgIGRhdGFQcml2LnNldChlbGVtc1tpXSwgXCJnbG9iYWxFdmFsXCIsICFyZWZFbGVtZW50cyB8fCBkYXRhUHJpdi5nZXQocmVmRWxlbWVudHNbaV0sIFwiZ2xvYmFsRXZhbFwiKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJodG1sID0gLzx8JiM/XFx3KzsvO1xuICAgICAgICBmdW5jdGlvbiBidWlsZEZyYWdtZW50KGVsZW1zLCBjb250ZXh0LCBzY3JpcHRzLCBzZWxlY3Rpb24sIGlnbm9yZWQpIHtcbiAgICAgICAgICAgIHZhciBlbGVtLCB0bXAsIHRhZywgd3JhcCwgYXR0YWNoZWQsIGosIGZyYWdtZW50ID0gY29udGV4dC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksIG5vZGVzID0gW10sIGkgPSAwLCBsID0gZWxlbXMubGVuZ3RoO1xuICAgICAgICAgICAgZm9yICg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICBlbGVtID0gZWxlbXNbaV07XG4gICAgICAgICAgICAgICAgaWYgKGVsZW0gfHwgZWxlbSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBBZGQgbm9kZXMgZGlyZWN0bHlcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvVHlwZShlbGVtKSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0XG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkubWVyZ2Uobm9kZXMsIGVsZW0ubm9kZVR5cGUgPyBbZWxlbV0gOiBlbGVtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgbm9uLWh0bWwgaW50byBhIHRleHQgbm9kZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFyaHRtbC50ZXN0KGVsZW0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2Rlcy5wdXNoKGNvbnRleHQuY3JlYXRlVGV4dE5vZGUoZWxlbSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29udmVydCBodG1sIGludG8gRE9NIG5vZGVzXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0bXAgPSB0bXAgfHwgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoY29udGV4dC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERlc2VyaWFsaXplIGEgc3RhbmRhcmQgcmVwcmVzZW50YXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIHRhZyA9IChydGFnTmFtZS5leGVjKGVsZW0pIHx8IFtcIlwiLCBcIlwiXSlbMV0udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyYXAgPSB3cmFwTWFwW3RhZ10gfHwgd3JhcE1hcC5fZGVmYXVsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRtcC5pbm5lckhUTUwgPSB3cmFwWzFdICsgalF1ZXJ5Lmh0bWxQcmVmaWx0ZXIoZWxlbSkgKyB3cmFwWzJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRGVzY2VuZCB0aHJvdWdoIHdyYXBwZXJzIHRvIHRoZSByaWdodCBjb250ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICBqID0gd3JhcFswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChqLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXAgPSB0bXAubGFzdENoaWxkO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0XG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkubWVyZ2Uobm9kZXMsIHRtcC5jaGlsZE5vZGVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbWVtYmVyIHRoZSB0b3AtbGV2ZWwgY29udGFpbmVyXG4gICAgICAgICAgICAgICAgICAgICAgICB0bXAgPSBmcmFnbWVudC5maXJzdENoaWxkO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRW5zdXJlIHRoZSBjcmVhdGVkIG5vZGVzIGFyZSBvcnBoYW5lZCAodHJhYy0xMjM5MilcbiAgICAgICAgICAgICAgICAgICAgICAgIHRtcC50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSZW1vdmUgd3JhcHBlciBmcm9tIGZyYWdtZW50XG4gICAgICAgICAgICBmcmFnbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgICAgICAgICBpID0gMDtcbiAgICAgICAgICAgIHdoaWxlICgoZWxlbSA9IG5vZGVzW2krK10pKSB7XG4gICAgICAgICAgICAgICAgLy8gU2tpcCBlbGVtZW50cyBhbHJlYWR5IGluIHRoZSBjb250ZXh0IGNvbGxlY3Rpb24gKHRyYWMtNDA4NylcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0aW9uICYmIGpRdWVyeS5pbkFycmF5KGVsZW0sIHNlbGVjdGlvbikgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaWdub3JlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWdub3JlZC5wdXNoKGVsZW0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhdHRhY2hlZCA9IGlzQXR0YWNoZWQoZWxlbSk7XG4gICAgICAgICAgICAgICAgLy8gQXBwZW5kIHRvIGZyYWdtZW50XG4gICAgICAgICAgICAgICAgdG1wID0gZ2V0QWxsKGZyYWdtZW50LmFwcGVuZENoaWxkKGVsZW0pLCBcInNjcmlwdFwiKTtcbiAgICAgICAgICAgICAgICAvLyBQcmVzZXJ2ZSBzY3JpcHQgZXZhbHVhdGlvbiBoaXN0b3J5XG4gICAgICAgICAgICAgICAgaWYgKGF0dGFjaGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldEdsb2JhbEV2YWwodG1wKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQ2FwdHVyZSBleGVjdXRhYmxlc1xuICAgICAgICAgICAgICAgIGlmIChzY3JpcHRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGogPSAwO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKGVsZW0gPSB0bXBbaisrXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyc2NyaXB0VHlwZS50ZXN0KGVsZW0udHlwZSB8fCBcIlwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcmlwdHMucHVzaChlbGVtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmcmFnbWVudDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcnR5cGVuYW1lc3BhY2UgPSAvXihbXi5dKikoPzpcXC4oLispfCkvO1xuICAgICAgICBmdW5jdGlvbiByZXR1cm5UcnVlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gcmV0dXJuRmFsc2UoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gb24oZWxlbSwgdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiwgb25lKSB7XG4gICAgICAgICAgICB2YXIgb3JpZ0ZuLCB0eXBlO1xuICAgICAgICAgICAgLy8gVHlwZXMgY2FuIGJlIGEgbWFwIG9mIHR5cGVzL2hhbmRsZXJzXG4gICAgICAgICAgICBpZiAodHlwZW9mIHR5cGVzID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgLy8gKCB0eXBlcy1PYmplY3QsIHNlbGVjdG9yLCBkYXRhIClcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNlbGVjdG9yICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICggdHlwZXMtT2JqZWN0LCBkYXRhIClcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IGRhdGEgfHwgc2VsZWN0b3I7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKHR5cGUgaW4gdHlwZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgb24oZWxlbSwgdHlwZSwgc2VsZWN0b3IsIGRhdGEsIHR5cGVzW3R5cGVdLCBvbmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhID09IG51bGwgJiYgZm4gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vICggdHlwZXMsIGZuIClcbiAgICAgICAgICAgICAgICBmbiA9IHNlbGVjdG9yO1xuICAgICAgICAgICAgICAgIGRhdGEgPSBzZWxlY3RvciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGZuID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNlbGVjdG9yID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICggdHlwZXMsIHNlbGVjdG9yLCBmbiApXG4gICAgICAgICAgICAgICAgICAgIGZuID0gZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICggdHlwZXMsIGRhdGEsIGZuIClcbiAgICAgICAgICAgICAgICAgICAgZm4gPSBkYXRhO1xuICAgICAgICAgICAgICAgICAgICBkYXRhID0gc2VsZWN0b3I7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmbiA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBmbiA9IHJldHVybkZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIWZuKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsZW07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob25lID09PSAxKSB7XG4gICAgICAgICAgICAgICAgb3JpZ0ZuID0gZm47XG4gICAgICAgICAgICAgICAgZm4gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2FuIHVzZSBhbiBlbXB0eSBzZXQsIHNpbmNlIGV2ZW50IGNvbnRhaW5zIHRoZSBpbmZvXG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeSgpLm9mZihldmVudCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvcmlnRm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8vIFVzZSBzYW1lIGd1aWQgc28gY2FsbGVyIGNhbiByZW1vdmUgdXNpbmcgb3JpZ0ZuXG4gICAgICAgICAgICAgICAgZm4uZ3VpZCA9IG9yaWdGbi5ndWlkIHx8IChvcmlnRm4uZ3VpZCA9IGpRdWVyeS5ndWlkKyspO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGVsZW0uZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgalF1ZXJ5LmV2ZW50LmFkZCh0aGlzLCB0eXBlcywgZm4sIGRhdGEsIHNlbGVjdG9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8qXG4gICAgICAgICogSGVscGVyIGZ1bmN0aW9ucyBmb3IgbWFuYWdpbmcgZXZlbnRzIC0tIG5vdCBwYXJ0IG9mIHRoZSBwdWJsaWMgaW50ZXJmYWNlLlxuICAgICAgICAqIFByb3BzIHRvIERlYW4gRWR3YXJkcycgYWRkRXZlbnQgbGlicmFyeSBmb3IgbWFueSBvZiB0aGUgaWRlYXMuXG4gICAgICAgICovXG4gICAgICAgIGpRdWVyeS5ldmVudCA9IHtcbiAgICAgICAgICAgIGdsb2JhbDoge30sXG4gICAgICAgICAgICBhZGQ6IGZ1bmN0aW9uIChlbGVtLCB0eXBlcywgaGFuZGxlciwgZGF0YSwgc2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICB2YXIgaGFuZGxlT2JqSW4sIGV2ZW50SGFuZGxlLCB0bXAsIGV2ZW50cywgdCwgaGFuZGxlT2JqLCBzcGVjaWFsLCBoYW5kbGVycywgdHlwZSwgbmFtZXNwYWNlcywgb3JpZ1R5cGUsIGVsZW1EYXRhID0gZGF0YVByaXYuZ2V0KGVsZW0pO1xuICAgICAgICAgICAgICAgIC8vIE9ubHkgYXR0YWNoIGV2ZW50cyB0byBvYmplY3RzIHRoYXQgYWNjZXB0IGRhdGFcbiAgICAgICAgICAgICAgICBpZiAoIWFjY2VwdERhdGEoZWxlbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBDYWxsZXIgY2FuIHBhc3MgaW4gYW4gb2JqZWN0IG9mIGN1c3RvbSBkYXRhIGluIGxpZXUgb2YgdGhlIGhhbmRsZXJcbiAgICAgICAgICAgICAgICBpZiAoaGFuZGxlci5oYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZU9iakluID0gaGFuZGxlcjtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlciA9IGhhbmRsZU9iakluLmhhbmRsZXI7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yID0gaGFuZGxlT2JqSW4uc2VsZWN0b3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEVuc3VyZSB0aGF0IGludmFsaWQgc2VsZWN0b3JzIHRocm93IGV4Y2VwdGlvbnMgYXQgYXR0YWNoIHRpbWVcbiAgICAgICAgICAgICAgICAvLyBFdmFsdWF0ZSBhZ2FpbnN0IGRvY3VtZW50RWxlbWVudCBpbiBjYXNlIGVsZW0gaXMgYSBub24tZWxlbWVudCBub2RlIChlLmcuLCBkb2N1bWVudClcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmZpbmQubWF0Y2hlc1NlbGVjdG9yKGRvY3VtZW50RWxlbWVudCwgc2VsZWN0b3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhhdCB0aGUgaGFuZGxlciBoYXMgYSB1bmlxdWUgSUQsIHVzZWQgdG8gZmluZC9yZW1vdmUgaXQgbGF0ZXJcbiAgICAgICAgICAgICAgICBpZiAoIWhhbmRsZXIuZ3VpZCkge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyLmd1aWQgPSBqUXVlcnkuZ3VpZCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBJbml0IHRoZSBlbGVtZW50J3MgZXZlbnQgc3RydWN0dXJlIGFuZCBtYWluIGhhbmRsZXIsIGlmIHRoaXMgaXMgdGhlIGZpcnN0XG4gICAgICAgICAgICAgICAgaWYgKCEoZXZlbnRzID0gZWxlbURhdGEuZXZlbnRzKSkge1xuICAgICAgICAgICAgICAgICAgICBldmVudHMgPSBlbGVtRGF0YS5ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIShldmVudEhhbmRsZSA9IGVsZW1EYXRhLmhhbmRsZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRIYW5kbGUgPSBlbGVtRGF0YS5oYW5kbGUgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRGlzY2FyZCB0aGUgc2Vjb25kIGV2ZW50IG9mIGEgalF1ZXJ5LmV2ZW50LnRyaWdnZXIoKSBhbmRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdoZW4gYW4gZXZlbnQgaXMgY2FsbGVkIGFmdGVyIGEgcGFnZSBoYXMgdW5sb2FkZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2YgalF1ZXJ5ICE9PSBcInVuZGVmaW5lZFwiICYmIGpRdWVyeS5ldmVudC50cmlnZ2VyZWQgIT09IGUudHlwZSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmV2ZW50LmRpc3BhdGNoLmFwcGx5KGVsZW0sIGFyZ3VtZW50cykgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBtdWx0aXBsZSBldmVudHMgc2VwYXJhdGVkIGJ5IGEgc3BhY2VcbiAgICAgICAgICAgICAgICB0eXBlcyA9ICh0eXBlcyB8fCBcIlwiKS5tYXRjaChybm90aHRtbHdoaXRlKSB8fCBbXCJcIl07XG4gICAgICAgICAgICAgICAgdCA9IHR5cGVzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB3aGlsZSAodC0tKSB7XG4gICAgICAgICAgICAgICAgICAgIHRtcCA9IHJ0eXBlbmFtZXNwYWNlLmV4ZWModHlwZXNbdF0pIHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICB0eXBlID0gb3JpZ1R5cGUgPSB0bXBbMV07XG4gICAgICAgICAgICAgICAgICAgIG5hbWVzcGFjZXMgPSAodG1wWzJdIHx8IFwiXCIpLnNwbGl0KFwiLlwiKS5zb3J0KCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZXJlICptdXN0KiBiZSBhIHR5cGUsIG5vIGF0dGFjaGluZyBuYW1lc3BhY2Utb25seSBoYW5kbGVyc1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIGV2ZW50IGNoYW5nZXMgaXRzIHR5cGUsIHVzZSB0aGUgc3BlY2lhbCBldmVudCBoYW5kbGVycyBmb3IgdGhlIGNoYW5nZWQgdHlwZVxuICAgICAgICAgICAgICAgICAgICBzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbdHlwZV0gfHwge307XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHNlbGVjdG9yIGRlZmluZWQsIGRldGVybWluZSBzcGVjaWFsIGV2ZW50IGFwaSB0eXBlLCBvdGhlcndpc2UgZ2l2ZW4gdHlwZVxuICAgICAgICAgICAgICAgICAgICB0eXBlID0gKHNlbGVjdG9yID8gc3BlY2lhbC5kZWxlZ2F0ZVR5cGUgOiBzcGVjaWFsLmJpbmRUeXBlKSB8fCB0eXBlO1xuICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgc3BlY2lhbCBiYXNlZCBvbiBuZXdseSByZXNldCB0eXBlXG4gICAgICAgICAgICAgICAgICAgIHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFt0eXBlXSB8fCB7fTtcbiAgICAgICAgICAgICAgICAgICAgLy8gaGFuZGxlT2JqIGlzIHBhc3NlZCB0byBhbGwgZXZlbnQgaGFuZGxlcnNcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlT2JqID0galF1ZXJ5LmV4dGVuZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ1R5cGU6IG9yaWdUeXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXI6IGhhbmRsZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBndWlkOiBoYW5kbGVyLmd1aWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rvcjogc2VsZWN0b3IsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZWVkc0NvbnRleHQ6IHNlbGVjdG9yICYmIGpRdWVyeS5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KHNlbGVjdG9yKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVzcGFjZTogbmFtZXNwYWNlcy5qb2luKFwiLlwiKVxuICAgICAgICAgICAgICAgICAgICB9LCBoYW5kbGVPYmpJbik7XG4gICAgICAgICAgICAgICAgICAgIC8vIEluaXQgdGhlIGV2ZW50IGhhbmRsZXIgcXVldWUgaWYgd2UncmUgdGhlIGZpcnN0XG4gICAgICAgICAgICAgICAgICAgIGlmICghKGhhbmRsZXJzID0gZXZlbnRzW3R5cGVdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlcnMgPSBldmVudHNbdHlwZV0gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXJzLmRlbGVnYXRlQ291bnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gT25seSB1c2UgYWRkRXZlbnRMaXN0ZW5lciBpZiB0aGUgc3BlY2lhbCBldmVudHMgaGFuZGxlciByZXR1cm5zIGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNwZWNpYWwuc2V0dXAgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGVjaWFsLnNldHVwLmNhbGwoZWxlbSwgZGF0YSwgbmFtZXNwYWNlcywgZXZlbnRIYW5kbGUpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtLmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGV2ZW50SGFuZGxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNwZWNpYWwuYWRkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzcGVjaWFsLmFkZC5jYWxsKGVsZW0sIGhhbmRsZU9iaik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWhhbmRsZU9iai5oYW5kbGVyLmd1aWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVPYmouaGFuZGxlci5ndWlkID0gaGFuZGxlci5ndWlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZCB0byB0aGUgZWxlbWVudCdzIGhhbmRsZXIgbGlzdCwgZGVsZWdhdGVzIGluIGZyb250XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlcnMuc3BsaWNlKGhhbmRsZXJzLmRlbGVnYXRlQ291bnQrKywgMCwgaGFuZGxlT2JqKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXJzLnB1c2goaGFuZGxlT2JqKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBLZWVwIHRyYWNrIG9mIHdoaWNoIGV2ZW50cyBoYXZlIGV2ZXIgYmVlbiB1c2VkLCBmb3IgZXZlbnQgb3B0aW1pemF0aW9uXG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeS5ldmVudC5nbG9iYWxbdHlwZV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBEZXRhY2ggYW4gZXZlbnQgb3Igc2V0IG9mIGV2ZW50cyBmcm9tIGFuIGVsZW1lbnRcbiAgICAgICAgICAgIHJlbW92ZTogZnVuY3Rpb24gKGVsZW0sIHR5cGVzLCBoYW5kbGVyLCBzZWxlY3RvciwgbWFwcGVkVHlwZXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgaiwgb3JpZ0NvdW50LCB0bXAsIGV2ZW50cywgdCwgaGFuZGxlT2JqLCBzcGVjaWFsLCBoYW5kbGVycywgdHlwZSwgbmFtZXNwYWNlcywgb3JpZ1R5cGUsIGVsZW1EYXRhID0gZGF0YVByaXYuaGFzRGF0YShlbGVtKSAmJiBkYXRhUHJpdi5nZXQoZWxlbSk7XG4gICAgICAgICAgICAgICAgaWYgKCFlbGVtRGF0YSB8fCAhKGV2ZW50cyA9IGVsZW1EYXRhLmV2ZW50cykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBPbmNlIGZvciBlYWNoIHR5cGUubmFtZXNwYWNlIGluIHR5cGVzOyB0eXBlIG1heSBiZSBvbWl0dGVkXG4gICAgICAgICAgICAgICAgdHlwZXMgPSAodHlwZXMgfHwgXCJcIikubWF0Y2gocm5vdGh0bWx3aGl0ZSkgfHwgW1wiXCJdO1xuICAgICAgICAgICAgICAgIHQgPSB0eXBlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHQtLSkge1xuICAgICAgICAgICAgICAgICAgICB0bXAgPSBydHlwZW5hbWVzcGFjZS5leGVjKHR5cGVzW3RdKSB8fCBbXTtcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9IG9yaWdUeXBlID0gdG1wWzFdO1xuICAgICAgICAgICAgICAgICAgICBuYW1lc3BhY2VzID0gKHRtcFsyXSB8fCBcIlwiKS5zcGxpdChcIi5cIikuc29ydCgpO1xuICAgICAgICAgICAgICAgICAgICAvLyBVbmJpbmQgYWxsIGV2ZW50cyAob24gdGhpcyBuYW1lc3BhY2UsIGlmIHByb3ZpZGVkKSBmb3IgdGhlIGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHR5cGUgaW4gZXZlbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmV2ZW50LnJlbW92ZShlbGVtLCB0eXBlICsgdHlwZXNbdF0sIGhhbmRsZXIsIHNlbGVjdG9yLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFt0eXBlXSB8fCB7fTtcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9IChzZWxlY3RvciA/IHNwZWNpYWwuZGVsZWdhdGVUeXBlIDogc3BlY2lhbC5iaW5kVHlwZSkgfHwgdHlwZTtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlcnMgPSBldmVudHNbdHlwZV0gfHwgW107XG4gICAgICAgICAgICAgICAgICAgIHRtcCA9IHRtcFsyXSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFJlZ0V4cChcIihefFxcXFwuKVwiICsgbmFtZXNwYWNlcy5qb2luKFwiXFxcXC4oPzouKlxcXFwufClcIikgKyBcIihcXFxcLnwkKVwiKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIG1hdGNoaW5nIGV2ZW50c1xuICAgICAgICAgICAgICAgICAgICBvcmlnQ291bnQgPSBqID0gaGFuZGxlcnMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoai0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVPYmogPSBoYW5kbGVyc1tqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgobWFwcGVkVHlwZXMgfHwgb3JpZ1R5cGUgPT09IGhhbmRsZU9iai5vcmlnVHlwZSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoIWhhbmRsZXIgfHwgaGFuZGxlci5ndWlkID09PSBoYW5kbGVPYmouZ3VpZCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoIXRtcCB8fCB0bXAudGVzdChoYW5kbGVPYmoubmFtZXNwYWNlKSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoIXNlbGVjdG9yIHx8IHNlbGVjdG9yID09PSBoYW5kbGVPYmouc2VsZWN0b3IgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3IgPT09IFwiKipcIiAmJiBoYW5kbGVPYmouc2VsZWN0b3IpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlcnMuc3BsaWNlKGosIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYW5kbGVPYmouc2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlcnMuZGVsZWdhdGVDb3VudC0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3BlY2lhbC5yZW1vdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3BlY2lhbC5yZW1vdmUuY2FsbChlbGVtLCBoYW5kbGVPYmopO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgZ2VuZXJpYyBldmVudCBoYW5kbGVyIGlmIHdlIHJlbW92ZWQgc29tZXRoaW5nIGFuZCBubyBtb3JlIGhhbmRsZXJzIGV4aXN0XG4gICAgICAgICAgICAgICAgICAgIC8vIChhdm9pZHMgcG90ZW50aWFsIGZvciBlbmRsZXNzIHJlY3Vyc2lvbiBkdXJpbmcgcmVtb3ZhbCBvZiBzcGVjaWFsIGV2ZW50IGhhbmRsZXJzKVxuICAgICAgICAgICAgICAgICAgICBpZiAob3JpZ0NvdW50ICYmICFoYW5kbGVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc3BlY2lhbC50ZWFyZG93biB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwZWNpYWwudGVhcmRvd24uY2FsbChlbGVtLCBuYW1lc3BhY2VzLCBlbGVtRGF0YS5oYW5kbGUpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5yZW1vdmVFdmVudChlbGVtLCB0eXBlLCBlbGVtRGF0YS5oYW5kbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGV2ZW50c1t0eXBlXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgZGF0YSBhbmQgdGhlIGV4cGFuZG8gaWYgaXQncyBubyBsb25nZXIgdXNlZFxuICAgICAgICAgICAgICAgIGlmIChqUXVlcnkuaXNFbXB0eU9iamVjdChldmVudHMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFQcml2LnJlbW92ZShlbGVtLCBcImhhbmRsZSBldmVudHNcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRpc3BhdGNoOiBmdW5jdGlvbiAobmF0aXZlRXZlbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgaSwgaiwgcmV0LCBtYXRjaGVkLCBoYW5kbGVPYmosIGhhbmRsZXJRdWV1ZSwgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKSwgXG4gICAgICAgICAgICAgICAgLy8gTWFrZSBhIHdyaXRhYmxlIGpRdWVyeS5FdmVudCBmcm9tIHRoZSBuYXRpdmUgZXZlbnQgb2JqZWN0XG4gICAgICAgICAgICAgICAgZXZlbnQgPSBqUXVlcnkuZXZlbnQuZml4KG5hdGl2ZUV2ZW50KSwgaGFuZGxlcnMgPSAoZGF0YVByaXYuZ2V0KHRoaXMsIFwiZXZlbnRzXCIpIHx8IE9iamVjdC5jcmVhdGUobnVsbCkpW2V2ZW50LnR5cGVdIHx8IFtdLCBzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbZXZlbnQudHlwZV0gfHwge307XG4gICAgICAgICAgICAgICAgLy8gVXNlIHRoZSBmaXgtZWQgalF1ZXJ5LkV2ZW50IHJhdGhlciB0aGFuIHRoZSAocmVhZC1vbmx5KSBuYXRpdmUgZXZlbnRcbiAgICAgICAgICAgICAgICBhcmdzWzBdID0gZXZlbnQ7XG4gICAgICAgICAgICAgICAgZm9yIChpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBldmVudC5kZWxlZ2F0ZVRhcmdldCA9IHRoaXM7XG4gICAgICAgICAgICAgICAgLy8gQ2FsbCB0aGUgcHJlRGlzcGF0Y2ggaG9vayBmb3IgdGhlIG1hcHBlZCB0eXBlLCBhbmQgbGV0IGl0IGJhaWwgaWYgZGVzaXJlZFxuICAgICAgICAgICAgICAgIGlmIChzcGVjaWFsLnByZURpc3BhdGNoICYmIHNwZWNpYWwucHJlRGlzcGF0Y2guY2FsbCh0aGlzLCBldmVudCkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gRGV0ZXJtaW5lIGhhbmRsZXJzXG4gICAgICAgICAgICAgICAgaGFuZGxlclF1ZXVlID0galF1ZXJ5LmV2ZW50LmhhbmRsZXJzLmNhbGwodGhpcywgZXZlbnQsIGhhbmRsZXJzKTtcbiAgICAgICAgICAgICAgICAvLyBSdW4gZGVsZWdhdGVzIGZpcnN0OyB0aGV5IG1heSB3YW50IHRvIHN0b3AgcHJvcGFnYXRpb24gYmVuZWF0aCB1c1xuICAgICAgICAgICAgICAgIGkgPSAwO1xuICAgICAgICAgICAgICAgIHdoaWxlICgobWF0Y2hlZCA9IGhhbmRsZXJRdWV1ZVtpKytdKSAmJiAhZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICBldmVudC5jdXJyZW50VGFyZ2V0ID0gbWF0Y2hlZC5lbGVtO1xuICAgICAgICAgICAgICAgICAgICBqID0gMDtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKChoYW5kbGVPYmogPSBtYXRjaGVkLmhhbmRsZXJzW2orK10pICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAhZXZlbnQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGV2ZW50IGlzIG5hbWVzcGFjZWQsIHRoZW4gZWFjaCBoYW5kbGVyIGlzIG9ubHkgaW52b2tlZCBpZiBpdCBpc1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3BlY2lhbGx5IHVuaXZlcnNhbCBvciBpdHMgbmFtZXNwYWNlcyBhcmUgYSBzdXBlcnNldCBvZiB0aGUgZXZlbnQncy5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZXZlbnQucm5hbWVzcGFjZSB8fCBoYW5kbGVPYmoubmFtZXNwYWNlID09PSBmYWxzZSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnJuYW1lc3BhY2UudGVzdChoYW5kbGVPYmoubmFtZXNwYWNlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LmhhbmRsZU9iaiA9IGhhbmRsZU9iajtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5kYXRhID0gaGFuZGxlT2JqLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0gKChqUXVlcnkuZXZlbnQuc3BlY2lhbFtoYW5kbGVPYmoub3JpZ1R5cGVdIHx8IHt9KS5oYW5kbGUgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlT2JqLmhhbmRsZXIpLmFwcGx5KG1hdGNoZWQuZWxlbSwgYXJncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZXZlbnQucmVzdWx0ID0gcmV0KSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBDYWxsIHRoZSBwb3N0RGlzcGF0Y2ggaG9vayBmb3IgdGhlIG1hcHBlZCB0eXBlXG4gICAgICAgICAgICAgICAgaWYgKHNwZWNpYWwucG9zdERpc3BhdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgIHNwZWNpYWwucG9zdERpc3BhdGNoLmNhbGwodGhpcywgZXZlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnQucmVzdWx0O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGhhbmRsZXJzOiBmdW5jdGlvbiAoZXZlbnQsIGhhbmRsZXJzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGksIGhhbmRsZU9iaiwgc2VsLCBtYXRjaGVkSGFuZGxlcnMsIG1hdGNoZWRTZWxlY3RvcnMsIGhhbmRsZXJRdWV1ZSA9IFtdLCBkZWxlZ2F0ZUNvdW50ID0gaGFuZGxlcnMuZGVsZWdhdGVDb3VudCwgY3VyID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICAgICAgICAgIC8vIEZpbmQgZGVsZWdhdGUgaGFuZGxlcnNcbiAgICAgICAgICAgICAgICBpZiAoZGVsZWdhdGVDb3VudCAmJlxuICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA8PTlcbiAgICAgICAgICAgICAgICAgICAgLy8gQmxhY2staG9sZSBTVkcgPHVzZT4gaW5zdGFuY2UgdHJlZXMgKHRyYWMtMTMxODApXG4gICAgICAgICAgICAgICAgICAgIGN1ci5ub2RlVHlwZSAmJlxuICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBGaXJlZm94IDw9NDJcbiAgICAgICAgICAgICAgICAgICAgLy8gU3VwcHJlc3Mgc3BlYy12aW9sYXRpbmcgY2xpY2tzIGluZGljYXRpbmcgYSBub24tcHJpbWFyeSBwb2ludGVyIGJ1dHRvbiAodHJhYy0zODYxKVxuICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTMtRXZlbnRzLyNldmVudC10eXBlLWNsaWNrXG4gICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDExIG9ubHlcbiAgICAgICAgICAgICAgICAgICAgLy8gLi4uYnV0IG5vdCBhcnJvdyBrZXkgXCJjbGlja3NcIiBvZiByYWRpbyBpbnB1dHMsIHdoaWNoIGNhbiBoYXZlIGBidXR0b25gIC0xIChnaC0yMzQzKVxuICAgICAgICAgICAgICAgICAgICAhKGV2ZW50LnR5cGUgPT09IFwiY2xpY2tcIiAmJiBldmVudC5idXR0b24gPj0gMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICg7IGN1ciAhPT0gdGhpczsgY3VyID0gY3VyLnBhcmVudE5vZGUgfHwgdGhpcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRG9uJ3QgY2hlY2sgbm9uLWVsZW1lbnRzICh0cmFjLTEzMjA4KVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRG9uJ3QgcHJvY2VzcyBjbGlja3Mgb24gZGlzYWJsZWQgZWxlbWVudHMgKHRyYWMtNjkxMSwgdHJhYy04MTY1LCB0cmFjLTExMzgyLCB0cmFjLTExNzY0KVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1ci5ub2RlVHlwZSA9PT0gMSAmJiAhKGV2ZW50LnR5cGUgPT09IFwiY2xpY2tcIiAmJiBjdXIuZGlzYWJsZWQgPT09IHRydWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZEhhbmRsZXJzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZFNlbGVjdG9ycyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBkZWxlZ2F0ZUNvdW50OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlT2JqID0gaGFuZGxlcnNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvbid0IGNvbmZsaWN0IHdpdGggT2JqZWN0LnByb3RvdHlwZSBwcm9wZXJ0aWVzICh0cmFjLTEzMjAzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWwgPSBoYW5kbGVPYmouc2VsZWN0b3IgKyBcIiBcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoZWRTZWxlY3RvcnNbc2VsXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVkU2VsZWN0b3JzW3NlbF0gPSBoYW5kbGVPYmoubmVlZHNDb250ZXh0ID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkoc2VsLCB0aGlzKS5pbmRleChjdXIpID4gLTEgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5maW5kKHNlbCwgdGhpcywgbnVsbCwgW2N1cl0pLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hlZFNlbGVjdG9yc1tzZWxdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVkSGFuZGxlcnMucHVzaChoYW5kbGVPYmopO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaGVkSGFuZGxlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXJRdWV1ZS5wdXNoKHsgZWxlbTogY3VyLCBoYW5kbGVyczogbWF0Y2hlZEhhbmRsZXJzIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIHJlbWFpbmluZyAoZGlyZWN0bHktYm91bmQpIGhhbmRsZXJzXG4gICAgICAgICAgICAgICAgY3VyID0gdGhpcztcbiAgICAgICAgICAgICAgICBpZiAoZGVsZWdhdGVDb3VudCA8IGhhbmRsZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyUXVldWUucHVzaCh7IGVsZW06IGN1ciwgaGFuZGxlcnM6IGhhbmRsZXJzLnNsaWNlKGRlbGVnYXRlQ291bnQpIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlclF1ZXVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFkZFByb3A6IGZ1bmN0aW9uIChuYW1lLCBob29rKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGpRdWVyeS5FdmVudC5wcm90b3R5cGUsIG5hbWUsIHtcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBnZXQ6IGlzRnVuY3Rpb24oaG9vaykgP1xuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9yaWdpbmFsRXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhvb2sodGhpcy5vcmlnaW5hbEV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vcmlnaW5hbEV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm9yaWdpbmFsRXZlbnRbbmFtZV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBuYW1lLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZpeDogZnVuY3Rpb24gKG9yaWdpbmFsRXZlbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3JpZ2luYWxFdmVudFtqUXVlcnkuZXhwYW5kb10gP1xuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50IDpcbiAgICAgICAgICAgICAgICAgICAgbmV3IGpRdWVyeS5FdmVudChvcmlnaW5hbEV2ZW50KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzcGVjaWFsOiB7XG4gICAgICAgICAgICAgICAgbG9hZDoge1xuICAgICAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IHRyaWdnZXJlZCBpbWFnZS5sb2FkIGV2ZW50cyBmcm9tIGJ1YmJsaW5nIHRvIHdpbmRvdy5sb2FkXG4gICAgICAgICAgICAgICAgICAgIG5vQnViYmxlOiB0cnVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjbGljazoge1xuICAgICAgICAgICAgICAgICAgICAvLyBVdGlsaXplIG5hdGl2ZSBldmVudCB0byBlbnN1cmUgY29ycmVjdCBzdGF0ZSBmb3IgY2hlY2thYmxlIGlucHV0c1xuICAgICAgICAgICAgICAgICAgICBzZXR1cDogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvciBtdXR1YWwgY29tcHJlc3NpYmlsaXR5IHdpdGggX2RlZmF1bHQsIHJlcGxhY2UgYHRoaXNgIGFjY2VzcyB3aXRoIGEgbG9jYWwgdmFyLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYHx8IGRhdGFgIGlzIGRlYWQgY29kZSBtZWFudCBvbmx5IHRvIHByZXNlcnZlIHRoZSB2YXJpYWJsZSB0aHJvdWdoIG1pbmlmaWNhdGlvbi5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbCA9IHRoaXMgfHwgZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENsYWltIHRoZSBmaXJzdCBoYW5kbGVyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmNoZWNrYWJsZVR5cGUudGVzdChlbC50eXBlKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsLmNsaWNrICYmIG5vZGVOYW1lKGVsLCBcImlucHV0XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZGF0YVByaXYuc2V0KCBlbCwgXCJjbGlja1wiLCAuLi4gKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldmVyYWdlTmF0aXZlKGVsLCBcImNsaWNrXCIsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmV0dXJuIGZhbHNlIHRvIGFsbG93IG5vcm1hbCBwcm9jZXNzaW5nIGluIHRoZSBjYWxsZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcjogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvciBtdXR1YWwgY29tcHJlc3NpYmlsaXR5IHdpdGggX2RlZmF1bHQsIHJlcGxhY2UgYHRoaXNgIGFjY2VzcyB3aXRoIGEgbG9jYWwgdmFyLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYHx8IGRhdGFgIGlzIGRlYWQgY29kZSBtZWFudCBvbmx5IHRvIHByZXNlcnZlIHRoZSB2YXJpYWJsZSB0aHJvdWdoIG1pbmlmaWNhdGlvbi5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbCA9IHRoaXMgfHwgZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvcmNlIHNldHVwIGJlZm9yZSB0cmlnZ2VyaW5nIGEgY2xpY2tcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyY2hlY2thYmxlVHlwZS50ZXN0KGVsLnR5cGUpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWwuY2xpY2sgJiYgbm9kZU5hbWUoZWwsIFwiaW5wdXRcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXZlcmFnZU5hdGl2ZShlbCwgXCJjbGlja1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJldHVybiBub24tZmFsc2UgdG8gYWxsb3cgbm9ybWFsIGV2ZW50LXBhdGggcHJvcGFnYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAvLyBGb3IgY3Jvc3MtYnJvd3NlciBjb25zaXN0ZW5jeSwgc3VwcHJlc3MgbmF0aXZlIC5jbGljaygpIG9uIGxpbmtzXG4gICAgICAgICAgICAgICAgICAgIC8vIEFsc28gcHJldmVudCBpdCBpZiB3ZSdyZSBjdXJyZW50bHkgaW5zaWRlIGEgbGV2ZXJhZ2VkIG5hdGl2ZS1ldmVudCBzdGFja1xuICAgICAgICAgICAgICAgICAgICBfZGVmYXVsdDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJjaGVja2FibGVUeXBlLnRlc3QodGFyZ2V0LnR5cGUpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LmNsaWNrICYmIG5vZGVOYW1lKHRhcmdldCwgXCJpbnB1dFwiKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFQcml2LmdldCh0YXJnZXQsIFwiY2xpY2tcIikgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlTmFtZSh0YXJnZXQsIFwiYVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYmVmb3JldW5sb2FkOiB7XG4gICAgICAgICAgICAgICAgICAgIHBvc3REaXNwYXRjaDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBGaXJlZm94IDIwK1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmlyZWZveCBkb2Vzbid0IGFsZXJ0IGlmIHRoZSByZXR1cm5WYWx1ZSBmaWVsZCBpcyBub3Qgc2V0LlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LnJlc3VsdCAhPT0gdW5kZWZpbmVkICYmIGV2ZW50Lm9yaWdpbmFsRXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5vcmlnaW5hbEV2ZW50LnJldHVyblZhbHVlID0gZXZlbnQucmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvLyBFbnN1cmUgdGhlIHByZXNlbmNlIG9mIGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgaGFuZGxlcyBtYW51YWxseS10cmlnZ2VyZWRcbiAgICAgICAgLy8gc3ludGhldGljIGV2ZW50cyBieSBpbnRlcnJ1cHRpbmcgcHJvZ3Jlc3MgdW50aWwgcmVpbnZva2VkIGluIHJlc3BvbnNlIHRvXG4gICAgICAgIC8vICpuYXRpdmUqIGV2ZW50cyB0aGF0IGl0IGZpcmVzIGRpcmVjdGx5LCBlbnN1cmluZyB0aGF0IHN0YXRlIGNoYW5nZXMgaGF2ZVxuICAgICAgICAvLyBhbHJlYWR5IG9jY3VycmVkIGJlZm9yZSBvdGhlciBsaXN0ZW5lcnMgYXJlIGludm9rZWQuXG4gICAgICAgIGZ1bmN0aW9uIGxldmVyYWdlTmF0aXZlKGVsLCB0eXBlLCBpc1NldHVwKSB7XG4gICAgICAgICAgICAvLyBNaXNzaW5nIGBpc1NldHVwYCBpbmRpY2F0ZXMgYSB0cmlnZ2VyIGNhbGwsIHdoaWNoIG11c3QgZm9yY2Ugc2V0dXAgdGhyb3VnaCBqUXVlcnkuZXZlbnQuYWRkXG4gICAgICAgICAgICBpZiAoIWlzU2V0dXApIHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YVByaXYuZ2V0KGVsLCB0eXBlKSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeS5ldmVudC5hZGQoZWwsIHR5cGUsIHJldHVyblRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSZWdpc3RlciB0aGUgY29udHJvbGxlciBhcyBhIHNwZWNpYWwgdW5pdmVyc2FsIGhhbmRsZXIgZm9yIGFsbCBldmVudCBuYW1lc3BhY2VzXG4gICAgICAgICAgICBkYXRhUHJpdi5zZXQoZWwsIHR5cGUsIGZhbHNlKTtcbiAgICAgICAgICAgIGpRdWVyeS5ldmVudC5hZGQoZWwsIHR5cGUsIHtcbiAgICAgICAgICAgICAgICBuYW1lc3BhY2U6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0LCBzYXZlZCA9IGRhdGFQcml2LmdldCh0aGlzLCB0eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKChldmVudC5pc1RyaWdnZXIgJiAxKSAmJiB0aGlzW3R5cGVdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJbnRlcnJ1cHQgcHJvY2Vzc2luZyBvZiB0aGUgb3V0ZXIgc3ludGhldGljIC50cmlnZ2VyKCllZCBldmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzYXZlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN0b3JlIGFyZ3VtZW50cyBmb3IgdXNlIHdoZW4gaGFuZGxpbmcgdGhlIGlubmVyIG5hdGl2ZSBldmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZXJlIHdpbGwgYWx3YXlzIGJlIGF0IGxlYXN0IG9uZSBhcmd1bWVudCAoYW4gZXZlbnQgb2JqZWN0KSwgc28gdGhpcyBhcnJheVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdpbGwgbm90IGJlIGNvbmZ1c2VkIHdpdGggYSBsZWZ0b3ZlciBjYXB0dXJlIG9iamVjdC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlZCA9IHNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhUHJpdi5zZXQodGhpcywgdHlwZSwgc2F2ZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRyaWdnZXIgdGhlIG5hdGl2ZSBldmVudCBhbmQgY2FwdHVyZSBpdHMgcmVzdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1t0eXBlXSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGRhdGFQcml2LmdldCh0aGlzLCB0eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhUHJpdi5zZXQodGhpcywgdHlwZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzYXZlZCAhPT0gcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENhbmNlbCB0aGUgb3V0ZXIgc3ludGhldGljIGV2ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGlzIGlzIGFuIGlubmVyIHN5bnRoZXRpYyBldmVudCBmb3IgYW4gZXZlbnQgd2l0aCBhIGJ1YmJsaW5nIHN1cnJvZ2F0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIChmb2N1cyBvciBibHVyKSwgYXNzdW1lIHRoYXQgdGhlIHN1cnJvZ2F0ZSBhbHJlYWR5IHByb3BhZ2F0ZWQgZnJvbSB0cmlnZ2VyaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIG5hdGl2ZSBldmVudCBhbmQgcHJldmVudCB0aGF0IGZyb20gaGFwcGVuaW5nIGFnYWluIGhlcmUuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyB0ZWNobmljYWxseSBnZXRzIHRoZSBvcmRlcmluZyB3cm9uZyB3LnIudC4gdG8gYC50cmlnZ2VyKClgIChpbiB3aGljaCB0aGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBidWJibGluZyBzdXJyb2dhdGUgcHJvcGFnYXRlcyAqYWZ0ZXIqIHRoZSBub24tYnViYmxpbmcgYmFzZSksIGJ1dCB0aGF0IHNlZW1zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGVzcyBiYWQgdGhhbiBkdXBsaWNhdGlvbi5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKChqUXVlcnkuZXZlbnQuc3BlY2lhbFt0eXBlXSB8fCB7fSkuZGVsZWdhdGVUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGlzIGlzIGEgbmF0aXZlIGV2ZW50IHRyaWdnZXJlZCBhYm92ZSwgZXZlcnl0aGluZyBpcyBub3cgaW4gb3JkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZpcmUgYW4gaW5uZXIgc3ludGhldGljIGV2ZW50IHdpdGggdGhlIG9yaWdpbmFsIGFyZ3VtZW50c1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNhdmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLi5hbmQgY2FwdHVyZSB0aGUgcmVzdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhUHJpdi5zZXQodGhpcywgdHlwZSwgalF1ZXJ5LmV2ZW50LnRyaWdnZXIoc2F2ZWRbMF0sIHNhdmVkLnNsaWNlKDEpLCB0aGlzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBYm9ydCBoYW5kbGluZyBvZiB0aGUgbmF0aXZlIGV2ZW50IGJ5IGFsbCBqUXVlcnkgaGFuZGxlcnMgd2hpbGUgYWxsb3dpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5hdGl2ZSBoYW5kbGVycyBvbiB0aGUgc2FtZSBlbGVtZW50IHRvIHJ1bi4gT24gdGFyZ2V0LCB0aGlzIGlzIGFjaGlldmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBieSBzdG9wcGluZyBpbW1lZGlhdGUgcHJvcGFnYXRpb24ganVzdCBvbiB0aGUgalF1ZXJ5IGV2ZW50LiBIb3dldmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIG5hdGl2ZSBldmVudCBpcyByZS13cmFwcGVkIGJ5IGEgalF1ZXJ5IG9uZSBvbiBlYWNoIGxldmVsIG9mIHRoZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHJvcGFnYXRpb24gc28gdGhlIG9ubHkgd2F5IHRvIHN0b3AgaXQgZm9yIGpRdWVyeSBpcyB0byBzdG9wIGl0IGZvclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXZlcnlvbmUgdmlhIG5hdGl2ZSBgc3RvcFByb3BhZ2F0aW9uKClgLiBUaGlzIGlzIG5vdCBhIHByb2JsZW0gZm9yXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmb2N1cy9ibHVyIHdoaWNoIGRvbid0IGJ1YmJsZSwgYnV0IGl0IGRvZXMgYWxzbyBzdG9wIGNsaWNrIG9uIGNoZWNrYm94ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFuZCByYWRpb3MuIFdlIGFjY2VwdCB0aGlzIGxpbWl0YXRpb24uXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkID0gcmV0dXJuVHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGpRdWVyeS5yZW1vdmVFdmVudCA9IGZ1bmN0aW9uIChlbGVtLCB0eXBlLCBoYW5kbGUpIHtcbiAgICAgICAgICAgIC8vIFRoaXMgXCJpZlwiIGlzIG5lZWRlZCBmb3IgcGxhaW4gb2JqZWN0c1xuICAgICAgICAgICAgaWYgKGVsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgIGVsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBoYW5kbGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBqUXVlcnkuRXZlbnQgPSBmdW5jdGlvbiAoc3JjLCBwcm9wcykge1xuICAgICAgICAgICAgLy8gQWxsb3cgaW5zdGFudGlhdGlvbiB3aXRob3V0IHRoZSAnbmV3JyBrZXl3b3JkXG4gICAgICAgICAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgalF1ZXJ5LkV2ZW50KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgalF1ZXJ5LkV2ZW50KHNyYywgcHJvcHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRXZlbnQgb2JqZWN0XG4gICAgICAgICAgICBpZiAoc3JjICYmIHNyYy50eXBlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5hbEV2ZW50ID0gc3JjO1xuICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IHNyYy50eXBlO1xuICAgICAgICAgICAgICAgIC8vIEV2ZW50cyBidWJibGluZyB1cCB0aGUgZG9jdW1lbnQgbWF5IGhhdmUgYmVlbiBtYXJrZWQgYXMgcHJldmVudGVkXG4gICAgICAgICAgICAgICAgLy8gYnkgYSBoYW5kbGVyIGxvd2VyIGRvd24gdGhlIHRyZWU7IHJlZmxlY3QgdGhlIGNvcnJlY3QgdmFsdWUuXG4gICAgICAgICAgICAgICAgdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSBzcmMuZGVmYXVsdFByZXZlbnRlZCB8fFxuICAgICAgICAgICAgICAgICAgICBzcmMuZGVmYXVsdFByZXZlbnRlZCA9PT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBBbmRyb2lkIDw9Mi4zIG9ubHlcbiAgICAgICAgICAgICAgICAgICAgICAgIHNyYy5yZXR1cm5WYWx1ZSA9PT0gZmFsc2UgP1xuICAgICAgICAgICAgICAgICAgICByZXR1cm5UcnVlIDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuRmFsc2U7XG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIHRhcmdldCBwcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogU2FmYXJpIDw9NiAtIDcgb25seVxuICAgICAgICAgICAgICAgIC8vIFRhcmdldCBzaG91bGQgbm90IGJlIGEgdGV4dCBub2RlICh0cmFjLTUwNCwgdHJhYy0xMzE0MylcbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldCA9IChzcmMudGFyZ2V0ICYmIHNyYy50YXJnZXQubm9kZVR5cGUgPT09IDMpID9cbiAgICAgICAgICAgICAgICAgICAgc3JjLnRhcmdldC5wYXJlbnROb2RlIDpcbiAgICAgICAgICAgICAgICAgICAgc3JjLnRhcmdldDtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRUYXJnZXQgPSBzcmMuY3VycmVudFRhcmdldDtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbGF0ZWRUYXJnZXQgPSBzcmMucmVsYXRlZFRhcmdldDtcbiAgICAgICAgICAgICAgICAvLyBFdmVudCB0eXBlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBzcmM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBQdXQgZXhwbGljaXRseSBwcm92aWRlZCBwcm9wZXJ0aWVzIG9udG8gdGhlIGV2ZW50IG9iamVjdFxuICAgICAgICAgICAgaWYgKHByb3BzKSB7XG4gICAgICAgICAgICAgICAgalF1ZXJ5LmV4dGVuZCh0aGlzLCBwcm9wcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBDcmVhdGUgYSB0aW1lc3RhbXAgaWYgaW5jb21pbmcgZXZlbnQgZG9lc24ndCBoYXZlIG9uZVxuICAgICAgICAgICAgdGhpcy50aW1lU3RhbXAgPSBzcmMgJiYgc3JjLnRpbWVTdGFtcCB8fCBEYXRlLm5vdygpO1xuICAgICAgICAgICAgLy8gTWFyayBpdCBhcyBmaXhlZFxuICAgICAgICAgICAgdGhpc1tqUXVlcnkuZXhwYW5kb10gPSB0cnVlO1xuICAgICAgICB9O1xuICAgICAgICAvLyBqUXVlcnkuRXZlbnQgaXMgYmFzZWQgb24gRE9NMyBFdmVudHMgYXMgc3BlY2lmaWVkIGJ5IHRoZSBFQ01BU2NyaXB0IExhbmd1YWdlIEJpbmRpbmdcbiAgICAgICAgLy8gaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMDMvV0QtRE9NLUxldmVsLTMtRXZlbnRzLTIwMDMwMzMxL2VjbWEtc2NyaXB0LWJpbmRpbmcuaHRtbFxuICAgICAgICBqUXVlcnkuRXZlbnQucHJvdG90eXBlID0ge1xuICAgICAgICAgICAgY29uc3RydWN0b3I6IGpRdWVyeS5FdmVudCxcbiAgICAgICAgICAgIGlzRGVmYXVsdFByZXZlbnRlZDogcmV0dXJuRmFsc2UsXG4gICAgICAgICAgICBpc1Byb3BhZ2F0aW9uU3RvcHBlZDogcmV0dXJuRmFsc2UsXG4gICAgICAgICAgICBpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDogcmV0dXJuRmFsc2UsXG4gICAgICAgICAgICBpc1NpbXVsYXRlZDogZmFsc2UsXG4gICAgICAgICAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBlID0gdGhpcy5vcmlnaW5hbEV2ZW50O1xuICAgICAgICAgICAgICAgIHRoaXMuaXNEZWZhdWx0UHJldmVudGVkID0gcmV0dXJuVHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoZSAmJiAhdGhpcy5pc1NpbXVsYXRlZCkge1xuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN0b3BQcm9wYWdhdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBlID0gdGhpcy5vcmlnaW5hbEV2ZW50O1xuICAgICAgICAgICAgICAgIHRoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQgPSByZXR1cm5UcnVlO1xuICAgICAgICAgICAgICAgIGlmIChlICYmICF0aGlzLmlzU2ltdWxhdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBlID0gdGhpcy5vcmlnaW5hbEV2ZW50O1xuICAgICAgICAgICAgICAgIHRoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPSByZXR1cm5UcnVlO1xuICAgICAgICAgICAgICAgIGlmIChlICYmICF0aGlzLmlzU2ltdWxhdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8vIEluY2x1ZGVzIGFsbCBjb21tb24gZXZlbnQgcHJvcHMgaW5jbHVkaW5nIEtleUV2ZW50IGFuZCBNb3VzZUV2ZW50IHNwZWNpZmljIHByb3BzXG4gICAgICAgIGpRdWVyeS5lYWNoKHtcbiAgICAgICAgICAgIGFsdEtleTogdHJ1ZSxcbiAgICAgICAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY2hhbmdlZFRvdWNoZXM6IHRydWUsXG4gICAgICAgICAgICBjdHJsS2V5OiB0cnVlLFxuICAgICAgICAgICAgZGV0YWlsOiB0cnVlLFxuICAgICAgICAgICAgZXZlbnRQaGFzZTogdHJ1ZSxcbiAgICAgICAgICAgIG1ldGFLZXk6IHRydWUsXG4gICAgICAgICAgICBwYWdlWDogdHJ1ZSxcbiAgICAgICAgICAgIHBhZ2VZOiB0cnVlLFxuICAgICAgICAgICAgc2hpZnRLZXk6IHRydWUsXG4gICAgICAgICAgICB2aWV3OiB0cnVlLFxuICAgICAgICAgICAgXCJjaGFyXCI6IHRydWUsXG4gICAgICAgICAgICBjb2RlOiB0cnVlLFxuICAgICAgICAgICAgY2hhckNvZGU6IHRydWUsXG4gICAgICAgICAgICBrZXk6IHRydWUsXG4gICAgICAgICAgICBrZXlDb2RlOiB0cnVlLFxuICAgICAgICAgICAgYnV0dG9uOiB0cnVlLFxuICAgICAgICAgICAgYnV0dG9uczogdHJ1ZSxcbiAgICAgICAgICAgIGNsaWVudFg6IHRydWUsXG4gICAgICAgICAgICBjbGllbnRZOiB0cnVlLFxuICAgICAgICAgICAgb2Zmc2V0WDogdHJ1ZSxcbiAgICAgICAgICAgIG9mZnNldFk6IHRydWUsXG4gICAgICAgICAgICBwb2ludGVySWQ6IHRydWUsXG4gICAgICAgICAgICBwb2ludGVyVHlwZTogdHJ1ZSxcbiAgICAgICAgICAgIHNjcmVlblg6IHRydWUsXG4gICAgICAgICAgICBzY3JlZW5ZOiB0cnVlLFxuICAgICAgICAgICAgdGFyZ2V0VG91Y2hlczogdHJ1ZSxcbiAgICAgICAgICAgIHRvRWxlbWVudDogdHJ1ZSxcbiAgICAgICAgICAgIHRvdWNoZXM6IHRydWUsXG4gICAgICAgICAgICB3aGljaDogdHJ1ZVxuICAgICAgICB9LCBqUXVlcnkuZXZlbnQuYWRkUHJvcCk7XG4gICAgICAgIGpRdWVyeS5lYWNoKHsgZm9jdXM6IFwiZm9jdXNpblwiLCBibHVyOiBcImZvY3Vzb3V0XCIgfSwgZnVuY3Rpb24gKHR5cGUsIGRlbGVnYXRlVHlwZSkge1xuICAgICAgICAgICAgZnVuY3Rpb24gZm9jdXNNYXBwZWRIYW5kbGVyKG5hdGl2ZUV2ZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmRvY3VtZW50TW9kZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSAxMStcbiAgICAgICAgICAgICAgICAgICAgLy8gQXR0YWNoIGEgc2luZ2xlIGZvY3VzaW4vZm9jdXNvdXQgaGFuZGxlciBvbiB0aGUgZG9jdW1lbnQgd2hpbGUgc29tZW9uZSB3YW50c1xuICAgICAgICAgICAgICAgICAgICAvLyBmb2N1cy9ibHVyLiBUaGlzIGlzIGJlY2F1c2UgdGhlIGZvcm1lciBhcmUgc3luY2hyb25vdXMgaW4gSUUgd2hpbGUgdGhlIGxhdHRlclxuICAgICAgICAgICAgICAgICAgICAvLyBhcmUgYXN5bmMuIEluIG90aGVyIGJyb3dzZXJzLCBhbGwgdGhvc2UgaGFuZGxlcnMgYXJlIGludm9rZWQgc3luY2hyb25vdXNseS5cbiAgICAgICAgICAgICAgICAgICAgLy8gYGhhbmRsZWAgZnJvbSBwcml2YXRlIGRhdGEgd291bGQgYWxyZWFkeSB3cmFwIHRoZSBldmVudCwgYnV0IHdlIG5lZWRcbiAgICAgICAgICAgICAgICAgICAgLy8gdG8gY2hhbmdlIHRoZSBgdHlwZWAgaGVyZS5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGhhbmRsZSA9IGRhdGFQcml2LmdldCh0aGlzLCBcImhhbmRsZVwiKSwgZXZlbnQgPSBqUXVlcnkuZXZlbnQuZml4KG5hdGl2ZUV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQudHlwZSA9IG5hdGl2ZUV2ZW50LnR5cGUgPT09IFwiZm9jdXNpblwiID8gXCJmb2N1c1wiIDogXCJibHVyXCI7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LmlzU2ltdWxhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gRmlyc3QsIGhhbmRsZSBmb2N1c2luL2ZvY3Vzb3V0XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZShuYXRpdmVFdmVudCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uLnRoZW4sIGhhbmRsZSBmb2N1cy9ibHVyXG4gICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgIC8vIGZvY3VzL2JsdXIgZG9uJ3QgYnViYmxlIHdoaWxlIGZvY3VzaW4vZm9jdXNvdXQgZG87IHNpbXVsYXRlIHRoZSBmb3JtZXIgYnkgb25seVxuICAgICAgICAgICAgICAgICAgICAvLyBpbnZva2luZyB0aGUgaGFuZGxlciBhdCB0aGUgbG93ZXIgbGV2ZWwuXG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudC50YXJnZXQgPT09IGV2ZW50LmN1cnJlbnRUYXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBzZXR1cCBwYXJ0IGNhbGxzIGBsZXZlcmFnZU5hdGl2ZWAsIHdoaWNoLCBpbiB0dXJuLCBjYWxsc1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYGpRdWVyeS5ldmVudC5hZGRgLCBzbyBldmVudCBoYW5kbGUgd2lsbCBhbHJlYWR5IGhhdmUgYmVlbiBzZXRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJ5IHRoaXMgcG9pbnQuXG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGUoZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBGb3Igbm9uLUlFIGJyb3dzZXJzLCBhdHRhY2ggYSBzaW5nbGUgY2FwdHVyaW5nIGhhbmRsZXIgb24gdGhlIGRvY3VtZW50XG4gICAgICAgICAgICAgICAgICAgIC8vIHdoaWxlIHNvbWVvbmUgd2FudHMgZm9jdXNpbi9mb2N1c291dC5cbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmV2ZW50LnNpbXVsYXRlKGRlbGVnYXRlVHlwZSwgbmF0aXZlRXZlbnQudGFyZ2V0LCBqUXVlcnkuZXZlbnQuZml4KG5hdGl2ZUV2ZW50KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgalF1ZXJ5LmV2ZW50LnNwZWNpYWxbdHlwZV0gPSB7XG4gICAgICAgICAgICAgICAgLy8gVXRpbGl6ZSBuYXRpdmUgZXZlbnQgaWYgcG9zc2libGUgc28gYmx1ci9mb2N1cyBzZXF1ZW5jZSBpcyBjb3JyZWN0XG4gICAgICAgICAgICAgICAgc2V0dXA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGF0dGFjaGVzO1xuICAgICAgICAgICAgICAgICAgICAvLyBDbGFpbSB0aGUgZmlyc3QgaGFuZGxlclxuICAgICAgICAgICAgICAgICAgICAvLyBkYXRhUHJpdi5zZXQoIHRoaXMsIFwiZm9jdXNcIiwgLi4uIClcbiAgICAgICAgICAgICAgICAgICAgLy8gZGF0YVByaXYuc2V0KCB0aGlzLCBcImJsdXJcIiwgLi4uIClcbiAgICAgICAgICAgICAgICAgICAgbGV2ZXJhZ2VOYXRpdmUodGhpcywgdHlwZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5kb2N1bWVudE1vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDkgLSAxMStcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIHVzZSB0aGUgc2FtZSBuYXRpdmUgaGFuZGxlciBmb3IgZm9jdXNpbiAmIGZvY3VzIChhbmQgZm9jdXNvdXQgJiBibHVyKVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc28gd2UgbmVlZCB0byBjb29yZGluYXRlIHNldHVwICYgdGVhcmRvd24gcGFydHMgYmV0d2VlbiB0aG9zZSBldmVudHMuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVc2UgYGRlbGVnYXRlVHlwZWAgYXMgdGhlIGtleSBhcyBgdHlwZWAgaXMgYWxyZWFkeSB1c2VkIGJ5IGBsZXZlcmFnZU5hdGl2ZWAuXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRhY2hlcyA9IGRhdGFQcml2LmdldCh0aGlzLCBkZWxlZ2F0ZVR5cGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFhdHRhY2hlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihkZWxlZ2F0ZVR5cGUsIGZvY3VzTWFwcGVkSGFuZGxlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhUHJpdi5zZXQodGhpcywgZGVsZWdhdGVUeXBlLCAoYXR0YWNoZXMgfHwgMCkgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJldHVybiBmYWxzZSB0byBhbGxvdyBub3JtYWwgcHJvY2Vzc2luZyBpbiB0aGUgY2FsbGVyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRyaWdnZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRm9yY2Ugc2V0dXAgYmVmb3JlIHRyaWdnZXJcbiAgICAgICAgICAgICAgICAgICAgbGV2ZXJhZ2VOYXRpdmUodGhpcywgdHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJldHVybiBub24tZmFsc2UgdG8gYWxsb3cgbm9ybWFsIGV2ZW50LXBhdGggcHJvcGFnYXRpb25cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0ZWFyZG93bjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXR0YWNoZXM7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5kb2N1bWVudE1vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dGFjaGVzID0gZGF0YVByaXYuZ2V0KHRoaXMsIGRlbGVnYXRlVHlwZSkgLSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFhdHRhY2hlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihkZWxlZ2F0ZVR5cGUsIGZvY3VzTWFwcGVkSGFuZGxlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVByaXYucmVtb3ZlKHRoaXMsIGRlbGVnYXRlVHlwZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhUHJpdi5zZXQodGhpcywgZGVsZWdhdGVUeXBlLCBhdHRhY2hlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXR1cm4gZmFsc2UgdG8gaW5kaWNhdGUgc3RhbmRhcmQgdGVhcmRvd24gc2hvdWxkIGJlIGFwcGxpZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLy8gU3VwcHJlc3MgbmF0aXZlIGZvY3VzIG9yIGJsdXIgaWYgd2UncmUgY3VycmVudGx5IGluc2lkZVxuICAgICAgICAgICAgICAgIC8vIGEgbGV2ZXJhZ2VkIG5hdGl2ZS1ldmVudCBzdGFja1xuICAgICAgICAgICAgICAgIF9kZWZhdWx0OiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGFQcml2LmdldChldmVudC50YXJnZXQsIHR5cGUpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZGVsZWdhdGVUeXBlOiBkZWxlZ2F0ZVR5cGVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBTdXBwb3J0OiBGaXJlZm94IDw9NDRcbiAgICAgICAgICAgIC8vIEZpcmVmb3ggZG9lc24ndCBoYXZlIGZvY3VzKGluIHwgb3V0KSBldmVudHNcbiAgICAgICAgICAgIC8vIFJlbGF0ZWQgdGlja2V0IC0gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9Njg3Nzg3XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gU3VwcG9ydDogQ2hyb21lIDw9NDggLSA0OSwgU2FmYXJpIDw9OS4wIC0gOS4xXG4gICAgICAgICAgICAvLyBmb2N1cyhpbiB8IG91dCkgZXZlbnRzIGZpcmUgYWZ0ZXIgZm9jdXMgJiBibHVyIGV2ZW50cyxcbiAgICAgICAgICAgIC8vIHdoaWNoIGlzIHNwZWMgdmlvbGF0aW9uIC0gaHR0cDovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTMtRXZlbnRzLyNldmVudHMtZm9jdXNldmVudC1ldmVudC1vcmRlclxuICAgICAgICAgICAgLy8gUmVsYXRlZCB0aWNrZXQgLSBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00NDk4NTdcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA5IC0gMTErXG4gICAgICAgICAgICAvLyBUbyBwcmVzZXJ2ZSByZWxhdGl2ZSBmb2N1c2luL2ZvY3VzICYgZm9jdXNvdXQvYmx1ciBldmVudCBvcmRlciBndWFyYW50ZWVkIG9uIHRoZSAzLnggYnJhbmNoLFxuICAgICAgICAgICAgLy8gYXR0YWNoIGEgc2luZ2xlIGhhbmRsZXIgZm9yIGJvdGggZXZlbnRzIGluIElFLlxuICAgICAgICAgICAgalF1ZXJ5LmV2ZW50LnNwZWNpYWxbZGVsZWdhdGVUeXBlXSA9IHtcbiAgICAgICAgICAgICAgICBzZXR1cDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBIYW5kbGU6IHJlZ3VsYXIgbm9kZXMgKHZpYSBgdGhpcy5vd25lckRvY3VtZW50YCksIHdpbmRvd1xuICAgICAgICAgICAgICAgICAgICAvLyAodmlhIGB0aGlzLmRvY3VtZW50YCkgJiBkb2N1bWVudCAodmlhIGB0aGlzYCkuXG4gICAgICAgICAgICAgICAgICAgIHZhciBkb2MgPSB0aGlzLm93bmVyRG9jdW1lbnQgfHwgdGhpcy5kb2N1bWVudCB8fCB0aGlzLCBkYXRhSG9sZGVyID0gZG9jdW1lbnQuZG9jdW1lbnRNb2RlID8gdGhpcyA6IGRvYywgYXR0YWNoZXMgPSBkYXRhUHJpdi5nZXQoZGF0YUhvbGRlciwgZGVsZWdhdGVUeXBlKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgOSAtIDExK1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSB1c2UgdGhlIHNhbWUgbmF0aXZlIGhhbmRsZXIgZm9yIGZvY3VzaW4gJiBmb2N1cyAoYW5kIGZvY3Vzb3V0ICYgYmx1cilcbiAgICAgICAgICAgICAgICAgICAgLy8gc28gd2UgbmVlZCB0byBjb29yZGluYXRlIHNldHVwICYgdGVhcmRvd24gcGFydHMgYmV0d2VlbiB0aG9zZSBldmVudHMuXG4gICAgICAgICAgICAgICAgICAgIC8vIFVzZSBgZGVsZWdhdGVUeXBlYCBhcyB0aGUga2V5IGFzIGB0eXBlYCBpcyBhbHJlYWR5IHVzZWQgYnkgYGxldmVyYWdlTmF0aXZlYC5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhdHRhY2hlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmRvY3VtZW50TW9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihkZWxlZ2F0ZVR5cGUsIGZvY3VzTWFwcGVkSGFuZGxlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBmb2N1c01hcHBlZEhhbmRsZXIsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGRhdGFQcml2LnNldChkYXRhSG9sZGVyLCBkZWxlZ2F0ZVR5cGUsIChhdHRhY2hlcyB8fCAwKSArIDEpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdGVhcmRvd246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRvYyA9IHRoaXMub3duZXJEb2N1bWVudCB8fCB0aGlzLmRvY3VtZW50IHx8IHRoaXMsIGRhdGFIb2xkZXIgPSBkb2N1bWVudC5kb2N1bWVudE1vZGUgPyB0aGlzIDogZG9jLCBhdHRhY2hlcyA9IGRhdGFQcml2LmdldChkYXRhSG9sZGVyLCBkZWxlZ2F0ZVR5cGUpIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhdHRhY2hlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmRvY3VtZW50TW9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihkZWxlZ2F0ZVR5cGUsIGZvY3VzTWFwcGVkSGFuZGxlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBmb2N1c01hcHBlZEhhbmRsZXIsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVByaXYucmVtb3ZlKGRhdGFIb2xkZXIsIGRlbGVnYXRlVHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhUHJpdi5zZXQoZGF0YUhvbGRlciwgZGVsZWdhdGVUeXBlLCBhdHRhY2hlcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gQ3JlYXRlIG1vdXNlZW50ZXIvbGVhdmUgZXZlbnRzIHVzaW5nIG1vdXNlb3Zlci9vdXQgYW5kIGV2ZW50LXRpbWUgY2hlY2tzXG4gICAgICAgIC8vIHNvIHRoYXQgZXZlbnQgZGVsZWdhdGlvbiB3b3JrcyBpbiBqUXVlcnkuXG4gICAgICAgIC8vIERvIHRoZSBzYW1lIGZvciBwb2ludGVyZW50ZXIvcG9pbnRlcmxlYXZlIGFuZCBwb2ludGVyb3Zlci9wb2ludGVyb3V0XG4gICAgICAgIC8vXG4gICAgICAgIC8vIFN1cHBvcnQ6IFNhZmFyaSA3IG9ubHlcbiAgICAgICAgLy8gU2FmYXJpIHNlbmRzIG1vdXNlZW50ZXIgdG9vIG9mdGVuOyBzZWU6XG4gICAgICAgIC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTQ3MDI1OFxuICAgICAgICAvLyBmb3IgdGhlIGRlc2NyaXB0aW9uIG9mIHRoZSBidWcgKGl0IGV4aXN0ZWQgaW4gb2xkZXIgQ2hyb21lIHZlcnNpb25zIGFzIHdlbGwpLlxuICAgICAgICBqUXVlcnkuZWFjaCh7XG4gICAgICAgICAgICBtb3VzZWVudGVyOiBcIm1vdXNlb3ZlclwiLFxuICAgICAgICAgICAgbW91c2VsZWF2ZTogXCJtb3VzZW91dFwiLFxuICAgICAgICAgICAgcG9pbnRlcmVudGVyOiBcInBvaW50ZXJvdmVyXCIsXG4gICAgICAgICAgICBwb2ludGVybGVhdmU6IFwicG9pbnRlcm91dFwiXG4gICAgICAgIH0sIGZ1bmN0aW9uIChvcmlnLCBmaXgpIHtcbiAgICAgICAgICAgIGpRdWVyeS5ldmVudC5zcGVjaWFsW29yaWddID0ge1xuICAgICAgICAgICAgICAgIGRlbGVnYXRlVHlwZTogZml4LFxuICAgICAgICAgICAgICAgIGJpbmRUeXBlOiBmaXgsXG4gICAgICAgICAgICAgICAgaGFuZGxlOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJldCwgdGFyZ2V0ID0gdGhpcywgcmVsYXRlZCA9IGV2ZW50LnJlbGF0ZWRUYXJnZXQsIGhhbmRsZU9iaiA9IGV2ZW50LmhhbmRsZU9iajtcbiAgICAgICAgICAgICAgICAgICAgLy8gRm9yIG1vdXNlZW50ZXIvbGVhdmUgY2FsbCB0aGUgaGFuZGxlciBpZiByZWxhdGVkIGlzIG91dHNpZGUgdGhlIHRhcmdldC5cbiAgICAgICAgICAgICAgICAgICAgLy8gTkI6IE5vIHJlbGF0ZWRUYXJnZXQgaWYgdGhlIG1vdXNlIGxlZnQvZW50ZXJlZCB0aGUgYnJvd3NlciB3aW5kb3dcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZWxhdGVkIHx8IChyZWxhdGVkICE9PSB0YXJnZXQgJiYgIWpRdWVyeS5jb250YWlucyh0YXJnZXQsIHJlbGF0ZWQpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQudHlwZSA9IGhhbmRsZU9iai5vcmlnVHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldCA9IGhhbmRsZU9iai5oYW5kbGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudC50eXBlID0gZml4O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIGpRdWVyeS5mbi5leHRlbmQoe1xuICAgICAgICAgICAgb246IGZ1bmN0aW9uICh0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9uKHRoaXMsIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uZTogZnVuY3Rpb24gKHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb24odGhpcywgdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiwgMSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb2ZmOiBmdW5jdGlvbiAodHlwZXMsIHNlbGVjdG9yLCBmbikge1xuICAgICAgICAgICAgICAgIHZhciBoYW5kbGVPYmosIHR5cGU7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVzICYmIHR5cGVzLnByZXZlbnREZWZhdWx0ICYmIHR5cGVzLmhhbmRsZU9iaikge1xuICAgICAgICAgICAgICAgICAgICAvLyAoIGV2ZW50ICkgIGRpc3BhdGNoZWQgalF1ZXJ5LkV2ZW50XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZU9iaiA9IHR5cGVzLmhhbmRsZU9iajtcbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KHR5cGVzLmRlbGVnYXRlVGFyZ2V0KS5vZmYoaGFuZGxlT2JqLm5hbWVzcGFjZSA/XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVPYmoub3JpZ1R5cGUgKyBcIi5cIiArIGhhbmRsZU9iai5uYW1lc3BhY2UgOlxuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlT2JqLm9yaWdUeXBlLCBoYW5kbGVPYmouc2VsZWN0b3IsIGhhbmRsZU9iai5oYW5kbGVyKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdHlwZXMgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gKCB0eXBlcy1vYmplY3QgWywgc2VsZWN0b3JdIClcbiAgICAgICAgICAgICAgICAgICAgZm9yICh0eXBlIGluIHR5cGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9mZih0eXBlLCBzZWxlY3RvciwgdHlwZXNbdHlwZV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0b3IgPT09IGZhbHNlIHx8IHR5cGVvZiBzZWxlY3RvciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICggdHlwZXMgWywgZm5dIClcbiAgICAgICAgICAgICAgICAgICAgZm4gPSBzZWxlY3RvcjtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3IgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChmbiA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgZm4gPSByZXR1cm5GYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeS5ldmVudC5yZW1vdmUodGhpcywgdHlwZXMsIGZuLCBzZWxlY3Rvcik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgXG4gICAgICAgIC8vIFN1cHBvcnQ6IElFIDw9MTAgLSAxMSwgRWRnZSAxMiAtIDEzIG9ubHlcbiAgICAgICAgLy8gSW4gSUUvRWRnZSB1c2luZyByZWdleCBncm91cHMgaGVyZSBjYXVzZXMgc2V2ZXJlIHNsb3dkb3ducy5cbiAgICAgICAgLy8gU2VlIGh0dHBzOi8vY29ubmVjdC5taWNyb3NvZnQuY29tL0lFL2ZlZWRiYWNrL2RldGFpbHMvMTczNjUxMi9cbiAgICAgICAgcm5vSW5uZXJodG1sID0gLzxzY3JpcHR8PHN0eWxlfDxsaW5rL2ksIFxuICAgICAgICAvLyBjaGVja2VkPVwiY2hlY2tlZFwiIG9yIGNoZWNrZWRcbiAgICAgICAgcmNoZWNrZWQgPSAvY2hlY2tlZFxccyooPzpbXj1dfD1cXHMqLmNoZWNrZWQuKS9pLCByY2xlYW5TY3JpcHQgPSAvXlxccyo8IVxcW0NEQVRBXFxbfFxcXVxcXT5cXHMqJC9nO1xuICAgICAgICAvLyBQcmVmZXIgYSB0Ym9keSBvdmVyIGl0cyBwYXJlbnQgdGFibGUgZm9yIGNvbnRhaW5pbmcgbmV3IHJvd3NcbiAgICAgICAgZnVuY3Rpb24gbWFuaXB1bGF0aW9uVGFyZ2V0KGVsZW0sIGNvbnRlbnQpIHtcbiAgICAgICAgICAgIGlmIChub2RlTmFtZShlbGVtLCBcInRhYmxlXCIpICYmXG4gICAgICAgICAgICAgICAgbm9kZU5hbWUoY29udGVudC5ub2RlVHlwZSAhPT0gMTEgPyBjb250ZW50IDogY29udGVudC5maXJzdENoaWxkLCBcInRyXCIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGpRdWVyeShlbGVtKS5jaGlsZHJlbihcInRib2R5XCIpWzBdIHx8IGVsZW07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZWxlbTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZXBsYWNlL3Jlc3RvcmUgdGhlIHR5cGUgYXR0cmlidXRlIG9mIHNjcmlwdCBlbGVtZW50cyBmb3Igc2FmZSBET00gbWFuaXB1bGF0aW9uXG4gICAgICAgIGZ1bmN0aW9uIGRpc2FibGVTY3JpcHQoZWxlbSkge1xuICAgICAgICAgICAgZWxlbS50eXBlID0gKGVsZW0uZ2V0QXR0cmlidXRlKFwidHlwZVwiKSAhPT0gbnVsbCkgKyBcIi9cIiArIGVsZW0udHlwZTtcbiAgICAgICAgICAgIHJldHVybiBlbGVtO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHJlc3RvcmVTY3JpcHQoZWxlbSkge1xuICAgICAgICAgICAgaWYgKChlbGVtLnR5cGUgfHwgXCJcIikuc2xpY2UoMCwgNSkgPT09IFwidHJ1ZS9cIikge1xuICAgICAgICAgICAgICAgIGVsZW0udHlwZSA9IGVsZW0udHlwZS5zbGljZSg1KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGVsZW0ucmVtb3ZlQXR0cmlidXRlKFwidHlwZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBlbGVtO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGNsb25lQ29weUV2ZW50KHNyYywgZGVzdCkge1xuICAgICAgICAgICAgdmFyIGksIGwsIHR5cGUsIHBkYXRhT2xkLCB1ZGF0YU9sZCwgdWRhdGFDdXIsIGV2ZW50cztcbiAgICAgICAgICAgIGlmIChkZXN0Lm5vZGVUeXBlICE9PSAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gMS4gQ29weSBwcml2YXRlIGRhdGE6IGV2ZW50cywgaGFuZGxlcnMsIGV0Yy5cbiAgICAgICAgICAgIGlmIChkYXRhUHJpdi5oYXNEYXRhKHNyYykpIHtcbiAgICAgICAgICAgICAgICBwZGF0YU9sZCA9IGRhdGFQcml2LmdldChzcmMpO1xuICAgICAgICAgICAgICAgIGV2ZW50cyA9IHBkYXRhT2xkLmV2ZW50cztcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFQcml2LnJlbW92ZShkZXN0LCBcImhhbmRsZSBldmVudHNcIik7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodHlwZSBpbiBldmVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDAsIGwgPSBldmVudHNbdHlwZV0ubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmV2ZW50LmFkZChkZXN0LCB0eXBlLCBldmVudHNbdHlwZV1baV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gMi4gQ29weSB1c2VyIGRhdGFcbiAgICAgICAgICAgIGlmIChkYXRhVXNlci5oYXNEYXRhKHNyYykpIHtcbiAgICAgICAgICAgICAgICB1ZGF0YU9sZCA9IGRhdGFVc2VyLmFjY2VzcyhzcmMpO1xuICAgICAgICAgICAgICAgIHVkYXRhQ3VyID0galF1ZXJ5LmV4dGVuZCh7fSwgdWRhdGFPbGQpO1xuICAgICAgICAgICAgICAgIGRhdGFVc2VyLnNldChkZXN0LCB1ZGF0YUN1cik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gRml4IElFIGJ1Z3MsIHNlZSBzdXBwb3J0IHRlc3RzXG4gICAgICAgIGZ1bmN0aW9uIGZpeElucHV0KHNyYywgZGVzdCkge1xuICAgICAgICAgICAgdmFyIG5vZGVOYW1lID0gZGVzdC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgLy8gRmFpbHMgdG8gcGVyc2lzdCB0aGUgY2hlY2tlZCBzdGF0ZSBvZiBhIGNsb25lZCBjaGVja2JveCBvciByYWRpbyBidXR0b24uXG4gICAgICAgICAgICBpZiAobm9kZU5hbWUgPT09IFwiaW5wdXRcIiAmJiByY2hlY2thYmxlVHlwZS50ZXN0KHNyYy50eXBlKSkge1xuICAgICAgICAgICAgICAgIGRlc3QuY2hlY2tlZCA9IHNyYy5jaGVja2VkO1xuICAgICAgICAgICAgICAgIC8vIEZhaWxzIHRvIHJldHVybiB0aGUgc2VsZWN0ZWQgb3B0aW9uIHRvIHRoZSBkZWZhdWx0IHNlbGVjdGVkIHN0YXRlIHdoZW4gY2xvbmluZyBvcHRpb25zXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChub2RlTmFtZSA9PT0gXCJpbnB1dFwiIHx8IG5vZGVOYW1lID09PSBcInRleHRhcmVhXCIpIHtcbiAgICAgICAgICAgICAgICBkZXN0LmRlZmF1bHRWYWx1ZSA9IHNyYy5kZWZhdWx0VmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gZG9tTWFuaXAoY29sbGVjdGlvbiwgYXJncywgY2FsbGJhY2ssIGlnbm9yZWQpIHtcbiAgICAgICAgICAgIC8vIEZsYXR0ZW4gYW55IG5lc3RlZCBhcnJheXNcbiAgICAgICAgICAgIGFyZ3MgPSBmbGF0KGFyZ3MpO1xuICAgICAgICAgICAgdmFyIGZyYWdtZW50LCBmaXJzdCwgc2NyaXB0cywgaGFzU2NyaXB0cywgbm9kZSwgZG9jLCBpID0gMCwgbCA9IGNvbGxlY3Rpb24ubGVuZ3RoLCBpTm9DbG9uZSA9IGwgLSAxLCB2YWx1ZSA9IGFyZ3NbMF0sIHZhbHVlSXNGdW5jdGlvbiA9IGlzRnVuY3Rpb24odmFsdWUpO1xuICAgICAgICAgICAgLy8gV2UgY2FuJ3QgY2xvbmVOb2RlIGZyYWdtZW50cyB0aGF0IGNvbnRhaW4gY2hlY2tlZCwgaW4gV2ViS2l0XG4gICAgICAgICAgICBpZiAodmFsdWVJc0Z1bmN0aW9uIHx8XG4gICAgICAgICAgICAgICAgKGwgPiAxICYmIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiAmJlxuICAgICAgICAgICAgICAgICAgICAhc3VwcG9ydC5jaGVja0Nsb25lICYmIHJjaGVja2VkLnRlc3QodmFsdWUpKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb2xsZWN0aW9uLmVhY2goZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzZWxmID0gY29sbGVjdGlvbi5lcShpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZUlzRnVuY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3NbMF0gPSB2YWx1ZS5jYWxsKHRoaXMsIGluZGV4LCBzZWxmLmh0bWwoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZG9tTWFuaXAoc2VsZiwgYXJncywgY2FsbGJhY2ssIGlnbm9yZWQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGwpIHtcbiAgICAgICAgICAgICAgICBmcmFnbWVudCA9IGJ1aWxkRnJhZ21lbnQoYXJncywgY29sbGVjdGlvblswXS5vd25lckRvY3VtZW50LCBmYWxzZSwgY29sbGVjdGlvbiwgaWdub3JlZCk7XG4gICAgICAgICAgICAgICAgZmlyc3QgPSBmcmFnbWVudC5maXJzdENoaWxkO1xuICAgICAgICAgICAgICAgIGlmIChmcmFnbWVudC5jaGlsZE5vZGVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBmcmFnbWVudCA9IGZpcnN0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBSZXF1aXJlIGVpdGhlciBuZXcgY29udGVudCBvciBhbiBpbnRlcmVzdCBpbiBpZ25vcmVkIGVsZW1lbnRzIHRvIGludm9rZSB0aGUgY2FsbGJhY2tcbiAgICAgICAgICAgICAgICBpZiAoZmlyc3QgfHwgaWdub3JlZCkge1xuICAgICAgICAgICAgICAgICAgICBzY3JpcHRzID0galF1ZXJ5Lm1hcChnZXRBbGwoZnJhZ21lbnQsIFwic2NyaXB0XCIpLCBkaXNhYmxlU2NyaXB0KTtcbiAgICAgICAgICAgICAgICAgICAgaGFzU2NyaXB0cyA9IHNjcmlwdHMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAvLyBVc2UgdGhlIG9yaWdpbmFsIGZyYWdtZW50IGZvciB0aGUgbGFzdCBpdGVtXG4gICAgICAgICAgICAgICAgICAgIC8vIGluc3RlYWQgb2YgdGhlIGZpcnN0IGJlY2F1c2UgaXQgY2FuIGVuZCB1cFxuICAgICAgICAgICAgICAgICAgICAvLyBiZWluZyBlbXB0aWVkIGluY29ycmVjdGx5IGluIGNlcnRhaW4gc2l0dWF0aW9ucyAodHJhYy04MDcwKS5cbiAgICAgICAgICAgICAgICAgICAgZm9yICg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSBmcmFnbWVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpICE9PSBpTm9DbG9uZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSBqUXVlcnkuY2xvbmUobm9kZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gS2VlcCByZWZlcmVuY2VzIHRvIGNsb25lZCBzY3JpcHRzIGZvciBsYXRlciByZXN0b3JhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYXNTY3JpcHRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5tZXJnZShzY3JpcHRzLCBnZXRBbGwobm9kZSwgXCJzY3JpcHRcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwoY29sbGVjdGlvbltpXSwgbm9kZSwgaSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhc1NjcmlwdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYyA9IHNjcmlwdHNbc2NyaXB0cy5sZW5ndGggLSAxXS5vd25lckRvY3VtZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmUtZW5hYmxlIHNjcmlwdHNcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5tYXAoc2NyaXB0cywgcmVzdG9yZVNjcmlwdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBFdmFsdWF0ZSBleGVjdXRhYmxlIHNjcmlwdHMgb24gZmlyc3QgZG9jdW1lbnQgaW5zZXJ0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgaGFzU2NyaXB0czsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IHNjcmlwdHNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJzY3JpcHRUeXBlLnRlc3Qobm9kZS50eXBlIHx8IFwiXCIpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICFkYXRhUHJpdi5hY2Nlc3Mobm9kZSwgXCJnbG9iYWxFdmFsXCIpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5jb250YWlucyhkb2MsIG5vZGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlLnNyYyAmJiAobm9kZS50eXBlIHx8IFwiXCIpLnRvTG93ZXJDYXNlKCkgIT09IFwibW9kdWxlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9wdGlvbmFsIEFKQVggZGVwZW5kZW5jeSwgYnV0IHdvbid0IHJ1biBzY3JpcHRzIGlmIG5vdCBwcmVzZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoalF1ZXJ5Ll9ldmFsVXJsICYmICFub2RlLm5vTW9kdWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5Ll9ldmFsVXJsKG5vZGUuc3JjLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vbmNlOiBub2RlLm5vbmNlIHx8IG5vZGUuZ2V0QXR0cmlidXRlKFwibm9uY2VcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBkb2MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVW53cmFwIGEgQ0RBVEEgc2VjdGlvbiBjb250YWluaW5nIHNjcmlwdCBjb250ZW50cy4gVGhpcyBzaG91bGRuJ3QgYmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5lZWRlZCBhcyBpbiBYTUwgZG9jdW1lbnRzIHRoZXkncmUgYWxyZWFkeSBub3QgdmlzaWJsZSB3aGVuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpbnNwZWN0aW5nIGVsZW1lbnQgY29udGVudHMgYW5kIGluIEhUTUwgZG9jdW1lbnRzIHRoZXkgaGF2ZSBub1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWVhbmluZyBidXQgd2UncmUgcHJlc2VydmluZyB0aGF0IGxvZ2ljIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgd2lsbCBiZSByZW1vdmVkIGNvbXBsZXRlbHkgaW4gNC4wLiBTZWUgZ2gtNDkwNC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERPTUV2YWwobm9kZS50ZXh0Q29udGVudC5yZXBsYWNlKHJjbGVhblNjcmlwdCwgXCJcIiksIG5vZGUsIGRvYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY29sbGVjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiByZW1vdmUoZWxlbSwgc2VsZWN0b3IsIGtlZXBEYXRhKSB7XG4gICAgICAgICAgICB2YXIgbm9kZSwgbm9kZXMgPSBzZWxlY3RvciA/IGpRdWVyeS5maWx0ZXIoc2VsZWN0b3IsIGVsZW0pIDogZWxlbSwgaSA9IDA7XG4gICAgICAgICAgICBmb3IgKDsgKG5vZGUgPSBub2Rlc1tpXSkgIT0gbnVsbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFrZWVwRGF0YSAmJiBub2RlLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeS5jbGVhbkRhdGEoZ2V0QWxsKG5vZGUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoa2VlcERhdGEgJiYgaXNBdHRhY2hlZChub2RlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0R2xvYmFsRXZhbChnZXRBbGwobm9kZSwgXCJzY3JpcHRcIikpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZWxlbTtcbiAgICAgICAgfVxuICAgICAgICBqUXVlcnkuZXh0ZW5kKHtcbiAgICAgICAgICAgIGh0bWxQcmVmaWx0ZXI6IGZ1bmN0aW9uIChodG1sKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGh0bWw7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2xvbmU6IGZ1bmN0aW9uIChlbGVtLCBkYXRhQW5kRXZlbnRzLCBkZWVwRGF0YUFuZEV2ZW50cykge1xuICAgICAgICAgICAgICAgIHZhciBpLCBsLCBzcmNFbGVtZW50cywgZGVzdEVsZW1lbnRzLCBjbG9uZSA9IGVsZW0uY2xvbmVOb2RlKHRydWUpLCBpblBhZ2UgPSBpc0F0dGFjaGVkKGVsZW0pO1xuICAgICAgICAgICAgICAgIC8vIEZpeCBJRSBjbG9uaW5nIGlzc3Vlc1xuICAgICAgICAgICAgICAgIGlmICghc3VwcG9ydC5ub0Nsb25lQ2hlY2tlZCAmJiAoZWxlbS5ub2RlVHlwZSA9PT0gMSB8fCBlbGVtLm5vZGVUeXBlID09PSAxMSkgJiZcbiAgICAgICAgICAgICAgICAgICAgIWpRdWVyeS5pc1hNTERvYyhlbGVtKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSBlc2NoZXcgalF1ZXJ5I2ZpbmQgaGVyZSBmb3IgcGVyZm9ybWFuY2UgcmVhc29uczpcbiAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9qc3BlcmYuY29tL2dldGFsbC12cy1zaXp6bGUvMlxuICAgICAgICAgICAgICAgICAgICBkZXN0RWxlbWVudHMgPSBnZXRBbGwoY2xvbmUpO1xuICAgICAgICAgICAgICAgICAgICBzcmNFbGVtZW50cyA9IGdldEFsbChlbGVtKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMCwgbCA9IHNyY0VsZW1lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZml4SW5wdXQoc3JjRWxlbWVudHNbaV0sIGRlc3RFbGVtZW50c1tpXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQ29weSB0aGUgZXZlbnRzIGZyb20gdGhlIG9yaWdpbmFsIHRvIHRoZSBjbG9uZVxuICAgICAgICAgICAgICAgIGlmIChkYXRhQW5kRXZlbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZWVwRGF0YUFuZEV2ZW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3JjRWxlbWVudHMgPSBzcmNFbGVtZW50cyB8fCBnZXRBbGwoZWxlbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXN0RWxlbWVudHMgPSBkZXN0RWxlbWVudHMgfHwgZ2V0QWxsKGNsb25lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDAsIGwgPSBzcmNFbGVtZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG9uZUNvcHlFdmVudChzcmNFbGVtZW50c1tpXSwgZGVzdEVsZW1lbnRzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lQ29weUV2ZW50KGVsZW0sIGNsb25lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBQcmVzZXJ2ZSBzY3JpcHQgZXZhbHVhdGlvbiBoaXN0b3J5XG4gICAgICAgICAgICAgICAgZGVzdEVsZW1lbnRzID0gZ2V0QWxsKGNsb25lLCBcInNjcmlwdFwiKTtcbiAgICAgICAgICAgICAgICBpZiAoZGVzdEVsZW1lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0R2xvYmFsRXZhbChkZXN0RWxlbWVudHMsICFpblBhZ2UgJiYgZ2V0QWxsKGVsZW0sIFwic2NyaXB0XCIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gUmV0dXJuIHRoZSBjbG9uZWQgc2V0XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNsb25lO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNsZWFuRGF0YTogZnVuY3Rpb24gKGVsZW1zKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGEsIGVsZW0sIHR5cGUsIHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbCwgaSA9IDA7XG4gICAgICAgICAgICAgICAgZm9yICg7IChlbGVtID0gZWxlbXNbaV0pICE9PSB1bmRlZmluZWQ7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWNjZXB0RGF0YShlbGVtKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChkYXRhID0gZWxlbVtkYXRhUHJpdi5leHBhbmRvXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ldmVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh0eXBlIGluIGRhdGEuZXZlbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3BlY2lhbFt0eXBlXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5ldmVudC5yZW1vdmUoZWxlbSwgdHlwZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBpcyBhIHNob3J0Y3V0IHRvIGF2b2lkIGpRdWVyeS5ldmVudC5yZW1vdmUncyBvdmVyaGVhZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LnJlbW92ZUV2ZW50KGVsZW0sIHR5cGUsIGRhdGEuaGFuZGxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBDaHJvbWUgPD0zNSAtIDQ1K1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFzc2lnbiB1bmRlZmluZWQgaW5zdGVhZCBvZiB1c2luZyBkZWxldGUsIHNlZSBEYXRhI3JlbW92ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1bZGF0YVByaXYuZXhwYW5kb10gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbVtkYXRhVXNlci5leHBhbmRvXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IENocm9tZSA8PTM1IC0gNDUrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXNzaWduIHVuZGVmaW5lZCBpbnN0ZWFkIG9mIHVzaW5nIGRlbGV0ZSwgc2VlIERhdGEjcmVtb3ZlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbVtkYXRhVXNlci5leHBhbmRvXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGpRdWVyeS5mbi5leHRlbmQoe1xuICAgICAgICAgICAgZGV0YWNoOiBmdW5jdGlvbiAoc2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVtb3ZlKHRoaXMsIHNlbGVjdG9yLCB0cnVlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZW1vdmU6IGZ1bmN0aW9uIChzZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiByZW1vdmUodGhpcywgc2VsZWN0b3IpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRleHQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhY2Nlc3ModGhpcywgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID9cbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS50ZXh0KHRoaXMpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1wdHkoKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5ub2RlVHlwZSA9PT0gMSB8fCB0aGlzLm5vZGVUeXBlID09PSAxMSB8fCB0aGlzLm5vZGVUeXBlID09PSA5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGV4dENvbnRlbnQgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LCBudWxsLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYXBwZW5kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvbU1hbmlwKHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubm9kZVR5cGUgPT09IDEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gMTEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9IG1hbmlwdWxhdGlvblRhcmdldCh0aGlzLCBlbGVtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC5hcHBlbmRDaGlsZChlbGVtKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHByZXBlbmQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZG9tTWFuaXAodGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5ub2RlVHlwZSA9PT0gMSB8fCB0aGlzLm5vZGVUeXBlID09PSAxMSB8fCB0aGlzLm5vZGVUeXBlID09PSA5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0ID0gbWFuaXB1bGF0aW9uVGFyZ2V0KHRoaXMsIGVsZW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Lmluc2VydEJlZm9yZShlbGVtLCB0YXJnZXQuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBiZWZvcmU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZG9tTWFuaXAodGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGVsZW0sIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYWZ0ZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZG9tTWFuaXAodGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGVsZW0sIHRoaXMubmV4dFNpYmxpbmcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZW1wdHk6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgZWxlbSwgaSA9IDA7XG4gICAgICAgICAgICAgICAgZm9yICg7IChlbGVtID0gdGhpc1tpXSkgIT0gbnVsbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbGVtLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IG1lbW9yeSBsZWFrc1xuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmNsZWFuRGF0YShnZXRBbGwoZWxlbSwgZmFsc2UpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBhbnkgcmVtYWluaW5nIG5vZGVzXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtLnRleHRDb250ZW50ID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjbG9uZTogZnVuY3Rpb24gKGRhdGFBbmRFdmVudHMsIGRlZXBEYXRhQW5kRXZlbnRzKSB7XG4gICAgICAgICAgICAgICAgZGF0YUFuZEV2ZW50cyA9IGRhdGFBbmRFdmVudHMgPT0gbnVsbCA/IGZhbHNlIDogZGF0YUFuZEV2ZW50cztcbiAgICAgICAgICAgICAgICBkZWVwRGF0YUFuZEV2ZW50cyA9IGRlZXBEYXRhQW5kRXZlbnRzID09IG51bGwgPyBkYXRhQW5kRXZlbnRzIDogZGVlcERhdGFBbmRFdmVudHM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGpRdWVyeS5jbG9uZSh0aGlzLCBkYXRhQW5kRXZlbnRzLCBkZWVwRGF0YUFuZEV2ZW50cyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaHRtbDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjY2Vzcyh0aGlzLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW0gPSB0aGlzWzBdIHx8IHt9LCBpID0gMCwgbCA9IHRoaXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiBlbGVtLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbS5pbm5lckhUTUw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gU2VlIGlmIHdlIGNhbiB0YWtlIGEgc2hvcnRjdXQgYW5kIGp1c3QgdXNlIGlubmVySFRNTFxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmICFybm9Jbm5lcmh0bWwudGVzdCh2YWx1ZSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICF3cmFwTWFwWyhydGFnTmFtZS5leGVjKHZhbHVlKSB8fCBbXCJcIiwgXCJcIl0pWzFdLnRvTG93ZXJDYXNlKCldKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGpRdWVyeS5odG1sUHJlZmlsdGVyKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbSA9IHRoaXNbaV0gfHwge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBlbGVtZW50IG5vZGVzIGFuZCBwcmV2ZW50IG1lbW9yeSBsZWFrc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbS5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmNsZWFuRGF0YShnZXRBbGwoZWxlbSwgZmFsc2UpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0uaW5uZXJIVE1MID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdXNpbmcgaW5uZXJIVE1MIHRocm93cyBhbiBleGNlcHRpb24sIHVzZSB0aGUgZmFsbGJhY2sgbWV0aG9kXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkgeyB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1wdHkoKS5hcHBlbmQodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgbnVsbCwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlcGxhY2VXaXRoOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlnbm9yZWQgPSBbXTtcbiAgICAgICAgICAgICAgICAvLyBNYWtlIHRoZSBjaGFuZ2VzLCByZXBsYWNpbmcgZWFjaCBub24taWdub3JlZCBjb250ZXh0IGVsZW1lbnQgd2l0aCB0aGUgbmV3IGNvbnRlbnRcbiAgICAgICAgICAgICAgICByZXR1cm4gZG9tTWFuaXAodGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGFyZW50ID0gdGhpcy5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoalF1ZXJ5LmluQXJyYXkodGhpcywgaWdub3JlZCkgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuY2xlYW5EYXRhKGdldEFsbCh0aGlzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50LnJlcGxhY2VDaGlsZChlbGVtLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBGb3JjZSBjYWxsYmFjayBpbnZvY2F0aW9uXG4gICAgICAgICAgICAgICAgfSwgaWdub3JlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBqUXVlcnkuZWFjaCh7XG4gICAgICAgICAgICBhcHBlbmRUbzogXCJhcHBlbmRcIixcbiAgICAgICAgICAgIHByZXBlbmRUbzogXCJwcmVwZW5kXCIsXG4gICAgICAgICAgICBpbnNlcnRCZWZvcmU6IFwiYmVmb3JlXCIsXG4gICAgICAgICAgICBpbnNlcnRBZnRlcjogXCJhZnRlclwiLFxuICAgICAgICAgICAgcmVwbGFjZUFsbDogXCJyZXBsYWNlV2l0aFwiXG4gICAgICAgIH0sIGZ1bmN0aW9uIChuYW1lLCBvcmlnaW5hbCkge1xuICAgICAgICAgICAgalF1ZXJ5LmZuW25hbWVdID0gZnVuY3Rpb24gKHNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVsZW1zLCByZXQgPSBbXSwgaW5zZXJ0ID0galF1ZXJ5KHNlbGVjdG9yKSwgbGFzdCA9IGluc2VydC5sZW5ndGggLSAxLCBpID0gMDtcbiAgICAgICAgICAgICAgICBmb3IgKDsgaSA8PSBsYXN0OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbXMgPSBpID09PSBsYXN0ID8gdGhpcyA6IHRoaXMuY2xvbmUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeShpbnNlcnRbaV0pW29yaWdpbmFsXShlbGVtcyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seVxuICAgICAgICAgICAgICAgICAgICAvLyAuZ2V0KCkgYmVjYXVzZSBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0XG4gICAgICAgICAgICAgICAgICAgIHB1c2guYXBwbHkocmV0LCBlbGVtcy5nZXQoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnB1c2hTdGFjayhyZXQpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBybnVtbm9ucHggPSBuZXcgUmVnRXhwKFwiXihcIiArIHBudW0gKyBcIikoPyFweClbYS16JV0rJFwiLCBcImlcIik7XG4gICAgICAgIHZhciByY3VzdG9tUHJvcCA9IC9eLS0vO1xuICAgICAgICB2YXIgZ2V0U3R5bGVzID0gZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDw9MTEgb25seSwgRmlyZWZveCA8PTMwICh0cmFjLTE1MDk4LCB0cmFjLTE0MTUwKVxuICAgICAgICAgICAgLy8gSUUgdGhyb3dzIG9uIGVsZW1lbnRzIGNyZWF0ZWQgaW4gcG9wdXBzXG4gICAgICAgICAgICAvLyBGRiBtZWFud2hpbGUgdGhyb3dzIG9uIGZyYW1lIGVsZW1lbnRzIHRocm91Z2ggXCJkZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlXCJcbiAgICAgICAgICAgIHZhciB2aWV3ID0gZWxlbS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O1xuICAgICAgICAgICAgaWYgKCF2aWV3IHx8ICF2aWV3Lm9wZW5lcikge1xuICAgICAgICAgICAgICAgIHZpZXcgPSB3aW5kb3c7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmlldy5nZXRDb21wdXRlZFN0eWxlKGVsZW0pO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgc3dhcCA9IGZ1bmN0aW9uIChlbGVtLCBvcHRpb25zLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgdmFyIHJldCwgbmFtZSwgb2xkID0ge307XG4gICAgICAgICAgICAvLyBSZW1lbWJlciB0aGUgb2xkIHZhbHVlcywgYW5kIGluc2VydCB0aGUgbmV3IG9uZXNcbiAgICAgICAgICAgIGZvciAobmFtZSBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgb2xkW25hbWVdID0gZWxlbS5zdHlsZVtuYW1lXTtcbiAgICAgICAgICAgICAgICBlbGVtLnN0eWxlW25hbWVdID0gb3B0aW9uc1tuYW1lXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldCA9IGNhbGxiYWNrLmNhbGwoZWxlbSk7XG4gICAgICAgICAgICAvLyBSZXZlcnQgdGhlIG9sZCB2YWx1ZXNcbiAgICAgICAgICAgIGZvciAobmFtZSBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgZWxlbS5zdHlsZVtuYW1lXSA9IG9sZFtuYW1lXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH07XG4gICAgICAgIHZhciByYm94U3R5bGUgPSBuZXcgUmVnRXhwKGNzc0V4cGFuZC5qb2luKFwifFwiKSwgXCJpXCIpO1xuICAgICAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gRXhlY3V0aW5nIGJvdGggcGl4ZWxQb3NpdGlvbiAmIGJveFNpemluZ1JlbGlhYmxlIHRlc3RzIHJlcXVpcmUgb25seSBvbmUgbGF5b3V0XG4gICAgICAgICAgICAvLyBzbyB0aGV5J3JlIGV4ZWN1dGVkIGF0IHRoZSBzYW1lIHRpbWUgdG8gc2F2ZSB0aGUgc2Vjb25kIGNvbXB1dGF0aW9uLlxuICAgICAgICAgICAgZnVuY3Rpb24gY29tcHV0ZVN0eWxlVGVzdHMoKSB7XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBpcyBhIHNpbmdsZXRvbiwgd2UgbmVlZCB0byBleGVjdXRlIGl0IG9ubHkgb25jZVxuICAgICAgICAgICAgICAgIGlmICghZGl2KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSBcInBvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTExMTExcHg7d2lkdGg6NjBweDtcIiArXG4gICAgICAgICAgICAgICAgICAgIFwibWFyZ2luLXRvcDoxcHg7cGFkZGluZzowO2JvcmRlcjowXCI7XG4gICAgICAgICAgICAgICAgZGl2LnN0eWxlLmNzc1RleHQgPVxuICAgICAgICAgICAgICAgICAgICBcInBvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6YmxvY2s7Ym94LXNpemluZzpib3JkZXItYm94O292ZXJmbG93OnNjcm9sbDtcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICBcIm1hcmdpbjphdXRvO2JvcmRlcjoxcHg7cGFkZGluZzoxcHg7XCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJ3aWR0aDo2MCU7dG9wOjElXCI7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKGNvbnRhaW5lcikuYXBwZW5kQ2hpbGQoZGl2KTtcbiAgICAgICAgICAgICAgICB2YXIgZGl2U3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShkaXYpO1xuICAgICAgICAgICAgICAgIHBpeGVsUG9zaXRpb25WYWwgPSBkaXZTdHlsZS50b3AgIT09IFwiMSVcIjtcbiAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBBbmRyb2lkIDQuMCAtIDQuMyBvbmx5LCBGaXJlZm94IDw9MyAtIDQ0XG4gICAgICAgICAgICAgICAgcmVsaWFibGVNYXJnaW5MZWZ0VmFsID0gcm91bmRQaXhlbE1lYXN1cmVzKGRpdlN0eWxlLm1hcmdpbkxlZnQpID09PSAxMjtcbiAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBBbmRyb2lkIDQuMCAtIDQuMyBvbmx5LCBTYWZhcmkgPD05LjEgLSAxMC4xLCBpT1MgPD03LjAgLSA5LjNcbiAgICAgICAgICAgICAgICAvLyBTb21lIHN0eWxlcyBjb21lIGJhY2sgd2l0aCBwZXJjZW50YWdlIHZhbHVlcywgZXZlbiB0aG91Z2ggdGhleSBzaG91bGRuJ3RcbiAgICAgICAgICAgICAgICBkaXYuc3R5bGUucmlnaHQgPSBcIjYwJVwiO1xuICAgICAgICAgICAgICAgIHBpeGVsQm94U3R5bGVzVmFsID0gcm91bmRQaXhlbE1lYXN1cmVzKGRpdlN0eWxlLnJpZ2h0KSA9PT0gMzY7XG4gICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgOSAtIDExIG9ubHlcbiAgICAgICAgICAgICAgICAvLyBEZXRlY3QgbWlzcmVwb3J0aW5nIG9mIGNvbnRlbnQgZGltZW5zaW9ucyBmb3IgYm94LXNpemluZzpib3JkZXItYm94IGVsZW1lbnRzXG4gICAgICAgICAgICAgICAgYm94U2l6aW5nUmVsaWFibGVWYWwgPSByb3VuZFBpeGVsTWVhc3VyZXMoZGl2U3R5bGUud2lkdGgpID09PSAzNjtcbiAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA5IG9ubHlcbiAgICAgICAgICAgICAgICAvLyBEZXRlY3Qgb3ZlcmZsb3c6c2Nyb2xsIHNjcmV3aW5lc3MgKGdoLTM2OTkpXG4gICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogQ2hyb21lIDw9NjRcbiAgICAgICAgICAgICAgICAvLyBEb24ndCBnZXQgdHJpY2tlZCB3aGVuIHpvb20gYWZmZWN0cyBvZmZzZXRXaWR0aCAoZ2gtNDAyOSlcbiAgICAgICAgICAgICAgICBkaXYuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgICAgICAgICAgICAgc2Nyb2xsYm94U2l6ZVZhbCA9IHJvdW5kUGl4ZWxNZWFzdXJlcyhkaXYub2Zmc2V0V2lkdGggLyAzKSA9PT0gMTI7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnRFbGVtZW50LnJlbW92ZUNoaWxkKGNvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgLy8gTnVsbGlmeSB0aGUgZGl2IHNvIGl0IHdvdWxkbid0IGJlIHN0b3JlZCBpbiB0aGUgbWVtb3J5IGFuZFxuICAgICAgICAgICAgICAgIC8vIGl0IHdpbGwgYWxzbyBiZSBhIHNpZ24gdGhhdCBjaGVja3MgYWxyZWFkeSBwZXJmb3JtZWRcbiAgICAgICAgICAgICAgICBkaXYgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gcm91bmRQaXhlbE1lYXN1cmVzKG1lYXN1cmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChwYXJzZUZsb2F0KG1lYXN1cmUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBwaXhlbFBvc2l0aW9uVmFsLCBib3hTaXppbmdSZWxpYWJsZVZhbCwgc2Nyb2xsYm94U2l6ZVZhbCwgcGl4ZWxCb3hTdHlsZXNWYWwsIHJlbGlhYmxlVHJEaW1lbnNpb25zVmFsLCByZWxpYWJsZU1hcmdpbkxlZnRWYWwsIGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAvLyBGaW5pc2ggZWFybHkgaW4gbGltaXRlZCAobm9uLWJyb3dzZXIpIGVudmlyb25tZW50c1xuICAgICAgICAgICAgaWYgKCFkaXYuc3R5bGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSBvbmx5XG4gICAgICAgICAgICAvLyBTdHlsZSBvZiBjbG9uZWQgZWxlbWVudCBhZmZlY3RzIHNvdXJjZSBlbGVtZW50IGNsb25lZCAodHJhYy04OTA4KVxuICAgICAgICAgICAgZGl2LnN0eWxlLmJhY2tncm91bmRDbGlwID0gXCJjb250ZW50LWJveFwiO1xuICAgICAgICAgICAgZGl2LmNsb25lTm9kZSh0cnVlKS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCA9IFwiXCI7XG4gICAgICAgICAgICBzdXBwb3J0LmNsZWFyQ2xvbmVTdHlsZSA9IGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCA9PT0gXCJjb250ZW50LWJveFwiO1xuICAgICAgICAgICAgalF1ZXJ5LmV4dGVuZChzdXBwb3J0LCB7XG4gICAgICAgICAgICAgICAgYm94U2l6aW5nUmVsaWFibGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcHV0ZVN0eWxlVGVzdHMoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJveFNpemluZ1JlbGlhYmxlVmFsO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcGl4ZWxCb3hTdHlsZXM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcHV0ZVN0eWxlVGVzdHMoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBpeGVsQm94U3R5bGVzVmFsO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcGl4ZWxQb3NpdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBjb21wdXRlU3R5bGVUZXN0cygpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGl4ZWxQb3NpdGlvblZhbDtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlbGlhYmxlTWFyZ2luTGVmdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBjb21wdXRlU3R5bGVUZXN0cygpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVsaWFibGVNYXJnaW5MZWZ0VmFsO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2Nyb2xsYm94U2l6ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBjb21wdXRlU3R5bGVUZXN0cygpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2Nyb2xsYm94U2l6ZVZhbDtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDkgLSAxMSssIEVkZ2UgMTUgLSAxOCtcbiAgICAgICAgICAgICAgICAvLyBJRS9FZGdlIG1pc3JlcG9ydCBgZ2V0Q29tcHV0ZWRTdHlsZWAgb2YgdGFibGUgcm93cyB3aXRoIHdpZHRoL2hlaWdodFxuICAgICAgICAgICAgICAgIC8vIHNldCBpbiBDU1Mgd2hpbGUgYG9mZnNldCpgIHByb3BlcnRpZXMgcmVwb3J0IGNvcnJlY3QgdmFsdWVzLlxuICAgICAgICAgICAgICAgIC8vIEJlaGF2aW9yIGluIElFIDkgaXMgbW9yZSBzdWJ0bGUgdGhhbiBpbiBuZXdlciB2ZXJzaW9ucyAmIGl0IHBhc3Nlc1xuICAgICAgICAgICAgICAgIC8vIHNvbWUgdmVyc2lvbnMgb2YgdGhpcyB0ZXN0OyBtYWtlIHN1cmUgbm90IHRvIG1ha2UgaXQgcGFzcyB0aGVyZSFcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IEZpcmVmb3ggNzArXG4gICAgICAgICAgICAgICAgLy8gT25seSBGaXJlZm94IGluY2x1ZGVzIGJvcmRlciB3aWR0aHNcbiAgICAgICAgICAgICAgICAvLyBpbiBjb21wdXRlZCBkaW1lbnNpb25zLiAoZ2gtNDUyOSlcbiAgICAgICAgICAgICAgICByZWxpYWJsZVRyRGltZW5zaW9uczogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGUsIHRyLCB0ckNoaWxkLCB0clN0eWxlO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVsaWFibGVUckRpbWVuc2lvbnNWYWwgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFibGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGFibGVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyQ2hpbGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFibGUuc3R5bGUuY3NzVGV4dCA9IFwicG9zaXRpb246YWJzb2x1dGU7bGVmdDotMTExMTFweDtib3JkZXItY29sbGFwc2U6c2VwYXJhdGVcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyLnN0eWxlLmNzc1RleHQgPSBcImJveC1zaXppbmc6Y29udGVudC1ib3g7Ym9yZGVyOjFweCBzb2xpZFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogQ2hyb21lIDg2K1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSGVpZ2h0IHNldCB0aHJvdWdoIGNzc1RleHQgZG9lcyBub3QgZ2V0IGFwcGxpZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDb21wdXRlZCBoZWlnaHQgdGhlbiBjb21lcyBiYWNrIGFzIDAuXG4gICAgICAgICAgICAgICAgICAgICAgICB0ci5zdHlsZS5oZWlnaHQgPSBcIjFweFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJDaGlsZC5zdHlsZS5oZWlnaHQgPSBcIjlweFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogQW5kcm9pZCA4IENocm9tZSA4NitcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEluIG91ciBib2R5QmFja2dyb3VuZC5odG1sIGlmcmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRpc3BsYXkgZm9yIGFsbCBkaXYgZWxlbWVudHMgaXMgc2V0IHRvIFwiaW5saW5lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB3aGljaCBjYXVzZXMgYSBwcm9ibGVtIG9ubHkgaW4gQW5kcm9pZCA4IENocm9tZSA4Ni5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVuc3VyaW5nIHRoZSBkaXYgaXMgYGRpc3BsYXk6IGJsb2NrYFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZ2V0cyBhcm91bmQgdGhpcyBpc3N1ZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRyQ2hpbGQuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50RWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmRDaGlsZCh0YWJsZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kQ2hpbGQodHIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZENoaWxkKHRyQ2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbGlhYmxlVHJEaW1lbnNpb25zVmFsID0gKHBhcnNlSW50KHRyU3R5bGUuaGVpZ2h0LCAxMCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlSW50KHRyU3R5bGUuYm9yZGVyVG9wV2lkdGgsIDEwKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VJbnQodHJTdHlsZS5ib3JkZXJCb3R0b21XaWR0aCwgMTApKSA9PT0gdHIub2Zmc2V0SGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnRFbGVtZW50LnJlbW92ZUNoaWxkKHRhYmxlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVsaWFibGVUckRpbWVuc2lvbnNWYWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pKCk7XG4gICAgICAgIGZ1bmN0aW9uIGN1ckNTUyhlbGVtLCBuYW1lLCBjb21wdXRlZCkge1xuICAgICAgICAgICAgdmFyIHdpZHRoLCBtaW5XaWR0aCwgbWF4V2lkdGgsIHJldCwgaXNDdXN0b21Qcm9wID0gcmN1c3RvbVByb3AudGVzdChuYW1lKSwgXG4gICAgICAgICAgICAvLyBTdXBwb3J0OiBGaXJlZm94IDUxK1xuICAgICAgICAgICAgLy8gUmV0cmlldmluZyBzdHlsZSBiZWZvcmUgY29tcHV0ZWQgc29tZWhvd1xuICAgICAgICAgICAgLy8gZml4ZXMgYW4gaXNzdWUgd2l0aCBnZXR0aW5nIHdyb25nIHZhbHVlc1xuICAgICAgICAgICAgLy8gb24gZGV0YWNoZWQgZWxlbWVudHNcbiAgICAgICAgICAgIHN0eWxlID0gZWxlbS5zdHlsZTtcbiAgICAgICAgICAgIGNvbXB1dGVkID0gY29tcHV0ZWQgfHwgZ2V0U3R5bGVzKGVsZW0pO1xuICAgICAgICAgICAgLy8gZ2V0UHJvcGVydHlWYWx1ZSBpcyBuZWVkZWQgZm9yOlxuICAgICAgICAgICAgLy8gICAuY3NzKCdmaWx0ZXInKSAoSUUgOSBvbmx5LCB0cmFjLTEyNTM3KVxuICAgICAgICAgICAgLy8gICAuY3NzKCctLWN1c3RvbVByb3BlcnR5KSAoZ2gtMzE0NClcbiAgICAgICAgICAgIGlmIChjb21wdXRlZCkge1xuICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExK1xuICAgICAgICAgICAgICAgIC8vIElFIG9ubHkgc3VwcG9ydHMgYFwiZmxvYXRcImAgaW4gYGdldFByb3BlcnR5VmFsdWVgOyBpbiBjb21wdXRlZCBzdHlsZXNcbiAgICAgICAgICAgICAgICAvLyBpdCdzIG9ubHkgYXZhaWxhYmxlIGFzIGBcImNzc0Zsb2F0XCJgLiBXZSBubyBsb25nZXIgbW9kaWZ5IHByb3BlcnRpZXNcbiAgICAgICAgICAgICAgICAvLyBzZW50IHRvIGAuY3NzKClgIGFwYXJ0IGZyb20gY2FtZWxDYXNpbmcsIHNvIHdlIG5lZWQgdG8gY2hlY2sgYm90aC5cbiAgICAgICAgICAgICAgICAvLyBOb3JtYWxseSwgdGhpcyB3b3VsZCBjcmVhdGUgZGlmZmVyZW5jZSBpbiBiZWhhdmlvcjogaWZcbiAgICAgICAgICAgICAgICAvLyBgZ2V0UHJvcGVydHlWYWx1ZWAgcmV0dXJucyBhbiBlbXB0eSBzdHJpbmcsIHRoZSB2YWx1ZSByZXR1cm5lZFxuICAgICAgICAgICAgICAgIC8vIGJ5IGAuY3NzKClgIHdvdWxkIGJlIGB1bmRlZmluZWRgLiBUaGlzIGlzIHVzdWFsbHkgdGhlIGNhc2UgZm9yXG4gICAgICAgICAgICAgICAgLy8gZGlzY29ubmVjdGVkIGVsZW1lbnRzLiBIb3dldmVyLCBpbiBJRSBldmVuIGRpc2Nvbm5lY3RlZCBlbGVtZW50c1xuICAgICAgICAgICAgICAgIC8vIHdpdGggbm8gc3R5bGVzIHJldHVybiBgXCJub25lXCJgIGZvciBgZ2V0UHJvcGVydHlWYWx1ZSggXCJmbG9hdFwiIClgXG4gICAgICAgICAgICAgICAgcmV0ID0gY29tcHV0ZWQuZ2V0UHJvcGVydHlWYWx1ZShuYW1lKSB8fCBjb21wdXRlZFtuYW1lXTtcbiAgICAgICAgICAgICAgICBpZiAoaXNDdXN0b21Qcm9wICYmIHJldCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBGaXJlZm94IDEwNSssIENocm9tZSA8PTEwNStcbiAgICAgICAgICAgICAgICAgICAgLy8gU3BlYyByZXF1aXJlcyB0cmltbWluZyB3aGl0ZXNwYWNlIGZvciBjdXN0b20gcHJvcGVydGllcyAoZ2gtNDkyNikuXG4gICAgICAgICAgICAgICAgICAgIC8vIEZpcmVmb3ggb25seSB0cmltcyBsZWFkaW5nIHdoaXRlc3BhY2UuIENocm9tZSBqdXN0IGNvbGxhcHNlc1xuICAgICAgICAgICAgICAgICAgICAvLyBib3RoIGxlYWRpbmcgJiB0cmFpbGluZyB3aGl0ZXNwYWNlIHRvIGEgc2luZ2xlIHNwYWNlLlxuICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICAvLyBGYWxsIGJhY2sgdG8gYHVuZGVmaW5lZGAgaWYgZW1wdHkgc3RyaW5nIHJldHVybmVkLlxuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGNvbGxhcHNlcyBhIG1pc3NpbmcgZGVmaW5pdGlvbiB3aXRoIHByb3BlcnR5IGRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5kIHNldCB0byBhbiBlbXB0eSBzdHJpbmcgYnV0IHRoZXJlJ3Mgbm8gc3RhbmRhcmQgQVBJXG4gICAgICAgICAgICAgICAgICAgIC8vIGFsbG93aW5nIHVzIHRvIGRpZmZlcmVudGlhdGUgdGhlbSB3aXRob3V0IGEgcGVyZm9ybWFuY2UgcGVuYWx0eVxuICAgICAgICAgICAgICAgICAgICAvLyBhbmQgcmV0dXJuaW5nIGB1bmRlZmluZWRgIGFsaWducyB3aXRoIG9sZGVyIGpRdWVyeS5cbiAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgLy8gcnRyaW1DU1MgdHJlYXRzIFUrMDAwRCBDQVJSSUFHRSBSRVRVUk4gYW5kIFUrMDAwQyBGT1JNIEZFRURcbiAgICAgICAgICAgICAgICAgICAgLy8gYXMgd2hpdGVzcGFjZSB3aGlsZSBDU1MgZG9lcyBub3QsIGJ1dCB0aGlzIGlzIG5vdCBhIHByb2JsZW1cbiAgICAgICAgICAgICAgICAgICAgLy8gYmVjYXVzZSBDU1MgcHJlcHJvY2Vzc2luZyByZXBsYWNlcyB0aGVtIHdpdGggVSswMDBBIExJTkUgRkVFRFxuICAgICAgICAgICAgICAgICAgICAvLyAod2hpY2ggKmlzKiBDU1Mgd2hpdGVzcGFjZSlcbiAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly93d3cudzMub3JnL1RSL2Nzcy1zeW50YXgtMy8jaW5wdXQtcHJlcHJvY2Vzc2luZ1xuICAgICAgICAgICAgICAgICAgICByZXQgPSByZXQucmVwbGFjZShydHJpbUNTUywgXCIkMVwiKSB8fCB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyZXQgPT09IFwiXCIgJiYgIWlzQXR0YWNoZWQoZWxlbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0ID0galF1ZXJ5LnN0eWxlKGVsZW0sIG5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBBIHRyaWJ1dGUgdG8gdGhlIFwiYXdlc29tZSBoYWNrIGJ5IERlYW4gRWR3YXJkc1wiXG4gICAgICAgICAgICAgICAgLy8gQW5kcm9pZCBCcm93c2VyIHJldHVybnMgcGVyY2VudGFnZSBmb3Igc29tZSB2YWx1ZXMsXG4gICAgICAgICAgICAgICAgLy8gYnV0IHdpZHRoIHNlZW1zIHRvIGJlIHJlbGlhYmx5IHBpeGVscy5cbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIGFnYWluc3QgdGhlIENTU09NIGRyYWZ0IHNwZWM6XG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9kcmFmdHMuY3Nzd2cub3JnL2Nzc29tLyNyZXNvbHZlZC12YWx1ZXNcbiAgICAgICAgICAgICAgICBpZiAoIXN1cHBvcnQucGl4ZWxCb3hTdHlsZXMoKSAmJiBybnVtbm9ucHgudGVzdChyZXQpICYmIHJib3hTdHlsZS50ZXN0KG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlbWVtYmVyIHRoZSBvcmlnaW5hbCB2YWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSBzdHlsZS53aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgbWluV2lkdGggPSBzdHlsZS5taW5XaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgbWF4V2lkdGggPSBzdHlsZS5tYXhXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgLy8gUHV0IGluIHRoZSBuZXcgdmFsdWVzIHRvIGdldCBhIGNvbXB1dGVkIHZhbHVlIG91dFxuICAgICAgICAgICAgICAgICAgICBzdHlsZS5taW5XaWR0aCA9IHN0eWxlLm1heFdpZHRoID0gc3R5bGUud2lkdGggPSByZXQ7XG4gICAgICAgICAgICAgICAgICAgIHJldCA9IGNvbXB1dGVkLndpZHRoO1xuICAgICAgICAgICAgICAgICAgICAvLyBSZXZlcnQgdGhlIGNoYW5nZWQgdmFsdWVzXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlLndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlLm1pbldpZHRoID0gbWluV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlLm1heFdpZHRoID0gbWF4V2lkdGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJldCAhPT0gdW5kZWZpbmVkID9cbiAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSBvbmx5XG4gICAgICAgICAgICAgICAgLy8gSUUgcmV0dXJucyB6SW5kZXggdmFsdWUgYXMgYW4gaW50ZWdlci5cbiAgICAgICAgICAgICAgICByZXQgKyBcIlwiIDpcbiAgICAgICAgICAgICAgICByZXQ7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gYWRkR2V0SG9va0lmKGNvbmRpdGlvbkZuLCBob29rRm4pIHtcbiAgICAgICAgICAgIC8vIERlZmluZSB0aGUgaG9vaywgd2UnbGwgY2hlY2sgb24gdGhlIGZpcnN0IHJ1biBpZiBpdCdzIHJlYWxseSBuZWVkZWQuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29uZGl0aW9uRm4oKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSG9vayBub3QgbmVlZGVkIChvciBpdCdzIG5vdCBwb3NzaWJsZSB0byB1c2UgaXQgZHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0byBtaXNzaW5nIGRlcGVuZGVuY3kpLCByZW1vdmUgaXQuXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5nZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gSG9vayBuZWVkZWQ7IHJlZGVmaW5lIGl0IHNvIHRoYXQgdGhlIHN1cHBvcnQgdGVzdCBpcyBub3QgZXhlY3V0ZWQgYWdhaW4uXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAodGhpcy5nZXQgPSBob29rRm4pLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY3NzUHJlZml4ZXMgPSBbXCJXZWJraXRcIiwgXCJNb3pcIiwgXCJtc1wiXSwgZW1wdHlTdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikuc3R5bGUsIHZlbmRvclByb3BzID0ge307XG4gICAgICAgIC8vIFJldHVybiBhIHZlbmRvci1wcmVmaXhlZCBwcm9wZXJ0eSBvciB1bmRlZmluZWRcbiAgICAgICAgZnVuY3Rpb24gdmVuZG9yUHJvcE5hbWUobmFtZSkge1xuICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIHZlbmRvciBwcmVmaXhlZCBuYW1lc1xuICAgICAgICAgICAgdmFyIGNhcE5hbWUgPSBuYW1lWzBdLnRvVXBwZXJDYXNlKCkgKyBuYW1lLnNsaWNlKDEpLCBpID0gY3NzUHJlZml4ZXMubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgICAgIG5hbWUgPSBjc3NQcmVmaXhlc1tpXSArIGNhcE5hbWU7XG4gICAgICAgICAgICAgICAgaWYgKG5hbWUgaW4gZW1wdHlTdHlsZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmV0dXJuIGEgcG90ZW50aWFsbHktbWFwcGVkIGpRdWVyeS5jc3NQcm9wcyBvciB2ZW5kb3IgcHJlZml4ZWQgcHJvcGVydHlcbiAgICAgICAgZnVuY3Rpb24gZmluYWxQcm9wTmFtZShuYW1lKSB7XG4gICAgICAgICAgICB2YXIgZmluYWwgPSBqUXVlcnkuY3NzUHJvcHNbbmFtZV0gfHwgdmVuZG9yUHJvcHNbbmFtZV07XG4gICAgICAgICAgICBpZiAoZmluYWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmluYWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmFtZSBpbiBlbXB0eVN0eWxlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmVuZG9yUHJvcHNbbmFtZV0gPSB2ZW5kb3JQcm9wTmFtZShuYW1lKSB8fCBuYW1lO1xuICAgICAgICB9XG4gICAgICAgIHZhciBcbiAgICAgICAgLy8gU3dhcHBhYmxlIGlmIGRpc3BsYXkgaXMgbm9uZSBvciBzdGFydHMgd2l0aCB0YWJsZVxuICAgICAgICAvLyBleGNlcHQgXCJ0YWJsZVwiLCBcInRhYmxlLWNlbGxcIiwgb3IgXCJ0YWJsZS1jYXB0aW9uXCJcbiAgICAgICAgLy8gU2VlIGhlcmUgZm9yIGRpc3BsYXkgdmFsdWVzOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL0NTUy9kaXNwbGF5XG4gICAgICAgIHJkaXNwbGF5c3dhcCA9IC9eKG5vbmV8dGFibGUoPyEtY1tlYV0pLispLywgY3NzU2hvdyA9IHsgcG9zaXRpb246IFwiYWJzb2x1dGVcIiwgdmlzaWJpbGl0eTogXCJoaWRkZW5cIiwgZGlzcGxheTogXCJibG9ja1wiIH0sIGNzc05vcm1hbFRyYW5zZm9ybSA9IHtcbiAgICAgICAgICAgIGxldHRlclNwYWNpbmc6IFwiMFwiLFxuICAgICAgICAgICAgZm9udFdlaWdodDogXCI0MDBcIlxuICAgICAgICB9O1xuICAgICAgICBmdW5jdGlvbiBzZXRQb3NpdGl2ZU51bWJlcihfZWxlbSwgdmFsdWUsIHN1YnRyYWN0KSB7XG4gICAgICAgICAgICAvLyBBbnkgcmVsYXRpdmUgKCsvLSkgdmFsdWVzIGhhdmUgYWxyZWFkeSBiZWVuXG4gICAgICAgICAgICAvLyBub3JtYWxpemVkIGF0IHRoaXMgcG9pbnRcbiAgICAgICAgICAgIHZhciBtYXRjaGVzID0gcmNzc051bS5leGVjKHZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiBtYXRjaGVzID9cbiAgICAgICAgICAgICAgICAvLyBHdWFyZCBhZ2FpbnN0IHVuZGVmaW5lZCBcInN1YnRyYWN0XCIsIGUuZy4sIHdoZW4gdXNlZCBhcyBpbiBjc3NIb29rc1xuICAgICAgICAgICAgICAgIE1hdGgubWF4KDAsIG1hdGNoZXNbMl0gLSAoc3VidHJhY3QgfHwgMCkpICsgKG1hdGNoZXNbM10gfHwgXCJweFwiKSA6XG4gICAgICAgICAgICAgICAgdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gYm94TW9kZWxBZGp1c3RtZW50KGVsZW0sIGRpbWVuc2lvbiwgYm94LCBpc0JvcmRlckJveCwgc3R5bGVzLCBjb21wdXRlZFZhbCkge1xuICAgICAgICAgICAgdmFyIGkgPSBkaW1lbnNpb24gPT09IFwid2lkdGhcIiA/IDEgOiAwLCBleHRyYSA9IDAsIGRlbHRhID0gMCwgbWFyZ2luRGVsdGEgPSAwO1xuICAgICAgICAgICAgLy8gQWRqdXN0bWVudCBtYXkgbm90IGJlIG5lY2Vzc2FyeVxuICAgICAgICAgICAgaWYgKGJveCA9PT0gKGlzQm9yZGVyQm94ID8gXCJib3JkZXJcIiA6IFwiY29udGVudFwiKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICg7IGkgPCA0OyBpICs9IDIpIHtcbiAgICAgICAgICAgICAgICAvLyBCb3RoIGJveCBtb2RlbHMgZXhjbHVkZSBtYXJnaW5cbiAgICAgICAgICAgICAgICAvLyBDb3VudCBtYXJnaW4gZGVsdGEgc2VwYXJhdGVseSB0byBvbmx5IGFkZCBpdCBhZnRlciBzY3JvbGwgZ3V0dGVyIGFkanVzdG1lbnQuXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBpcyBuZWVkZWQgdG8gbWFrZSBuZWdhdGl2ZSBtYXJnaW5zIHdvcmsgd2l0aCBgb3V0ZXJIZWlnaHQoIHRydWUgKWAgKGdoLTM5ODIpLlxuICAgICAgICAgICAgICAgIGlmIChib3ggPT09IFwibWFyZ2luXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luRGVsdGEgKz0galF1ZXJ5LmNzcyhlbGVtLCBib3ggKyBjc3NFeHBhbmRbaV0sIHRydWUsIHN0eWxlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIElmIHdlIGdldCBoZXJlIHdpdGggYSBjb250ZW50LWJveCwgd2UncmUgc2Vla2luZyBcInBhZGRpbmdcIiBvciBcImJvcmRlclwiIG9yIFwibWFyZ2luXCJcbiAgICAgICAgICAgICAgICBpZiAoIWlzQm9yZGVyQm94KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZCBwYWRkaW5nXG4gICAgICAgICAgICAgICAgICAgIGRlbHRhICs9IGpRdWVyeS5jc3MoZWxlbSwgXCJwYWRkaW5nXCIgKyBjc3NFeHBhbmRbaV0sIHRydWUsIHN0eWxlcyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIEZvciBcImJvcmRlclwiIG9yIFwibWFyZ2luXCIsIGFkZCBib3JkZXJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJveCAhPT0gXCJwYWRkaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbHRhICs9IGpRdWVyeS5jc3MoZWxlbSwgXCJib3JkZXJcIiArIGNzc0V4cGFuZFtpXSArIFwiV2lkdGhcIiwgdHJ1ZSwgc3R5bGVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJ1dCBzdGlsbCBrZWVwIHRyYWNrIG9mIGl0IG90aGVyd2lzZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmEgKz0galF1ZXJ5LmNzcyhlbGVtLCBcImJvcmRlclwiICsgY3NzRXhwYW5kW2ldICsgXCJXaWR0aFwiLCB0cnVlLCBzdHlsZXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHdlIGdldCBoZXJlIHdpdGggYSBib3JkZXItYm94IChjb250ZW50ICsgcGFkZGluZyArIGJvcmRlciksIHdlJ3JlIHNlZWtpbmcgXCJjb250ZW50XCIgb3JcbiAgICAgICAgICAgICAgICAgICAgLy8gXCJwYWRkaW5nXCIgb3IgXCJtYXJnaW5cIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRm9yIFwiY29udGVudFwiLCBzdWJ0cmFjdCBwYWRkaW5nXG4gICAgICAgICAgICAgICAgICAgIGlmIChib3ggPT09IFwiY29udGVudFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWx0YSAtPSBqUXVlcnkuY3NzKGVsZW0sIFwicGFkZGluZ1wiICsgY3NzRXhwYW5kW2ldLCB0cnVlLCBzdHlsZXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIEZvciBcImNvbnRlbnRcIiBvciBcInBhZGRpbmdcIiwgc3VidHJhY3QgYm9yZGVyXG4gICAgICAgICAgICAgICAgICAgIGlmIChib3ggIT09IFwibWFyZ2luXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbHRhIC09IGpRdWVyeS5jc3MoZWxlbSwgXCJib3JkZXJcIiArIGNzc0V4cGFuZFtpXSArIFwiV2lkdGhcIiwgdHJ1ZSwgc3R5bGVzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEFjY291bnQgZm9yIHBvc2l0aXZlIGNvbnRlbnQtYm94IHNjcm9sbCBndXR0ZXIgd2hlbiByZXF1ZXN0ZWQgYnkgcHJvdmlkaW5nIGNvbXB1dGVkVmFsXG4gICAgICAgICAgICBpZiAoIWlzQm9yZGVyQm94ICYmIGNvbXB1dGVkVmFsID49IDApIHtcbiAgICAgICAgICAgICAgICAvLyBvZmZzZXRXaWR0aC9vZmZzZXRIZWlnaHQgaXMgYSByb3VuZGVkIHN1bSBvZiBjb250ZW50LCBwYWRkaW5nLCBzY3JvbGwgZ3V0dGVyLCBhbmQgYm9yZGVyXG4gICAgICAgICAgICAgICAgLy8gQXNzdW1pbmcgaW50ZWdlciBzY3JvbGwgZ3V0dGVyLCBzdWJ0cmFjdCB0aGUgcmVzdCBhbmQgcm91bmQgZG93blxuICAgICAgICAgICAgICAgIGRlbHRhICs9IE1hdGgubWF4KDAsIE1hdGguY2VpbChlbGVtW1wib2Zmc2V0XCIgKyBkaW1lbnNpb25bMF0udG9VcHBlckNhc2UoKSArIGRpbWVuc2lvbi5zbGljZSgxKV0gLVxuICAgICAgICAgICAgICAgICAgICBjb21wdXRlZFZhbCAtXG4gICAgICAgICAgICAgICAgICAgIGRlbHRhIC1cbiAgICAgICAgICAgICAgICAgICAgZXh0cmEgLVxuICAgICAgICAgICAgICAgICAgICAwLjVcbiAgICAgICAgICAgICAgICAvLyBJZiBvZmZzZXRXaWR0aC9vZmZzZXRIZWlnaHQgaXMgdW5rbm93biwgdGhlbiB3ZSBjYW4ndCBkZXRlcm1pbmUgY29udGVudC1ib3ggc2Nyb2xsIGd1dHRlclxuICAgICAgICAgICAgICAgIC8vIFVzZSBhbiBleHBsaWNpdCB6ZXJvIHRvIGF2b2lkIE5hTiAoZ2gtMzk2NClcbiAgICAgICAgICAgICAgICApKSB8fCAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRlbHRhICsgbWFyZ2luRGVsdGE7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gZ2V0V2lkdGhPckhlaWdodChlbGVtLCBkaW1lbnNpb24sIGV4dHJhKSB7XG4gICAgICAgICAgICAvLyBTdGFydCB3aXRoIGNvbXB1dGVkIHN0eWxlXG4gICAgICAgICAgICB2YXIgc3R5bGVzID0gZ2V0U3R5bGVzKGVsZW0pLCBcbiAgICAgICAgICAgIC8vIFRvIGF2b2lkIGZvcmNpbmcgYSByZWZsb3csIG9ubHkgZmV0Y2ggYm94U2l6aW5nIGlmIHdlIG5lZWQgaXQgKGdoLTQzMjIpLlxuICAgICAgICAgICAgLy8gRmFrZSBjb250ZW50LWJveCB1bnRpbCB3ZSBrbm93IGl0J3MgbmVlZGVkIHRvIGtub3cgdGhlIHRydWUgdmFsdWUuXG4gICAgICAgICAgICBib3hTaXppbmdOZWVkZWQgPSAhc3VwcG9ydC5ib3hTaXppbmdSZWxpYWJsZSgpIHx8IGV4dHJhLCBpc0JvcmRlckJveCA9IGJveFNpemluZ05lZWRlZCAmJlxuICAgICAgICAgICAgICAgIGpRdWVyeS5jc3MoZWxlbSwgXCJib3hTaXppbmdcIiwgZmFsc2UsIHN0eWxlcykgPT09IFwiYm9yZGVyLWJveFwiLCB2YWx1ZUlzQm9yZGVyQm94ID0gaXNCb3JkZXJCb3gsIHZhbCA9IGN1ckNTUyhlbGVtLCBkaW1lbnNpb24sIHN0eWxlcyksIG9mZnNldFByb3AgPSBcIm9mZnNldFwiICsgZGltZW5zaW9uWzBdLnRvVXBwZXJDYXNlKCkgKyBkaW1lbnNpb24uc2xpY2UoMSk7XG4gICAgICAgICAgICAvLyBTdXBwb3J0OiBGaXJlZm94IDw9NTRcbiAgICAgICAgICAgIC8vIFJldHVybiBhIGNvbmZvdW5kaW5nIG5vbi1waXhlbCB2YWx1ZSBvciBmZWlnbiBpZ25vcmFuY2UsIGFzIGFwcHJvcHJpYXRlLlxuICAgICAgICAgICAgaWYgKHJudW1ub25weC50ZXN0KHZhbCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWV4dHJhKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhbCA9IFwiYXV0b1wiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgOSAtIDExIG9ubHlcbiAgICAgICAgICAgIC8vIFVzZSBvZmZzZXRXaWR0aC9vZmZzZXRIZWlnaHQgZm9yIHdoZW4gYm94IHNpemluZyBpcyB1bnJlbGlhYmxlLlxuICAgICAgICAgICAgLy8gSW4gdGhvc2UgY2FzZXMsIHRoZSBjb21wdXRlZCB2YWx1ZSBjYW4gYmUgdHJ1c3RlZCB0byBiZSBib3JkZXItYm94LlxuICAgICAgICAgICAgaWYgKCghc3VwcG9ydC5ib3hTaXppbmdSZWxpYWJsZSgpICYmIGlzQm9yZGVyQm94IHx8XG4gICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgMTAgLSAxMSssIEVkZ2UgMTUgLSAxOCtcbiAgICAgICAgICAgICAgICAvLyBJRS9FZGdlIG1pc3JlcG9ydCBgZ2V0Q29tcHV0ZWRTdHlsZWAgb2YgdGFibGUgcm93cyB3aXRoIHdpZHRoL2hlaWdodFxuICAgICAgICAgICAgICAgIC8vIHNldCBpbiBDU1Mgd2hpbGUgYG9mZnNldCpgIHByb3BlcnRpZXMgcmVwb3J0IGNvcnJlY3QgdmFsdWVzLlxuICAgICAgICAgICAgICAgIC8vIEludGVyZXN0aW5nbHksIGluIHNvbWUgY2FzZXMgSUUgOSBkb2Vzbid0IHN1ZmZlciBmcm9tIHRoaXMgaXNzdWUuXG4gICAgICAgICAgICAgICAgIXN1cHBvcnQucmVsaWFibGVUckRpbWVuc2lvbnMoKSAmJiBub2RlTmFtZShlbGVtLCBcInRyXCIpIHx8XG4gICAgICAgICAgICAgICAgLy8gRmFsbCBiYWNrIHRvIG9mZnNldFdpZHRoL29mZnNldEhlaWdodCB3aGVuIHZhbHVlIGlzIFwiYXV0b1wiXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBoYXBwZW5zIGZvciBpbmxpbmUgZWxlbWVudHMgd2l0aCBubyBleHBsaWNpdCBzZXR0aW5nIChnaC0zNTcxKVxuICAgICAgICAgICAgICAgIHZhbCA9PT0gXCJhdXRvXCIgfHxcbiAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4xIC0gNC4zIG9ubHlcbiAgICAgICAgICAgICAgICAvLyBBbHNvIHVzZSBvZmZzZXRXaWR0aC9vZmZzZXRIZWlnaHQgZm9yIG1pc3JlcG9ydGVkIGlubGluZSBkaW1lbnNpb25zIChnaC0zNjAyKVxuICAgICAgICAgICAgICAgICFwYXJzZUZsb2F0KHZhbCkgJiYgalF1ZXJ5LmNzcyhlbGVtLCBcImRpc3BsYXlcIiwgZmFsc2UsIHN0eWxlcykgPT09IFwiaW5saW5lXCIpICYmXG4gICAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSBlbGVtZW50IGlzIHZpc2libGUgJiBjb25uZWN0ZWRcbiAgICAgICAgICAgICAgICBlbGVtLmdldENsaWVudFJlY3RzKCkubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgaXNCb3JkZXJCb3ggPSBqUXVlcnkuY3NzKGVsZW0sIFwiYm94U2l6aW5nXCIsIGZhbHNlLCBzdHlsZXMpID09PSBcImJvcmRlci1ib3hcIjtcbiAgICAgICAgICAgICAgICAvLyBXaGVyZSBhdmFpbGFibGUsIG9mZnNldFdpZHRoL29mZnNldEhlaWdodCBhcHByb3hpbWF0ZSBib3JkZXIgYm94IGRpbWVuc2lvbnMuXG4gICAgICAgICAgICAgICAgLy8gV2hlcmUgbm90IGF2YWlsYWJsZSAoZS5nLiwgU1ZHKSwgYXNzdW1lIHVucmVsaWFibGUgYm94LXNpemluZyBhbmQgaW50ZXJwcmV0IHRoZVxuICAgICAgICAgICAgICAgIC8vIHJldHJpZXZlZCB2YWx1ZSBhcyBhIGNvbnRlbnQgYm94IGRpbWVuc2lvbi5cbiAgICAgICAgICAgICAgICB2YWx1ZUlzQm9yZGVyQm94ID0gb2Zmc2V0UHJvcCBpbiBlbGVtO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZUlzQm9yZGVyQm94KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbCA9IGVsZW1bb2Zmc2V0UHJvcF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTm9ybWFsaXplIFwiXCIgYW5kIGF1dG9cbiAgICAgICAgICAgIHZhbCA9IHBhcnNlRmxvYXQodmFsKSB8fCAwO1xuICAgICAgICAgICAgLy8gQWRqdXN0IGZvciB0aGUgZWxlbWVudCdzIGJveCBtb2RlbFxuICAgICAgICAgICAgcmV0dXJuICh2YWwgK1xuICAgICAgICAgICAgICAgIGJveE1vZGVsQWRqdXN0bWVudChlbGVtLCBkaW1lbnNpb24sIGV4dHJhIHx8IChpc0JvcmRlckJveCA/IFwiYm9yZGVyXCIgOiBcImNvbnRlbnRcIiksIHZhbHVlSXNCb3JkZXJCb3gsIHN0eWxlcywgXG4gICAgICAgICAgICAgICAgLy8gUHJvdmlkZSB0aGUgY3VycmVudCBjb21wdXRlZCBzaXplIHRvIHJlcXVlc3Qgc2Nyb2xsIGd1dHRlciBjYWxjdWxhdGlvbiAoZ2gtMzU4OSlcbiAgICAgICAgICAgICAgICB2YWwpKSArIFwicHhcIjtcbiAgICAgICAgfVxuICAgICAgICBqUXVlcnkuZXh0ZW5kKHtcbiAgICAgICAgICAgIC8vIEFkZCBpbiBzdHlsZSBwcm9wZXJ0eSBob29rcyBmb3Igb3ZlcnJpZGluZyB0aGUgZGVmYXVsdFxuICAgICAgICAgICAgLy8gYmVoYXZpb3Igb2YgZ2V0dGluZyBhbmQgc2V0dGluZyBhIHN0eWxlIHByb3BlcnR5XG4gICAgICAgICAgICBjc3NIb29rczoge1xuICAgICAgICAgICAgICAgIG9wYWNpdHk6IHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoZWxlbSwgY29tcHV0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb21wdXRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIHNob3VsZCBhbHdheXMgZ2V0IGEgbnVtYmVyIGJhY2sgZnJvbSBvcGFjaXR5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJldCA9IGN1ckNTUyhlbGVtLCBcIm9wYWNpdHlcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldCA9PT0gXCJcIiA/IFwiMVwiIDogcmV0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIERvbid0IGF1dG9tYXRpY2FsbHkgYWRkIFwicHhcIiB0byB0aGVzZSBwb3NzaWJseS11bml0bGVzcyBwcm9wZXJ0aWVzXG4gICAgICAgICAgICBjc3NOdW1iZXI6IHtcbiAgICAgICAgICAgICAgICBhbmltYXRpb25JdGVyYXRpb25Db3VudDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBhc3BlY3RSYXRpbzogdHJ1ZSxcbiAgICAgICAgICAgICAgICBib3JkZXJJbWFnZVNsaWNlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNvbHVtbkNvdW50OiB0cnVlLFxuICAgICAgICAgICAgICAgIGZsZXhHcm93OiB0cnVlLFxuICAgICAgICAgICAgICAgIGZsZXhTaHJpbms6IHRydWUsXG4gICAgICAgICAgICAgICAgZm9udFdlaWdodDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBncmlkQXJlYTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBncmlkQ29sdW1uOiB0cnVlLFxuICAgICAgICAgICAgICAgIGdyaWRDb2x1bW5FbmQ6IHRydWUsXG4gICAgICAgICAgICAgICAgZ3JpZENvbHVtblN0YXJ0OiB0cnVlLFxuICAgICAgICAgICAgICAgIGdyaWRSb3c6IHRydWUsXG4gICAgICAgICAgICAgICAgZ3JpZFJvd0VuZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBncmlkUm93U3RhcnQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbGluZUhlaWdodDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiB0cnVlLFxuICAgICAgICAgICAgICAgIG9yZGVyOiB0cnVlLFxuICAgICAgICAgICAgICAgIG9ycGhhbnM6IHRydWUsXG4gICAgICAgICAgICAgICAgc2NhbGU6IHRydWUsXG4gICAgICAgICAgICAgICAgd2lkb3dzOiB0cnVlLFxuICAgICAgICAgICAgICAgIHpJbmRleDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB6b29tOiB0cnVlLFxuICAgICAgICAgICAgICAgIC8vIFNWRy1yZWxhdGVkXG4gICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IHRydWUsXG4gICAgICAgICAgICAgICAgZmxvb2RPcGFjaXR5OiB0cnVlLFxuICAgICAgICAgICAgICAgIHN0b3BPcGFjaXR5OiB0cnVlLFxuICAgICAgICAgICAgICAgIHN0cm9rZU1pdGVybGltaXQ6IHRydWUsXG4gICAgICAgICAgICAgICAgc3Ryb2tlT3BhY2l0eTogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIEFkZCBpbiBwcm9wZXJ0aWVzIHdob3NlIG5hbWVzIHlvdSB3aXNoIHRvIGZpeCBiZWZvcmVcbiAgICAgICAgICAgIC8vIHNldHRpbmcgb3IgZ2V0dGluZyB0aGUgdmFsdWVcbiAgICAgICAgICAgIGNzc1Byb3BzOiB7fSxcbiAgICAgICAgICAgIC8vIEdldCBhbmQgc2V0IHRoZSBzdHlsZSBwcm9wZXJ0eSBvbiBhIERPTSBOb2RlXG4gICAgICAgICAgICBzdHlsZTogZnVuY3Rpb24gKGVsZW0sIG5hbWUsIHZhbHVlLCBleHRyYSkge1xuICAgICAgICAgICAgICAgIC8vIERvbid0IHNldCBzdHlsZXMgb24gdGV4dCBhbmQgY29tbWVudCBub2Rlc1xuICAgICAgICAgICAgICAgIGlmICghZWxlbSB8fCBlbGVtLm5vZGVUeXBlID09PSAzIHx8IGVsZW0ubm9kZVR5cGUgPT09IDggfHwgIWVsZW0uc3R5bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhhdCB3ZSdyZSB3b3JraW5nIHdpdGggdGhlIHJpZ2h0IG5hbWVcbiAgICAgICAgICAgICAgICB2YXIgcmV0LCB0eXBlLCBob29rcywgb3JpZ05hbWUgPSBjYW1lbENhc2UobmFtZSksIGlzQ3VzdG9tUHJvcCA9IHJjdXN0b21Qcm9wLnRlc3QobmFtZSksIHN0eWxlID0gZWxlbS5zdHlsZTtcbiAgICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhhdCB3ZSdyZSB3b3JraW5nIHdpdGggdGhlIHJpZ2h0IG5hbWUuIFdlIGRvbid0XG4gICAgICAgICAgICAgICAgLy8gd2FudCB0byBxdWVyeSB0aGUgdmFsdWUgaWYgaXQgaXMgYSBDU1MgY3VzdG9tIHByb3BlcnR5XG4gICAgICAgICAgICAgICAgLy8gc2luY2UgdGhleSBhcmUgdXNlci1kZWZpbmVkLlxuICAgICAgICAgICAgICAgIGlmICghaXNDdXN0b21Qcm9wKSB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWUgPSBmaW5hbFByb3BOYW1lKG9yaWdOYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gR2V0cyBob29rIGZvciB0aGUgcHJlZml4ZWQgdmVyc2lvbiwgdGhlbiB1bnByZWZpeGVkIHZlcnNpb25cbiAgICAgICAgICAgICAgICBob29rcyA9IGpRdWVyeS5jc3NIb29rc1tuYW1lXSB8fCBqUXVlcnkuY3NzSG9va3Nbb3JpZ05hbWVdO1xuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHdlJ3JlIHNldHRpbmcgYSB2YWx1ZVxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgXCIrPVwiIG9yIFwiLT1cIiB0byByZWxhdGl2ZSBudW1iZXJzICh0cmFjLTczNDUpXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSBcInN0cmluZ1wiICYmIChyZXQgPSByY3NzTnVtLmV4ZWModmFsdWUpKSAmJiByZXRbMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gYWRqdXN0Q1NTKGVsZW0sIG5hbWUsIHJldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGaXhlcyBidWcgdHJhYy05MjM3XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlID0gXCJudW1iZXJcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhhdCBudWxsIGFuZCBOYU4gdmFsdWVzIGFyZW4ndCBzZXQgKHRyYWMtNzExNilcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09IG51bGwgfHwgdmFsdWUgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgYSBudW1iZXIgd2FzIHBhc3NlZCBpbiwgYWRkIHRoZSB1bml0IChleGNlcHQgZm9yIGNlcnRhaW4gQ1NTIHByb3BlcnRpZXMpXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBpc0N1c3RvbVByb3AgY2hlY2sgY2FuIGJlIHJlbW92ZWQgaW4galF1ZXJ5IDQuMCB3aGVuIHdlIG9ubHkgYXV0by1hcHBlbmRcbiAgICAgICAgICAgICAgICAgICAgLy8gXCJweFwiIHRvIGEgZmV3IGhhcmRjb2RlZCB2YWx1ZXMuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSBcIm51bWJlclwiICYmICFpc0N1c3RvbVByb3ApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlICs9IHJldCAmJiByZXRbM10gfHwgKGpRdWVyeS5jc3NOdW1iZXJbb3JpZ05hbWVdID8gXCJcIiA6IFwicHhcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gYmFja2dyb3VuZC0qIHByb3BzIGFmZmVjdCBvcmlnaW5hbCBjbG9uZSdzIHZhbHVlc1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXN1cHBvcnQuY2xlYXJDbG9uZVN0eWxlICYmIHZhbHVlID09PSBcIlwiICYmIG5hbWUuaW5kZXhPZihcImJhY2tncm91bmRcIikgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlW25hbWVdID0gXCJpbmhlcml0XCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgYSBob29rIHdhcyBwcm92aWRlZCwgdXNlIHRoYXQgdmFsdWUsIG90aGVyd2lzZSBqdXN0IHNldCB0aGUgc3BlY2lmaWVkIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgIGlmICghaG9va3MgfHwgIShcInNldFwiIGluIGhvb2tzKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgKHZhbHVlID0gaG9va3Muc2V0KGVsZW0sIHZhbHVlLCBleHRyYSkpICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0N1c3RvbVByb3ApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZS5zZXRQcm9wZXJ0eShuYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZVtuYW1lXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiBhIGhvb2sgd2FzIHByb3ZpZGVkIGdldCB0aGUgbm9uLWNvbXB1dGVkIHZhbHVlIGZyb20gdGhlcmVcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhvb2tzICYmIFwiZ2V0XCIgaW4gaG9va3MgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIChyZXQgPSBob29rcy5nZXQoZWxlbSwgZmFsc2UsIGV4dHJhKSkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2UganVzdCBnZXQgdGhlIHZhbHVlIGZyb20gdGhlIHN0eWxlIG9iamVjdFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3R5bGVbbmFtZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNzczogZnVuY3Rpb24gKGVsZW0sIG5hbWUsIGV4dHJhLCBzdHlsZXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsLCBudW0sIGhvb2tzLCBvcmlnTmFtZSA9IGNhbWVsQ2FzZShuYW1lKSwgaXNDdXN0b21Qcm9wID0gcmN1c3RvbVByb3AudGVzdChuYW1lKTtcbiAgICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhhdCB3ZSdyZSB3b3JraW5nIHdpdGggdGhlIHJpZ2h0IG5hbWUuIFdlIGRvbid0XG4gICAgICAgICAgICAgICAgLy8gd2FudCB0byBtb2RpZnkgdGhlIHZhbHVlIGlmIGl0IGlzIGEgQ1NTIGN1c3RvbSBwcm9wZXJ0eVxuICAgICAgICAgICAgICAgIC8vIHNpbmNlIHRoZXkgYXJlIHVzZXItZGVmaW5lZC5cbiAgICAgICAgICAgICAgICBpZiAoIWlzQ3VzdG9tUHJvcCkge1xuICAgICAgICAgICAgICAgICAgICBuYW1lID0gZmluYWxQcm9wTmFtZShvcmlnTmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFRyeSBwcmVmaXhlZCBuYW1lIGZvbGxvd2VkIGJ5IHRoZSB1bnByZWZpeGVkIG5hbWVcbiAgICAgICAgICAgICAgICBob29rcyA9IGpRdWVyeS5jc3NIb29rc1tuYW1lXSB8fCBqUXVlcnkuY3NzSG9va3Nbb3JpZ05hbWVdO1xuICAgICAgICAgICAgICAgIC8vIElmIGEgaG9vayB3YXMgcHJvdmlkZWQgZ2V0IHRoZSBjb21wdXRlZCB2YWx1ZSBmcm9tIHRoZXJlXG4gICAgICAgICAgICAgICAgaWYgKGhvb2tzICYmIFwiZ2V0XCIgaW4gaG9va3MpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsID0gaG9va3MuZ2V0KGVsZW0sIHRydWUsIGV4dHJhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCBpZiBhIHdheSB0byBnZXQgdGhlIGNvbXB1dGVkIHZhbHVlIGV4aXN0cywgdXNlIHRoYXRcbiAgICAgICAgICAgICAgICBpZiAodmFsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsID0gY3VyQ1NTKGVsZW0sIG5hbWUsIHN0eWxlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgXCJub3JtYWxcIiB0byBjb21wdXRlZCB2YWx1ZVxuICAgICAgICAgICAgICAgIGlmICh2YWwgPT09IFwibm9ybWFsXCIgJiYgbmFtZSBpbiBjc3NOb3JtYWxUcmFuc2Zvcm0pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsID0gY3NzTm9ybWFsVHJhbnNmb3JtW25hbWVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBNYWtlIG51bWVyaWMgaWYgZm9yY2VkIG9yIGEgcXVhbGlmaWVyIHdhcyBwcm92aWRlZCBhbmQgdmFsIGxvb2tzIG51bWVyaWNcbiAgICAgICAgICAgICAgICBpZiAoZXh0cmEgPT09IFwiXCIgfHwgZXh0cmEpIHtcbiAgICAgICAgICAgICAgICAgICAgbnVtID0gcGFyc2VGbG9hdCh2YWwpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXh0cmEgPT09IHRydWUgfHwgaXNGaW5pdGUobnVtKSA/IG51bSB8fCAwIDogdmFsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgalF1ZXJ5LmVhY2goW1wiaGVpZ2h0XCIsIFwid2lkdGhcIl0sIGZ1bmN0aW9uIChfaSwgZGltZW5zaW9uKSB7XG4gICAgICAgICAgICBqUXVlcnkuY3NzSG9va3NbZGltZW5zaW9uXSA9IHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIChlbGVtLCBjb21wdXRlZCwgZXh0cmEpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXB1dGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDZXJ0YWluIGVsZW1lbnRzIGNhbiBoYXZlIGRpbWVuc2lvbiBpbmZvIGlmIHdlIGludmlzaWJseSBzaG93IHRoZW1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJ1dCBpdCBtdXN0IGhhdmUgYSBjdXJyZW50IGRpc3BsYXkgc3R5bGUgdGhhdCB3b3VsZCBiZW5lZml0XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmRpc3BsYXlzd2FwLnRlc3QoalF1ZXJ5LmNzcyhlbGVtLCBcImRpc3BsYXlcIikpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogU2FmYXJpIDgrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGFibGUgY29sdW1ucyBpbiBTYWZhcmkgaGF2ZSBub24temVybyBvZmZzZXRXaWR0aCAmIHplcm9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBnZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCB1bmxlc3MgZGlzcGxheSBpcyBjaGFuZ2VkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDw9MTEgb25seVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJ1bm5pbmcgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IG9uIGEgZGlzY29ubmVjdGVkIG5vZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpbiBJRSB0aHJvd3MgYW4gZXJyb3IuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKCFlbGVtLmdldENsaWVudFJlY3RzKCkubGVuZ3RoIHx8ICFlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoKSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dhcChlbGVtLCBjc3NTaG93LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXRXaWR0aE9ySGVpZ2h0KGVsZW0sIGRpbWVuc2lvbiwgZXh0cmEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRXaWR0aE9ySGVpZ2h0KGVsZW0sIGRpbWVuc2lvbiwgZXh0cmEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChlbGVtLCB2YWx1ZSwgZXh0cmEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1hdGNoZXMsIHN0eWxlcyA9IGdldFN0eWxlcyhlbGVtKSwgXG4gICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgcmVhZCBzdHlsZXMucG9zaXRpb24gaWYgdGhlIHRlc3QgaGFzIGEgY2hhbmNlIHRvIGZhaWxcbiAgICAgICAgICAgICAgICAgICAgLy8gdG8gYXZvaWQgZm9yY2luZyBhIHJlZmxvdy5cbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsYm94U2l6ZUJ1Z2d5ID0gIXN1cHBvcnQuc2Nyb2xsYm94U2l6ZSgpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZXMucG9zaXRpb24gPT09IFwiYWJzb2x1dGVcIiwgXG4gICAgICAgICAgICAgICAgICAgIC8vIFRvIGF2b2lkIGZvcmNpbmcgYSByZWZsb3csIG9ubHkgZmV0Y2ggYm94U2l6aW5nIGlmIHdlIG5lZWQgaXQgKGdoLTM5OTEpXG4gICAgICAgICAgICAgICAgICAgIGJveFNpemluZ05lZWRlZCA9IHNjcm9sbGJveFNpemVCdWdneSB8fCBleHRyYSwgaXNCb3JkZXJCb3ggPSBib3hTaXppbmdOZWVkZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5jc3MoZWxlbSwgXCJib3hTaXppbmdcIiwgZmFsc2UsIHN0eWxlcykgPT09IFwiYm9yZGVyLWJveFwiLCBzdWJ0cmFjdCA9IGV4dHJhID9cbiAgICAgICAgICAgICAgICAgICAgICAgIGJveE1vZGVsQWRqdXN0bWVudChlbGVtLCBkaW1lbnNpb24sIGV4dHJhLCBpc0JvcmRlckJveCwgc3R5bGVzKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAwO1xuICAgICAgICAgICAgICAgICAgICAvLyBBY2NvdW50IGZvciB1bnJlbGlhYmxlIGJvcmRlci1ib3ggZGltZW5zaW9ucyBieSBjb21wYXJpbmcgb2Zmc2V0KiB0byBjb21wdXRlZCBhbmRcbiAgICAgICAgICAgICAgICAgICAgLy8gZmFraW5nIGEgY29udGVudC1ib3ggdG8gZ2V0IGJvcmRlciBhbmQgcGFkZGluZyAoZ2gtMzY5OSlcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzQm9yZGVyQm94ICYmIHNjcm9sbGJveFNpemVCdWdneSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3VidHJhY3QgLT0gTWF0aC5jZWlsKGVsZW1bXCJvZmZzZXRcIiArIGRpbWVuc2lvblswXS50b1VwcGVyQ2FzZSgpICsgZGltZW5zaW9uLnNsaWNlKDEpXSAtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdChzdHlsZXNbZGltZW5zaW9uXSkgLVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJveE1vZGVsQWRqdXN0bWVudChlbGVtLCBkaW1lbnNpb24sIFwiYm9yZGVyXCIsIGZhbHNlLCBzdHlsZXMpIC1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLjUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgdG8gcGl4ZWxzIGlmIHZhbHVlIGFkanVzdG1lbnQgaXMgbmVlZGVkXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWJ0cmFjdCAmJiAobWF0Y2hlcyA9IHJjc3NOdW0uZXhlYyh2YWx1ZSkpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAobWF0Y2hlc1szXSB8fCBcInB4XCIpICE9PSBcInB4XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0uc3R5bGVbZGltZW5zaW9uXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBqUXVlcnkuY3NzKGVsZW0sIGRpbWVuc2lvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNldFBvc2l0aXZlTnVtYmVyKGVsZW0sIHZhbHVlLCBzdWJ0cmFjdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIGpRdWVyeS5jc3NIb29rcy5tYXJnaW5MZWZ0ID0gYWRkR2V0SG9va0lmKHN1cHBvcnQucmVsaWFibGVNYXJnaW5MZWZ0LCBmdW5jdGlvbiAoZWxlbSwgY29tcHV0ZWQpIHtcbiAgICAgICAgICAgIGlmIChjb21wdXRlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAocGFyc2VGbG9hdChjdXJDU1MoZWxlbSwgXCJtYXJnaW5MZWZ0XCIpKSB8fFxuICAgICAgICAgICAgICAgICAgICBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQgLVxuICAgICAgICAgICAgICAgICAgICAgICAgc3dhcChlbGVtLCB7IG1hcmdpbkxlZnQ6IDAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSkgKyBcInB4XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBUaGVzZSBob29rcyBhcmUgdXNlZCBieSBhbmltYXRlIHRvIGV4cGFuZCBwcm9wZXJ0aWVzXG4gICAgICAgIGpRdWVyeS5lYWNoKHtcbiAgICAgICAgICAgIG1hcmdpbjogXCJcIixcbiAgICAgICAgICAgIHBhZGRpbmc6IFwiXCIsXG4gICAgICAgICAgICBib3JkZXI6IFwiV2lkdGhcIlxuICAgICAgICB9LCBmdW5jdGlvbiAocHJlZml4LCBzdWZmaXgpIHtcbiAgICAgICAgICAgIGpRdWVyeS5jc3NIb29rc1twcmVmaXggKyBzdWZmaXhdID0ge1xuICAgICAgICAgICAgICAgIGV4cGFuZDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpID0gMCwgZXhwYW5kZWQgPSB7fSwgXG4gICAgICAgICAgICAgICAgICAgIC8vIEFzc3VtZXMgYSBzaW5nbGUgbnVtYmVyIGlmIG5vdCBhIHN0cmluZ1xuICAgICAgICAgICAgICAgICAgICBwYXJ0cyA9IHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiA/IHZhbHVlLnNwbGl0KFwiIFwiKSA6IFt2YWx1ZV07XG4gICAgICAgICAgICAgICAgICAgIGZvciAoOyBpIDwgNDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBleHBhbmRlZFtwcmVmaXggKyBjc3NFeHBhbmRbaV0gKyBzdWZmaXhdID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0c1tpXSB8fCBwYXJ0c1tpIC0gMl0gfHwgcGFydHNbMF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV4cGFuZGVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAocHJlZml4ICE9PSBcIm1hcmdpblwiKSB7XG4gICAgICAgICAgICAgICAgalF1ZXJ5LmNzc0hvb2tzW3ByZWZpeCArIHN1ZmZpeF0uc2V0ID0gc2V0UG9zaXRpdmVOdW1iZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBqUXVlcnkuZm4uZXh0ZW5kKHtcbiAgICAgICAgICAgIGNzczogZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjY2Vzcyh0aGlzLCBmdW5jdGlvbiAoZWxlbSwgbmFtZSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0eWxlcywgbGVuLCBtYXAgPSB7fSwgaSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZXMgPSBnZXRTdHlsZXMoZWxlbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZW4gPSBuYW1lLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXBbbmFtZVtpXV0gPSBqUXVlcnkuY3NzKGVsZW0sIG5hbWVbaV0sIGZhbHNlLCBzdHlsZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hcDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZCA/XG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuc3R5bGUoZWxlbSwgbmFtZSwgdmFsdWUpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5jc3MoZWxlbSwgbmFtZSk7XG4gICAgICAgICAgICAgICAgfSwgbmFtZSwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGZ1bmN0aW9uIFR3ZWVuKGVsZW0sIG9wdGlvbnMsIHByb3AsIGVuZCwgZWFzaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFR3ZWVuLnByb3RvdHlwZS5pbml0KGVsZW0sIG9wdGlvbnMsIHByb3AsIGVuZCwgZWFzaW5nKTtcbiAgICAgICAgfVxuICAgICAgICBqUXVlcnkuVHdlZW4gPSBUd2VlbjtcbiAgICAgICAgVHdlZW4ucHJvdG90eXBlID0ge1xuICAgICAgICAgICAgY29uc3RydWN0b3I6IFR3ZWVuLFxuICAgICAgICAgICAgaW5pdDogZnVuY3Rpb24gKGVsZW0sIG9wdGlvbnMsIHByb3AsIGVuZCwgZWFzaW5nLCB1bml0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtID0gZWxlbTtcbiAgICAgICAgICAgICAgICB0aGlzLnByb3AgPSBwcm9wO1xuICAgICAgICAgICAgICAgIHRoaXMuZWFzaW5nID0gZWFzaW5nIHx8IGpRdWVyeS5lYXNpbmcuX2RlZmF1bHQ7XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0ID0gdGhpcy5ub3cgPSB0aGlzLmN1cigpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW5kID0gZW5kO1xuICAgICAgICAgICAgICAgIHRoaXMudW5pdCA9IHVuaXQgfHwgKGpRdWVyeS5jc3NOdW1iZXJbcHJvcF0gPyBcIlwiIDogXCJweFwiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjdXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgaG9va3MgPSBUd2Vlbi5wcm9wSG9va3NbdGhpcy5wcm9wXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaG9va3MgJiYgaG9va3MuZ2V0ID9cbiAgICAgICAgICAgICAgICAgICAgaG9va3MuZ2V0KHRoaXMpIDpcbiAgICAgICAgICAgICAgICAgICAgVHdlZW4ucHJvcEhvb2tzLl9kZWZhdWx0LmdldCh0aGlzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBydW46IGZ1bmN0aW9uIChwZXJjZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIGVhc2VkLCBob29rcyA9IFR3ZWVuLnByb3BIb29rc1t0aGlzLnByb3BdO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3MgPSBlYXNlZCA9IGpRdWVyeS5lYXNpbmdbdGhpcy5lYXNpbmddKHBlcmNlbnQsIHRoaXMub3B0aW9ucy5kdXJhdGlvbiAqIHBlcmNlbnQsIDAsIDEsIHRoaXMub3B0aW9ucy5kdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvcyA9IGVhc2VkID0gcGVyY2VudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5ub3cgPSAodGhpcy5lbmQgLSB0aGlzLnN0YXJ0KSAqIGVhc2VkICsgdGhpcy5zdGFydDtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnN0ZXApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnN0ZXAuY2FsbCh0aGlzLmVsZW0sIHRoaXMubm93LCB0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGhvb2tzICYmIGhvb2tzLnNldCkge1xuICAgICAgICAgICAgICAgICAgICBob29rcy5zZXQodGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBUd2Vlbi5wcm9wSG9va3MuX2RlZmF1bHQuc2V0KHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgVHdlZW4ucHJvdG90eXBlLmluaXQucHJvdG90eXBlID0gVHdlZW4ucHJvdG90eXBlO1xuICAgICAgICBUd2Vlbi5wcm9wSG9va3MgPSB7XG4gICAgICAgICAgICBfZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKHR3ZWVuKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgIC8vIFVzZSBhIHByb3BlcnR5IG9uIHRoZSBlbGVtZW50IGRpcmVjdGx5IHdoZW4gaXQgaXMgbm90IGEgRE9NIGVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIC8vIG9yIHdoZW4gdGhlcmUgaXMgbm8gbWF0Y2hpbmcgc3R5bGUgcHJvcGVydHkgdGhhdCBleGlzdHMuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0d2Vlbi5lbGVtLm5vZGVUeXBlICE9PSAxIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICB0d2Vlbi5lbGVtW3R3ZWVuLnByb3BdICE9IG51bGwgJiYgdHdlZW4uZWxlbS5zdHlsZVt0d2Vlbi5wcm9wXSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHdlZW4uZWxlbVt0d2Vlbi5wcm9wXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBQYXNzaW5nIGFuIGVtcHR5IHN0cmluZyBhcyBhIDNyZCBwYXJhbWV0ZXIgdG8gLmNzcyB3aWxsIGF1dG9tYXRpY2FsbHlcbiAgICAgICAgICAgICAgICAgICAgLy8gYXR0ZW1wdCBhIHBhcnNlRmxvYXQgYW5kIGZhbGxiYWNrIHRvIGEgc3RyaW5nIGlmIHRoZSBwYXJzZSBmYWlscy5cbiAgICAgICAgICAgICAgICAgICAgLy8gU2ltcGxlIHZhbHVlcyBzdWNoIGFzIFwiMTBweFwiIGFyZSBwYXJzZWQgdG8gRmxvYXQ7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbXBsZXggdmFsdWVzIHN1Y2ggYXMgXCJyb3RhdGUoMXJhZClcIiBhcmUgcmV0dXJuZWQgYXMtaXMuXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGpRdWVyeS5jc3ModHdlZW4uZWxlbSwgdHdlZW4ucHJvcCwgXCJcIik7XG4gICAgICAgICAgICAgICAgICAgIC8vIEVtcHR5IHN0cmluZ3MsIG51bGwsIHVuZGVmaW5lZCBhbmQgXCJhdXRvXCIgYXJlIGNvbnZlcnRlZCB0byAwLlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gIXJlc3VsdCB8fCByZXN1bHQgPT09IFwiYXV0b1wiID8gMCA6IHJlc3VsdDtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHR3ZWVuKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFVzZSBzdGVwIGhvb2sgZm9yIGJhY2sgY29tcGF0LlxuICAgICAgICAgICAgICAgICAgICAvLyBVc2UgY3NzSG9vayBpZiBpdHMgdGhlcmUuXG4gICAgICAgICAgICAgICAgICAgIC8vIFVzZSAuc3R5bGUgaWYgYXZhaWxhYmxlIGFuZCB1c2UgcGxhaW4gcHJvcGVydGllcyB3aGVyZSBhdmFpbGFibGUuXG4gICAgICAgICAgICAgICAgICAgIGlmIChqUXVlcnkuZnguc3RlcFt0d2Vlbi5wcm9wXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmZ4LnN0ZXBbdHdlZW4ucHJvcF0odHdlZW4pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR3ZWVuLmVsZW0ubm9kZVR5cGUgPT09IDEgJiYgKGpRdWVyeS5jc3NIb29rc1t0d2Vlbi5wcm9wXSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgdHdlZW4uZWxlbS5zdHlsZVtmaW5hbFByb3BOYW1lKHR3ZWVuLnByb3ApXSAhPSBudWxsKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LnN0eWxlKHR3ZWVuLmVsZW0sIHR3ZWVuLnByb3AsIHR3ZWVuLm5vdyArIHR3ZWVuLnVuaXQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHdlZW4uZWxlbVt0d2Vlbi5wcm9wXSA9IHR3ZWVuLm5vdztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLy8gU3VwcG9ydDogSUUgPD05IG9ubHlcbiAgICAgICAgLy8gUGFuaWMgYmFzZWQgYXBwcm9hY2ggdG8gc2V0dGluZyB0aGluZ3Mgb24gZGlzY29ubmVjdGVkIG5vZGVzXG4gICAgICAgIFR3ZWVuLnByb3BIb29rcy5zY3JvbGxUb3AgPSBUd2Vlbi5wcm9wSG9va3Muc2Nyb2xsTGVmdCA9IHtcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHR3ZWVuKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR3ZWVuLmVsZW0ubm9kZVR5cGUgJiYgdHdlZW4uZWxlbS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIHR3ZWVuLmVsZW1bdHdlZW4ucHJvcF0gPSB0d2Vlbi5ub3c7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBqUXVlcnkuZWFzaW5nID0ge1xuICAgICAgICAgICAgbGluZWFyOiBmdW5jdGlvbiAocCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN3aW5nOiBmdW5jdGlvbiAocCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAwLjUgLSBNYXRoLmNvcyhwICogTWF0aC5QSSkgLyAyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9kZWZhdWx0OiBcInN3aW5nXCJcbiAgICAgICAgfTtcbiAgICAgICAgalF1ZXJ5LmZ4ID0gVHdlZW4ucHJvdG90eXBlLmluaXQ7XG4gICAgICAgIC8vIEJhY2sgY29tcGF0IDwxLjggZXh0ZW5zaW9uIHBvaW50XG4gICAgICAgIGpRdWVyeS5meC5zdGVwID0ge307XG4gICAgICAgIHZhciBmeE5vdywgaW5Qcm9ncmVzcywgcmZ4dHlwZXMgPSAvXig/OnRvZ2dsZXxzaG93fGhpZGUpJC8sIHJydW4gPSAvcXVldWVIb29rcyQvO1xuICAgICAgICBmdW5jdGlvbiBzY2hlZHVsZSgpIHtcbiAgICAgICAgICAgIGlmIChpblByb2dyZXNzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmhpZGRlbiA9PT0gZmFsc2UgJiYgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSkge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHNjaGVkdWxlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KHNjaGVkdWxlLCBqUXVlcnkuZnguaW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBqUXVlcnkuZngudGljaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEFuaW1hdGlvbnMgY3JlYXRlZCBzeW5jaHJvbm91c2x5IHdpbGwgcnVuIHN5bmNocm9ub3VzbHlcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlRnhOb3coKSB7XG4gICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZnhOb3cgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiAoZnhOb3cgPSBEYXRlLm5vdygpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBHZW5lcmF0ZSBwYXJhbWV0ZXJzIHRvIGNyZWF0ZSBhIHN0YW5kYXJkIGFuaW1hdGlvblxuICAgICAgICBmdW5jdGlvbiBnZW5GeCh0eXBlLCBpbmNsdWRlV2lkdGgpIHtcbiAgICAgICAgICAgIHZhciB3aGljaCwgaSA9IDAsIGF0dHJzID0geyBoZWlnaHQ6IHR5cGUgfTtcbiAgICAgICAgICAgIC8vIElmIHdlIGluY2x1ZGUgd2lkdGgsIHN0ZXAgdmFsdWUgaXMgMSB0byBkbyBhbGwgY3NzRXhwYW5kIHZhbHVlcyxcbiAgICAgICAgICAgIC8vIG90aGVyd2lzZSBzdGVwIHZhbHVlIGlzIDIgdG8gc2tpcCBvdmVyIExlZnQgYW5kIFJpZ2h0XG4gICAgICAgICAgICBpbmNsdWRlV2lkdGggPSBpbmNsdWRlV2lkdGggPyAxIDogMDtcbiAgICAgICAgICAgIGZvciAoOyBpIDwgNDsgaSArPSAyIC0gaW5jbHVkZVdpZHRoKSB7XG4gICAgICAgICAgICAgICAgd2hpY2ggPSBjc3NFeHBhbmRbaV07XG4gICAgICAgICAgICAgICAgYXR0cnNbXCJtYXJnaW5cIiArIHdoaWNoXSA9IGF0dHJzW1wicGFkZGluZ1wiICsgd2hpY2hdID0gdHlwZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpbmNsdWRlV2lkdGgpIHtcbiAgICAgICAgICAgICAgICBhdHRycy5vcGFjaXR5ID0gYXR0cnMud2lkdGggPSB0eXBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGF0dHJzO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVR3ZWVuKHZhbHVlLCBwcm9wLCBhbmltYXRpb24pIHtcbiAgICAgICAgICAgIHZhciB0d2VlbiwgY29sbGVjdGlvbiA9IChBbmltYXRpb24udHdlZW5lcnNbcHJvcF0gfHwgW10pLmNvbmNhdChBbmltYXRpb24udHdlZW5lcnNbXCIqXCJdKSwgaW5kZXggPSAwLCBsZW5ndGggPSBjb2xsZWN0aW9uLmxlbmd0aDtcbiAgICAgICAgICAgIGZvciAoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgIGlmICgodHdlZW4gPSBjb2xsZWN0aW9uW2luZGV4XS5jYWxsKGFuaW1hdGlvbiwgcHJvcCwgdmFsdWUpKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSdyZSBkb25lIHdpdGggdGhpcyBwcm9wZXJ0eVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHdlZW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGRlZmF1bHRQcmVmaWx0ZXIoZWxlbSwgcHJvcHMsIG9wdHMpIHtcbiAgICAgICAgICAgIHZhciBwcm9wLCB2YWx1ZSwgdG9nZ2xlLCBob29rcywgb2xkZmlyZSwgcHJvcFR3ZWVuLCByZXN0b3JlRGlzcGxheSwgZGlzcGxheSwgaXNCb3ggPSBcIndpZHRoXCIgaW4gcHJvcHMgfHwgXCJoZWlnaHRcIiBpbiBwcm9wcywgYW5pbSA9IHRoaXMsIG9yaWcgPSB7fSwgc3R5bGUgPSBlbGVtLnN0eWxlLCBoaWRkZW4gPSBlbGVtLm5vZGVUeXBlICYmIGlzSGlkZGVuV2l0aGluVHJlZShlbGVtKSwgZGF0YVNob3cgPSBkYXRhUHJpdi5nZXQoZWxlbSwgXCJmeHNob3dcIik7XG4gICAgICAgICAgICAvLyBRdWV1ZS1za2lwcGluZyBhbmltYXRpb25zIGhpamFjayB0aGUgZnggaG9va3NcbiAgICAgICAgICAgIGlmICghb3B0cy5xdWV1ZSkge1xuICAgICAgICAgICAgICAgIGhvb2tzID0galF1ZXJ5Ll9xdWV1ZUhvb2tzKGVsZW0sIFwiZnhcIik7XG4gICAgICAgICAgICAgICAgaWYgKGhvb2tzLnVucXVldWVkID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaG9va3MudW5xdWV1ZWQgPSAwO1xuICAgICAgICAgICAgICAgICAgICBvbGRmaXJlID0gaG9va3MuZW1wdHkuZmlyZTtcbiAgICAgICAgICAgICAgICAgICAgaG9va3MuZW1wdHkuZmlyZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaG9va3MudW5xdWV1ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGRmaXJlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGhvb2tzLnVucXVldWVkKys7XG4gICAgICAgICAgICAgICAgYW5pbS5hbHdheXMoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBFbnN1cmUgdGhlIGNvbXBsZXRlIGhhbmRsZXIgaXMgY2FsbGVkIGJlZm9yZSB0aGlzIGNvbXBsZXRlc1xuICAgICAgICAgICAgICAgICAgICBhbmltLmFsd2F5cyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBob29rcy51bnF1ZXVlZC0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFqUXVlcnkucXVldWUoZWxlbSwgXCJmeFwiKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBob29rcy5lbXB0eS5maXJlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRGV0ZWN0IHNob3cvaGlkZSBhbmltYXRpb25zXG4gICAgICAgICAgICBmb3IgKHByb3AgaW4gcHJvcHMpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHByb3BzW3Byb3BdO1xuICAgICAgICAgICAgICAgIGlmIChyZnh0eXBlcy50ZXN0KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgcHJvcHNbcHJvcF07XG4gICAgICAgICAgICAgICAgICAgIHRvZ2dsZSA9IHRvZ2dsZSB8fCB2YWx1ZSA9PT0gXCJ0b2dnbGVcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSAoaGlkZGVuID8gXCJoaWRlXCIgOiBcInNob3dcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFByZXRlbmQgdG8gYmUgaGlkZGVuIGlmIHRoaXMgaXMgYSBcInNob3dcIiBhbmRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZXJlIGlzIHN0aWxsIGRhdGEgZnJvbSBhIHN0b3BwZWQgc2hvdy9oaWRlXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwic2hvd1wiICYmIGRhdGFTaG93ICYmIGRhdGFTaG93W3Byb3BdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWRkZW4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElnbm9yZSBhbGwgb3RoZXIgbm8tb3Agc2hvdy9oaWRlIGRhdGFcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG9yaWdbcHJvcF0gPSBkYXRhU2hvdyAmJiBkYXRhU2hvd1twcm9wXSB8fCBqUXVlcnkuc3R5bGUoZWxlbSwgcHJvcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQmFpbCBvdXQgaWYgdGhpcyBpcyBhIG5vLW9wIGxpa2UgLmhpZGUoKS5oaWRlKClcbiAgICAgICAgICAgIHByb3BUd2VlbiA9ICFqUXVlcnkuaXNFbXB0eU9iamVjdChwcm9wcyk7XG4gICAgICAgICAgICBpZiAoIXByb3BUd2VlbiAmJiBqUXVlcnkuaXNFbXB0eU9iamVjdChvcmlnKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFJlc3RyaWN0IFwib3ZlcmZsb3dcIiBhbmQgXCJkaXNwbGF5XCIgc3R5bGVzIGR1cmluZyBib3ggYW5pbWF0aW9uc1xuICAgICAgICAgICAgaWYgKGlzQm94ICYmIGVsZW0ubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSwgRWRnZSAxMiAtIDE1XG4gICAgICAgICAgICAgICAgLy8gUmVjb3JkIGFsbCAzIG92ZXJmbG93IGF0dHJpYnV0ZXMgYmVjYXVzZSBJRSBkb2VzIG5vdCBpbmZlciB0aGUgc2hvcnRoYW5kXG4gICAgICAgICAgICAgICAgLy8gZnJvbSBpZGVudGljYWxseS12YWx1ZWQgb3ZlcmZsb3dYIGFuZCBvdmVyZmxvd1kgYW5kIEVkZ2UganVzdCBtaXJyb3JzXG4gICAgICAgICAgICAgICAgLy8gdGhlIG92ZXJmbG93WCB2YWx1ZSB0aGVyZS5cbiAgICAgICAgICAgICAgICBvcHRzLm92ZXJmbG93ID0gW3N0eWxlLm92ZXJmbG93LCBzdHlsZS5vdmVyZmxvd1gsIHN0eWxlLm92ZXJmbG93WV07XG4gICAgICAgICAgICAgICAgLy8gSWRlbnRpZnkgYSBkaXNwbGF5IHR5cGUsIHByZWZlcnJpbmcgb2xkIHNob3cvaGlkZSBkYXRhIG92ZXIgdGhlIENTUyBjYXNjYWRlXG4gICAgICAgICAgICAgICAgcmVzdG9yZURpc3BsYXkgPSBkYXRhU2hvdyAmJiBkYXRhU2hvdy5kaXNwbGF5O1xuICAgICAgICAgICAgICAgIGlmIChyZXN0b3JlRGlzcGxheSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3RvcmVEaXNwbGF5ID0gZGF0YVByaXYuZ2V0KGVsZW0sIFwiZGlzcGxheVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGlzcGxheSA9IGpRdWVyeS5jc3MoZWxlbSwgXCJkaXNwbGF5XCIpO1xuICAgICAgICAgICAgICAgIGlmIChkaXNwbGF5ID09PSBcIm5vbmVcIikge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdG9yZURpc3BsYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXkgPSByZXN0b3JlRGlzcGxheTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldCBub25lbXB0eSB2YWx1ZShzKSBieSB0ZW1wb3JhcmlseSBmb3JjaW5nIHZpc2liaWxpdHlcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dIaWRlKFtlbGVtXSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN0b3JlRGlzcGxheSA9IGVsZW0uc3R5bGUuZGlzcGxheSB8fCByZXN0b3JlRGlzcGxheTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXkgPSBqUXVlcnkuY3NzKGVsZW0sIFwiZGlzcGxheVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dIaWRlKFtlbGVtXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQW5pbWF0ZSBpbmxpbmUgZWxlbWVudHMgYXMgaW5saW5lLWJsb2NrXG4gICAgICAgICAgICAgICAgaWYgKGRpc3BsYXkgPT09IFwiaW5saW5lXCIgfHwgZGlzcGxheSA9PT0gXCJpbmxpbmUtYmxvY2tcIiAmJiByZXN0b3JlRGlzcGxheSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChqUXVlcnkuY3NzKGVsZW0sIFwiZmxvYXRcIikgPT09IFwibm9uZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXN0b3JlIHRoZSBvcmlnaW5hbCBkaXNwbGF5IHZhbHVlIGF0IHRoZSBlbmQgb2YgcHVyZSBzaG93L2hpZGUgYW5pbWF0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwcm9wVHdlZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltLmRvbmUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZS5kaXNwbGF5ID0gcmVzdG9yZURpc3BsYXk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3RvcmVEaXNwbGF5ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheSA9IHN0eWxlLmRpc3BsYXk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RvcmVEaXNwbGF5ID0gZGlzcGxheSA9PT0gXCJub25lXCIgPyBcIlwiIDogZGlzcGxheTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRzLm92ZXJmbG93KSB7XG4gICAgICAgICAgICAgICAgc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xuICAgICAgICAgICAgICAgIGFuaW0uYWx3YXlzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUub3ZlcmZsb3cgPSBvcHRzLm92ZXJmbG93WzBdO1xuICAgICAgICAgICAgICAgICAgICBzdHlsZS5vdmVyZmxvd1ggPSBvcHRzLm92ZXJmbG93WzFdO1xuICAgICAgICAgICAgICAgICAgICBzdHlsZS5vdmVyZmxvd1kgPSBvcHRzLm92ZXJmbG93WzJdO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSW1wbGVtZW50IHNob3cvaGlkZSBhbmltYXRpb25zXG4gICAgICAgICAgICBwcm9wVHdlZW4gPSBmYWxzZTtcbiAgICAgICAgICAgIGZvciAocHJvcCBpbiBvcmlnKSB7XG4gICAgICAgICAgICAgICAgLy8gR2VuZXJhbCBzaG93L2hpZGUgc2V0dXAgZm9yIHRoaXMgZWxlbWVudCBhbmltYXRpb25cbiAgICAgICAgICAgICAgICBpZiAoIXByb3BUd2Vlbikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YVNob3cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcImhpZGRlblwiIGluIGRhdGFTaG93KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlkZGVuID0gZGF0YVNob3cuaGlkZGVuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVNob3cgPSBkYXRhUHJpdi5hY2Nlc3MoZWxlbSwgXCJmeHNob3dcIiwgeyBkaXNwbGF5OiByZXN0b3JlRGlzcGxheSB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBTdG9yZSBoaWRkZW4vdmlzaWJsZSBmb3IgdG9nZ2xlIHNvIGAuc3RvcCgpLnRvZ2dsZSgpYCBcInJldmVyc2VzXCJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvZ2dsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVNob3cuaGlkZGVuID0gIWhpZGRlbjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBTaG93IGVsZW1lbnRzIGJlZm9yZSBhbmltYXRpbmcgdGhlbVxuICAgICAgICAgICAgICAgICAgICBpZiAoaGlkZGVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaG93SGlkZShbZWxlbV0sIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWxvb3AtZnVuYyAqL1xuICAgICAgICAgICAgICAgICAgICBhbmltLmRvbmUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1sb29wLWZ1bmMgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBmaW5hbCBzdGVwIG9mIGEgXCJoaWRlXCIgYW5pbWF0aW9uIGlzIGFjdHVhbGx5IGhpZGluZyB0aGUgZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFoaWRkZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93SGlkZShbZWxlbV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVByaXYucmVtb3ZlKGVsZW0sIFwiZnhzaG93XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChwcm9wIGluIG9yaWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuc3R5bGUoZWxlbSwgcHJvcCwgb3JpZ1twcm9wXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBQZXItcHJvcGVydHkgc2V0dXBcbiAgICAgICAgICAgICAgICBwcm9wVHdlZW4gPSBjcmVhdGVUd2VlbihoaWRkZW4gPyBkYXRhU2hvd1twcm9wXSA6IDAsIHByb3AsIGFuaW0pO1xuICAgICAgICAgICAgICAgIGlmICghKHByb3AgaW4gZGF0YVNob3cpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFTaG93W3Byb3BdID0gcHJvcFR3ZWVuLnN0YXJ0O1xuICAgICAgICAgICAgICAgICAgICBpZiAoaGlkZGVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wVHdlZW4uZW5kID0gcHJvcFR3ZWVuLnN0YXJ0O1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcFR3ZWVuLnN0YXJ0ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBwcm9wRmlsdGVyKHByb3BzLCBzcGVjaWFsRWFzaW5nKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXgsIG5hbWUsIGVhc2luZywgdmFsdWUsIGhvb2tzO1xuICAgICAgICAgICAgLy8gY2FtZWxDYXNlLCBzcGVjaWFsRWFzaW5nIGFuZCBleHBhbmQgY3NzSG9vayBwYXNzXG4gICAgICAgICAgICBmb3IgKGluZGV4IGluIHByb3BzKSB7XG4gICAgICAgICAgICAgICAgbmFtZSA9IGNhbWVsQ2FzZShpbmRleCk7XG4gICAgICAgICAgICAgICAgZWFzaW5nID0gc3BlY2lhbEVhc2luZ1tuYW1lXTtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHByb3BzW2luZGV4XTtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZWFzaW5nID0gdmFsdWVbMV07XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gcHJvcHNbaW5kZXhdID0gdmFsdWVbMF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpbmRleCAhPT0gbmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBwcm9wc1tuYW1lXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgcHJvcHNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBob29rcyA9IGpRdWVyeS5jc3NIb29rc1tuYW1lXTtcbiAgICAgICAgICAgICAgICBpZiAoaG9va3MgJiYgXCJleHBhbmRcIiBpbiBob29rcykge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGhvb2tzLmV4cGFuZCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBwcm9wc1tuYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgLy8gTm90IHF1aXRlICQuZXh0ZW5kLCB0aGlzIHdvbid0IG92ZXJ3cml0ZSBleGlzdGluZyBrZXlzLlxuICAgICAgICAgICAgICAgICAgICAvLyBSZXVzaW5nICdpbmRleCcgYmVjYXVzZSB3ZSBoYXZlIHRoZSBjb3JyZWN0IFwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaW5kZXggaW4gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKGluZGV4IGluIHByb3BzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzW2luZGV4XSA9IHZhbHVlW2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGVjaWFsRWFzaW5nW2luZGV4XSA9IGVhc2luZztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3BlY2lhbEVhc2luZ1tuYW1lXSA9IGVhc2luZztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gQW5pbWF0aW9uKGVsZW0sIHByb3BlcnRpZXMsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQsIHN0b3BwZWQsIGluZGV4ID0gMCwgbGVuZ3RoID0gQW5pbWF0aW9uLnByZWZpbHRlcnMubGVuZ3RoLCBkZWZlcnJlZCA9IGpRdWVyeS5EZWZlcnJlZCgpLmFsd2F5cyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgLy8gRG9uJ3QgbWF0Y2ggZWxlbSBpbiB0aGUgOmFuaW1hdGVkIHNlbGVjdG9yXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRpY2suZWxlbTtcbiAgICAgICAgICAgIH0pLCB0aWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChzdG9wcGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gZnhOb3cgfHwgY3JlYXRlRnhOb3coKSwgcmVtYWluaW5nID0gTWF0aC5tYXgoMCwgYW5pbWF0aW9uLnN0YXJ0VGltZSArIGFuaW1hdGlvbi5kdXJhdGlvbiAtIGN1cnJlbnRUaW1lKSwgXG4gICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogQW5kcm9pZCAyLjMgb25seVxuICAgICAgICAgICAgICAgIC8vIEFyY2hhaWMgY3Jhc2ggYnVnIHdvbid0IGFsbG93IHVzIHRvIHVzZSBgMSAtICggMC41IHx8IDAgKWAgKHRyYWMtMTI0OTcpXG4gICAgICAgICAgICAgICAgdGVtcCA9IHJlbWFpbmluZyAvIGFuaW1hdGlvbi5kdXJhdGlvbiB8fCAwLCBwZXJjZW50ID0gMSAtIHRlbXAsIGluZGV4ID0gMCwgbGVuZ3RoID0gYW5pbWF0aW9uLnR3ZWVucy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgZm9yICg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbi50d2VlbnNbaW5kZXhdLnJ1bihwZXJjZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVmZXJyZWQubm90aWZ5V2l0aChlbGVtLCBbYW5pbWF0aW9uLCBwZXJjZW50LCByZW1haW5pbmddKTtcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGVyZSdzIG1vcmUgdG8gZG8sIHlpZWxkXG4gICAgICAgICAgICAgICAgaWYgKHBlcmNlbnQgPCAxICYmIGxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVtYWluaW5nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBJZiB0aGlzIHdhcyBhbiBlbXB0eSBhbmltYXRpb24sIHN5bnRoZXNpemUgYSBmaW5hbCBwcm9ncmVzcyBub3RpZmljYXRpb25cbiAgICAgICAgICAgICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5ub3RpZnlXaXRoKGVsZW0sIFthbmltYXRpb24sIDEsIDBdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gUmVzb2x2ZSB0aGUgYW5pbWF0aW9uIGFuZCByZXBvcnQgaXRzIGNvbmNsdXNpb25cbiAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlV2l0aChlbGVtLCBbYW5pbWF0aW9uXSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSwgYW5pbWF0aW9uID0gZGVmZXJyZWQucHJvbWlzZSh7XG4gICAgICAgICAgICAgICAgZWxlbTogZWxlbSxcbiAgICAgICAgICAgICAgICBwcm9wczogalF1ZXJ5LmV4dGVuZCh7fSwgcHJvcGVydGllcyksXG4gICAgICAgICAgICAgICAgb3B0czogalF1ZXJ5LmV4dGVuZCh0cnVlLCB7XG4gICAgICAgICAgICAgICAgICAgIHNwZWNpYWxFYXNpbmc6IHt9LFxuICAgICAgICAgICAgICAgICAgICBlYXNpbmc6IGpRdWVyeS5lYXNpbmcuX2RlZmF1bHRcbiAgICAgICAgICAgICAgICB9LCBvcHRpb25zKSxcbiAgICAgICAgICAgICAgICBvcmlnaW5hbFByb3BlcnRpZXM6IHByb3BlcnRpZXMsXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxPcHRpb25zOiBvcHRpb25zLFxuICAgICAgICAgICAgICAgIHN0YXJ0VGltZTogZnhOb3cgfHwgY3JlYXRlRnhOb3coKSxcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogb3B0aW9ucy5kdXJhdGlvbixcbiAgICAgICAgICAgICAgICB0d2VlbnM6IFtdLFxuICAgICAgICAgICAgICAgIGNyZWF0ZVR3ZWVuOiBmdW5jdGlvbiAocHJvcCwgZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0d2VlbiA9IGpRdWVyeS5Ud2VlbihlbGVtLCBhbmltYXRpb24ub3B0cywgcHJvcCwgZW5kLCBhbmltYXRpb24ub3B0cy5zcGVjaWFsRWFzaW5nW3Byb3BdIHx8IGFuaW1hdGlvbi5vcHRzLmVhc2luZyk7XG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbi50d2VlbnMucHVzaCh0d2Vlbik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0d2VlbjtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN0b3A6IGZ1bmN0aW9uIChnb3RvRW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IDAsIFxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSBhcmUgZ29pbmcgdG8gdGhlIGVuZCwgd2Ugd2FudCB0byBydW4gYWxsIHRoZSB0d2VlbnNcbiAgICAgICAgICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIHdlIHNraXAgdGhpcyBwYXJ0XG4gICAgICAgICAgICAgICAgICAgIGxlbmd0aCA9IGdvdG9FbmQgPyBhbmltYXRpb24udHdlZW5zLmxlbmd0aCA6IDA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdG9wcGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb24udHdlZW5zW2luZGV4XS5ydW4oMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gUmVzb2x2ZSB3aGVuIHdlIHBsYXllZCB0aGUgbGFzdCBmcmFtZTsgb3RoZXJ3aXNlLCByZWplY3RcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdvdG9FbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLm5vdGlmeVdpdGgoZWxlbSwgW2FuaW1hdGlvbiwgMSwgMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZVdpdGgoZWxlbSwgW2FuaW1hdGlvbiwgZ290b0VuZF0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0V2l0aChlbGVtLCBbYW5pbWF0aW9uLCBnb3RvRW5kXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSksIHByb3BzID0gYW5pbWF0aW9uLnByb3BzO1xuICAgICAgICAgICAgcHJvcEZpbHRlcihwcm9wcywgYW5pbWF0aW9uLm9wdHMuc3BlY2lhbEVhc2luZyk7XG4gICAgICAgICAgICBmb3IgKDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBBbmltYXRpb24ucHJlZmlsdGVyc1tpbmRleF0uY2FsbChhbmltYXRpb24sIGVsZW0sIHByb3BzLCBhbmltYXRpb24ub3B0cyk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihyZXN1bHQuc3RvcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5fcXVldWVIb29rcyhhbmltYXRpb24uZWxlbSwgYW5pbWF0aW9uLm9wdHMucXVldWUpLnN0b3AgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zdG9wLmJpbmQocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGpRdWVyeS5tYXAocHJvcHMsIGNyZWF0ZVR3ZWVuLCBhbmltYXRpb24pO1xuICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oYW5pbWF0aW9uLm9wdHMuc3RhcnQpKSB7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uLm9wdHMuc3RhcnQuY2FsbChlbGVtLCBhbmltYXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQXR0YWNoIGNhbGxiYWNrcyBmcm9tIG9wdGlvbnNcbiAgICAgICAgICAgIGFuaW1hdGlvblxuICAgICAgICAgICAgICAgIC5wcm9ncmVzcyhhbmltYXRpb24ub3B0cy5wcm9ncmVzcylcbiAgICAgICAgICAgICAgICAuZG9uZShhbmltYXRpb24ub3B0cy5kb25lLCBhbmltYXRpb24ub3B0cy5jb21wbGV0ZSlcbiAgICAgICAgICAgICAgICAuZmFpbChhbmltYXRpb24ub3B0cy5mYWlsKVxuICAgICAgICAgICAgICAgIC5hbHdheXMoYW5pbWF0aW9uLm9wdHMuYWx3YXlzKTtcbiAgICAgICAgICAgIGpRdWVyeS5meC50aW1lcihqUXVlcnkuZXh0ZW5kKHRpY2ssIHtcbiAgICAgICAgICAgICAgICBlbGVtOiBlbGVtLFxuICAgICAgICAgICAgICAgIGFuaW06IGFuaW1hdGlvbixcbiAgICAgICAgICAgICAgICBxdWV1ZTogYW5pbWF0aW9uLm9wdHMucXVldWVcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHJldHVybiBhbmltYXRpb247XG4gICAgICAgIH1cbiAgICAgICAgalF1ZXJ5LkFuaW1hdGlvbiA9IGpRdWVyeS5leHRlbmQoQW5pbWF0aW9uLCB7XG4gICAgICAgICAgICB0d2VlbmVyczoge1xuICAgICAgICAgICAgICAgIFwiKlwiOiBbZnVuY3Rpb24gKHByb3AsIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHdlZW4gPSB0aGlzLmNyZWF0ZVR3ZWVuKHByb3AsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkanVzdENTUyh0d2Vlbi5lbGVtLCBwcm9wLCByY3NzTnVtLmV4ZWModmFsdWUpLCB0d2Vlbik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHdlZW47XG4gICAgICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHdlZW5lcjogZnVuY3Rpb24gKHByb3BzLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKHByb3BzKSkge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayA9IHByb3BzO1xuICAgICAgICAgICAgICAgICAgICBwcm9wcyA9IFtcIipcIl07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwcm9wcyA9IHByb3BzLm1hdGNoKHJub3RodG1sd2hpdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgcHJvcCwgaW5kZXggPSAwLCBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgZm9yICg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb3AgPSBwcm9wc1tpbmRleF07XG4gICAgICAgICAgICAgICAgICAgIEFuaW1hdGlvbi50d2VlbmVyc1twcm9wXSA9IEFuaW1hdGlvbi50d2VlbmVyc1twcm9wXSB8fCBbXTtcbiAgICAgICAgICAgICAgICAgICAgQW5pbWF0aW9uLnR3ZWVuZXJzW3Byb3BdLnVuc2hpZnQoY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwcmVmaWx0ZXJzOiBbZGVmYXVsdFByZWZpbHRlcl0sXG4gICAgICAgICAgICBwcmVmaWx0ZXI6IGZ1bmN0aW9uIChjYWxsYmFjaywgcHJlcGVuZCkge1xuICAgICAgICAgICAgICAgIGlmIChwcmVwZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIEFuaW1hdGlvbi5wcmVmaWx0ZXJzLnVuc2hpZnQoY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgQW5pbWF0aW9uLnByZWZpbHRlcnMucHVzaChjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgalF1ZXJ5LnNwZWVkID0gZnVuY3Rpb24gKHNwZWVkLCBlYXNpbmcsIGZuKSB7XG4gICAgICAgICAgICB2YXIgb3B0ID0gc3BlZWQgJiYgdHlwZW9mIHNwZWVkID09PSBcIm9iamVjdFwiID8galF1ZXJ5LmV4dGVuZCh7fSwgc3BlZWQpIDoge1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmbiB8fCAhZm4gJiYgZWFzaW5nIHx8XG4gICAgICAgICAgICAgICAgICAgIGlzRnVuY3Rpb24oc3BlZWQpICYmIHNwZWVkLFxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBzcGVlZCxcbiAgICAgICAgICAgICAgICBlYXNpbmc6IGZuICYmIGVhc2luZyB8fCBlYXNpbmcgJiYgIWlzRnVuY3Rpb24oZWFzaW5nKSAmJiBlYXNpbmdcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBHbyB0byB0aGUgZW5kIHN0YXRlIGlmIGZ4IGFyZSBvZmZcbiAgICAgICAgICAgIGlmIChqUXVlcnkuZngub2ZmKSB7XG4gICAgICAgICAgICAgICAgb3B0LmR1cmF0aW9uID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0LmR1cmF0aW9uICE9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHQuZHVyYXRpb24gaW4galF1ZXJ5LmZ4LnNwZWVkcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0LmR1cmF0aW9uID0galF1ZXJ5LmZ4LnNwZWVkc1tvcHQuZHVyYXRpb25dO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0LmR1cmF0aW9uID0galF1ZXJ5LmZ4LnNwZWVkcy5fZGVmYXVsdDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE5vcm1hbGl6ZSBvcHQucXVldWUgLSB0cnVlL3VuZGVmaW5lZC9udWxsIC0+IFwiZnhcIlxuICAgICAgICAgICAgaWYgKG9wdC5xdWV1ZSA9PSBudWxsIHx8IG9wdC5xdWV1ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIG9wdC5xdWV1ZSA9IFwiZnhcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFF1ZXVlaW5nXG4gICAgICAgICAgICBvcHQub2xkID0gb3B0LmNvbXBsZXRlO1xuICAgICAgICAgICAgb3B0LmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKG9wdC5vbGQpKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wdC5vbGQuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG9wdC5xdWV1ZSkge1xuICAgICAgICAgICAgICAgICAgICBqUXVlcnkuZGVxdWV1ZSh0aGlzLCBvcHQucXVldWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gb3B0O1xuICAgICAgICB9O1xuICAgICAgICBqUXVlcnkuZm4uZXh0ZW5kKHtcbiAgICAgICAgICAgIGZhZGVUbzogZnVuY3Rpb24gKHNwZWVkLCB0bywgZWFzaW5nLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIC8vIFNob3cgYW55IGhpZGRlbiBlbGVtZW50cyBhZnRlciBzZXR0aW5nIG9wYWNpdHkgdG8gMFxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZpbHRlcihpc0hpZGRlbldpdGhpblRyZWUpLmNzcyhcIm9wYWNpdHlcIiwgMCkuc2hvdygpXG4gICAgICAgICAgICAgICAgICAgIC8vIEFuaW1hdGUgdG8gdGhlIHZhbHVlIHNwZWNpZmllZFxuICAgICAgICAgICAgICAgICAgICAuZW5kKCkuYW5pbWF0ZSh7IG9wYWNpdHk6IHRvIH0sIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhbmltYXRlOiBmdW5jdGlvbiAocHJvcCwgc3BlZWQsIGVhc2luZywgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICB2YXIgZW1wdHkgPSBqUXVlcnkuaXNFbXB0eU9iamVjdChwcm9wKSwgb3B0YWxsID0galF1ZXJ5LnNwZWVkKHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrKSwgZG9BbmltYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE9wZXJhdGUgb24gYSBjb3B5IG9mIHByb3Agc28gcGVyLXByb3BlcnR5IGVhc2luZyB3b24ndCBiZSBsb3N0XG4gICAgICAgICAgICAgICAgICAgIHZhciBhbmltID0gQW5pbWF0aW9uKHRoaXMsIGpRdWVyeS5leHRlbmQoe30sIHByb3ApLCBvcHRhbGwpO1xuICAgICAgICAgICAgICAgICAgICAvLyBFbXB0eSBhbmltYXRpb25zLCBvciBmaW5pc2hpbmcgcmVzb2x2ZXMgaW1tZWRpYXRlbHlcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVtcHR5IHx8IGRhdGFQcml2LmdldCh0aGlzLCBcImZpbmlzaFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbS5zdG9wKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBkb0FuaW1hdGlvbi5maW5pc2ggPSBkb0FuaW1hdGlvbjtcbiAgICAgICAgICAgICAgICByZXR1cm4gZW1wdHkgfHwgb3B0YWxsLnF1ZXVlID09PSBmYWxzZSA/XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWFjaChkb0FuaW1hdGlvbikgOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnF1ZXVlKG9wdGFsbC5xdWV1ZSwgZG9BbmltYXRpb24pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN0b3A6IGZ1bmN0aW9uICh0eXBlLCBjbGVhclF1ZXVlLCBnb3RvRW5kKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0b3BRdWV1ZSA9IGZ1bmN0aW9uIChob29rcykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RvcCA9IGhvb2tzLnN0b3A7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBob29rcy5zdG9wO1xuICAgICAgICAgICAgICAgICAgICBzdG9wKGdvdG9FbmQpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0eXBlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIGdvdG9FbmQgPSBjbGVhclF1ZXVlO1xuICAgICAgICAgICAgICAgICAgICBjbGVhclF1ZXVlID0gdHlwZTtcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNsZWFyUXVldWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5xdWV1ZSh0eXBlIHx8IFwiZnhcIiwgW10pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRlcXVldWUgPSB0cnVlLCBpbmRleCA9IHR5cGUgIT0gbnVsbCAmJiB0eXBlICsgXCJxdWV1ZUhvb2tzXCIsIHRpbWVycyA9IGpRdWVyeS50aW1lcnMsIGRhdGEgPSBkYXRhUHJpdi5nZXQodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFbaW5kZXhdICYmIGRhdGFbaW5kZXhdLnN0b3ApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9wUXVldWUoZGF0YVtpbmRleF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpbmRleCBpbiBkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFbaW5kZXhdICYmIGRhdGFbaW5kZXhdLnN0b3AgJiYgcnJ1bi50ZXN0KGluZGV4KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9wUXVldWUoZGF0YVtpbmRleF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmb3IgKGluZGV4ID0gdGltZXJzLmxlbmd0aDsgaW5kZXgtLTspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aW1lcnNbaW5kZXhdLmVsZW0gPT09IHRoaXMgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAodHlwZSA9PSBudWxsIHx8IHRpbWVyc1tpbmRleF0ucXVldWUgPT09IHR5cGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZXJzW2luZGV4XS5hbmltLnN0b3AoZ290b0VuZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVxdWV1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFN0YXJ0IHRoZSBuZXh0IGluIHRoZSBxdWV1ZSBpZiB0aGUgbGFzdCBzdGVwIHdhc24ndCBmb3JjZWQuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRpbWVycyBjdXJyZW50bHkgd2lsbCBjYWxsIHRoZWlyIGNvbXBsZXRlIGNhbGxiYWNrcywgd2hpY2hcbiAgICAgICAgICAgICAgICAgICAgLy8gd2lsbCBkZXF1ZXVlIGJ1dCBvbmx5IGlmIHRoZXkgd2VyZSBnb3RvRW5kLlxuICAgICAgICAgICAgICAgICAgICBpZiAoZGVxdWV1ZSB8fCAhZ290b0VuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmRlcXVldWUodGhpcywgdHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmaW5pc2g6IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSB0eXBlIHx8IFwiZnhcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCwgZGF0YSA9IGRhdGFQcml2LmdldCh0aGlzKSwgcXVldWUgPSBkYXRhW3R5cGUgKyBcInF1ZXVlXCJdLCBob29rcyA9IGRhdGFbdHlwZSArIFwicXVldWVIb29rc1wiXSwgdGltZXJzID0galF1ZXJ5LnRpbWVycywgbGVuZ3RoID0gcXVldWUgPyBxdWV1ZS5sZW5ndGggOiAwO1xuICAgICAgICAgICAgICAgICAgICAvLyBFbmFibGUgZmluaXNoaW5nIGZsYWcgb24gcHJpdmF0ZSBkYXRhXG4gICAgICAgICAgICAgICAgICAgIGRhdGEuZmluaXNoID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gRW1wdHkgdGhlIHF1ZXVlIGZpcnN0XG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeS5xdWV1ZSh0aGlzLCB0eXBlLCBbXSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChob29rcyAmJiBob29rcy5zdG9wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBob29rcy5zdG9wLmNhbGwodGhpcywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gTG9vayBmb3IgYW55IGFjdGl2ZSBhbmltYXRpb25zLCBhbmQgZmluaXNoIHRoZW1cbiAgICAgICAgICAgICAgICAgICAgZm9yIChpbmRleCA9IHRpbWVycy5sZW5ndGg7IGluZGV4LS07KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGltZXJzW2luZGV4XS5lbGVtID09PSB0aGlzICYmIHRpbWVyc1tpbmRleF0ucXVldWUgPT09IHR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lcnNbaW5kZXhdLmFuaW0uc3RvcCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBMb29rIGZvciBhbnkgYW5pbWF0aW9ucyBpbiB0aGUgb2xkIHF1ZXVlIGFuZCBmaW5pc2ggdGhlbVxuICAgICAgICAgICAgICAgICAgICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChxdWV1ZVtpbmRleF0gJiYgcXVldWVbaW5kZXhdLmZpbmlzaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXVlW2luZGV4XS5maW5pc2guY2FsbCh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBUdXJuIG9mZiBmaW5pc2hpbmcgZmxhZ1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgZGF0YS5maW5pc2g7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBqUXVlcnkuZWFjaChbXCJ0b2dnbGVcIiwgXCJzaG93XCIsIFwiaGlkZVwiXSwgZnVuY3Rpb24gKF9pLCBuYW1lKSB7XG4gICAgICAgICAgICB2YXIgY3NzRm4gPSBqUXVlcnkuZm5bbmFtZV07XG4gICAgICAgICAgICBqUXVlcnkuZm5bbmFtZV0gPSBmdW5jdGlvbiAoc3BlZWQsIGVhc2luZywgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3BlZWQgPT0gbnVsbCB8fCB0eXBlb2Ygc3BlZWQgPT09IFwiYm9vbGVhblwiID9cbiAgICAgICAgICAgICAgICAgICAgY3NzRm4uYXBwbHkodGhpcywgYXJndW1lbnRzKSA6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0ZShnZW5GeChuYW1lLCB0cnVlKSwgc3BlZWQsIGVhc2luZywgY2FsbGJhY2spO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIEdlbmVyYXRlIHNob3J0Y3V0cyBmb3IgY3VzdG9tIGFuaW1hdGlvbnNcbiAgICAgICAgalF1ZXJ5LmVhY2goe1xuICAgICAgICAgICAgc2xpZGVEb3duOiBnZW5GeChcInNob3dcIiksXG4gICAgICAgICAgICBzbGlkZVVwOiBnZW5GeChcImhpZGVcIiksXG4gICAgICAgICAgICBzbGlkZVRvZ2dsZTogZ2VuRngoXCJ0b2dnbGVcIiksXG4gICAgICAgICAgICBmYWRlSW46IHsgb3BhY2l0eTogXCJzaG93XCIgfSxcbiAgICAgICAgICAgIGZhZGVPdXQ6IHsgb3BhY2l0eTogXCJoaWRlXCIgfSxcbiAgICAgICAgICAgIGZhZGVUb2dnbGU6IHsgb3BhY2l0eTogXCJ0b2dnbGVcIiB9XG4gICAgICAgIH0sIGZ1bmN0aW9uIChuYW1lLCBwcm9wcykge1xuICAgICAgICAgICAgalF1ZXJ5LmZuW25hbWVdID0gZnVuY3Rpb24gKHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYW5pbWF0ZShwcm9wcywgc3BlZWQsIGVhc2luZywgY2FsbGJhY2spO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIGpRdWVyeS50aW1lcnMgPSBbXTtcbiAgICAgICAgalF1ZXJ5LmZ4LnRpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdGltZXIsIGkgPSAwLCB0aW1lcnMgPSBqUXVlcnkudGltZXJzO1xuICAgICAgICAgICAgZnhOb3cgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgZm9yICg7IGkgPCB0aW1lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aW1lciA9IHRpbWVyc1tpXTtcbiAgICAgICAgICAgICAgICAvLyBSdW4gdGhlIHRpbWVyIGFuZCBzYWZlbHkgcmVtb3ZlIGl0IHdoZW4gZG9uZSAoYWxsb3dpbmcgZm9yIGV4dGVybmFsIHJlbW92YWwpXG4gICAgICAgICAgICAgICAgaWYgKCF0aW1lcigpICYmIHRpbWVyc1tpXSA9PT0gdGltZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGltZXJzLnNwbGljZShpLS0sIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGltZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGpRdWVyeS5meC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmeE5vdyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfTtcbiAgICAgICAgalF1ZXJ5LmZ4LnRpbWVyID0gZnVuY3Rpb24gKHRpbWVyKSB7XG4gICAgICAgICAgICBqUXVlcnkudGltZXJzLnB1c2godGltZXIpO1xuICAgICAgICAgICAgalF1ZXJ5LmZ4LnN0YXJ0KCk7XG4gICAgICAgIH07XG4gICAgICAgIGpRdWVyeS5meC5pbnRlcnZhbCA9IDEzO1xuICAgICAgICBqUXVlcnkuZnguc3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoaW5Qcm9ncmVzcykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgICAgICAgICAgc2NoZWR1bGUoKTtcbiAgICAgICAgfTtcbiAgICAgICAgalF1ZXJ5LmZ4LnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpblByb2dyZXNzID0gbnVsbDtcbiAgICAgICAgfTtcbiAgICAgICAgalF1ZXJ5LmZ4LnNwZWVkcyA9IHtcbiAgICAgICAgICAgIHNsb3c6IDYwMCxcbiAgICAgICAgICAgIGZhc3Q6IDIwMCxcbiAgICAgICAgICAgIC8vIERlZmF1bHQgc3BlZWRcbiAgICAgICAgICAgIF9kZWZhdWx0OiA0MDBcbiAgICAgICAgfTtcbiAgICAgICAgLy8gQmFzZWQgb2ZmIG9mIHRoZSBwbHVnaW4gYnkgQ2xpbnQgSGVsZmVycywgd2l0aCBwZXJtaXNzaW9uLlxuICAgICAgICBqUXVlcnkuZm4uZGVsYXkgPSBmdW5jdGlvbiAodGltZSwgdHlwZSkge1xuICAgICAgICAgICAgdGltZSA9IGpRdWVyeS5meCA/IGpRdWVyeS5meC5zcGVlZHNbdGltZV0gfHwgdGltZSA6IHRpbWU7XG4gICAgICAgICAgICB0eXBlID0gdHlwZSB8fCBcImZ4XCI7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5xdWV1ZSh0eXBlLCBmdW5jdGlvbiAobmV4dCwgaG9va3MpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KG5leHQsIHRpbWUpO1xuICAgICAgICAgICAgICAgIGhvb2tzLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpLCBzZWxlY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpLCBvcHQgPSBzZWxlY3QuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKSk7XG4gICAgICAgICAgICBpbnB1dC50eXBlID0gXCJjaGVja2JveFwiO1xuICAgICAgICAgICAgLy8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMyBvbmx5XG4gICAgICAgICAgICAvLyBEZWZhdWx0IHZhbHVlIGZvciBhIGNoZWNrYm94IHNob3VsZCBiZSBcIm9uXCJcbiAgICAgICAgICAgIHN1cHBvcnQuY2hlY2tPbiA9IGlucHV0LnZhbHVlICE9PSBcIlwiO1xuICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG4gICAgICAgICAgICAvLyBNdXN0IGFjY2VzcyBzZWxlY3RlZEluZGV4IHRvIG1ha2UgZGVmYXVsdCBvcHRpb25zIHNlbGVjdFxuICAgICAgICAgICAgc3VwcG9ydC5vcHRTZWxlY3RlZCA9IG9wdC5zZWxlY3RlZDtcbiAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDw9MTEgb25seVxuICAgICAgICAgICAgLy8gQW4gaW5wdXQgbG9zZXMgaXRzIHZhbHVlIGFmdGVyIGJlY29taW5nIGEgcmFkaW9cbiAgICAgICAgICAgIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgICAgICAgaW5wdXQudmFsdWUgPSBcInRcIjtcbiAgICAgICAgICAgIGlucHV0LnR5cGUgPSBcInJhZGlvXCI7XG4gICAgICAgICAgICBzdXBwb3J0LnJhZGlvVmFsdWUgPSBpbnB1dC52YWx1ZSA9PT0gXCJ0XCI7XG4gICAgICAgIH0pKCk7XG4gICAgICAgIHZhciBib29sSG9vaywgYXR0ckhhbmRsZSA9IGpRdWVyeS5leHByLmF0dHJIYW5kbGU7XG4gICAgICAgIGpRdWVyeS5mbi5leHRlbmQoe1xuICAgICAgICAgICAgYXR0cjogZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjY2Vzcyh0aGlzLCBqUXVlcnkuYXR0ciwgbmFtZSwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZW1vdmVBdHRyOiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBqUXVlcnkucmVtb3ZlQXR0cih0aGlzLCBuYW1lKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGpRdWVyeS5leHRlbmQoe1xuICAgICAgICAgICAgYXR0cjogZnVuY3Rpb24gKGVsZW0sIG5hbWUsIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJldCwgaG9va3MsIG5UeXBlID0gZWxlbS5ub2RlVHlwZTtcbiAgICAgICAgICAgICAgICAvLyBEb24ndCBnZXQvc2V0IGF0dHJpYnV0ZXMgb24gdGV4dCwgY29tbWVudCBhbmQgYXR0cmlidXRlIG5vZGVzXG4gICAgICAgICAgICAgICAgaWYgKG5UeXBlID09PSAzIHx8IG5UeXBlID09PSA4IHx8IG5UeXBlID09PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gRmFsbGJhY2sgdG8gcHJvcCB3aGVuIGF0dHJpYnV0ZXMgYXJlIG5vdCBzdXBwb3J0ZWRcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGVsZW0uZ2V0QXR0cmlidXRlID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBqUXVlcnkucHJvcChlbGVtLCBuYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEF0dHJpYnV0ZSBob29rcyBhcmUgZGV0ZXJtaW5lZCBieSB0aGUgbG93ZXJjYXNlIHZlcnNpb25cbiAgICAgICAgICAgICAgICAvLyBHcmFiIG5lY2Vzc2FyeSBob29rIGlmIG9uZSBpcyBkZWZpbmVkXG4gICAgICAgICAgICAgICAgaWYgKG5UeXBlICE9PSAxIHx8ICFqUXVlcnkuaXNYTUxEb2MoZWxlbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaG9va3MgPSBqUXVlcnkuYXR0ckhvb2tzW25hbWUudG9Mb3dlckNhc2UoKV0gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIChqUXVlcnkuZXhwci5tYXRjaC5ib29sLnRlc3QobmFtZSkgPyBib29sSG9vayA6IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LnJlbW92ZUF0dHIoZWxlbSwgbmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGhvb2tzICYmIFwic2V0XCIgaW4gaG9va3MgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIChyZXQgPSBob29rcy5zZXQoZWxlbSwgdmFsdWUsIG5hbWUpKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsZW0uc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlICsgXCJcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGhvb2tzICYmIFwiZ2V0XCIgaW4gaG9va3MgJiYgKHJldCA9IGhvb2tzLmdldChlbGVtLCBuYW1lKSkgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0ID0galF1ZXJ5LmZpbmQuYXR0cihlbGVtLCBuYW1lKTtcbiAgICAgICAgICAgICAgICAvLyBOb24tZXhpc3RlbnQgYXR0cmlidXRlcyByZXR1cm4gbnVsbCwgd2Ugbm9ybWFsaXplIHRvIHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgIHJldHVybiByZXQgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IHJldDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhdHRySG9va3M6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiB7XG4gICAgICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGVsZW0sIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN1cHBvcnQucmFkaW9WYWx1ZSAmJiB2YWx1ZSA9PT0gXCJyYWRpb1wiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZU5hbWUoZWxlbSwgXCJpbnB1dFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWwgPSBlbGVtLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0uc2V0QXR0cmlidXRlKFwidHlwZVwiLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtLnZhbHVlID0gdmFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVtb3ZlQXR0cjogZnVuY3Rpb24gKGVsZW0sIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5hbWUsIGkgPSAwLCBcbiAgICAgICAgICAgICAgICAvLyBBdHRyaWJ1dGUgbmFtZXMgY2FuIGNvbnRhaW4gbm9uLUhUTUwgd2hpdGVzcGFjZSBjaGFyYWN0ZXJzXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjYXR0cmlidXRlcy0yXG4gICAgICAgICAgICAgICAgYXR0ck5hbWVzID0gdmFsdWUgJiYgdmFsdWUubWF0Y2gocm5vdGh0bWx3aGl0ZSk7XG4gICAgICAgICAgICAgICAgaWYgKGF0dHJOYW1lcyAmJiBlbGVtLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICgobmFtZSA9IGF0dHJOYW1lc1tpKytdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBIb29rcyBmb3IgYm9vbGVhbiBhdHRyaWJ1dGVzXG4gICAgICAgIGJvb2xIb29rID0ge1xuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoZWxlbSwgdmFsdWUsIG5hbWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBib29sZWFuIGF0dHJpYnV0ZXMgd2hlbiBzZXQgdG8gZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LnJlbW92ZUF0dHIoZWxlbSwgbmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlbGVtLnNldEF0dHJpYnV0ZShuYW1lLCBuYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGpRdWVyeS5lYWNoKGpRdWVyeS5leHByLm1hdGNoLmJvb2wuc291cmNlLm1hdGNoKC9cXHcrL2cpLCBmdW5jdGlvbiAoX2ksIG5hbWUpIHtcbiAgICAgICAgICAgIHZhciBnZXR0ZXIgPSBhdHRySGFuZGxlW25hbWVdIHx8IGpRdWVyeS5maW5kLmF0dHI7XG4gICAgICAgICAgICBhdHRySGFuZGxlW25hbWVdID0gZnVuY3Rpb24gKGVsZW0sIG5hbWUsIGlzWE1MKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJldCwgaGFuZGxlLCBsb3dlcmNhc2VOYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIGlmICghaXNYTUwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQXZvaWQgYW4gaW5maW5pdGUgbG9vcCBieSB0ZW1wb3JhcmlseSByZW1vdmluZyB0aGlzIGZ1bmN0aW9uIGZyb20gdGhlIGdldHRlclxuICAgICAgICAgICAgICAgICAgICBoYW5kbGUgPSBhdHRySGFuZGxlW2xvd2VyY2FzZU5hbWVdO1xuICAgICAgICAgICAgICAgICAgICBhdHRySGFuZGxlW2xvd2VyY2FzZU5hbWVdID0gcmV0O1xuICAgICAgICAgICAgICAgICAgICByZXQgPSBnZXR0ZXIoZWxlbSwgbmFtZSwgaXNYTUwpICE9IG51bGwgP1xuICAgICAgICAgICAgICAgICAgICAgICAgbG93ZXJjYXNlTmFtZSA6XG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsO1xuICAgICAgICAgICAgICAgICAgICBhdHRySGFuZGxlW2xvd2VyY2FzZU5hbWVdID0gaGFuZGxlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciByZm9jdXNhYmxlID0gL14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSwgcmNsaWNrYWJsZSA9IC9eKD86YXxhcmVhKSQvaTtcbiAgICAgICAgalF1ZXJ5LmZuLmV4dGVuZCh7XG4gICAgICAgICAgICBwcm9wOiBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjZXNzKHRoaXMsIGpRdWVyeS5wcm9wLCBuYW1lLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCA+IDEpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlbW92ZVByb3A6IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzW2pRdWVyeS5wcm9wRml4W25hbWVdIHx8IG5hbWVdO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgalF1ZXJ5LmV4dGVuZCh7XG4gICAgICAgICAgICBwcm9wOiBmdW5jdGlvbiAoZWxlbSwgbmFtZSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmV0LCBob29rcywgblR5cGUgPSBlbGVtLm5vZGVUeXBlO1xuICAgICAgICAgICAgICAgIC8vIERvbid0IGdldC9zZXQgcHJvcGVydGllcyBvbiB0ZXh0LCBjb21tZW50IGFuZCBhdHRyaWJ1dGUgbm9kZXNcbiAgICAgICAgICAgICAgICBpZiAoblR5cGUgPT09IDMgfHwgblR5cGUgPT09IDggfHwgblR5cGUgPT09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoblR5cGUgIT09IDEgfHwgIWpRdWVyeS5pc1hNTERvYyhlbGVtKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBGaXggbmFtZSBhbmQgYXR0YWNoIGhvb2tzXG4gICAgICAgICAgICAgICAgICAgIG5hbWUgPSBqUXVlcnkucHJvcEZpeFtuYW1lXSB8fCBuYW1lO1xuICAgICAgICAgICAgICAgICAgICBob29rcyA9IGpRdWVyeS5wcm9wSG9va3NbbmFtZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChob29rcyAmJiBcInNldFwiIGluIGhvb2tzICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAocmV0ID0gaG9va3Muc2V0KGVsZW0sIHZhbHVlLCBuYW1lKSkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGVsZW1bbmFtZV0gPSB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChob29rcyAmJiBcImdldFwiIGluIGhvb2tzICYmIChyZXQgPSBob29rcy5nZXQoZWxlbSwgbmFtZSkpICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBlbGVtW25hbWVdO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHByb3BIb29rczoge1xuICAgICAgICAgICAgICAgIHRhYkluZGV4OiB7XG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExIG9ubHlcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVsZW0udGFiSW5kZXggZG9lc24ndCBhbHdheXMgcmV0dXJuIHRoZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29ycmVjdCB2YWx1ZSB3aGVuIGl0IGhhc24ndCBiZWVuIGV4cGxpY2l0bHkgc2V0XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVc2UgcHJvcGVyIGF0dHJpYnV0ZSByZXRyaWV2YWwgKHRyYWMtMTIwNzIpXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFiaW5kZXggPSBqUXVlcnkuZmluZC5hdHRyKGVsZW0sIFwidGFiaW5kZXhcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFiaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQodGFiaW5kZXgsIDEwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZm9jdXNhYmxlLnRlc3QoZWxlbS5ub2RlTmFtZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByY2xpY2thYmxlLnRlc3QoZWxlbS5ub2RlTmFtZSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5ocmVmKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcHJvcEZpeDoge1xuICAgICAgICAgICAgICAgIFwiZm9yXCI6IFwiaHRtbEZvclwiLFxuICAgICAgICAgICAgICAgIFwiY2xhc3NcIjogXCJjbGFzc05hbWVcIlxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG4gICAgICAgIC8vIEFjY2Vzc2luZyB0aGUgc2VsZWN0ZWRJbmRleCBwcm9wZXJ0eVxuICAgICAgICAvLyBmb3JjZXMgdGhlIGJyb3dzZXIgdG8gcmVzcGVjdCBzZXR0aW5nIHNlbGVjdGVkXG4gICAgICAgIC8vIG9uIHRoZSBvcHRpb25cbiAgICAgICAgLy8gVGhlIGdldHRlciBlbnN1cmVzIGEgZGVmYXVsdCBvcHRpb24gaXMgc2VsZWN0ZWRcbiAgICAgICAgLy8gd2hlbiBpbiBhbiBvcHRncm91cFxuICAgICAgICAvLyBlc2xpbnQgcnVsZSBcIm5vLXVudXNlZC1leHByZXNzaW9uc1wiIGlzIGRpc2FibGVkIGZvciB0aGlzIGNvZGVcbiAgICAgICAgLy8gc2luY2UgaXQgY29uc2lkZXJzIHN1Y2ggYWNjZXNzaW9ucyBub29wXG4gICAgICAgIGlmICghc3VwcG9ydC5vcHRTZWxlY3RlZCkge1xuICAgICAgICAgICAgalF1ZXJ5LnByb3BIb29rcy5zZWxlY3RlZCA9IHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qIGVzbGludCBuby11bnVzZWQtZXhwcmVzc2lvbnM6IFwib2ZmXCIgKi9cbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudCA9IGVsZW0ucGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudCAmJiBwYXJlbnQucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgLyogZXNsaW50IG5vLXVudXNlZC1leHByZXNzaW9uczogXCJvZmZcIiAqL1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQuc2VsZWN0ZWRJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnQucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudC5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGpRdWVyeS5lYWNoKFtcbiAgICAgICAgICAgIFwidGFiSW5kZXhcIixcbiAgICAgICAgICAgIFwicmVhZE9ubHlcIixcbiAgICAgICAgICAgIFwibWF4TGVuZ3RoXCIsXG4gICAgICAgICAgICBcImNlbGxTcGFjaW5nXCIsXG4gICAgICAgICAgICBcImNlbGxQYWRkaW5nXCIsXG4gICAgICAgICAgICBcInJvd1NwYW5cIixcbiAgICAgICAgICAgIFwiY29sU3BhblwiLFxuICAgICAgICAgICAgXCJ1c2VNYXBcIixcbiAgICAgICAgICAgIFwiZnJhbWVCb3JkZXJcIixcbiAgICAgICAgICAgIFwiY29udGVudEVkaXRhYmxlXCJcbiAgICAgICAgXSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgalF1ZXJ5LnByb3BGaXhbdGhpcy50b0xvd2VyQ2FzZSgpXSA9IHRoaXM7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBTdHJpcCBhbmQgY29sbGFwc2Ugd2hpdGVzcGFjZSBhY2NvcmRpbmcgdG8gSFRNTCBzcGVjXG4gICAgICAgIC8vIGh0dHBzOi8vaW5mcmEuc3BlYy53aGF0d2cub3JnLyNzdHJpcC1hbmQtY29sbGFwc2UtYXNjaWktd2hpdGVzcGFjZVxuICAgICAgICBmdW5jdGlvbiBzdHJpcEFuZENvbGxhcHNlKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgdG9rZW5zID0gdmFsdWUubWF0Y2gocm5vdGh0bWx3aGl0ZSkgfHwgW107XG4gICAgICAgICAgICByZXR1cm4gdG9rZW5zLmpvaW4oXCIgXCIpO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGdldENsYXNzKGVsZW0pIHtcbiAgICAgICAgICAgIHJldHVybiBlbGVtLmdldEF0dHJpYnV0ZSAmJiBlbGVtLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpIHx8IFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gY2xhc3Nlc1RvQXJyYXkodmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUubWF0Y2gocm5vdGh0bWx3aGl0ZSkgfHwgW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgalF1ZXJ5LmZuLmV4dGVuZCh7XG4gICAgICAgICAgICBhZGRDbGFzczogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNsYXNzTmFtZXMsIGN1ciwgY3VyVmFsdWUsIGNsYXNzTmFtZSwgaSwgZmluYWxWYWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoaikge1xuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KHRoaXMpLmFkZENsYXNzKHZhbHVlLmNhbGwodGhpcywgaiwgZ2V0Q2xhc3ModGhpcykpKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZXMgPSBjbGFzc2VzVG9BcnJheSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKGNsYXNzTmFtZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VyVmFsdWUgPSBnZXRDbGFzcyh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ciA9IHRoaXMubm9kZVR5cGUgPT09IDEgJiYgKFwiIFwiICsgc3RyaXBBbmRDb2xsYXBzZShjdXJWYWx1ZSkgKyBcIiBcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGNsYXNzTmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gY2xhc3NOYW1lc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1ci5pbmRleE9mKFwiIFwiICsgY2xhc3NOYW1lICsgXCIgXCIpIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyICs9IGNsYXNzTmFtZSArIFwiIFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgYXNzaWduIGlmIGRpZmZlcmVudCB0byBhdm9pZCB1bm5lZWRlZCByZW5kZXJpbmcuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxWYWx1ZSA9IHN0cmlwQW5kQ29sbGFwc2UoY3VyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyVmFsdWUgIT09IGZpbmFsVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBmaW5hbFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZW1vdmVDbGFzczogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNsYXNzTmFtZXMsIGN1ciwgY3VyVmFsdWUsIGNsYXNzTmFtZSwgaSwgZmluYWxWYWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoaikge1xuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KHRoaXMpLnJlbW92ZUNsYXNzKHZhbHVlLmNhbGwodGhpcywgaiwgZ2V0Q2xhc3ModGhpcykpKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hdHRyKFwiY2xhc3NcIiwgXCJcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZXMgPSBjbGFzc2VzVG9BcnJheSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKGNsYXNzTmFtZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VyVmFsdWUgPSBnZXRDbGFzcyh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgZXhwcmVzc2lvbiBpcyBoZXJlIGZvciBiZXR0ZXIgY29tcHJlc3NpYmlsaXR5IChzZWUgYWRkQ2xhc3MpXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXIgPSB0aGlzLm5vZGVUeXBlID09PSAxICYmIChcIiBcIiArIHN0cmlwQW5kQ29sbGFwc2UoY3VyVmFsdWUpICsgXCIgXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBjbGFzc05hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA9IGNsYXNzTmFtZXNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSAqYWxsKiBpbnN0YW5jZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGN1ci5pbmRleE9mKFwiIFwiICsgY2xhc3NOYW1lICsgXCIgXCIpID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ciA9IGN1ci5yZXBsYWNlKFwiIFwiICsgY2xhc3NOYW1lICsgXCIgXCIsIFwiIFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IGFzc2lnbiBpZiBkaWZmZXJlbnQgdG8gYXZvaWQgdW5uZWVkZWQgcmVuZGVyaW5nLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsVmFsdWUgPSBzdHJpcEFuZENvbGxhcHNlKGN1cik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1clZhbHVlICE9PSBmaW5hbFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgZmluYWxWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdG9nZ2xlQ2xhc3M6IGZ1bmN0aW9uICh2YWx1ZSwgc3RhdGVWYWwpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2xhc3NOYW1lcywgY2xhc3NOYW1lLCBpLCBzZWxmLCB0eXBlID0gdHlwZW9mIHZhbHVlLCBpc1ZhbGlkVmFsdWUgPSB0eXBlID09PSBcInN0cmluZ1wiIHx8IEFycmF5LmlzQXJyYXkodmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkodGhpcykudG9nZ2xlQ2xhc3ModmFsdWUuY2FsbCh0aGlzLCBpLCBnZXRDbGFzcyh0aGlzKSwgc3RhdGVWYWwpLCBzdGF0ZVZhbCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHN0YXRlVmFsID09PSBcImJvb2xlYW5cIiAmJiBpc1ZhbGlkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlVmFsID8gdGhpcy5hZGRDbGFzcyh2YWx1ZSkgOiB0aGlzLnJlbW92ZUNsYXNzKHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lcyA9IGNsYXNzZXNUb0FycmF5KHZhbHVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzVmFsaWRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVG9nZ2xlIGluZGl2aWR1YWwgY2xhc3MgbmFtZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYgPSBqUXVlcnkodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY2xhc3NOYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA9IGNsYXNzTmFtZXNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgZWFjaCBjbGFzc05hbWUgZ2l2ZW4sIHNwYWNlIHNlcGFyYXRlZCBsaXN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYuaGFzQ2xhc3MoY2xhc3NOYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnJlbW92ZUNsYXNzKGNsYXNzTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmFkZENsYXNzKGNsYXNzTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVG9nZ2xlIHdob2xlIGNsYXNzIG5hbWVcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHR5cGUgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWUgPSBnZXRDbGFzcyh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjbGFzc05hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdG9yZSBjbGFzc05hbWUgaWYgc2V0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVByaXYuc2V0KHRoaXMsIFwiX19jbGFzc05hbWVfX1wiLCBjbGFzc05hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGVsZW1lbnQgaGFzIGEgY2xhc3MgbmFtZSBvciBpZiB3ZSdyZSBwYXNzZWQgYGZhbHNlYCxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZW4gcmVtb3ZlIHRoZSB3aG9sZSBjbGFzc25hbWUgKGlmIHRoZXJlIHdhcyBvbmUsIHRoZSBhYm92ZSBzYXZlZCBpdCkuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2UgYnJpbmcgYmFjayB3aGF0ZXZlciB3YXMgcHJldmlvdXNseSBzYXZlZCAoaWYgYW55dGhpbmcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmFsbGluZyBiYWNrIHRvIHRoZSBlbXB0eSBzdHJpbmcgaWYgbm90aGluZyB3YXMgc3RvcmVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2V0QXR0cmlidXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBjbGFzc05hbWUgfHwgdmFsdWUgPT09IGZhbHNlID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIiA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFQcml2LmdldCh0aGlzLCBcIl9fY2xhc3NOYW1lX19cIikgfHwgXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBoYXNDbGFzczogZnVuY3Rpb24gKHNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNsYXNzTmFtZSwgZWxlbSwgaSA9IDA7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gXCIgXCIgKyBzZWxlY3RvciArIFwiIFwiO1xuICAgICAgICAgICAgICAgIHdoaWxlICgoZWxlbSA9IHRoaXNbaSsrXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW0ubm9kZVR5cGUgPT09IDEgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIChcIiBcIiArIHN0cmlwQW5kQ29sbGFwc2UoZ2V0Q2xhc3MoZWxlbSkpICsgXCIgXCIpLmluZGV4T2YoY2xhc3NOYW1lKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgcnJldHVybiA9IC9cXHIvZztcbiAgICAgICAgalF1ZXJ5LmZuLmV4dGVuZCh7XG4gICAgICAgICAgICB2YWw6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHZhciBob29rcywgcmV0LCB2YWx1ZUlzRnVuY3Rpb24sIGVsZW0gPSB0aGlzWzBdO1xuICAgICAgICAgICAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaG9va3MgPSBqUXVlcnkudmFsSG9va3NbZWxlbS50eXBlXSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS52YWxIb29rc1tlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhvb2tzICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJnZXRcIiBpbiBob29rcyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChyZXQgPSBob29rcy5nZXQoZWxlbSwgXCJ2YWx1ZVwiKSkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXQgPSBlbGVtLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSGFuZGxlIG1vc3QgY29tbW9uIHN0cmluZyBjYXNlc1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZXQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0LnJlcGxhY2UocnJldHVybiwgXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBIYW5kbGUgY2FzZXMgd2hlcmUgdmFsdWUgaXMgbnVsbC91bmRlZiBvciBudW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQgPT0gbnVsbCA/IFwiXCIgOiByZXQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YWx1ZUlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uKHZhbHVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWw7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm5vZGVUeXBlICE9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlSXNGdW5jdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsID0gdmFsdWUuY2FsbCh0aGlzLCBpLCBqUXVlcnkodGhpcykudmFsKCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gVHJlYXQgbnVsbC91bmRlZmluZWQgYXMgXCJcIjsgY29udmVydCBudW1iZXJzIHRvIHN0cmluZ1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsICs9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2YWwpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSBqUXVlcnkubWFwKHZhbCwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlID09IG51bGwgPyBcIlwiIDogdmFsdWUgKyBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaG9va3MgPSBqUXVlcnkudmFsSG9va3NbdGhpcy50eXBlXSB8fCBqUXVlcnkudmFsSG9va3NbdGhpcy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXTtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgc2V0IHJldHVybnMgdW5kZWZpbmVkLCBmYWxsIGJhY2sgdG8gbm9ybWFsIHNldHRpbmdcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFob29rcyB8fCAhKFwic2V0XCIgaW4gaG9va3MpIHx8IGhvb2tzLnNldCh0aGlzLCB2YWwsIFwidmFsdWVcIikgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHZhbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgalF1ZXJ5LmV4dGVuZCh7XG4gICAgICAgICAgICB2YWxIb29rczoge1xuICAgICAgICAgICAgICAgIG9wdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsID0galF1ZXJ5LmZpbmQuYXR0cihlbGVtLCBcInZhbHVlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbCAhPSBudWxsID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDw9MTAgLSAxMSBvbmx5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb3B0aW9uLnRleHQgdGhyb3dzIGV4Y2VwdGlvbnMgKHRyYWMtMTQ2ODYsIHRyYWMtMTQ4NTgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RyaXAgYW5kIGNvbGxhcHNlIHdoaXRlc3BhY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnLyNzdHJpcC1hbmQtY29sbGFwc2Utd2hpdGVzcGFjZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmlwQW5kQ29sbGFwc2UoalF1ZXJ5LnRleHQoZWxlbSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZWxlY3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlLCBvcHRpb24sIGksIG9wdGlvbnMgPSBlbGVtLm9wdGlvbnMsIGluZGV4ID0gZWxlbS5zZWxlY3RlZEluZGV4LCBvbmUgPSBlbGVtLnR5cGUgPT09IFwic2VsZWN0LW9uZVwiLCB2YWx1ZXMgPSBvbmUgPyBudWxsIDogW10sIG1heCA9IG9uZSA/IGluZGV4ICsgMSA6IG9wdGlvbnMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBtYXg7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gb25lID8gaW5kZXggOiAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGFsbCB0aGUgc2VsZWN0ZWQgb3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICg7IGkgPCBtYXg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbiA9IG9wdGlvbnNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgPD05IG9ubHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJRTgtOSBkb2Vzbid0IHVwZGF0ZSBzZWxlY3RlZCBhZnRlciBmb3JtIHJlc2V0ICh0cmFjLTI1NTEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChvcHRpb24uc2VsZWN0ZWQgfHwgaSA9PT0gaW5kZXgpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvbid0IHJldHVybiBvcHRpb25zIHRoYXQgYXJlIGRpc2FibGVkIG9yIGluIGEgZGlzYWJsZWQgb3B0Z3JvdXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIW9wdGlvbi5kaXNhYmxlZCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoIW9wdGlvbi5wYXJlbnROb2RlLmRpc2FibGVkIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhbm9kZU5hbWUob3B0aW9uLnBhcmVudE5vZGUsIFwib3B0Z3JvdXBcIikpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgc3BlY2lmaWMgdmFsdWUgZm9yIHRoZSBvcHRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBqUXVlcnkob3B0aW9uKS52YWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgZG9uJ3QgbmVlZCBhbiBhcnJheSBmb3Igb25lIHNlbGVjdHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9uZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE11bHRpLVNlbGVjdHMgcmV0dXJuIGFuIGFycmF5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlcy5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChlbGVtLCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9wdGlvblNldCwgb3B0aW9uLCBvcHRpb25zID0gZWxlbS5vcHRpb25zLCB2YWx1ZXMgPSBqUXVlcnkubWFrZUFycmF5KHZhbHVlKSwgaSA9IG9wdGlvbnMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbiA9IG9wdGlvbnNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uZC1hc3NpZ24gKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9uLnNlbGVjdGVkID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmluQXJyYXkoalF1ZXJ5LnZhbEhvb2tzLm9wdGlvbi5nZXQob3B0aW9uKSwgdmFsdWVzKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvblNldCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tY29uZC1hc3NpZ24gKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvcmNlIGJyb3dzZXJzIHRvIGJlaGF2ZSBjb25zaXN0ZW50bHkgd2hlbiBub24tbWF0Y2hpbmcgdmFsdWUgaXMgc2V0XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW9wdGlvblNldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0uc2VsZWN0ZWRJbmRleCA9IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFJhZGlvcyBhbmQgY2hlY2tib3hlcyBnZXR0ZXIvc2V0dGVyXG4gICAgICAgIGpRdWVyeS5lYWNoKFtcInJhZGlvXCIsIFwiY2hlY2tib3hcIl0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGpRdWVyeS52YWxIb29rc1t0aGlzXSA9IHtcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChlbGVtLCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoZWxlbS5jaGVja2VkID0galF1ZXJ5LmluQXJyYXkoalF1ZXJ5KGVsZW0pLnZhbCgpLCB2YWx1ZSkgPiAtMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKCFzdXBwb3J0LmNoZWNrT24pIHtcbiAgICAgICAgICAgICAgICBqUXVlcnkudmFsSG9va3NbdGhpc10uZ2V0ID0gZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlKFwidmFsdWVcIikgPT09IG51bGwgPyBcIm9uXCIgOiBlbGVtLnZhbHVlO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBSZXR1cm4galF1ZXJ5IGZvciBhdHRyaWJ1dGVzLW9ubHkgaW5jbHVzaW9uXG4gICAgICAgIHZhciBsb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbjtcbiAgICAgICAgdmFyIG5vbmNlID0geyBndWlkOiBEYXRlLm5vdygpIH07XG4gICAgICAgIHZhciBycXVlcnkgPSAoL1xcPy8pO1xuICAgICAgICAvLyBDcm9zcy1icm93c2VyIHhtbCBwYXJzaW5nXG4gICAgICAgIGpRdWVyeS5wYXJzZVhNTCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICB2YXIgeG1sLCBwYXJzZXJFcnJvckVsZW07XG4gICAgICAgICAgICBpZiAoIWRhdGEgfHwgdHlwZW9mIGRhdGEgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDkgLSAxMSBvbmx5XG4gICAgICAgICAgICAvLyBJRSB0aHJvd3Mgb24gcGFyc2VGcm9tU3RyaW5nIHdpdGggaW52YWxpZCBpbnB1dC5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgeG1sID0gKG5ldyB3aW5kb3cuRE9NUGFyc2VyKCkpLnBhcnNlRnJvbVN0cmluZyhkYXRhLCBcInRleHQveG1sXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfVxuICAgICAgICAgICAgcGFyc2VyRXJyb3JFbGVtID0geG1sICYmIHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInBhcnNlcmVycm9yXCIpWzBdO1xuICAgICAgICAgICAgaWYgKCF4bWwgfHwgcGFyc2VyRXJyb3JFbGVtKSB7XG4gICAgICAgICAgICAgICAgalF1ZXJ5LmVycm9yKFwiSW52YWxpZCBYTUw6IFwiICsgKHBhcnNlckVycm9yRWxlbSA/XG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeS5tYXAocGFyc2VyRXJyb3JFbGVtLmNoaWxkTm9kZXMsIGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsLnRleHRDb250ZW50O1xuICAgICAgICAgICAgICAgICAgICB9KS5qb2luKFwiXFxuXCIpIDpcbiAgICAgICAgICAgICAgICAgICAgZGF0YSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHhtbDtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHJmb2N1c01vcnBoID0gL14oPzpmb2N1c2luZm9jdXN8Zm9jdXNvdXRibHVyKSQvLCBzdG9wUHJvcGFnYXRpb25DYWxsYmFjayA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB9O1xuICAgICAgICBqUXVlcnkuZXh0ZW5kKGpRdWVyeS5ldmVudCwge1xuICAgICAgICAgICAgdHJpZ2dlcjogZnVuY3Rpb24gKGV2ZW50LCBkYXRhLCBlbGVtLCBvbmx5SGFuZGxlcnMpIHtcbiAgICAgICAgICAgICAgICB2YXIgaSwgY3VyLCB0bXAsIGJ1YmJsZVR5cGUsIG9udHlwZSwgaGFuZGxlLCBzcGVjaWFsLCBsYXN0RWxlbWVudCwgZXZlbnRQYXRoID0gW2VsZW0gfHwgZG9jdW1lbnRdLCB0eXBlID0gaGFzT3duLmNhbGwoZXZlbnQsIFwidHlwZVwiKSA/IGV2ZW50LnR5cGUgOiBldmVudCwgbmFtZXNwYWNlcyA9IGhhc093bi5jYWxsKGV2ZW50LCBcIm5hbWVzcGFjZVwiKSA/IGV2ZW50Lm5hbWVzcGFjZS5zcGxpdChcIi5cIikgOiBbXTtcbiAgICAgICAgICAgICAgICBjdXIgPSBsYXN0RWxlbWVudCA9IHRtcCA9IGVsZW0gPSBlbGVtIHx8IGRvY3VtZW50O1xuICAgICAgICAgICAgICAgIC8vIERvbid0IGRvIGV2ZW50cyBvbiB0ZXh0IGFuZCBjb21tZW50IG5vZGVzXG4gICAgICAgICAgICAgICAgaWYgKGVsZW0ubm9kZVR5cGUgPT09IDMgfHwgZWxlbS5ub2RlVHlwZSA9PT0gOCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGZvY3VzL2JsdXIgbW9ycGhzIHRvIGZvY3VzaW4vb3V0OyBlbnN1cmUgd2UncmUgbm90IGZpcmluZyB0aGVtIHJpZ2h0IG5vd1xuICAgICAgICAgICAgICAgIGlmIChyZm9jdXNNb3JwaC50ZXN0KHR5cGUgKyBqUXVlcnkuZXZlbnQudHJpZ2dlcmVkKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlLmluZGV4T2YoXCIuXCIpID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTmFtZXNwYWNlZCB0cmlnZ2VyOyBjcmVhdGUgYSByZWdleHAgdG8gbWF0Y2ggZXZlbnQgdHlwZSBpbiBoYW5kbGUoKVxuICAgICAgICAgICAgICAgICAgICBuYW1lc3BhY2VzID0gdHlwZS5zcGxpdChcIi5cIik7XG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSBuYW1lc3BhY2VzLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgIG5hbWVzcGFjZXMuc29ydCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvbnR5cGUgPSB0eXBlLmluZGV4T2YoXCI6XCIpIDwgMCAmJiBcIm9uXCIgKyB0eXBlO1xuICAgICAgICAgICAgICAgIC8vIENhbGxlciBjYW4gcGFzcyBpbiBhIGpRdWVyeS5FdmVudCBvYmplY3QsIE9iamVjdCwgb3IganVzdCBhbiBldmVudCB0eXBlIHN0cmluZ1xuICAgICAgICAgICAgICAgIGV2ZW50ID0gZXZlbnRbalF1ZXJ5LmV4cGFuZG9dID9cbiAgICAgICAgICAgICAgICAgICAgZXZlbnQgOlxuICAgICAgICAgICAgICAgICAgICBuZXcgalF1ZXJ5LkV2ZW50KHR5cGUsIHR5cGVvZiBldmVudCA9PT0gXCJvYmplY3RcIiAmJiBldmVudCk7XG4gICAgICAgICAgICAgICAgLy8gVHJpZ2dlciBiaXRtYXNrOiAmIDEgZm9yIG5hdGl2ZSBoYW5kbGVyczsgJiAyIGZvciBqUXVlcnkgKGFsd2F5cyB0cnVlKVxuICAgICAgICAgICAgICAgIGV2ZW50LmlzVHJpZ2dlciA9IG9ubHlIYW5kbGVycyA/IDIgOiAzO1xuICAgICAgICAgICAgICAgIGV2ZW50Lm5hbWVzcGFjZSA9IG5hbWVzcGFjZXMuam9pbihcIi5cIik7XG4gICAgICAgICAgICAgICAgZXZlbnQucm5hbWVzcGFjZSA9IGV2ZW50Lm5hbWVzcGFjZSA/XG4gICAgICAgICAgICAgICAgICAgIG5ldyBSZWdFeHAoXCIoXnxcXFxcLilcIiArIG5hbWVzcGFjZXMuam9pbihcIlxcXFwuKD86LipcXFxcLnwpXCIpICsgXCIoXFxcXC58JClcIikgOlxuICAgICAgICAgICAgICAgICAgICBudWxsO1xuICAgICAgICAgICAgICAgIC8vIENsZWFuIHVwIHRoZSBldmVudCBpbiBjYXNlIGl0IGlzIGJlaW5nIHJldXNlZFxuICAgICAgICAgICAgICAgIGV2ZW50LnJlc3VsdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBpZiAoIWV2ZW50LnRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICBldmVudC50YXJnZXQgPSBlbGVtO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBDbG9uZSBhbnkgaW5jb21pbmcgZGF0YSBhbmQgcHJlcGVuZCB0aGUgZXZlbnQsIGNyZWF0aW5nIHRoZSBoYW5kbGVyIGFyZyBsaXN0XG4gICAgICAgICAgICAgICAgZGF0YSA9IGRhdGEgPT0gbnVsbCA/XG4gICAgICAgICAgICAgICAgICAgIFtldmVudF0gOlxuICAgICAgICAgICAgICAgICAgICBqUXVlcnkubWFrZUFycmF5KGRhdGEsIFtldmVudF0pO1xuICAgICAgICAgICAgICAgIC8vIEFsbG93IHNwZWNpYWwgZXZlbnRzIHRvIGRyYXcgb3V0c2lkZSB0aGUgbGluZXNcbiAgICAgICAgICAgICAgICBzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbdHlwZV0gfHwge307XG4gICAgICAgICAgICAgICAgaWYgKCFvbmx5SGFuZGxlcnMgJiYgc3BlY2lhbC50cmlnZ2VyICYmIHNwZWNpYWwudHJpZ2dlci5hcHBseShlbGVtLCBkYXRhKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBEZXRlcm1pbmUgZXZlbnQgcHJvcGFnYXRpb24gcGF0aCBpbiBhZHZhbmNlLCBwZXIgVzNDIGV2ZW50cyBzcGVjICh0cmFjLTk5NTEpXG4gICAgICAgICAgICAgICAgLy8gQnViYmxlIHVwIHRvIGRvY3VtZW50LCB0aGVuIHRvIHdpbmRvdzsgd2F0Y2ggZm9yIGEgZ2xvYmFsIG93bmVyRG9jdW1lbnQgdmFyICh0cmFjLTk3MjQpXG4gICAgICAgICAgICAgICAgaWYgKCFvbmx5SGFuZGxlcnMgJiYgIXNwZWNpYWwubm9CdWJibGUgJiYgIWlzV2luZG93KGVsZW0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1YmJsZVR5cGUgPSBzcGVjaWFsLmRlbGVnYXRlVHlwZSB8fCB0eXBlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXJmb2N1c01vcnBoLnRlc3QoYnViYmxlVHlwZSArIHR5cGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXIgPSBjdXIucGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmb3IgKDsgY3VyOyBjdXIgPSBjdXIucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRQYXRoLnB1c2goY3VyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRtcCA9IGN1cjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IGFkZCB3aW5kb3cgaWYgd2UgZ290IHRvIGRvY3VtZW50IChlLmcuLCBub3QgcGxhaW4gb2JqIG9yIGRldGFjaGVkIERPTSlcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRtcCA9PT0gKGVsZW0ub3duZXJEb2N1bWVudCB8fCBkb2N1bWVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50UGF0aC5wdXNoKHRtcC5kZWZhdWx0VmlldyB8fCB0bXAucGFyZW50V2luZG93IHx8IHdpbmRvdyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gRmlyZSBoYW5kbGVycyBvbiB0aGUgZXZlbnQgcGF0aFxuICAgICAgICAgICAgICAgIGkgPSAwO1xuICAgICAgICAgICAgICAgIHdoaWxlICgoY3VyID0gZXZlbnRQYXRoW2krK10pICYmICFldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RFbGVtZW50ID0gY3VyO1xuICAgICAgICAgICAgICAgICAgICBldmVudC50eXBlID0gaSA+IDEgP1xuICAgICAgICAgICAgICAgICAgICAgICAgYnViYmxlVHlwZSA6XG4gICAgICAgICAgICAgICAgICAgICAgICBzcGVjaWFsLmJpbmRUeXBlIHx8IHR5cGU7XG4gICAgICAgICAgICAgICAgICAgIC8vIGpRdWVyeSBoYW5kbGVyXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZSA9IChkYXRhUHJpdi5nZXQoY3VyLCBcImV2ZW50c1wiKSB8fCBPYmplY3QuY3JlYXRlKG51bGwpKVtldmVudC50eXBlXSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVByaXYuZ2V0KGN1ciwgXCJoYW5kbGVcIik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChoYW5kbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZS5hcHBseShjdXIsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIE5hdGl2ZSBoYW5kbGVyXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZSA9IG9udHlwZSAmJiBjdXJbb250eXBlXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhbmRsZSAmJiBoYW5kbGUuYXBwbHkgJiYgYWNjZXB0RGF0YShjdXIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudC5yZXN1bHQgPSBoYW5kbGUuYXBwbHkoY3VyLCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5yZXN1bHQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBldmVudC50eXBlID0gdHlwZTtcbiAgICAgICAgICAgICAgICAvLyBJZiBub2JvZHkgcHJldmVudGVkIHRoZSBkZWZhdWx0IGFjdGlvbiwgZG8gaXQgbm93XG4gICAgICAgICAgICAgICAgaWYgKCFvbmx5SGFuZGxlcnMgJiYgIWV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgoIXNwZWNpYWwuX2RlZmF1bHQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwZWNpYWwuX2RlZmF1bHQuYXBwbHkoZXZlbnRQYXRoLnBvcCgpLCBkYXRhKSA9PT0gZmFsc2UpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBhY2NlcHREYXRhKGVsZW0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDYWxsIGEgbmF0aXZlIERPTSBtZXRob2Qgb24gdGhlIHRhcmdldCB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgdGhlIGV2ZW50LlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRG9uJ3QgZG8gZGVmYXVsdCBhY3Rpb25zIG9uIHdpbmRvdywgdGhhdCdzIHdoZXJlIGdsb2JhbCB2YXJpYWJsZXMgYmUgKHRyYWMtNjE3MClcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbnR5cGUgJiYgaXNGdW5jdGlvbihlbGVtW3R5cGVdKSAmJiAhaXNXaW5kb3coZWxlbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEb24ndCByZS10cmlnZ2VyIGFuIG9uRk9PIGV2ZW50IHdoZW4gd2UgY2FsbCBpdHMgRk9PKCkgbWV0aG9kXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wID0gZWxlbVtvbnR5cGVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0bXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbVtvbnR5cGVdID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUHJldmVudCByZS10cmlnZ2VyaW5nIG9mIHRoZSBzYW1lIGV2ZW50LCBzaW5jZSB3ZSBhbHJlYWR5IGJ1YmJsZWQgaXQgYWJvdmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuZXZlbnQudHJpZ2dlcmVkID0gdHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIHN0b3BQcm9wYWdhdGlvbkNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbVt0eXBlXSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgc3RvcFByb3BhZ2F0aW9uQ2FsbGJhY2spO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuZXZlbnQudHJpZ2dlcmVkID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0bXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbVtvbnR5cGVdID0gdG1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnQucmVzdWx0O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIFBpZ2d5YmFjayBvbiBhIGRvbm9yIGV2ZW50IHRvIHNpbXVsYXRlIGEgZGlmZmVyZW50IG9uZVxuICAgICAgICAgICAgLy8gVXNlZCBvbmx5IGZvciBgZm9jdXMoaW4gfCBvdXQpYCBldmVudHNcbiAgICAgICAgICAgIHNpbXVsYXRlOiBmdW5jdGlvbiAodHlwZSwgZWxlbSwgZXZlbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZSA9IGpRdWVyeS5leHRlbmQobmV3IGpRdWVyeS5FdmVudCgpLCBldmVudCwge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgICAgICAgICBpc1NpbXVsYXRlZDogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGpRdWVyeS5ldmVudC50cmlnZ2VyKGUsIG51bGwsIGVsZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgalF1ZXJ5LmZuLmV4dGVuZCh7XG4gICAgICAgICAgICB0cmlnZ2VyOiBmdW5jdGlvbiAodHlwZSwgZGF0YSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBqUXVlcnkuZXZlbnQudHJpZ2dlcih0eXBlLCBkYXRhLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0cmlnZ2VySGFuZGxlcjogZnVuY3Rpb24gKHR5cGUsIGRhdGEpIHtcbiAgICAgICAgICAgICAgICB2YXIgZWxlbSA9IHRoaXNbMF07XG4gICAgICAgICAgICAgICAgaWYgKGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGpRdWVyeS5ldmVudC50cmlnZ2VyKHR5cGUsIGRhdGEsIGVsZW0sIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHZhciByYnJhY2tldCA9IC9cXFtcXF0kLywgckNSTEYgPSAvXFxyP1xcbi9nLCByc3VibWl0dGVyVHlwZXMgPSAvXig/OnN1Ym1pdHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2ksIHJzdWJtaXR0YWJsZSA9IC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGtleWdlbikvaTtcbiAgICAgICAgZnVuY3Rpb24gYnVpbGRQYXJhbXMocHJlZml4LCBvYmosIHRyYWRpdGlvbmFsLCBhZGQpIHtcbiAgICAgICAgICAgIHZhciBuYW1lO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgICAgICAgICAgICAgIC8vIFNlcmlhbGl6ZSBhcnJheSBpdGVtLlxuICAgICAgICAgICAgICAgIGpRdWVyeS5lYWNoKG9iaiwgZnVuY3Rpb24gKGksIHYpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRyYWRpdGlvbmFsIHx8IHJicmFja2V0LnRlc3QocHJlZml4KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVHJlYXQgZWFjaCBhcnJheSBpdGVtIGFzIGEgc2NhbGFyLlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkKHByZWZpeCwgdik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJdGVtIGlzIG5vbi1zY2FsYXIgKGFycmF5IG9yIG9iamVjdCksIGVuY29kZSBpdHMgbnVtZXJpYyBpbmRleC5cbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1aWxkUGFyYW1zKHByZWZpeCArIFwiW1wiICsgKHR5cGVvZiB2ID09PSBcIm9iamVjdFwiICYmIHYgIT0gbnVsbCA/IGkgOiBcIlwiKSArIFwiXVwiLCB2LCB0cmFkaXRpb25hbCwgYWRkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIXRyYWRpdGlvbmFsICYmIHRvVHlwZShvYmopID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgLy8gU2VyaWFsaXplIG9iamVjdCBpdGVtLlxuICAgICAgICAgICAgICAgIGZvciAobmFtZSBpbiBvYmopIHtcbiAgICAgICAgICAgICAgICAgICAgYnVpbGRQYXJhbXMocHJlZml4ICsgXCJbXCIgKyBuYW1lICsgXCJdXCIsIG9ialtuYW1lXSwgdHJhZGl0aW9uYWwsIGFkZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gU2VyaWFsaXplIHNjYWxhciBpdGVtLlxuICAgICAgICAgICAgICAgIGFkZChwcmVmaXgsIG9iaik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2VyaWFsaXplIGFuIGFycmF5IG9mIGZvcm0gZWxlbWVudHMgb3IgYSBzZXQgb2ZcbiAgICAgICAgLy8ga2V5L3ZhbHVlcyBpbnRvIGEgcXVlcnkgc3RyaW5nXG4gICAgICAgIGpRdWVyeS5wYXJhbSA9IGZ1bmN0aW9uIChhLCB0cmFkaXRpb25hbCkge1xuICAgICAgICAgICAgdmFyIHByZWZpeCwgcyA9IFtdLCBhZGQgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZU9yRnVuY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAvLyBJZiB2YWx1ZSBpcyBhIGZ1bmN0aW9uLCBpbnZva2UgaXQgYW5kIHVzZSBpdHMgcmV0dXJuIHZhbHVlXG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gaXNGdW5jdGlvbih2YWx1ZU9yRnVuY3Rpb24pID9cbiAgICAgICAgICAgICAgICAgICAgdmFsdWVPckZ1bmN0aW9uKCkgOlxuICAgICAgICAgICAgICAgICAgICB2YWx1ZU9yRnVuY3Rpb247XG4gICAgICAgICAgICAgICAgc1tzLmxlbmd0aF0gPSBlbmNvZGVVUklDb21wb25lbnQoa2V5KSArIFwiPVwiICtcbiAgICAgICAgICAgICAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlID09IG51bGwgPyBcIlwiIDogdmFsdWUpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChhID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIGFuIGFycmF5IHdhcyBwYXNzZWQgaW4sIGFzc3VtZSB0aGF0IGl0IGlzIGFuIGFycmF5IG9mIGZvcm0gZWxlbWVudHMuXG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhKSB8fCAoYS5qcXVlcnkgJiYgIWpRdWVyeS5pc1BsYWluT2JqZWN0KGEpKSkge1xuICAgICAgICAgICAgICAgIC8vIFNlcmlhbGl6ZSB0aGUgZm9ybSBlbGVtZW50c1xuICAgICAgICAgICAgICAgIGpRdWVyeS5lYWNoKGEsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkKHRoaXMubmFtZSwgdGhpcy52YWx1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBJZiB0cmFkaXRpb25hbCwgZW5jb2RlIHRoZSBcIm9sZFwiIHdheSAodGhlIHdheSAxLjMuMiBvciBvbGRlclxuICAgICAgICAgICAgICAgIC8vIGRpZCBpdCksIG90aGVyd2lzZSBlbmNvZGUgcGFyYW1zIHJlY3Vyc2l2ZWx5LlxuICAgICAgICAgICAgICAgIGZvciAocHJlZml4IGluIGEpIHtcbiAgICAgICAgICAgICAgICAgICAgYnVpbGRQYXJhbXMocHJlZml4LCBhW3ByZWZpeF0sIHRyYWRpdGlvbmFsLCBhZGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFJldHVybiB0aGUgcmVzdWx0aW5nIHNlcmlhbGl6YXRpb25cbiAgICAgICAgICAgIHJldHVybiBzLmpvaW4oXCImXCIpO1xuICAgICAgICB9O1xuICAgICAgICBqUXVlcnkuZm4uZXh0ZW5kKHtcbiAgICAgICAgICAgIHNlcmlhbGl6ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBqUXVlcnkucGFyYW0odGhpcy5zZXJpYWxpemVBcnJheSgpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXJpYWxpemVBcnJheTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENhbiBhZGQgcHJvcEhvb2sgZm9yIFwiZWxlbWVudHNcIiB0byBmaWx0ZXIgb3IgYWRkIGZvcm0gZWxlbWVudHNcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnRzID0galF1ZXJ5LnByb3AodGhpcywgXCJlbGVtZW50c1wiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnRzID8galF1ZXJ5Lm1ha2VBcnJheShlbGVtZW50cykgOiB0aGlzO1xuICAgICAgICAgICAgICAgIH0pLmZpbHRlcihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0eXBlID0gdGhpcy50eXBlO1xuICAgICAgICAgICAgICAgICAgICAvLyBVc2UgLmlzKCBcIjpkaXNhYmxlZFwiICkgc28gdGhhdCBmaWVsZHNldFtkaXNhYmxlZF0gd29ya3NcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubmFtZSAmJiAhalF1ZXJ5KHRoaXMpLmlzKFwiOmRpc2FibGVkXCIpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICByc3VibWl0dGFibGUudGVzdCh0aGlzLm5vZGVOYW1lKSAmJiAhcnN1Ym1pdHRlclR5cGVzLnRlc3QodHlwZSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzLmNoZWNrZWQgfHwgIXJjaGVja2FibGVUeXBlLnRlc3QodHlwZSkpO1xuICAgICAgICAgICAgICAgIH0pLm1hcChmdW5jdGlvbiAoX2ksIGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbCA9IGpRdWVyeSh0aGlzKS52YWwoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWwpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4galF1ZXJ5Lm1hcCh2YWwsIGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBuYW1lOiBlbGVtLm5hbWUsIHZhbHVlOiB2YWwucmVwbGFjZShyQ1JMRiwgXCJcXHJcXG5cIikgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IG5hbWU6IGVsZW0ubmFtZSwgdmFsdWU6IHZhbC5yZXBsYWNlKHJDUkxGLCBcIlxcclxcblwiKSB9O1xuICAgICAgICAgICAgICAgIH0pLmdldCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIHIyMCA9IC8lMjAvZywgcmhhc2ggPSAvIy4qJC8sIHJhbnRpQ2FjaGUgPSAvKFs/Jl0pXz1bXiZdKi8sIHJoZWFkZXJzID0gL14oLio/KTpbIFxcdF0qKFteXFxyXFxuXSopJC9tZywgXG4gICAgICAgIC8vIHRyYWMtNzY1MywgdHJhYy04MTI1LCB0cmFjLTgxNTI6IGxvY2FsIHByb3RvY29sIGRldGVjdGlvblxuICAgICAgICBybG9jYWxQcm90b2NvbCA9IC9eKD86YWJvdXR8YXBwfGFwcC1zdG9yYWdlfC4rLWV4dGVuc2lvbnxmaWxlfHJlc3x3aWRnZXQpOiQvLCBybm9Db250ZW50ID0gL14oPzpHRVR8SEVBRCkkLywgcnByb3RvY29sID0gL15cXC9cXC8vLCBcbiAgICAgICAgLyogUHJlZmlsdGVyc1xuICAgICAgICAqIDEpIFRoZXkgYXJlIHVzZWZ1bCB0byBpbnRyb2R1Y2UgY3VzdG9tIGRhdGFUeXBlcyAoc2VlIGFqYXgvanNvbnAuanMgZm9yIGFuIGV4YW1wbGUpXG4gICAgICAgICogMikgVGhlc2UgYXJlIGNhbGxlZDpcbiAgICAgICAgKiAgICAtIEJFRk9SRSBhc2tpbmcgZm9yIGEgdHJhbnNwb3J0XG4gICAgICAgICogICAgLSBBRlRFUiBwYXJhbSBzZXJpYWxpemF0aW9uIChzLmRhdGEgaXMgYSBzdHJpbmcgaWYgcy5wcm9jZXNzRGF0YSBpcyB0cnVlKVxuICAgICAgICAqIDMpIGtleSBpcyB0aGUgZGF0YVR5cGVcbiAgICAgICAgKiA0KSB0aGUgY2F0Y2hhbGwgc3ltYm9sIFwiKlwiIGNhbiBiZSB1c2VkXG4gICAgICAgICogNSkgZXhlY3V0aW9uIHdpbGwgc3RhcnQgd2l0aCB0cmFuc3BvcnQgZGF0YVR5cGUgYW5kIFRIRU4gY29udGludWUgZG93biB0byBcIipcIiBpZiBuZWVkZWRcbiAgICAgICAgKi9cbiAgICAgICAgcHJlZmlsdGVycyA9IHt9LCBcbiAgICAgICAgLyogVHJhbnNwb3J0cyBiaW5kaW5nc1xuICAgICAgICAqIDEpIGtleSBpcyB0aGUgZGF0YVR5cGVcbiAgICAgICAgKiAyKSB0aGUgY2F0Y2hhbGwgc3ltYm9sIFwiKlwiIGNhbiBiZSB1c2VkXG4gICAgICAgICogMykgc2VsZWN0aW9uIHdpbGwgc3RhcnQgd2l0aCB0cmFuc3BvcnQgZGF0YVR5cGUgYW5kIFRIRU4gZ28gdG8gXCIqXCIgaWYgbmVlZGVkXG4gICAgICAgICovXG4gICAgICAgIHRyYW5zcG9ydHMgPSB7fSwgXG4gICAgICAgIC8vIEF2b2lkIGNvbW1lbnQtcHJvbG9nIGNoYXIgc2VxdWVuY2UgKHRyYWMtMTAwOTgpOyBtdXN0IGFwcGVhc2UgbGludCBhbmQgZXZhZGUgY29tcHJlc3Npb25cbiAgICAgICAgYWxsVHlwZXMgPSBcIiovXCIuY29uY2F0KFwiKlwiKSwgXG4gICAgICAgIC8vIEFuY2hvciB0YWcgZm9yIHBhcnNpbmcgdGhlIGRvY3VtZW50IG9yaWdpblxuICAgICAgICBvcmlnaW5BbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcbiAgICAgICAgb3JpZ2luQW5jaG9yLmhyZWYgPSBsb2NhdGlvbi5ocmVmO1xuICAgICAgICAvLyBCYXNlIFwiY29uc3RydWN0b3JcIiBmb3IgalF1ZXJ5LmFqYXhQcmVmaWx0ZXIgYW5kIGpRdWVyeS5hamF4VHJhbnNwb3J0XG4gICAgICAgIGZ1bmN0aW9uIGFkZFRvUHJlZmlsdGVyc09yVHJhbnNwb3J0cyhzdHJ1Y3R1cmUpIHtcbiAgICAgICAgICAgIC8vIGRhdGFUeXBlRXhwcmVzc2lvbiBpcyBvcHRpb25hbCBhbmQgZGVmYXVsdHMgdG8gXCIqXCJcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoZGF0YVR5cGVFeHByZXNzaW9uLCBmdW5jKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhVHlwZUV4cHJlc3Npb24gIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgZnVuYyA9IGRhdGFUeXBlRXhwcmVzc2lvbjtcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGVFeHByZXNzaW9uID0gXCIqXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBkYXRhVHlwZSwgaSA9IDAsIGRhdGFUeXBlcyA9IGRhdGFUeXBlRXhwcmVzc2lvbi50b0xvd2VyQ2FzZSgpLm1hdGNoKHJub3RodG1sd2hpdGUpIHx8IFtdO1xuICAgICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGZ1bmMpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEZvciBlYWNoIGRhdGFUeXBlIGluIHRoZSBkYXRhVHlwZUV4cHJlc3Npb25cbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKChkYXRhVHlwZSA9IGRhdGFUeXBlc1tpKytdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUHJlcGVuZCBpZiByZXF1ZXN0ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhVHlwZVswXSA9PT0gXCIrXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZSA9IGRhdGFUeXBlLnNsaWNlKDEpIHx8IFwiKlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzdHJ1Y3R1cmVbZGF0YVR5cGVdID0gc3RydWN0dXJlW2RhdGFUeXBlXSB8fCBbXSkudW5zaGlmdChmdW5jKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2UgYXBwZW5kXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoc3RydWN0dXJlW2RhdGFUeXBlXSA9IHN0cnVjdHVyZVtkYXRhVHlwZV0gfHwgW10pLnB1c2goZnVuYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIC8vIEJhc2UgaW5zcGVjdGlvbiBmdW5jdGlvbiBmb3IgcHJlZmlsdGVycyBhbmQgdHJhbnNwb3J0c1xuICAgICAgICBmdW5jdGlvbiBpbnNwZWN0UHJlZmlsdGVyc09yVHJhbnNwb3J0cyhzdHJ1Y3R1cmUsIG9wdGlvbnMsIG9yaWdpbmFsT3B0aW9ucywganFYSFIpIHtcbiAgICAgICAgICAgIHZhciBpbnNwZWN0ZWQgPSB7fSwgc2Vla2luZ1RyYW5zcG9ydCA9IChzdHJ1Y3R1cmUgPT09IHRyYW5zcG9ydHMpO1xuICAgICAgICAgICAgZnVuY3Rpb24gaW5zcGVjdChkYXRhVHlwZSkge1xuICAgICAgICAgICAgICAgIHZhciBzZWxlY3RlZDtcbiAgICAgICAgICAgICAgICBpbnNwZWN0ZWRbZGF0YVR5cGVdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBqUXVlcnkuZWFjaChzdHJ1Y3R1cmVbZGF0YVR5cGVdIHx8IFtdLCBmdW5jdGlvbiAoXywgcHJlZmlsdGVyT3JGYWN0b3J5KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRhVHlwZU9yVHJhbnNwb3J0ID0gcHJlZmlsdGVyT3JGYWN0b3J5KG9wdGlvbnMsIG9yaWdpbmFsT3B0aW9ucywganFYSFIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRhdGFUeXBlT3JUcmFuc3BvcnQgPT09IFwic3RyaW5nXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICFzZWVraW5nVHJhbnNwb3J0ICYmICFpbnNwZWN0ZWRbZGF0YVR5cGVPclRyYW5zcG9ydF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YVR5cGVzLnVuc2hpZnQoZGF0YVR5cGVPclRyYW5zcG9ydCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnNwZWN0KGRhdGFUeXBlT3JUcmFuc3BvcnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNlZWtpbmdUcmFuc3BvcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhKHNlbGVjdGVkID0gZGF0YVR5cGVPclRyYW5zcG9ydCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VsZWN0ZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaW5zcGVjdChvcHRpb25zLmRhdGFUeXBlc1swXSkgfHwgIWluc3BlY3RlZFtcIipcIl0gJiYgaW5zcGVjdChcIipcIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQSBzcGVjaWFsIGV4dGVuZCBmb3IgYWpheCBvcHRpb25zXG4gICAgICAgIC8vIHRoYXQgdGFrZXMgXCJmbGF0XCIgb3B0aW9ucyAobm90IHRvIGJlIGRlZXAgZXh0ZW5kZWQpXG4gICAgICAgIC8vIEZpeGVzIHRyYWMtOTg4N1xuICAgICAgICBmdW5jdGlvbiBhamF4RXh0ZW5kKHRhcmdldCwgc3JjKSB7XG4gICAgICAgICAgICB2YXIga2V5LCBkZWVwLCBmbGF0T3B0aW9ucyA9IGpRdWVyeS5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnMgfHwge307XG4gICAgICAgICAgICBmb3IgKGtleSBpbiBzcmMpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3JjW2tleV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAoZmxhdE9wdGlvbnNba2V5XSA/IHRhcmdldCA6IChkZWVwIHx8IChkZWVwID0ge30pKSlba2V5XSA9IHNyY1trZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkZWVwKSB7XG4gICAgICAgICAgICAgICAgalF1ZXJ5LmV4dGVuZCh0cnVlLCB0YXJnZXQsIGRlZXApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgfVxuICAgICAgICAvKiBIYW5kbGVzIHJlc3BvbnNlcyB0byBhbiBhamF4IHJlcXVlc3Q6XG4gICAgICAgICogLSBmaW5kcyB0aGUgcmlnaHQgZGF0YVR5cGUgKG1lZGlhdGVzIGJldHdlZW4gY29udGVudC10eXBlIGFuZCBleHBlY3RlZCBkYXRhVHlwZSlcbiAgICAgICAgKiAtIHJldHVybnMgdGhlIGNvcnJlc3BvbmRpbmcgcmVzcG9uc2VcbiAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gYWpheEhhbmRsZVJlc3BvbnNlcyhzLCBqcVhIUiwgcmVzcG9uc2VzKSB7XG4gICAgICAgICAgICB2YXIgY3QsIHR5cGUsIGZpbmFsRGF0YVR5cGUsIGZpcnN0RGF0YVR5cGUsIGNvbnRlbnRzID0gcy5jb250ZW50cywgZGF0YVR5cGVzID0gcy5kYXRhVHlwZXM7XG4gICAgICAgICAgICAvLyBSZW1vdmUgYXV0byBkYXRhVHlwZSBhbmQgZ2V0IGNvbnRlbnQtdHlwZSBpbiB0aGUgcHJvY2Vzc1xuICAgICAgICAgICAgd2hpbGUgKGRhdGFUeXBlc1swXSA9PT0gXCIqXCIpIHtcbiAgICAgICAgICAgICAgICBkYXRhVHlwZXMuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICBpZiAoY3QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBjdCA9IHMubWltZVR5cGUgfHwganFYSFIuZ2V0UmVzcG9uc2VIZWFkZXIoXCJDb250ZW50LVR5cGVcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgd2UncmUgZGVhbGluZyB3aXRoIGEga25vd24gY29udGVudC10eXBlXG4gICAgICAgICAgICBpZiAoY3QpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHR5cGUgaW4gY29udGVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnRzW3R5cGVdICYmIGNvbnRlbnRzW3R5cGVdLnRlc3QoY3QpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZXMudW5zaGlmdCh0eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQ2hlY2sgdG8gc2VlIGlmIHdlIGhhdmUgYSByZXNwb25zZSBmb3IgdGhlIGV4cGVjdGVkIGRhdGFUeXBlXG4gICAgICAgICAgICBpZiAoZGF0YVR5cGVzWzBdIGluIHJlc3BvbnNlcykge1xuICAgICAgICAgICAgICAgIGZpbmFsRGF0YVR5cGUgPSBkYXRhVHlwZXNbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBUcnkgY29udmVydGlibGUgZGF0YVR5cGVzXG4gICAgICAgICAgICAgICAgZm9yICh0eXBlIGluIHJlc3BvbnNlcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWRhdGFUeXBlc1swXSB8fCBzLmNvbnZlcnRlcnNbdHlwZSArIFwiIFwiICsgZGF0YVR5cGVzWzBdXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxEYXRhVHlwZSA9IHR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWZpcnN0RGF0YVR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0RGF0YVR5cGUgPSB0eXBlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIE9yIGp1c3QgdXNlIGZpcnN0IG9uZVxuICAgICAgICAgICAgICAgIGZpbmFsRGF0YVR5cGUgPSBmaW5hbERhdGFUeXBlIHx8IGZpcnN0RGF0YVR5cGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiB3ZSBmb3VuZCBhIGRhdGFUeXBlXG4gICAgICAgICAgICAvLyBXZSBhZGQgdGhlIGRhdGFUeXBlIHRvIHRoZSBsaXN0IGlmIG5lZWRlZFxuICAgICAgICAgICAgLy8gYW5kIHJldHVybiB0aGUgY29ycmVzcG9uZGluZyByZXNwb25zZVxuICAgICAgICAgICAgaWYgKGZpbmFsRGF0YVR5cGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZmluYWxEYXRhVHlwZSAhPT0gZGF0YVR5cGVzWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlcy51bnNoaWZ0KGZpbmFsRGF0YVR5cGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2VzW2ZpbmFsRGF0YVR5cGVdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qIENoYWluIGNvbnZlcnNpb25zIGdpdmVuIHRoZSByZXF1ZXN0IGFuZCB0aGUgb3JpZ2luYWwgcmVzcG9uc2VcbiAgICAgICAgKiBBbHNvIHNldHMgdGhlIHJlc3BvbnNlWFhYIGZpZWxkcyBvbiB0aGUganFYSFIgaW5zdGFuY2VcbiAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gYWpheENvbnZlcnQocywgcmVzcG9uc2UsIGpxWEhSLCBpc1N1Y2Nlc3MpIHtcbiAgICAgICAgICAgIHZhciBjb252MiwgY3VycmVudCwgY29udiwgdG1wLCBwcmV2LCBjb252ZXJ0ZXJzID0ge30sIFxuICAgICAgICAgICAgLy8gV29yayB3aXRoIGEgY29weSBvZiBkYXRhVHlwZXMgaW4gY2FzZSB3ZSBuZWVkIHRvIG1vZGlmeSBpdCBmb3IgY29udmVyc2lvblxuICAgICAgICAgICAgZGF0YVR5cGVzID0gcy5kYXRhVHlwZXMuc2xpY2UoKTtcbiAgICAgICAgICAgIC8vIENyZWF0ZSBjb252ZXJ0ZXJzIG1hcCB3aXRoIGxvd2VyY2FzZWQga2V5c1xuICAgICAgICAgICAgaWYgKGRhdGFUeXBlc1sxXSkge1xuICAgICAgICAgICAgICAgIGZvciAoY29udiBpbiBzLmNvbnZlcnRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udmVydGVyc1tjb252LnRvTG93ZXJDYXNlKCldID0gcy5jb252ZXJ0ZXJzW2NvbnZdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnQgPSBkYXRhVHlwZXMuc2hpZnQoKTtcbiAgICAgICAgICAgIC8vIENvbnZlcnQgdG8gZWFjaCBzZXF1ZW50aWFsIGRhdGFUeXBlXG4gICAgICAgICAgICB3aGlsZSAoY3VycmVudCkge1xuICAgICAgICAgICAgICAgIGlmIChzLnJlc3BvbnNlRmllbGRzW2N1cnJlbnRdKSB7XG4gICAgICAgICAgICAgICAgICAgIGpxWEhSW3MucmVzcG9uc2VGaWVsZHNbY3VycmVudF1dID0gcmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEFwcGx5IHRoZSBkYXRhRmlsdGVyIGlmIHByb3ZpZGVkXG4gICAgICAgICAgICAgICAgaWYgKCFwcmV2ICYmIGlzU3VjY2VzcyAmJiBzLmRhdGFGaWx0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBzLmRhdGFGaWx0ZXIocmVzcG9uc2UsIHMuZGF0YVR5cGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwcmV2ID0gY3VycmVudDtcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gZGF0YVR5cGVzLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlcmUncyBvbmx5IHdvcmsgdG8gZG8gaWYgY3VycmVudCBkYXRhVHlwZSBpcyBub24tYXV0b1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudCA9PT0gXCIqXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29udmVydCByZXNwb25zZSBpZiBwcmV2IGRhdGFUeXBlIGlzIG5vbi1hdXRvIGFuZCBkaWZmZXJzIGZyb20gY3VycmVudFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHByZXYgIT09IFwiKlwiICYmIHByZXYgIT09IGN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNlZWsgYSBkaXJlY3QgY29udmVydGVyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb252ID0gY29udmVydGVyc1twcmV2ICsgXCIgXCIgKyBjdXJyZW50XSB8fCBjb252ZXJ0ZXJzW1wiKiBcIiArIGN1cnJlbnRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgbm9uZSBmb3VuZCwgc2VlayBhIHBhaXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY29udikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29udjIgaW4gY29udmVydGVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBjb252MiBvdXRwdXRzIGN1cnJlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wID0gY29udjIuc3BsaXQoXCIgXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodG1wWzFdID09PSBjdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBwcmV2IGNhbiBiZSBjb252ZXJ0ZWQgdG8gYWNjZXB0ZWQgaW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnYgPSBjb252ZXJ0ZXJzW3ByZXYgKyBcIiBcIiArIHRtcFswXV0gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb252ZXJ0ZXJzW1wiKiBcIiArIHRtcFswXV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbmRlbnNlIGVxdWl2YWxlbmNlIGNvbnZlcnRlcnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb252ID0gY29udmVydGVyc1tjb252Ml07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgaW5zZXJ0IHRoZSBpbnRlcm1lZGlhdGUgZGF0YVR5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoY29udmVydGVyc1tjb252Ml0gIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IHRtcFswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGVzLnVuc2hpZnQodG1wWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBcHBseSBjb252ZXJ0ZXIgKGlmIG5vdCBhbiBlcXVpdmFsZW5jZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb252ICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVW5sZXNzIGVycm9ycyBhcmUgYWxsb3dlZCB0byBidWJibGUsIGNhdGNoIGFuZCByZXR1cm4gdGhlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb252ICYmIHMudGhyb3dzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gY29udihyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBjb252KHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZTogXCJwYXJzZXJlcnJvclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBjb252ID8gZSA6IFwiTm8gY29udmVyc2lvbiBmcm9tIFwiICsgcHJldiArIFwiIHRvIFwiICsgY3VycmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IHN0YXRlOiBcInN1Y2Nlc3NcIiwgZGF0YTogcmVzcG9uc2UgfTtcbiAgICAgICAgfVxuICAgICAgICBqUXVlcnkuZXh0ZW5kKHtcbiAgICAgICAgICAgIC8vIENvdW50ZXIgZm9yIGhvbGRpbmcgdGhlIG51bWJlciBvZiBhY3RpdmUgcXVlcmllc1xuICAgICAgICAgICAgYWN0aXZlOiAwLFxuICAgICAgICAgICAgLy8gTGFzdC1Nb2RpZmllZCBoZWFkZXIgY2FjaGUgZm9yIG5leHQgcmVxdWVzdFxuICAgICAgICAgICAgbGFzdE1vZGlmaWVkOiB7fSxcbiAgICAgICAgICAgIGV0YWc6IHt9LFxuICAgICAgICAgICAgYWpheFNldHRpbmdzOiB7XG4gICAgICAgICAgICAgICAgdXJsOiBsb2NhdGlvbi5ocmVmLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiR0VUXCIsXG4gICAgICAgICAgICAgICAgaXNMb2NhbDogcmxvY2FsUHJvdG9jb2wudGVzdChsb2NhdGlvbi5wcm90b2NvbCksXG4gICAgICAgICAgICAgICAgZ2xvYmFsOiB0cnVlLFxuICAgICAgICAgICAgICAgIHByb2Nlc3NEYXRhOiB0cnVlLFxuICAgICAgICAgICAgICAgIGFzeW5jOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOFwiLFxuICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgdGltZW91dDogMCxcbiAgICAgICAgICAgICAgICBkYXRhOiBudWxsLFxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBudWxsLFxuICAgICAgICAgICAgICAgIHVzZXJuYW1lOiBudWxsLFxuICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBudWxsLFxuICAgICAgICAgICAgICAgIGNhY2hlOiBudWxsLFxuICAgICAgICAgICAgICAgIHRocm93czogZmFsc2UsXG4gICAgICAgICAgICAgICAgdHJhZGl0aW9uYWw6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHt9LFxuICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgYWNjZXB0czoge1xuICAgICAgICAgICAgICAgICAgICBcIipcIjogYWxsVHlwZXMsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IFwidGV4dC9wbGFpblwiLFxuICAgICAgICAgICAgICAgICAgICBodG1sOiBcInRleHQvaHRtbFwiLFxuICAgICAgICAgICAgICAgICAgICB4bWw6IFwiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbFwiLFxuICAgICAgICAgICAgICAgICAgICBqc29uOiBcImFwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdFwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjb250ZW50czoge1xuICAgICAgICAgICAgICAgICAgICB4bWw6IC9cXGJ4bWxcXGIvLFxuICAgICAgICAgICAgICAgICAgICBodG1sOiAvXFxiaHRtbC8sXG4gICAgICAgICAgICAgICAgICAgIGpzb246IC9cXGJqc29uXFxiL1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VGaWVsZHM6IHtcbiAgICAgICAgICAgICAgICAgICAgeG1sOiBcInJlc3BvbnNlWE1MXCIsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IFwicmVzcG9uc2VUZXh0XCIsXG4gICAgICAgICAgICAgICAgICAgIGpzb246IFwicmVzcG9uc2VKU09OXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC8vIERhdGEgY29udmVydGVyc1xuICAgICAgICAgICAgICAgIC8vIEtleXMgc2VwYXJhdGUgc291cmNlIChvciBjYXRjaGFsbCBcIipcIikgYW5kIGRlc3RpbmF0aW9uIHR5cGVzIHdpdGggYSBzaW5nbGUgc3BhY2VcbiAgICAgICAgICAgICAgICBjb252ZXJ0ZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgYW55dGhpbmcgdG8gdGV4dFxuICAgICAgICAgICAgICAgICAgICBcIiogdGV4dFwiOiBTdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgIC8vIFRleHQgdG8gaHRtbCAodHJ1ZSA9IG5vIHRyYW5zZm9ybWF0aW9uKVxuICAgICAgICAgICAgICAgICAgICBcInRleHQgaHRtbFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAvLyBFdmFsdWF0ZSB0ZXh0IGFzIGEganNvbiBleHByZXNzaW9uXG4gICAgICAgICAgICAgICAgICAgIFwidGV4dCBqc29uXCI6IEpTT04ucGFyc2UsXG4gICAgICAgICAgICAgICAgICAgIC8vIFBhcnNlIHRleHQgYXMgeG1sXG4gICAgICAgICAgICAgICAgICAgIFwidGV4dCB4bWxcIjogalF1ZXJ5LnBhcnNlWE1MXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvLyBGb3Igb3B0aW9ucyB0aGF0IHNob3VsZG4ndCBiZSBkZWVwIGV4dGVuZGVkOlxuICAgICAgICAgICAgICAgIC8vIHlvdSBjYW4gYWRkIHlvdXIgb3duIGN1c3RvbSBvcHRpb25zIGhlcmUgaWZcbiAgICAgICAgICAgICAgICAvLyBhbmQgd2hlbiB5b3UgY3JlYXRlIG9uZSB0aGF0IHNob3VsZG4ndCBiZVxuICAgICAgICAgICAgICAgIC8vIGRlZXAgZXh0ZW5kZWQgKHNlZSBhamF4RXh0ZW5kKVxuICAgICAgICAgICAgICAgIGZsYXRPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgIHVybDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dDogdHJ1ZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBDcmVhdGVzIGEgZnVsbCBmbGVkZ2VkIHNldHRpbmdzIG9iamVjdCBpbnRvIHRhcmdldFxuICAgICAgICAgICAgLy8gd2l0aCBib3RoIGFqYXhTZXR0aW5ncyBhbmQgc2V0dGluZ3MgZmllbGRzLlxuICAgICAgICAgICAgLy8gSWYgdGFyZ2V0IGlzIG9taXR0ZWQsIHdyaXRlcyBpbnRvIGFqYXhTZXR0aW5ncy5cbiAgICAgICAgICAgIGFqYXhTZXR1cDogZnVuY3Rpb24gKHRhcmdldCwgc2V0dGluZ3MpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0dGluZ3MgP1xuICAgICAgICAgICAgICAgICAgICAvLyBCdWlsZGluZyBhIHNldHRpbmdzIG9iamVjdFxuICAgICAgICAgICAgICAgICAgICBhamF4RXh0ZW5kKGFqYXhFeHRlbmQodGFyZ2V0LCBqUXVlcnkuYWpheFNldHRpbmdzKSwgc2V0dGluZ3MpIDpcbiAgICAgICAgICAgICAgICAgICAgLy8gRXh0ZW5kaW5nIGFqYXhTZXR0aW5nc1xuICAgICAgICAgICAgICAgICAgICBhamF4RXh0ZW5kKGpRdWVyeS5hamF4U2V0dGluZ3MsIHRhcmdldCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYWpheFByZWZpbHRlcjogYWRkVG9QcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKHByZWZpbHRlcnMpLFxuICAgICAgICAgICAgYWpheFRyYW5zcG9ydDogYWRkVG9QcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKHRyYW5zcG9ydHMpLFxuICAgICAgICAgICAgLy8gTWFpbiBtZXRob2RcbiAgICAgICAgICAgIGFqYXg6IGZ1bmN0aW9uICh1cmwsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiB1cmwgaXMgYW4gb2JqZWN0LCBzaW11bGF0ZSBwcmUtMS41IHNpZ25hdHVyZVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdXJsID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB1cmw7XG4gICAgICAgICAgICAgICAgICAgIHVybCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gRm9yY2Ugb3B0aW9ucyB0byBiZSBhbiBvYmplY3RcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgICAgICAgICB2YXIgdHJhbnNwb3J0LCBcbiAgICAgICAgICAgICAgICAvLyBVUkwgd2l0aG91dCBhbnRpLWNhY2hlIHBhcmFtXG4gICAgICAgICAgICAgICAgY2FjaGVVUkwsIFxuICAgICAgICAgICAgICAgIC8vIFJlc3BvbnNlIGhlYWRlcnNcbiAgICAgICAgICAgICAgICByZXNwb25zZUhlYWRlcnNTdHJpbmcsIHJlc3BvbnNlSGVhZGVycywgXG4gICAgICAgICAgICAgICAgLy8gdGltZW91dCBoYW5kbGVcbiAgICAgICAgICAgICAgICB0aW1lb3V0VGltZXIsIFxuICAgICAgICAgICAgICAgIC8vIFVybCBjbGVhbnVwIHZhclxuICAgICAgICAgICAgICAgIHVybEFuY2hvciwgXG4gICAgICAgICAgICAgICAgLy8gUmVxdWVzdCBzdGF0ZSAoYmVjb21lcyBmYWxzZSB1cG9uIHNlbmQgYW5kIHRydWUgdXBvbiBjb21wbGV0aW9uKVxuICAgICAgICAgICAgICAgIGNvbXBsZXRlZCwgXG4gICAgICAgICAgICAgICAgLy8gVG8ga25vdyBpZiBnbG9iYWwgZXZlbnRzIGFyZSB0byBiZSBkaXNwYXRjaGVkXG4gICAgICAgICAgICAgICAgZmlyZUdsb2JhbHMsIFxuICAgICAgICAgICAgICAgIC8vIExvb3AgdmFyaWFibGVcbiAgICAgICAgICAgICAgICBpLCBcbiAgICAgICAgICAgICAgICAvLyB1bmNhY2hlZCBwYXJ0IG9mIHRoZSB1cmxcbiAgICAgICAgICAgICAgICB1bmNhY2hlZCwgXG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBmaW5hbCBvcHRpb25zIG9iamVjdFxuICAgICAgICAgICAgICAgIHMgPSBqUXVlcnkuYWpheFNldHVwKHt9LCBvcHRpb25zKSwgXG4gICAgICAgICAgICAgICAgLy8gQ2FsbGJhY2tzIGNvbnRleHRcbiAgICAgICAgICAgICAgICBjYWxsYmFja0NvbnRleHQgPSBzLmNvbnRleHQgfHwgcywgXG4gICAgICAgICAgICAgICAgLy8gQ29udGV4dCBmb3IgZ2xvYmFsIGV2ZW50cyBpcyBjYWxsYmFja0NvbnRleHQgaWYgaXQgaXMgYSBET00gbm9kZSBvciBqUXVlcnkgY29sbGVjdGlvblxuICAgICAgICAgICAgICAgIGdsb2JhbEV2ZW50Q29udGV4dCA9IHMuY29udGV4dCAmJlxuICAgICAgICAgICAgICAgICAgICAoY2FsbGJhY2tDb250ZXh0Lm5vZGVUeXBlIHx8IGNhbGxiYWNrQ29udGV4dC5qcXVlcnkpID9cbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KGNhbGxiYWNrQ29udGV4dCkgOlxuICAgICAgICAgICAgICAgICAgICBqUXVlcnkuZXZlbnQsIFxuICAgICAgICAgICAgICAgIC8vIERlZmVycmVkc1xuICAgICAgICAgICAgICAgIGRlZmVycmVkID0galF1ZXJ5LkRlZmVycmVkKCksIGNvbXBsZXRlRGVmZXJyZWQgPSBqUXVlcnkuQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIiksIFxuICAgICAgICAgICAgICAgIC8vIFN0YXR1cy1kZXBlbmRlbnQgY2FsbGJhY2tzXG4gICAgICAgICAgICAgICAgc3RhdHVzQ29kZSA9IHMuc3RhdHVzQ29kZSB8fCB7fSwgXG4gICAgICAgICAgICAgICAgLy8gSGVhZGVycyAodGhleSBhcmUgc2VudCBhbGwgYXQgb25jZSlcbiAgICAgICAgICAgICAgICByZXF1ZXN0SGVhZGVycyA9IHt9LCByZXF1ZXN0SGVhZGVyc05hbWVzID0ge30sIFxuICAgICAgICAgICAgICAgIC8vIERlZmF1bHQgYWJvcnQgbWVzc2FnZVxuICAgICAgICAgICAgICAgIHN0ckFib3J0ID0gXCJjYW5jZWxlZFwiLCBcbiAgICAgICAgICAgICAgICAvLyBGYWtlIHhoclxuICAgICAgICAgICAgICAgIGpxWEhSID0ge1xuICAgICAgICAgICAgICAgICAgICByZWFkeVN0YXRlOiAwLFxuICAgICAgICAgICAgICAgICAgICAvLyBCdWlsZHMgaGVhZGVycyBoYXNodGFibGUgaWYgbmVlZGVkXG4gICAgICAgICAgICAgICAgICAgIGdldFJlc3BvbnNlSGVhZGVyOiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWF0Y2g7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29tcGxldGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZUhlYWRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VIZWFkZXJzID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgobWF0Y2ggPSByaGVhZGVycy5leGVjKHJlc3BvbnNlSGVhZGVyc1N0cmluZykpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZUhlYWRlcnNbbWF0Y2hbMV0udG9Mb3dlckNhc2UoKSArIFwiIFwiXSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHJlc3BvbnNlSGVhZGVyc1ttYXRjaFsxXS50b0xvd2VyQ2FzZSgpICsgXCIgXCJdIHx8IFtdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY29uY2F0KG1hdGNoWzJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaCA9IHJlc3BvbnNlSGVhZGVyc1trZXkudG9Mb3dlckNhc2UoKSArIFwiIFwiXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaCA9PSBudWxsID8gbnVsbCA6IG1hdGNoLmpvaW4oXCIsIFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgLy8gUmF3IHN0cmluZ1xuICAgICAgICAgICAgICAgICAgICBnZXRBbGxSZXNwb25zZUhlYWRlcnM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb21wbGV0ZWQgPyByZXNwb25zZUhlYWRlcnNTdHJpbmcgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAvLyBDYWNoZXMgdGhlIGhlYWRlclxuICAgICAgICAgICAgICAgICAgICBzZXRSZXF1ZXN0SGVhZGVyOiBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb21wbGV0ZWQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgPSByZXF1ZXN0SGVhZGVyc05hbWVzW25hbWUudG9Mb3dlckNhc2UoKV0gPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0SGVhZGVyc05hbWVzW25hbWUudG9Mb3dlckNhc2UoKV0gfHwgbmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0SGVhZGVyc1tuYW1lXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIC8vIE92ZXJyaWRlcyByZXNwb25zZSBjb250ZW50LXR5cGUgaGVhZGVyXG4gICAgICAgICAgICAgICAgICAgIG92ZXJyaWRlTWltZVR5cGU6IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29tcGxldGVkID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLm1pbWVUeXBlID0gdHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAvLyBTdGF0dXMtZGVwZW5kZW50IGNhbGxiYWNrc1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXNDb2RlOiBmdW5jdGlvbiAobWFwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29tcGxldGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEV4ZWN1dGUgdGhlIGFwcHJvcHJpYXRlIGNhbGxiYWNrc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqcVhIUi5hbHdheXMobWFwW2pxWEhSLnN0YXR1c10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTGF6eS1hZGQgdGhlIG5ldyBjYWxsYmFja3MgaW4gYSB3YXkgdGhhdCBwcmVzZXJ2ZXMgb2xkIG9uZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb2RlIGluIG1hcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzQ29kZVtjb2RlXSA9IFtzdGF0dXNDb2RlW2NvZGVdLCBtYXBbY29kZV1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIC8vIENhbmNlbCB0aGUgcmVxdWVzdFxuICAgICAgICAgICAgICAgICAgICBhYm9ydDogZnVuY3Rpb24gKHN0YXR1c1RleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaW5hbFRleHQgPSBzdGF0dXNUZXh0IHx8IHN0ckFib3J0O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyYW5zcG9ydCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zcG9ydC5hYm9ydChmaW5hbFRleHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZG9uZSgwLCBmaW5hbFRleHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8vIEF0dGFjaCBkZWZlcnJlZHNcbiAgICAgICAgICAgICAgICBkZWZlcnJlZC5wcm9taXNlKGpxWEhSKTtcbiAgICAgICAgICAgICAgICAvLyBBZGQgcHJvdG9jb2wgaWYgbm90IHByb3ZpZGVkIChwcmVmaWx0ZXJzIG1pZ2h0IGV4cGVjdCBpdClcbiAgICAgICAgICAgICAgICAvLyBIYW5kbGUgZmFsc3kgdXJsIGluIHRoZSBzZXR0aW5ncyBvYmplY3QgKHRyYWMtMTAwOTM6IGNvbnNpc3RlbmN5IHdpdGggb2xkIHNpZ25hdHVyZSlcbiAgICAgICAgICAgICAgICAvLyBXZSBhbHNvIHVzZSB0aGUgdXJsIHBhcmFtZXRlciBpZiBhdmFpbGFibGVcbiAgICAgICAgICAgICAgICBzLnVybCA9ICgodXJsIHx8IHMudXJsIHx8IGxvY2F0aW9uLmhyZWYpICsgXCJcIilcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UocnByb3RvY29sLCBsb2NhdGlvbi5wcm90b2NvbCArIFwiLy9cIik7XG4gICAgICAgICAgICAgICAgLy8gQWxpYXMgbWV0aG9kIG9wdGlvbiB0byB0eXBlIGFzIHBlciB0aWNrZXQgdHJhYy0xMjAwNFxuICAgICAgICAgICAgICAgIHMudHlwZSA9IG9wdGlvbnMubWV0aG9kIHx8IG9wdGlvbnMudHlwZSB8fCBzLm1ldGhvZCB8fCBzLnR5cGU7XG4gICAgICAgICAgICAgICAgLy8gRXh0cmFjdCBkYXRhVHlwZXMgbGlzdFxuICAgICAgICAgICAgICAgIHMuZGF0YVR5cGVzID0gKHMuZGF0YVR5cGUgfHwgXCIqXCIpLnRvTG93ZXJDYXNlKCkubWF0Y2gocm5vdGh0bWx3aGl0ZSkgfHwgW1wiXCJdO1xuICAgICAgICAgICAgICAgIC8vIEEgY3Jvc3MtZG9tYWluIHJlcXVlc3QgaXMgaW4gb3JkZXIgd2hlbiB0aGUgb3JpZ2luIGRvZXNuJ3QgbWF0Y2ggdGhlIGN1cnJlbnQgb3JpZ2luLlxuICAgICAgICAgICAgICAgIGlmIChzLmNyb3NzRG9tYWluID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdXJsQW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDw9OCAtIDExLCBFZGdlIDEyIC0gMTVcbiAgICAgICAgICAgICAgICAgICAgLy8gSUUgdGhyb3dzIGV4Y2VwdGlvbiBvbiBhY2Nlc3NpbmcgdGhlIGhyZWYgcHJvcGVydHkgaWYgdXJsIGlzIG1hbGZvcm1lZCxcbiAgICAgICAgICAgICAgICAgICAgLy8gZS5nLiBodHRwOi8vZXhhbXBsZS5jb206ODB4L1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXJsQW5jaG9yLmhyZWYgPSBzLnVybDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDw9OCAtIDExIG9ubHlcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFuY2hvcidzIGhvc3QgcHJvcGVydHkgaXNuJ3QgY29ycmVjdGx5IHNldCB3aGVuIHMudXJsIGlzIHJlbGF0aXZlXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmxBbmNob3IuaHJlZiA9IHVybEFuY2hvci5ocmVmO1xuICAgICAgICAgICAgICAgICAgICAgICAgcy5jcm9zc0RvbWFpbiA9IG9yaWdpbkFuY2hvci5wcm90b2NvbCArIFwiLy9cIiArIG9yaWdpbkFuY2hvci5ob3N0ICE9PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybEFuY2hvci5wcm90b2NvbCArIFwiLy9cIiArIHVybEFuY2hvci5ob3N0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGVyZSBpcyBhbiBlcnJvciBwYXJzaW5nIHRoZSBVUkwsIGFzc3VtZSBpdCBpcyBjcm9zc0RvbWFpbixcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGl0IGNhbiBiZSByZWplY3RlZCBieSB0aGUgdHJhbnNwb3J0IGlmIGl0IGlzIGludmFsaWRcbiAgICAgICAgICAgICAgICAgICAgICAgIHMuY3Jvc3NEb21haW4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgZGF0YSBpZiBub3QgYWxyZWFkeSBhIHN0cmluZ1xuICAgICAgICAgICAgICAgIGlmIChzLmRhdGEgJiYgcy5wcm9jZXNzRGF0YSAmJiB0eXBlb2Ygcy5kYXRhICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHMuZGF0YSA9IGpRdWVyeS5wYXJhbShzLmRhdGEsIHMudHJhZGl0aW9uYWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBBcHBseSBwcmVmaWx0ZXJzXG4gICAgICAgICAgICAgICAgaW5zcGVjdFByZWZpbHRlcnNPclRyYW5zcG9ydHMocHJlZmlsdGVycywgcywgb3B0aW9ucywganFYSFIpO1xuICAgICAgICAgICAgICAgIC8vIElmIHJlcXVlc3Qgd2FzIGFib3J0ZWQgaW5zaWRlIGEgcHJlZmlsdGVyLCBzdG9wIHRoZXJlXG4gICAgICAgICAgICAgICAgaWYgKGNvbXBsZXRlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ganFYSFI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFdlIGNhbiBmaXJlIGdsb2JhbCBldmVudHMgYXMgb2Ygbm93IGlmIGFza2VkIHRvXG4gICAgICAgICAgICAgICAgLy8gRG9uJ3QgZmlyZSBldmVudHMgaWYgalF1ZXJ5LmV2ZW50IGlzIHVuZGVmaW5lZCBpbiBhbiBBTUQtdXNhZ2Ugc2NlbmFyaW8gKHRyYWMtMTUxMTgpXG4gICAgICAgICAgICAgICAgZmlyZUdsb2JhbHMgPSBqUXVlcnkuZXZlbnQgJiYgcy5nbG9iYWw7XG4gICAgICAgICAgICAgICAgLy8gV2F0Y2ggZm9yIGEgbmV3IHNldCBvZiByZXF1ZXN0c1xuICAgICAgICAgICAgICAgIGlmIChmaXJlR2xvYmFscyAmJiBqUXVlcnkuYWN0aXZlKysgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmV2ZW50LnRyaWdnZXIoXCJhamF4U3RhcnRcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFVwcGVyY2FzZSB0aGUgdHlwZVxuICAgICAgICAgICAgICAgIHMudHlwZSA9IHMudHlwZS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIC8vIERldGVybWluZSBpZiByZXF1ZXN0IGhhcyBjb250ZW50XG4gICAgICAgICAgICAgICAgcy5oYXNDb250ZW50ID0gIXJub0NvbnRlbnQudGVzdChzLnR5cGUpO1xuICAgICAgICAgICAgICAgIC8vIFNhdmUgdGhlIFVSTCBpbiBjYXNlIHdlJ3JlIHRveWluZyB3aXRoIHRoZSBJZi1Nb2RpZmllZC1TaW5jZVxuICAgICAgICAgICAgICAgIC8vIGFuZC9vciBJZi1Ob25lLU1hdGNoIGhlYWRlciBsYXRlciBvblxuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBoYXNoIHRvIHNpbXBsaWZ5IHVybCBtYW5pcHVsYXRpb25cbiAgICAgICAgICAgICAgICBjYWNoZVVSTCA9IHMudXJsLnJlcGxhY2Uocmhhc2gsIFwiXCIpO1xuICAgICAgICAgICAgICAgIC8vIE1vcmUgb3B0aW9ucyBoYW5kbGluZyBmb3IgcmVxdWVzdHMgd2l0aCBubyBjb250ZW50XG4gICAgICAgICAgICAgICAgaWYgKCFzLmhhc0NvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtZW1iZXIgdGhlIGhhc2ggc28gd2UgY2FuIHB1dCBpdCBiYWNrXG4gICAgICAgICAgICAgICAgICAgIHVuY2FjaGVkID0gcy51cmwuc2xpY2UoY2FjaGVVUkwubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgZGF0YSBpcyBhdmFpbGFibGUgYW5kIHNob3VsZCBiZSBwcm9jZXNzZWQsIGFwcGVuZCBkYXRhIHRvIHVybFxuICAgICAgICAgICAgICAgICAgICBpZiAocy5kYXRhICYmIChzLnByb2Nlc3NEYXRhIHx8IHR5cGVvZiBzLmRhdGEgPT09IFwic3RyaW5nXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWNoZVVSTCArPSAocnF1ZXJ5LnRlc3QoY2FjaGVVUkwpID8gXCImXCIgOiBcIj9cIikgKyBzLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0cmFjLTk2ODI6IHJlbW92ZSBkYXRhIHNvIHRoYXQgaXQncyBub3QgdXNlZCBpbiBhbiBldmVudHVhbCByZXRyeVxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHMuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBBZGQgb3IgdXBkYXRlIGFudGktY2FjaGUgcGFyYW0gaWYgbmVlZGVkXG4gICAgICAgICAgICAgICAgICAgIGlmIChzLmNhY2hlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVVUkwgPSBjYWNoZVVSTC5yZXBsYWNlKHJhbnRpQ2FjaGUsIFwiJDFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB1bmNhY2hlZCA9IChycXVlcnkudGVzdChjYWNoZVVSTCkgPyBcIiZcIiA6IFwiP1wiKSArIFwiXz1cIiArIChub25jZS5ndWlkKyspICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmNhY2hlZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBQdXQgaGFzaCBhbmQgYW50aS1jYWNoZSBvbiB0aGUgVVJMIHRoYXQgd2lsbCBiZSByZXF1ZXN0ZWQgKGdoLTE3MzIpXG4gICAgICAgICAgICAgICAgICAgIHMudXJsID0gY2FjaGVVUkwgKyB1bmNhY2hlZDtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hhbmdlICclMjAnIHRvICcrJyBpZiB0aGlzIGlzIGVuY29kZWQgZm9ybSBib2R5IGNvbnRlbnQgKGdoLTI2NTgpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHMuZGF0YSAmJiBzLnByb2Nlc3NEYXRhICYmXG4gICAgICAgICAgICAgICAgICAgIChzLmNvbnRlbnRUeXBlIHx8IFwiXCIpLmluZGV4T2YoXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIikgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcy5kYXRhID0gcy5kYXRhLnJlcGxhY2UocjIwLCBcIitcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgSWYtTW9kaWZpZWQtU2luY2UgYW5kL29yIElmLU5vbmUtTWF0Y2ggaGVhZGVyLCBpZiBpbiBpZk1vZGlmaWVkIG1vZGUuXG4gICAgICAgICAgICAgICAgaWYgKHMuaWZNb2RpZmllZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoalF1ZXJ5Lmxhc3RNb2RpZmllZFtjYWNoZVVSTF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoXCJJZi1Nb2RpZmllZC1TaW5jZVwiLCBqUXVlcnkubGFzdE1vZGlmaWVkW2NhY2hlVVJMXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGpRdWVyeS5ldGFnW2NhY2hlVVJMXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAganFYSFIuc2V0UmVxdWVzdEhlYWRlcihcIklmLU5vbmUtTWF0Y2hcIiwgalF1ZXJ5LmV0YWdbY2FjaGVVUkxdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBTZXQgdGhlIGNvcnJlY3QgaGVhZGVyLCBpZiBkYXRhIGlzIGJlaW5nIHNlbnRcbiAgICAgICAgICAgICAgICBpZiAocy5kYXRhICYmIHMuaGFzQ29udGVudCAmJiBzLmNvbnRlbnRUeXBlICE9PSBmYWxzZSB8fCBvcHRpb25zLmNvbnRlbnRUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIiwgcy5jb250ZW50VHlwZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgQWNjZXB0cyBoZWFkZXIgZm9yIHRoZSBzZXJ2ZXIsIGRlcGVuZGluZyBvbiB0aGUgZGF0YVR5cGVcbiAgICAgICAgICAgICAgICBqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKFwiQWNjZXB0XCIsIHMuZGF0YVR5cGVzWzBdICYmIHMuYWNjZXB0c1tzLmRhdGFUeXBlc1swXV0gP1xuICAgICAgICAgICAgICAgICAgICBzLmFjY2VwdHNbcy5kYXRhVHlwZXNbMF1dICtcbiAgICAgICAgICAgICAgICAgICAgICAgIChzLmRhdGFUeXBlc1swXSAhPT0gXCIqXCIgPyBcIiwgXCIgKyBhbGxUeXBlcyArIFwiOyBxPTAuMDFcIiA6IFwiXCIpIDpcbiAgICAgICAgICAgICAgICAgICAgcy5hY2NlcHRzW1wiKlwiXSk7XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIGhlYWRlcnMgb3B0aW9uXG4gICAgICAgICAgICAgICAgZm9yIChpIGluIHMuaGVhZGVycykge1xuICAgICAgICAgICAgICAgICAgICBqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKGksIHMuaGVhZGVyc1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEFsbG93IGN1c3RvbSBoZWFkZXJzL21pbWV0eXBlcyBhbmQgZWFybHkgYWJvcnRcbiAgICAgICAgICAgICAgICBpZiAocy5iZWZvcmVTZW5kICYmXG4gICAgICAgICAgICAgICAgICAgIChzLmJlZm9yZVNlbmQuY2FsbChjYWxsYmFja0NvbnRleHQsIGpxWEhSLCBzKSA9PT0gZmFsc2UgfHwgY29tcGxldGVkKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBBYm9ydCBpZiBub3QgZG9uZSBhbHJlYWR5IGFuZCByZXR1cm5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGpxWEhSLmFib3J0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEFib3J0aW5nIGlzIG5vIGxvbmdlciBhIGNhbmNlbGxhdGlvblxuICAgICAgICAgICAgICAgIHN0ckFib3J0ID0gXCJhYm9ydFwiO1xuICAgICAgICAgICAgICAgIC8vIEluc3RhbGwgY2FsbGJhY2tzIG9uIGRlZmVycmVkc1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlRGVmZXJyZWQuYWRkKHMuY29tcGxldGUpO1xuICAgICAgICAgICAgICAgIGpxWEhSLmRvbmUocy5zdWNjZXNzKTtcbiAgICAgICAgICAgICAgICBqcVhIUi5mYWlsKHMuZXJyb3IpO1xuICAgICAgICAgICAgICAgIC8vIEdldCB0cmFuc3BvcnRcbiAgICAgICAgICAgICAgICB0cmFuc3BvcnQgPSBpbnNwZWN0UHJlZmlsdGVyc09yVHJhbnNwb3J0cyh0cmFuc3BvcnRzLCBzLCBvcHRpb25zLCBqcVhIUik7XG4gICAgICAgICAgICAgICAgLy8gSWYgbm8gdHJhbnNwb3J0LCB3ZSBhdXRvLWFib3J0XG4gICAgICAgICAgICAgICAgaWYgKCF0cmFuc3BvcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9uZSgtMSwgXCJObyBUcmFuc3BvcnRcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBqcVhIUi5yZWFkeVN0YXRlID0gMTtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2VuZCBnbG9iYWwgZXZlbnRcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpcmVHbG9iYWxzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnbG9iYWxFdmVudENvbnRleHQudHJpZ2dlcihcImFqYXhTZW5kXCIsIFtqcVhIUiwgc10pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHJlcXVlc3Qgd2FzIGFib3J0ZWQgaW5zaWRlIGFqYXhTZW5kLCBzdG9wIHRoZXJlXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb21wbGV0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBqcVhIUjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBUaW1lb3V0XG4gICAgICAgICAgICAgICAgICAgIGlmIChzLmFzeW5jICYmIHMudGltZW91dCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXRUaW1lciA9IHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqcVhIUi5hYm9ydChcInRpbWVvdXRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBzLnRpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zcG9ydC5zZW5kKHJlcXVlc3RIZWFkZXJzLCBkb25lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmV0aHJvdyBwb3N0LWNvbXBsZXRpb24gZXhjZXB0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBsZXRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBQcm9wYWdhdGUgb3RoZXJzIGFzIHJlc3VsdHNcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbmUoLTEsIGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIENhbGxiYWNrIGZvciB3aGVuIGV2ZXJ5dGhpbmcgaXMgZG9uZVxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGRvbmUoc3RhdHVzLCBuYXRpdmVTdGF0dXNUZXh0LCByZXNwb25zZXMsIGhlYWRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlzU3VjY2Vzcywgc3VjY2VzcywgZXJyb3IsIHJlc3BvbnNlLCBtb2RpZmllZCwgc3RhdHVzVGV4dCA9IG5hdGl2ZVN0YXR1c1RleHQ7XG4gICAgICAgICAgICAgICAgICAgIC8vIElnbm9yZSByZXBlYXQgaW52b2NhdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBsZXRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIC8vIENsZWFyIHRpbWVvdXQgaWYgaXQgZXhpc3RzXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aW1lb3V0VGltZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGltZW91dFRpbWVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBEZXJlZmVyZW5jZSB0cmFuc3BvcnQgZm9yIGVhcmx5IGdhcmJhZ2UgY29sbGVjdGlvblxuICAgICAgICAgICAgICAgICAgICAvLyAobm8gbWF0dGVyIGhvdyBsb25nIHRoZSBqcVhIUiBvYmplY3Qgd2lsbCBiZSB1c2VkKVxuICAgICAgICAgICAgICAgICAgICB0cmFuc3BvcnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIC8vIENhY2hlIHJlc3BvbnNlIGhlYWRlcnNcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VIZWFkZXJzU3RyaW5nID0gaGVhZGVycyB8fCBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAvLyBTZXQgcmVhZHlTdGF0ZVxuICAgICAgICAgICAgICAgICAgICBqcVhIUi5yZWFkeVN0YXRlID0gc3RhdHVzID4gMCA/IDQgOiAwO1xuICAgICAgICAgICAgICAgICAgICAvLyBEZXRlcm1pbmUgaWYgc3VjY2Vzc2Z1bFxuICAgICAgICAgICAgICAgICAgICBpc1N1Y2Nlc3MgPSBzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8IDMwMCB8fCBzdGF0dXMgPT09IDMwNDtcbiAgICAgICAgICAgICAgICAgICAgLy8gR2V0IHJlc3BvbnNlIGRhdGFcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBhamF4SGFuZGxlUmVzcG9uc2VzKHMsIGpxWEhSLCByZXNwb25zZXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFVzZSBhIG5vb3AgY29udmVydGVyIGZvciBtaXNzaW5nIHNjcmlwdCBidXQgbm90IGlmIGpzb25wXG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNTdWNjZXNzICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuaW5BcnJheShcInNjcmlwdFwiLCBzLmRhdGFUeXBlcykgPiAtMSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmluQXJyYXkoXCJqc29uXCIsIHMuZGF0YVR5cGVzKSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMuY29udmVydGVyc1tcInRleHQgc2NyaXB0XCJdID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgbm8gbWF0dGVyIHdoYXQgKHRoYXQgd2F5IHJlc3BvbnNlWFhYIGZpZWxkcyBhcmUgYWx3YXlzIHNldClcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBhamF4Q29udmVydChzLCByZXNwb25zZSwganFYSFIsIGlzU3VjY2Vzcyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHN1Y2Nlc3NmdWwsIGhhbmRsZSB0eXBlIGNoYWluaW5nXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1N1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgSWYtTW9kaWZpZWQtU2luY2UgYW5kL29yIElmLU5vbmUtTWF0Y2ggaGVhZGVyLCBpZiBpbiBpZk1vZGlmaWVkIG1vZGUuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocy5pZk1vZGlmaWVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kaWZpZWQgPSBqcVhIUi5nZXRSZXNwb25zZUhlYWRlcihcIkxhc3QtTW9kaWZpZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGlmaWVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5sYXN0TW9kaWZpZWRbY2FjaGVVUkxdID0gbW9kaWZpZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGlmaWVkID0ganFYSFIuZ2V0UmVzcG9uc2VIZWFkZXIoXCJldGFnXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb2RpZmllZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuZXRhZ1tjYWNoZVVSTF0gPSBtb2RpZmllZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiBubyBjb250ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdHVzID09PSAyMDQgfHwgcy50eXBlID09PSBcIkhFQURcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c1RleHQgPSBcIm5vY29udGVudFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIG5vdCBtb2RpZmllZFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc3RhdHVzID09PSAzMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNUZXh0ID0gXCJub3Rtb2RpZmllZFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHdlIGhhdmUgZGF0YSwgbGV0J3MgY29udmVydCBpdFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzVGV4dCA9IHJlc3BvbnNlLnN0YXRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MgPSByZXNwb25zZS5kYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yID0gcmVzcG9uc2UuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNTdWNjZXNzID0gIWVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXh0cmFjdCBlcnJvciBmcm9tIHN0YXR1c1RleHQgYW5kIG5vcm1hbGl6ZSBmb3Igbm9uLWFib3J0c1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IgPSBzdGF0dXNUZXh0O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXR1cyB8fCAhc3RhdHVzVGV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c1RleHQgPSBcImVycm9yXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXR1cyA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gU2V0IGRhdGEgZm9yIHRoZSBmYWtlIHhociBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAganFYSFIuc3RhdHVzID0gc3RhdHVzO1xuICAgICAgICAgICAgICAgICAgICBqcVhIUi5zdGF0dXNUZXh0ID0gKG5hdGl2ZVN0YXR1c1RleHQgfHwgc3RhdHVzVGV4dCkgKyBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAvLyBTdWNjZXNzL0Vycm9yXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1N1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmVXaXRoKGNhbGxiYWNrQ29udGV4dCwgW3N1Y2Nlc3MsIHN0YXR1c1RleHQsIGpxWEhSXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3RXaXRoKGNhbGxiYWNrQ29udGV4dCwgW2pxWEhSLCBzdGF0dXNUZXh0LCBlcnJvcl0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFN0YXR1cy1kZXBlbmRlbnQgY2FsbGJhY2tzXG4gICAgICAgICAgICAgICAgICAgIGpxWEhSLnN0YXR1c0NvZGUoc3RhdHVzQ29kZSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1c0NvZGUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaXJlR2xvYmFscykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYmFsRXZlbnRDb250ZXh0LnRyaWdnZXIoaXNTdWNjZXNzID8gXCJhamF4U3VjY2Vzc1wiIDogXCJhamF4RXJyb3JcIiwgW2pxWEhSLCBzLCBpc1N1Y2Nlc3MgPyBzdWNjZXNzIDogZXJyb3JdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBDb21wbGV0ZVxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZURlZmVycmVkLmZpcmVXaXRoKGNhbGxiYWNrQ29udGV4dCwgW2pxWEhSLCBzdGF0dXNUZXh0XSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaXJlR2xvYmFscykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYmFsRXZlbnRDb250ZXh0LnRyaWdnZXIoXCJhamF4Q29tcGxldGVcIiwgW2pxWEhSLCBzXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBIYW5kbGUgdGhlIGdsb2JhbCBBSkFYIGNvdW50ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKC0talF1ZXJ5LmFjdGl2ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuZXZlbnQudHJpZ2dlcihcImFqYXhTdG9wXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBqcVhIUjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRKU09OOiBmdW5jdGlvbiAodXJsLCBkYXRhLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHJldHVybiBqUXVlcnkuZ2V0KHVybCwgZGF0YSwgY2FsbGJhY2ssIFwianNvblwiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRTY3JpcHQ6IGZ1bmN0aW9uICh1cmwsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGpRdWVyeS5nZXQodXJsLCB1bmRlZmluZWQsIGNhbGxiYWNrLCBcInNjcmlwdFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGpRdWVyeS5lYWNoKFtcImdldFwiLCBcInBvc3RcIl0sIGZ1bmN0aW9uIChfaSwgbWV0aG9kKSB7XG4gICAgICAgICAgICBqUXVlcnlbbWV0aG9kXSA9IGZ1bmN0aW9uICh1cmwsIGRhdGEsIGNhbGxiYWNrLCB0eXBlKSB7XG4gICAgICAgICAgICAgICAgLy8gU2hpZnQgYXJndW1lbnRzIGlmIGRhdGEgYXJndW1lbnQgd2FzIG9taXR0ZWRcbiAgICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICB0eXBlID0gdHlwZSB8fCBjYWxsYmFjaztcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgPSBkYXRhO1xuICAgICAgICAgICAgICAgICAgICBkYXRhID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBUaGUgdXJsIGNhbiBiZSBhbiBvcHRpb25zIG9iamVjdCAod2hpY2ggdGhlbiBtdXN0IGhhdmUgLnVybClcbiAgICAgICAgICAgICAgICByZXR1cm4galF1ZXJ5LmFqYXgoalF1ZXJ5LmV4dGVuZCh7XG4gICAgICAgICAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBtZXRob2QsXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiB0eXBlLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBjYWxsYmFja1xuICAgICAgICAgICAgICAgIH0sIGpRdWVyeS5pc1BsYWluT2JqZWN0KHVybCkgJiYgdXJsKSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgalF1ZXJ5LmFqYXhQcmVmaWx0ZXIoZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgICAgIHZhciBpO1xuICAgICAgICAgICAgZm9yIChpIGluIHMuaGVhZGVycykge1xuICAgICAgICAgICAgICAgIGlmIChpLnRvTG93ZXJDYXNlKCkgPT09IFwiY29udGVudC10eXBlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcy5jb250ZW50VHlwZSA9IHMuaGVhZGVyc1tpXSB8fCBcIlwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGpRdWVyeS5fZXZhbFVybCA9IGZ1bmN0aW9uICh1cmwsIG9wdGlvbnMsIGRvYykge1xuICAgICAgICAgICAgcmV0dXJuIGpRdWVyeS5hamF4KHtcbiAgICAgICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgICAgICAvLyBNYWtlIHRoaXMgZXhwbGljaXQsIHNpbmNlIHVzZXIgY2FuIG92ZXJyaWRlIHRoaXMgdGhyb3VnaCBhamF4U2V0dXAgKHRyYWMtMTEyNjQpXG4gICAgICAgICAgICAgICAgdHlwZTogXCJHRVRcIixcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogXCJzY3JpcHRcIixcbiAgICAgICAgICAgICAgICBjYWNoZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBhc3luYzogZmFsc2UsXG4gICAgICAgICAgICAgICAgZ2xvYmFsOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAvLyBPbmx5IGV2YWx1YXRlIHRoZSByZXNwb25zZSBpZiBpdCBpcyBzdWNjZXNzZnVsIChnaC00MTI2KVxuICAgICAgICAgICAgICAgIC8vIGRhdGFGaWx0ZXIgaXMgbm90IGludm9rZWQgZm9yIGZhaWx1cmUgcmVzcG9uc2VzLCBzbyB1c2luZyBpdCBpbnN0ZWFkXG4gICAgICAgICAgICAgICAgLy8gb2YgdGhlIGRlZmF1bHQgY29udmVydGVyIGlzIGtsdWRneSBidXQgaXQgd29ya3MuXG4gICAgICAgICAgICAgICAgY29udmVydGVyczoge1xuICAgICAgICAgICAgICAgICAgICBcInRleHQgc2NyaXB0XCI6IGZ1bmN0aW9uICgpIHsgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZGF0YUZpbHRlcjogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeS5nbG9iYWxFdmFsKHJlc3BvbnNlLCBvcHRpb25zLCBkb2MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBqUXVlcnkuZm4uZXh0ZW5kKHtcbiAgICAgICAgICAgIHdyYXBBbGw6IGZ1bmN0aW9uIChodG1sKSB7XG4gICAgICAgICAgICAgICAgdmFyIHdyYXA7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXNbMF0pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oaHRtbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0bWwgPSBodG1sLmNhbGwodGhpc1swXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGVsZW1lbnRzIHRvIHdyYXAgdGhlIHRhcmdldCBhcm91bmRcbiAgICAgICAgICAgICAgICAgICAgd3JhcCA9IGpRdWVyeShodG1sLCB0aGlzWzBdLm93bmVyRG9jdW1lbnQpLmVxKDApLmNsb25lKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpc1swXS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3cmFwLmluc2VydEJlZm9yZSh0aGlzWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB3cmFwLm1hcChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbSA9IHRoaXM7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoZWxlbS5maXJzdEVsZW1lbnRDaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0gPSBlbGVtLmZpcnN0RWxlbWVudENoaWxkO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZW07XG4gICAgICAgICAgICAgICAgICAgIH0pLmFwcGVuZCh0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgd3JhcElubmVyOiBmdW5jdGlvbiAoaHRtbCkge1xuICAgICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGh0bWwpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeSh0aGlzKS53cmFwSW5uZXIoaHRtbC5jYWxsKHRoaXMsIGkpKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZiA9IGpRdWVyeSh0aGlzKSwgY29udGVudHMgPSBzZWxmLmNvbnRlbnRzKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRzLndyYXBBbGwoaHRtbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmFwcGVuZChodG1sKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHdyYXA6IGZ1bmN0aW9uIChodG1sKSB7XG4gICAgICAgICAgICAgICAgdmFyIGh0bWxJc0Z1bmN0aW9uID0gaXNGdW5jdGlvbihodG1sKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeSh0aGlzKS53cmFwQWxsKGh0bWxJc0Z1bmN0aW9uID8gaHRtbC5jYWxsKHRoaXMsIGkpIDogaHRtbCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdW53cmFwOiBmdW5jdGlvbiAoc2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudChzZWxlY3Rvcikubm90KFwiYm9keVwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBqUXVlcnkuZXhwci5wc2V1ZG9zLmhpZGRlbiA9IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICByZXR1cm4gIWpRdWVyeS5leHByLnBzZXVkb3MudmlzaWJsZShlbGVtKTtcbiAgICAgICAgfTtcbiAgICAgICAgalF1ZXJ5LmV4cHIucHNldWRvcy52aXNpYmxlID0gZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgIHJldHVybiAhIShlbGVtLm9mZnNldFdpZHRoIHx8IGVsZW0ub2Zmc2V0SGVpZ2h0IHx8IGVsZW0uZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGgpO1xuICAgICAgICB9O1xuICAgICAgICBqUXVlcnkuYWpheFNldHRpbmdzLnhociA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyB3aW5kb3cuWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7IH1cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHhoclN1Y2Nlc3NTdGF0dXMgPSB7XG4gICAgICAgICAgICAvLyBGaWxlIHByb3RvY29sIGFsd2F5cyB5aWVsZHMgc3RhdHVzIGNvZGUgMCwgYXNzdW1lIDIwMFxuICAgICAgICAgICAgMDogMjAwLFxuICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgPD05IG9ubHlcbiAgICAgICAgICAgIC8vIHRyYWMtMTQ1MDogc29tZXRpbWVzIElFIHJldHVybnMgMTIyMyB3aGVuIGl0IHNob3VsZCBiZSAyMDRcbiAgICAgICAgICAgIDEyMjM6IDIwNFxuICAgICAgICB9LCB4aHJTdXBwb3J0ZWQgPSBqUXVlcnkuYWpheFNldHRpbmdzLnhocigpO1xuICAgICAgICBzdXBwb3J0LmNvcnMgPSAhIXhoclN1cHBvcnRlZCAmJiAoXCJ3aXRoQ3JlZGVudGlhbHNcIiBpbiB4aHJTdXBwb3J0ZWQpO1xuICAgICAgICBzdXBwb3J0LmFqYXggPSB4aHJTdXBwb3J0ZWQgPSAhIXhoclN1cHBvcnRlZDtcbiAgICAgICAgalF1ZXJ5LmFqYXhUcmFuc3BvcnQoZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciBjYWxsYmFjaywgZXJyb3JDYWxsYmFjaztcbiAgICAgICAgICAgIC8vIENyb3NzIGRvbWFpbiBvbmx5IGFsbG93ZWQgaWYgc3VwcG9ydGVkIHRocm91Z2ggWE1MSHR0cFJlcXVlc3RcbiAgICAgICAgICAgIGlmIChzdXBwb3J0LmNvcnMgfHwgeGhyU3VwcG9ydGVkICYmICFvcHRpb25zLmNyb3NzRG9tYWluKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgc2VuZDogZnVuY3Rpb24gKGhlYWRlcnMsIGNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaSwgeGhyID0gb3B0aW9ucy54aHIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHhoci5vcGVuKG9wdGlvbnMudHlwZSwgb3B0aW9ucy51cmwsIG9wdGlvbnMuYXN5bmMsIG9wdGlvbnMudXNlcm5hbWUsIG9wdGlvbnMucGFzc3dvcmQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXBwbHkgY3VzdG9tIGZpZWxkcyBpZiBwcm92aWRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMueGhyRmllbGRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpIGluIG9wdGlvbnMueGhyRmllbGRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhocltpXSA9IG9wdGlvbnMueGhyRmllbGRzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE92ZXJyaWRlIG1pbWUgdHlwZSBpZiBuZWVkZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm1pbWVUeXBlICYmIHhoci5vdmVycmlkZU1pbWVUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeGhyLm92ZXJyaWRlTWltZVR5cGUob3B0aW9ucy5taW1lVHlwZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBYLVJlcXVlc3RlZC1XaXRoIGhlYWRlclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRm9yIGNyb3NzLWRvbWFpbiByZXF1ZXN0cywgc2VlaW5nIGFzIGNvbmRpdGlvbnMgZm9yIGEgcHJlZmxpZ2h0IGFyZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWtpbiB0byBhIGppZ3NhdyBwdXp6bGUsIHdlIHNpbXBseSBuZXZlciBzZXQgaXQgdG8gYmUgc3VyZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIChpdCBjYW4gYWx3YXlzIGJlIHNldCBvbiBhIHBlci1yZXF1ZXN0IGJhc2lzIG9yIGV2ZW4gdXNpbmcgYWpheFNldHVwKVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRm9yIHNhbWUtZG9tYWluIHJlcXVlc3RzLCB3b24ndCBjaGFuZ2UgaGVhZGVyIGlmIGFscmVhZHkgcHJvdmlkZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMuY3Jvc3NEb21haW4gJiYgIWhlYWRlcnNbXCJYLVJlcXVlc3RlZC1XaXRoXCJdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1tcIlgtUmVxdWVzdGVkLVdpdGhcIl0gPSBcIlhNTEh0dHBSZXF1ZXN0XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXQgaGVhZGVyc1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpIGluIGhlYWRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihpLCBoZWFkZXJzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENhbGxiYWNrXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayA9IGVycm9yQ2FsbGJhY2sgPSB4aHIub25sb2FkID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4aHIub25lcnJvciA9IHhoci5vbmFib3J0ID0geGhyLm9udGltZW91dCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IFwiYWJvcnRcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhoci5hYm9ydCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gXCJlcnJvclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgPD05IG9ubHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPbiBhIG1hbnVhbCBuYXRpdmUgYWJvcnQsIElFOSB0aHJvd3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlcnJvcnMgb24gYW55IHByb3BlcnR5IGFjY2VzcyB0aGF0IGlzIG5vdCByZWFkeVN0YXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB4aHIuc3RhdHVzICE9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlKDAsIFwiZXJyb3JcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmlsZTogcHJvdG9jb2wgYWx3YXlzIHlpZWxkcyBzdGF0dXMgMDsgc2VlIHRyYWMtODYwNSwgdHJhYy0xNDIwN1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4aHIuc3RhdHVzLCB4aHIuc3RhdHVzVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGUoeGhyU3VjY2Vzc1N0YXR1c1t4aHIuc3RhdHVzXSB8fCB4aHIuc3RhdHVzLCB4aHIuc3RhdHVzVGV4dCwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgPD05IG9ubHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJRTkgaGFzIG5vIFhIUjIgYnV0IHRocm93cyBvbiBiaW5hcnkgKHRyYWMtMTE0MjYpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRm9yIFhIUjIgbm9uLXRleHQsIGxldCB0aGUgY2FsbGVyIGhhbmRsZSBpdCAoZ2gtMjQ5OClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoeGhyLnJlc3BvbnNlVHlwZSB8fCBcInRleHRcIikgIT09IFwidGV4dFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiB4aHIucmVzcG9uc2VUZXh0ICE9PSBcInN0cmluZ1wiID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBiaW5hcnk6IHhoci5yZXNwb25zZSB9IDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB0ZXh0OiB4aHIucmVzcG9uc2VUZXh0IH0sIHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIExpc3RlbiB0byBldmVudHNcbiAgICAgICAgICAgICAgICAgICAgICAgIHhoci5vbmxvYWQgPSBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JDYWxsYmFjayA9IHhoci5vbmVycm9yID0geGhyLm9udGltZW91dCA9IGNhbGxiYWNrKFwiZXJyb3JcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA5IG9ubHlcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVzZSBvbnJlYWR5c3RhdGVjaGFuZ2UgdG8gcmVwbGFjZSBvbmFib3J0XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0byBoYW5kbGUgdW5jYXVnaHQgYWJvcnRzXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoeGhyLm9uYWJvcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhoci5vbmFib3J0ID0gZXJyb3JDYWxsYmFjaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIHJlYWR5U3RhdGUgYmVmb3JlIHRpbWVvdXQgYXMgaXQgY2hhbmdlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFsbG93IG9uZXJyb3IgdG8gYmUgY2FsbGVkIGZpcnN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYnV0IHRoYXQgd2lsbCBub3QgaGFuZGxlIGEgbmF0aXZlIGFib3J0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBbHNvLCBzYXZlIGVycm9yQ2FsbGJhY2sgdG8gYSB2YXJpYWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYXMgeGhyLm9uZXJyb3IgY2Fubm90IGJlIGFjY2Vzc2VkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yQ2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgdGhlIGFib3J0IGNhbGxiYWNrXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayA9IGNhbGxiYWNrKFwiYWJvcnRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvIHNlbmQgdGhlIHJlcXVlc3QgKHRoaXMgbWF5IHJhaXNlIGFuIGV4Y2VwdGlvbilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4aHIuc2VuZChvcHRpb25zLmhhc0NvbnRlbnQgJiYgb3B0aW9ucy5kYXRhIHx8IG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0cmFjLTE0NjgzOiBPbmx5IHJldGhyb3cgaWYgdGhpcyBoYXNuJ3QgYmVlbiBub3RpZmllZCBhcyBhbiBlcnJvciB5ZXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGFib3J0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFByZXZlbnQgYXV0by1leGVjdXRpb24gb2Ygc2NyaXB0cyB3aGVuIG5vIGV4cGxpY2l0IGRhdGFUeXBlIHdhcyBwcm92aWRlZCAoU2VlIGdoLTI0MzIpXG4gICAgICAgIGpRdWVyeS5hamF4UHJlZmlsdGVyKGZ1bmN0aW9uIChzKSB7XG4gICAgICAgICAgICBpZiAocy5jcm9zc0RvbWFpbikge1xuICAgICAgICAgICAgICAgIHMuY29udGVudHMuc2NyaXB0ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBJbnN0YWxsIHNjcmlwdCBkYXRhVHlwZVxuICAgICAgICBqUXVlcnkuYWpheFNldHVwKHtcbiAgICAgICAgICAgIGFjY2VwdHM6IHtcbiAgICAgICAgICAgICAgICBzY3JpcHQ6IFwidGV4dC9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCBcIiArXG4gICAgICAgICAgICAgICAgICAgIFwiYXBwbGljYXRpb24vZWNtYXNjcmlwdCwgYXBwbGljYXRpb24veC1lY21hc2NyaXB0XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb250ZW50czoge1xuICAgICAgICAgICAgICAgIHNjcmlwdDogL1xcYig/OmphdmF8ZWNtYSlzY3JpcHRcXGIvXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29udmVydGVyczoge1xuICAgICAgICAgICAgICAgIFwidGV4dCBzY3JpcHRcIjogZnVuY3Rpb24gKHRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5Lmdsb2JhbEV2YWwodGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZXh0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIEhhbmRsZSBjYWNoZSdzIHNwZWNpYWwgY2FzZSBhbmQgY3Jvc3NEb21haW5cbiAgICAgICAgalF1ZXJ5LmFqYXhQcmVmaWx0ZXIoXCJzY3JpcHRcIiwgZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgICAgIGlmIChzLmNhY2hlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBzLmNhY2hlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocy5jcm9zc0RvbWFpbikge1xuICAgICAgICAgICAgICAgIHMudHlwZSA9IFwiR0VUXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBCaW5kIHNjcmlwdCB0YWcgaGFjayB0cmFuc3BvcnRcbiAgICAgICAgalF1ZXJ5LmFqYXhUcmFuc3BvcnQoXCJzY3JpcHRcIiwgZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgICAgIC8vIFRoaXMgdHJhbnNwb3J0IG9ubHkgZGVhbHMgd2l0aCBjcm9zcyBkb21haW4gb3IgZm9yY2VkLWJ5LWF0dHJzIHJlcXVlc3RzXG4gICAgICAgICAgICBpZiAocy5jcm9zc0RvbWFpbiB8fCBzLnNjcmlwdEF0dHJzKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNjcmlwdCwgY2FsbGJhY2s7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgc2VuZDogZnVuY3Rpb24gKF8sIGNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JpcHQgPSBqUXVlcnkoXCI8c2NyaXB0PlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKHMuc2NyaXB0QXR0cnMgfHwge30pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnByb3AoeyBjaGFyc2V0OiBzLnNjcmlwdENoYXJzZXQsIHNyYzogcy51cmwgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAub24oXCJsb2FkIGVycm9yXCIsIGNhbGxiYWNrID0gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcmlwdC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZShldnQudHlwZSA9PT0gXCJlcnJvclwiID8gNDA0IDogMjAwLCBldnQudHlwZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVc2UgbmF0aXZlIERPTSBtYW5pcHVsYXRpb24gdG8gYXZvaWQgb3VyIGRvbU1hbmlwIEFKQVggdHJpY2tlcnlcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0WzBdKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYWJvcnQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIG9sZENhbGxiYWNrcyA9IFtdLCByanNvbnAgPSAvKD0pXFw/KD89JnwkKXxcXD9cXD8vO1xuICAgICAgICAvLyBEZWZhdWx0IGpzb25wIHNldHRpbmdzXG4gICAgICAgIGpRdWVyeS5hamF4U2V0dXAoe1xuICAgICAgICAgICAganNvbnA6IFwiY2FsbGJhY2tcIixcbiAgICAgICAgICAgIGpzb25wQ2FsbGJhY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2FsbGJhY2sgPSBvbGRDYWxsYmFja3MucG9wKCkgfHwgKGpRdWVyeS5leHBhbmRvICsgXCJfXCIgKyAobm9uY2UuZ3VpZCsrKSk7XG4gICAgICAgICAgICAgICAgdGhpc1tjYWxsYmFja10gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIERldGVjdCwgbm9ybWFsaXplIG9wdGlvbnMgYW5kIGluc3RhbGwgY2FsbGJhY2tzIGZvciBqc29ucCByZXF1ZXN0c1xuICAgICAgICBqUXVlcnkuYWpheFByZWZpbHRlcihcImpzb24ganNvbnBcIiwgZnVuY3Rpb24gKHMsIG9yaWdpbmFsU2V0dGluZ3MsIGpxWEhSKSB7XG4gICAgICAgICAgICB2YXIgY2FsbGJhY2tOYW1lLCBvdmVyd3JpdHRlbiwgcmVzcG9uc2VDb250YWluZXIsIGpzb25Qcm9wID0gcy5qc29ucCAhPT0gZmFsc2UgJiYgKHJqc29ucC50ZXN0KHMudXJsKSA/XG4gICAgICAgICAgICAgICAgXCJ1cmxcIiA6XG4gICAgICAgICAgICAgICAgdHlwZW9mIHMuZGF0YSA9PT0gXCJzdHJpbmdcIiAmJlxuICAgICAgICAgICAgICAgICAgICAocy5jb250ZW50VHlwZSB8fCBcIlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIikgPT09IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgcmpzb25wLnRlc3Qocy5kYXRhKSAmJiBcImRhdGFcIik7XG4gICAgICAgICAgICAvLyBIYW5kbGUgaWZmIHRoZSBleHBlY3RlZCBkYXRhIHR5cGUgaXMgXCJqc29ucFwiIG9yIHdlIGhhdmUgYSBwYXJhbWV0ZXIgdG8gc2V0XG4gICAgICAgICAgICBpZiAoanNvblByb3AgfHwgcy5kYXRhVHlwZXNbMF0gPT09IFwianNvbnBcIikge1xuICAgICAgICAgICAgICAgIC8vIEdldCBjYWxsYmFjayBuYW1lLCByZW1lbWJlcmluZyBwcmVleGlzdGluZyB2YWx1ZSBhc3NvY2lhdGVkIHdpdGggaXRcbiAgICAgICAgICAgICAgICBjYWxsYmFja05hbWUgPSBzLmpzb25wQ2FsbGJhY2sgPSBpc0Z1bmN0aW9uKHMuanNvbnBDYWxsYmFjaykgP1xuICAgICAgICAgICAgICAgICAgICBzLmpzb25wQ2FsbGJhY2soKSA6XG4gICAgICAgICAgICAgICAgICAgIHMuanNvbnBDYWxsYmFjaztcbiAgICAgICAgICAgICAgICAvLyBJbnNlcnQgY2FsbGJhY2sgaW50byB1cmwgb3IgZm9ybSBkYXRhXG4gICAgICAgICAgICAgICAgaWYgKGpzb25Qcm9wKSB7XG4gICAgICAgICAgICAgICAgICAgIHNbanNvblByb3BdID0gc1tqc29uUHJvcF0ucmVwbGFjZShyanNvbnAsIFwiJDFcIiArIGNhbGxiYWNrTmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHMuanNvbnAgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHMudXJsICs9IChycXVlcnkudGVzdChzLnVybCkgPyBcIiZcIiA6IFwiP1wiKSArIHMuanNvbnAgKyBcIj1cIiArIGNhbGxiYWNrTmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gVXNlIGRhdGEgY29udmVydGVyIHRvIHJldHJpZXZlIGpzb24gYWZ0ZXIgc2NyaXB0IGV4ZWN1dGlvblxuICAgICAgICAgICAgICAgIHMuY29udmVydGVyc1tcInNjcmlwdCBqc29uXCJdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlQ29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuZXJyb3IoY2FsbGJhY2tOYW1lICsgXCIgd2FzIG5vdCBjYWxsZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlQ29udGFpbmVyWzBdO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgLy8gRm9yY2UganNvbiBkYXRhVHlwZVxuICAgICAgICAgICAgICAgIHMuZGF0YVR5cGVzWzBdID0gXCJqc29uXCI7XG4gICAgICAgICAgICAgICAgLy8gSW5zdGFsbCBjYWxsYmFja1xuICAgICAgICAgICAgICAgIG92ZXJ3cml0dGVuID0gd2luZG93W2NhbGxiYWNrTmFtZV07XG4gICAgICAgICAgICAgICAgd2luZG93W2NhbGxiYWNrTmFtZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlQ29udGFpbmVyID0gYXJndW1lbnRzO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgLy8gQ2xlYW4tdXAgZnVuY3Rpb24gKGZpcmVzIGFmdGVyIGNvbnZlcnRlcnMpXG4gICAgICAgICAgICAgICAganFYSFIuYWx3YXlzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgcHJldmlvdXMgdmFsdWUgZGlkbid0IGV4aXN0IC0gcmVtb3ZlIGl0XG4gICAgICAgICAgICAgICAgICAgIGlmIChvdmVyd3JpdHRlbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkod2luZG93KS5yZW1vdmVQcm9wKGNhbGxiYWNrTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2UgcmVzdG9yZSBwcmVleGlzdGluZyB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93W2NhbGxiYWNrTmFtZV0gPSBvdmVyd3JpdHRlbjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBTYXZlIGJhY2sgYXMgZnJlZVxuICAgICAgICAgICAgICAgICAgICBpZiAoc1tjYWxsYmFja05hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhhdCByZS11c2luZyB0aGUgb3B0aW9ucyBkb2Vzbid0IHNjcmV3IHRoaW5ncyBhcm91bmRcbiAgICAgICAgICAgICAgICAgICAgICAgIHMuanNvbnBDYWxsYmFjayA9IG9yaWdpbmFsU2V0dGluZ3MuanNvbnBDYWxsYmFjaztcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNhdmUgdGhlIGNhbGxiYWNrIG5hbWUgZm9yIGZ1dHVyZSB1c2VcbiAgICAgICAgICAgICAgICAgICAgICAgIG9sZENhbGxiYWNrcy5wdXNoKGNhbGxiYWNrTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2FsbCBpZiBpdCB3YXMgYSBmdW5jdGlvbiBhbmQgd2UgaGF2ZSBhIHJlc3BvbnNlXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZUNvbnRhaW5lciAmJiBpc0Z1bmN0aW9uKG92ZXJ3cml0dGVuKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcndyaXR0ZW4ocmVzcG9uc2VDb250YWluZXJbMF0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlQ29udGFpbmVyID0gb3ZlcndyaXR0ZW4gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy8gRGVsZWdhdGUgdG8gc2NyaXB0XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwic2NyaXB0XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBTdXBwb3J0OiBTYWZhcmkgOCBvbmx5XG4gICAgICAgIC8vIEluIFNhZmFyaSA4IGRvY3VtZW50cyBjcmVhdGVkIHZpYSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnRcbiAgICAgICAgLy8gY29sbGFwc2Ugc2libGluZyBmb3JtczogdGhlIHNlY29uZCBvbmUgYmVjb21lcyBhIGNoaWxkIG9mIHRoZSBmaXJzdCBvbmUuXG4gICAgICAgIC8vIEJlY2F1c2Ugb2YgdGhhdCwgdGhpcyBzZWN1cml0eSBtZWFzdXJlIGhhcyB0byBiZSBkaXNhYmxlZCBpbiBTYWZhcmkgOC5cbiAgICAgICAgLy8gaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTEzNzMzN1xuICAgICAgICBzdXBwb3J0LmNyZWF0ZUhUTUxEb2N1bWVudCA9IChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYm9keSA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudChcIlwiKS5ib2R5O1xuICAgICAgICAgICAgYm9keS5pbm5lckhUTUwgPSBcIjxmb3JtPjwvZm9ybT48Zm9ybT48L2Zvcm0+XCI7XG4gICAgICAgICAgICByZXR1cm4gYm9keS5jaGlsZE5vZGVzLmxlbmd0aCA9PT0gMjtcbiAgICAgICAgfSkoKTtcbiAgICAgICAgLy8gQXJndW1lbnQgXCJkYXRhXCIgc2hvdWxkIGJlIHN0cmluZyBvZiBodG1sXG4gICAgICAgIC8vIGNvbnRleHQgKG9wdGlvbmFsKTogSWYgc3BlY2lmaWVkLCB0aGUgZnJhZ21lbnQgd2lsbCBiZSBjcmVhdGVkIGluIHRoaXMgY29udGV4dCxcbiAgICAgICAgLy8gZGVmYXVsdHMgdG8gZG9jdW1lbnRcbiAgICAgICAgLy8ga2VlcFNjcmlwdHMgKG9wdGlvbmFsKTogSWYgdHJ1ZSwgd2lsbCBpbmNsdWRlIHNjcmlwdHMgcGFzc2VkIGluIHRoZSBodG1sIHN0cmluZ1xuICAgICAgICBqUXVlcnkucGFyc2VIVE1MID0gZnVuY3Rpb24gKGRhdGEsIGNvbnRleHQsIGtlZXBTY3JpcHRzKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGRhdGEgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRleHQgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgICAgICAgICAga2VlcFNjcmlwdHMgPSBjb250ZXh0O1xuICAgICAgICAgICAgICAgIGNvbnRleHQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBiYXNlLCBwYXJzZWQsIHNjcmlwdHM7XG4gICAgICAgICAgICBpZiAoIWNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICAvLyBTdG9wIHNjcmlwdHMgb3IgaW5saW5lIGV2ZW50IGhhbmRsZXJzIGZyb20gYmVpbmcgZXhlY3V0ZWQgaW1tZWRpYXRlbHlcbiAgICAgICAgICAgICAgICAvLyBieSB1c2luZyBkb2N1bWVudC5pbXBsZW1lbnRhdGlvblxuICAgICAgICAgICAgICAgIGlmIChzdXBwb3J0LmNyZWF0ZUhUTUxEb2N1bWVudCkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0ID0gZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAvLyBTZXQgdGhlIGJhc2UgaHJlZiBmb3IgdGhlIGNyZWF0ZWQgZG9jdW1lbnRcbiAgICAgICAgICAgICAgICAgICAgLy8gc28gYW55IHBhcnNlZCBlbGVtZW50cyB3aXRoIFVSTHNcbiAgICAgICAgICAgICAgICAgICAgLy8gYXJlIGJhc2VkIG9uIHRoZSBkb2N1bWVudCdzIFVSTCAoZ2gtMjk2NSlcbiAgICAgICAgICAgICAgICAgICAgYmFzZSA9IGNvbnRleHQuY3JlYXRlRWxlbWVudChcImJhc2VcIik7XG4gICAgICAgICAgICAgICAgICAgIGJhc2UuaHJlZiA9IGRvY3VtZW50LmxvY2F0aW9uLmhyZWY7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuaGVhZC5hcHBlbmRDaGlsZChiYXNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQgPSBkb2N1bWVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJzZWQgPSByc2luZ2xlVGFnLmV4ZWMoZGF0YSk7XG4gICAgICAgICAgICBzY3JpcHRzID0gIWtlZXBTY3JpcHRzICYmIFtdO1xuICAgICAgICAgICAgLy8gU2luZ2xlIHRhZ1xuICAgICAgICAgICAgaWYgKHBhcnNlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbY29udGV4dC5jcmVhdGVFbGVtZW50KHBhcnNlZFsxXSldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyc2VkID0gYnVpbGRGcmFnbWVudChbZGF0YV0sIGNvbnRleHQsIHNjcmlwdHMpO1xuICAgICAgICAgICAgaWYgKHNjcmlwdHMgJiYgc2NyaXB0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBqUXVlcnkoc2NyaXB0cykucmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4galF1ZXJ5Lm1lcmdlKFtdLCBwYXJzZWQuY2hpbGROb2Rlcyk7XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAqIExvYWQgYSB1cmwgaW50byBhIHBhZ2VcbiAgICAgICAgKi9cbiAgICAgICAgalF1ZXJ5LmZuLmxvYWQgPSBmdW5jdGlvbiAodXJsLCBwYXJhbXMsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICB2YXIgc2VsZWN0b3IsIHR5cGUsIHJlc3BvbnNlLCBzZWxmID0gdGhpcywgb2ZmID0gdXJsLmluZGV4T2YoXCIgXCIpO1xuICAgICAgICAgICAgaWYgKG9mZiA+IC0xKSB7XG4gICAgICAgICAgICAgICAgc2VsZWN0b3IgPSBzdHJpcEFuZENvbGxhcHNlKHVybC5zbGljZShvZmYpKTtcbiAgICAgICAgICAgICAgICB1cmwgPSB1cmwuc2xpY2UoMCwgb2ZmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIGl0J3MgYSBmdW5jdGlvblxuICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24ocGFyYW1zKSkge1xuICAgICAgICAgICAgICAgIC8vIFdlIGFzc3VtZSB0aGF0IGl0J3MgdGhlIGNhbGxiYWNrXG4gICAgICAgICAgICAgICAgY2FsbGJhY2sgPSBwYXJhbXM7XG4gICAgICAgICAgICAgICAgcGFyYW1zID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgYnVpbGQgYSBwYXJhbSBzdHJpbmdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHBhcmFtcyAmJiB0eXBlb2YgcGFyYW1zID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgdHlwZSA9IFwiUE9TVFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZSBlbGVtZW50cyB0byBtb2RpZnksIG1ha2UgdGhlIHJlcXVlc3RcbiAgICAgICAgICAgIGlmIChzZWxmLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBqUXVlcnkuYWpheCh7XG4gICAgICAgICAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgICAgICAgICAvLyBJZiBcInR5cGVcIiB2YXJpYWJsZSBpcyB1bmRlZmluZWQsIHRoZW4gXCJHRVRcIiBtZXRob2Qgd2lsbCBiZSB1c2VkLlxuICAgICAgICAgICAgICAgICAgICAvLyBNYWtlIHZhbHVlIG9mIHRoaXMgZmllbGQgZXhwbGljaXQgc2luY2VcbiAgICAgICAgICAgICAgICAgICAgLy8gdXNlciBjYW4gb3ZlcnJpZGUgaXQgdGhyb3VnaCBhamF4U2V0dXAgbWV0aG9kXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUgfHwgXCJHRVRcIixcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6IFwiaHRtbFwiLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBwYXJhbXNcbiAgICAgICAgICAgICAgICB9KS5kb25lKGZ1bmN0aW9uIChyZXNwb25zZVRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2F2ZSByZXNwb25zZSBmb3IgdXNlIGluIGNvbXBsZXRlIGNhbGxiYWNrXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gYXJndW1lbnRzO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmh0bWwoc2VsZWN0b3IgP1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgYSBzZWxlY3RvciB3YXMgc3BlY2lmaWVkLCBsb2NhdGUgdGhlIHJpZ2h0IGVsZW1lbnRzIGluIGEgZHVtbXkgZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBFeGNsdWRlIHNjcmlwdHMgdG8gYXZvaWQgSUUgJ1Blcm1pc3Npb24gRGVuaWVkJyBlcnJvcnNcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeShcIjxkaXY+XCIpLmFwcGVuZChqUXVlcnkucGFyc2VIVE1MKHJlc3BvbnNlVGV4dCkpLmZpbmQoc2VsZWN0b3IpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSB1c2UgdGhlIGZ1bGwgcmVzdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgcmVxdWVzdCBzdWNjZWVkcywgdGhpcyBmdW5jdGlvbiBnZXRzIFwiZGF0YVwiLCBcInN0YXR1c1wiLCBcImpxWEhSXCJcbiAgICAgICAgICAgICAgICAgICAgLy8gYnV0IHRoZXkgYXJlIGlnbm9yZWQgYmVjYXVzZSByZXNwb25zZSB3YXMgc2V0IGFib3ZlLlxuICAgICAgICAgICAgICAgICAgICAvLyBJZiBpdCBmYWlscywgdGhpcyBmdW5jdGlvbiBnZXRzIFwianFYSFJcIiwgXCJzdGF0dXNcIiwgXCJlcnJvclwiXG4gICAgICAgICAgICAgICAgfSkuYWx3YXlzKGNhbGxiYWNrICYmIGZ1bmN0aW9uIChqcVhIUiwgc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5hcHBseSh0aGlzLCByZXNwb25zZSB8fCBbanFYSFIucmVzcG9uc2VUZXh0LCBzdGF0dXMsIGpxWEhSXSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIGpRdWVyeS5leHByLnBzZXVkb3MuYW5pbWF0ZWQgPSBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgcmV0dXJuIGpRdWVyeS5ncmVwKGpRdWVyeS50aW1lcnMsIGZ1bmN0aW9uIChmbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbGVtID09PSBmbi5lbGVtO1xuICAgICAgICAgICAgfSkubGVuZ3RoO1xuICAgICAgICB9O1xuICAgICAgICBqUXVlcnkub2Zmc2V0ID0ge1xuICAgICAgICAgICAgc2V0T2Zmc2V0OiBmdW5jdGlvbiAoZWxlbSwgb3B0aW9ucywgaSkge1xuICAgICAgICAgICAgICAgIHZhciBjdXJQb3NpdGlvbiwgY3VyTGVmdCwgY3VyQ1NTVG9wLCBjdXJUb3AsIGN1ck9mZnNldCwgY3VyQ1NTTGVmdCwgY2FsY3VsYXRlUG9zaXRpb24sIHBvc2l0aW9uID0galF1ZXJ5LmNzcyhlbGVtLCBcInBvc2l0aW9uXCIpLCBjdXJFbGVtID0galF1ZXJ5KGVsZW0pLCBwcm9wcyA9IHt9O1xuICAgICAgICAgICAgICAgIC8vIFNldCBwb3NpdGlvbiBmaXJzdCwgaW4tY2FzZSB0b3AvbGVmdCBhcmUgc2V0IGV2ZW4gb24gc3RhdGljIGVsZW1cbiAgICAgICAgICAgICAgICBpZiAocG9zaXRpb24gPT09IFwic3RhdGljXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbS5zdHlsZS5wb3NpdGlvbiA9IFwicmVsYXRpdmVcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3VyT2Zmc2V0ID0gY3VyRWxlbS5vZmZzZXQoKTtcbiAgICAgICAgICAgICAgICBjdXJDU1NUb3AgPSBqUXVlcnkuY3NzKGVsZW0sIFwidG9wXCIpO1xuICAgICAgICAgICAgICAgIGN1ckNTU0xlZnQgPSBqUXVlcnkuY3NzKGVsZW0sIFwibGVmdFwiKTtcbiAgICAgICAgICAgICAgICBjYWxjdWxhdGVQb3NpdGlvbiA9IChwb3NpdGlvbiA9PT0gXCJhYnNvbHV0ZVwiIHx8IHBvc2l0aW9uID09PSBcImZpeGVkXCIpICYmXG4gICAgICAgICAgICAgICAgICAgIChjdXJDU1NUb3AgKyBjdXJDU1NMZWZ0KS5pbmRleE9mKFwiYXV0b1wiKSA+IC0xO1xuICAgICAgICAgICAgICAgIC8vIE5lZWQgdG8gYmUgYWJsZSB0byBjYWxjdWxhdGUgcG9zaXRpb24gaWYgZWl0aGVyXG4gICAgICAgICAgICAgICAgLy8gdG9wIG9yIGxlZnQgaXMgYXV0byBhbmQgcG9zaXRpb24gaXMgZWl0aGVyIGFic29sdXRlIG9yIGZpeGVkXG4gICAgICAgICAgICAgICAgaWYgKGNhbGN1bGF0ZVBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1clBvc2l0aW9uID0gY3VyRWxlbS5wb3NpdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICBjdXJUb3AgPSBjdXJQb3NpdGlvbi50b3A7XG4gICAgICAgICAgICAgICAgICAgIGN1ckxlZnQgPSBjdXJQb3NpdGlvbi5sZWZ0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY3VyVG9wID0gcGFyc2VGbG9hdChjdXJDU1NUb3ApIHx8IDA7XG4gICAgICAgICAgICAgICAgICAgIGN1ckxlZnQgPSBwYXJzZUZsb2F0KGN1ckNTU0xlZnQpIHx8IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKG9wdGlvbnMpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFVzZSBqUXVlcnkuZXh0ZW5kIGhlcmUgdG8gYWxsb3cgbW9kaWZpY2F0aW9uIG9mIGNvb3JkaW5hdGVzIGFyZ3VtZW50IChnaC0xODQ4KVxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucy5jYWxsKGVsZW0sIGksIGpRdWVyeS5leHRlbmQoe30sIGN1ck9mZnNldCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy50b3AgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBwcm9wcy50b3AgPSAob3B0aW9ucy50b3AgLSBjdXJPZmZzZXQudG9wKSArIGN1clRvcDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMubGVmdCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb3BzLmxlZnQgPSAob3B0aW9ucy5sZWZ0IC0gY3VyT2Zmc2V0LmxlZnQpICsgY3VyTGVmdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKFwidXNpbmdcIiBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMudXNpbmcuY2FsbChlbGVtLCBwcm9wcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjdXJFbGVtLmNzcyhwcm9wcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBqUXVlcnkuZm4uZXh0ZW5kKHtcbiAgICAgICAgICAgIC8vIG9mZnNldCgpIHJlbGF0ZXMgYW4gZWxlbWVudCdzIGJvcmRlciBib3ggdG8gdGhlIGRvY3VtZW50IG9yaWdpblxuICAgICAgICAgICAgb2Zmc2V0OiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICAgICAgICAgIC8vIFByZXNlcnZlIGNoYWluaW5nIGZvciBzZXR0ZXJcbiAgICAgICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9ucyA9PT0gdW5kZWZpbmVkID9cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMgOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5Lm9mZnNldC5zZXRPZmZzZXQodGhpcywgb3B0aW9ucywgaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHJlY3QsIHdpbiwgZWxlbSA9IHRoaXNbMF07XG4gICAgICAgICAgICAgICAgaWYgKCFlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gUmV0dXJuIHplcm9zIGZvciBkaXNjb25uZWN0ZWQgYW5kIGhpZGRlbiAoZGlzcGxheTogbm9uZSkgZWxlbWVudHMgKGdoLTIzMTApXG4gICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG4gICAgICAgICAgICAgICAgLy8gUnVubmluZyBnZXRCb3VuZGluZ0NsaWVudFJlY3Qgb24gYVxuICAgICAgICAgICAgICAgIC8vIGRpc2Nvbm5lY3RlZCBub2RlIGluIElFIHRocm93cyBhbiBlcnJvclxuICAgICAgICAgICAgICAgIGlmICghZWxlbS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB0b3A6IDAsIGxlZnQ6IDAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gR2V0IGRvY3VtZW50LXJlbGF0aXZlIHBvc2l0aW9uIGJ5IGFkZGluZyB2aWV3cG9ydCBzY3JvbGwgdG8gdmlld3BvcnQtcmVsYXRpdmUgZ0JDUlxuICAgICAgICAgICAgICAgIHJlY3QgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgIHdpbiA9IGVsZW0ub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldztcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0b3A6IHJlY3QudG9wICsgd2luLnBhZ2VZT2Zmc2V0LFxuICAgICAgICAgICAgICAgICAgICBsZWZ0OiByZWN0LmxlZnQgKyB3aW4ucGFnZVhPZmZzZXRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIHBvc2l0aW9uKCkgcmVsYXRlcyBhbiBlbGVtZW50J3MgbWFyZ2luIGJveCB0byBpdHMgb2Zmc2V0IHBhcmVudCdzIHBhZGRpbmcgYm94XG4gICAgICAgICAgICAvLyBUaGlzIGNvcnJlc3BvbmRzIHRvIHRoZSBiZWhhdmlvciBvZiBDU1MgYWJzb2x1dGUgcG9zaXRpb25pbmdcbiAgICAgICAgICAgIHBvc2l0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIG9mZnNldFBhcmVudCwgb2Zmc2V0LCBkb2MsIGVsZW0gPSB0aGlzWzBdLCBwYXJlbnRPZmZzZXQgPSB7IHRvcDogMCwgbGVmdDogMCB9O1xuICAgICAgICAgICAgICAgIC8vIHBvc2l0aW9uOmZpeGVkIGVsZW1lbnRzIGFyZSBvZmZzZXQgZnJvbSB0aGUgdmlld3BvcnQsIHdoaWNoIGl0c2VsZiBhbHdheXMgaGFzIHplcm8gb2Zmc2V0XG4gICAgICAgICAgICAgICAgaWYgKGpRdWVyeS5jc3MoZWxlbSwgXCJwb3NpdGlvblwiKSA9PT0gXCJmaXhlZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFzc3VtZSBwb3NpdGlvbjpmaXhlZCBpbXBsaWVzIGF2YWlsYWJpbGl0eSBvZiBnZXRCb3VuZGluZ0NsaWVudFJlY3RcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IHRoaXMub2Zmc2V0KCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFjY291bnQgZm9yIHRoZSAqcmVhbCogb2Zmc2V0IHBhcmVudCwgd2hpY2ggY2FuIGJlIHRoZSBkb2N1bWVudCBvciBpdHMgcm9vdCBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgIC8vIHdoZW4gYSBzdGF0aWNhbGx5IHBvc2l0aW9uZWQgZWxlbWVudCBpcyBpZGVudGlmaWVkXG4gICAgICAgICAgICAgICAgICAgIGRvYyA9IGVsZW0ub3duZXJEb2N1bWVudDtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0UGFyZW50ID0gZWxlbS5vZmZzZXRQYXJlbnQgfHwgZG9jLmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKG9mZnNldFBhcmVudCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKG9mZnNldFBhcmVudCA9PT0gZG9jLmJvZHkgfHwgb2Zmc2V0UGFyZW50ID09PSBkb2MuZG9jdW1lbnRFbGVtZW50KSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmNzcyhvZmZzZXRQYXJlbnQsIFwicG9zaXRpb25cIikgPT09IFwic3RhdGljXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldFBhcmVudCA9IG9mZnNldFBhcmVudC5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvZmZzZXRQYXJlbnQgJiYgb2Zmc2V0UGFyZW50ICE9PSBlbGVtICYmIG9mZnNldFBhcmVudC5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW5jb3Jwb3JhdGUgYm9yZGVycyBpbnRvIGl0cyBvZmZzZXQsIHNpbmNlIHRoZXkgYXJlIG91dHNpZGUgaXRzIGNvbnRlbnQgb3JpZ2luXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRPZmZzZXQgPSBqUXVlcnkob2Zmc2V0UGFyZW50KS5vZmZzZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudE9mZnNldC50b3AgKz0galF1ZXJ5LmNzcyhvZmZzZXRQYXJlbnQsIFwiYm9yZGVyVG9wV2lkdGhcIiwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRPZmZzZXQubGVmdCArPSBqUXVlcnkuY3NzKG9mZnNldFBhcmVudCwgXCJib3JkZXJMZWZ0V2lkdGhcIiwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gU3VidHJhY3QgcGFyZW50IG9mZnNldHMgYW5kIGVsZW1lbnQgbWFyZ2luc1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHRvcDogb2Zmc2V0LnRvcCAtIHBhcmVudE9mZnNldC50b3AgLSBqUXVlcnkuY3NzKGVsZW0sIFwibWFyZ2luVG9wXCIsIHRydWUpLFxuICAgICAgICAgICAgICAgICAgICBsZWZ0OiBvZmZzZXQubGVmdCAtIHBhcmVudE9mZnNldC5sZWZ0IC0galF1ZXJ5LmNzcyhlbGVtLCBcIm1hcmdpbkxlZnRcIiwgdHJ1ZSlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIFRoaXMgbWV0aG9kIHdpbGwgcmV0dXJuIGRvY3VtZW50RWxlbWVudCBpbiB0aGUgZm9sbG93aW5nIGNhc2VzOlxuICAgICAgICAgICAgLy8gMSkgRm9yIHRoZSBlbGVtZW50IGluc2lkZSB0aGUgaWZyYW1lIHdpdGhvdXQgb2Zmc2V0UGFyZW50LCB0aGlzIG1ldGhvZCB3aWxsIHJldHVyblxuICAgICAgICAgICAgLy8gICAgZG9jdW1lbnRFbGVtZW50IG9mIHRoZSBwYXJlbnQgd2luZG93XG4gICAgICAgICAgICAvLyAyKSBGb3IgdGhlIGhpZGRlbiBvciBkZXRhY2hlZCBlbGVtZW50XG4gICAgICAgICAgICAvLyAzKSBGb3IgYm9keSBvciBodG1sIGVsZW1lbnQsIGkuZS4gaW4gY2FzZSBvZiB0aGUgaHRtbCBub2RlIC0gaXQgd2lsbCByZXR1cm4gaXRzZWxmXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gYnV0IHRob3NlIGV4Y2VwdGlvbnMgd2VyZSBuZXZlciBwcmVzZW50ZWQgYXMgYSByZWFsIGxpZmUgdXNlLWNhc2VzXG4gICAgICAgICAgICAvLyBhbmQgbWlnaHQgYmUgY29uc2lkZXJlZCBhcyBtb3JlIHByZWZlcmFibGUgcmVzdWx0cy5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBUaGlzIGxvZ2ljLCBob3dldmVyLCBpcyBub3QgZ3VhcmFudGVlZCBhbmQgY2FuIGNoYW5nZSBhdCBhbnkgcG9pbnQgaW4gdGhlIGZ1dHVyZVxuICAgICAgICAgICAgb2Zmc2V0UGFyZW50OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9mZnNldFBhcmVudCA9IHRoaXMub2Zmc2V0UGFyZW50O1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAob2Zmc2V0UGFyZW50ICYmIGpRdWVyeS5jc3Mob2Zmc2V0UGFyZW50LCBcInBvc2l0aW9uXCIpID09PSBcInN0YXRpY1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXRQYXJlbnQgPSBvZmZzZXRQYXJlbnQub2Zmc2V0UGFyZW50O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvZmZzZXRQYXJlbnQgfHwgZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gQ3JlYXRlIHNjcm9sbExlZnQgYW5kIHNjcm9sbFRvcCBtZXRob2RzXG4gICAgICAgIGpRdWVyeS5lYWNoKHsgc2Nyb2xsTGVmdDogXCJwYWdlWE9mZnNldFwiLCBzY3JvbGxUb3A6IFwicGFnZVlPZmZzZXRcIiB9LCBmdW5jdGlvbiAobWV0aG9kLCBwcm9wKSB7XG4gICAgICAgICAgICB2YXIgdG9wID0gXCJwYWdlWU9mZnNldFwiID09PSBwcm9wO1xuICAgICAgICAgICAgalF1ZXJ5LmZuW21ldGhvZF0gPSBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjY2Vzcyh0aGlzLCBmdW5jdGlvbiAoZWxlbSwgbWV0aG9kLCB2YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ29hbGVzY2UgZG9jdW1lbnRzIGFuZCB3aW5kb3dzXG4gICAgICAgICAgICAgICAgICAgIHZhciB3aW47XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1dpbmRvdyhlbGVtKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luID0gZWxlbTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChlbGVtLm5vZGVUeXBlID09PSA5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW4gPSBlbGVtLmRlZmF1bHRWaWV3O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdpbiA/IHdpbltwcm9wXSA6IGVsZW1bbWV0aG9kXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAod2luKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW4uc2Nyb2xsVG8oIXRvcCA/IHZhbCA6IHdpbi5wYWdlWE9mZnNldCwgdG9wID8gdmFsIDogd2luLnBhZ2VZT2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1bbWV0aG9kXSA9IHZhbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIG1ldGhvZCwgdmFsLCBhcmd1bWVudHMubGVuZ3RoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBTdXBwb3J0OiBTYWZhcmkgPD03IC0gOS4xLCBDaHJvbWUgPD0zNyAtIDQ5XG4gICAgICAgIC8vIEFkZCB0aGUgdG9wL2xlZnQgY3NzSG9va3MgdXNpbmcgalF1ZXJ5LmZuLnBvc2l0aW9uXG4gICAgICAgIC8vIFdlYmtpdCBidWc6IGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0yOTA4NFxuICAgICAgICAvLyBCbGluayBidWc6IGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTU4OTM0N1xuICAgICAgICAvLyBnZXRDb21wdXRlZFN0eWxlIHJldHVybnMgcGVyY2VudCB3aGVuIHNwZWNpZmllZCBmb3IgdG9wL2xlZnQvYm90dG9tL3JpZ2h0O1xuICAgICAgICAvLyByYXRoZXIgdGhhbiBtYWtlIHRoZSBjc3MgbW9kdWxlIGRlcGVuZCBvbiB0aGUgb2Zmc2V0IG1vZHVsZSwganVzdCBjaGVjayBmb3IgaXQgaGVyZVxuICAgICAgICBqUXVlcnkuZWFjaChbXCJ0b3BcIiwgXCJsZWZ0XCJdLCBmdW5jdGlvbiAoX2ksIHByb3ApIHtcbiAgICAgICAgICAgIGpRdWVyeS5jc3NIb29rc1twcm9wXSA9IGFkZEdldEhvb2tJZihzdXBwb3J0LnBpeGVsUG9zaXRpb24sIGZ1bmN0aW9uIChlbGVtLCBjb21wdXRlZCkge1xuICAgICAgICAgICAgICAgIGlmIChjb21wdXRlZCkge1xuICAgICAgICAgICAgICAgICAgICBjb21wdXRlZCA9IGN1ckNTUyhlbGVtLCBwcm9wKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgY3VyQ1NTIHJldHVybnMgcGVyY2VudGFnZSwgZmFsbGJhY2sgdG8gb2Zmc2V0XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBybnVtbm9ucHgudGVzdChjb21wdXRlZCkgP1xuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KGVsZW0pLnBvc2l0aW9uKClbcHJvcF0gKyBcInB4XCIgOlxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBDcmVhdGUgaW5uZXJIZWlnaHQsIGlubmVyV2lkdGgsIGhlaWdodCwgd2lkdGgsIG91dGVySGVpZ2h0IGFuZCBvdXRlcldpZHRoIG1ldGhvZHNcbiAgICAgICAgalF1ZXJ5LmVhY2goeyBIZWlnaHQ6IFwiaGVpZ2h0XCIsIFdpZHRoOiBcIndpZHRoXCIgfSwgZnVuY3Rpb24gKG5hbWUsIHR5cGUpIHtcbiAgICAgICAgICAgIGpRdWVyeS5lYWNoKHtcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiBcImlubmVyXCIgKyBuYW1lLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHR5cGUsXG4gICAgICAgICAgICAgICAgXCJcIjogXCJvdXRlclwiICsgbmFtZVxuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGRlZmF1bHRFeHRyYSwgZnVuY05hbWUpIHtcbiAgICAgICAgICAgICAgICAvLyBNYXJnaW4gaXMgb25seSBmb3Igb3V0ZXJIZWlnaHQsIG91dGVyV2lkdGhcbiAgICAgICAgICAgICAgICBqUXVlcnkuZm5bZnVuY05hbWVdID0gZnVuY3Rpb24gKG1hcmdpbiwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoYWluYWJsZSA9IGFyZ3VtZW50cy5sZW5ndGggJiYgKGRlZmF1bHRFeHRyYSB8fCB0eXBlb2YgbWFyZ2luICE9PSBcImJvb2xlYW5cIiksIGV4dHJhID0gZGVmYXVsdEV4dHJhIHx8IChtYXJnaW4gPT09IHRydWUgfHwgdmFsdWUgPT09IHRydWUgPyBcIm1hcmdpblwiIDogXCJib3JkZXJcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2Nlc3ModGhpcywgZnVuY3Rpb24gKGVsZW0sIHR5cGUsIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZG9jO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzV2luZG93KGVsZW0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gJCggd2luZG93ICkub3V0ZXJXaWR0aC9IZWlnaHQgcmV0dXJuIHcvaCBpbmNsdWRpbmcgc2Nyb2xsYmFycyAoZ2gtMTcyOSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY05hbWUuaW5kZXhPZihcIm91dGVyXCIpID09PSAwID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbVtcImlubmVyXCIgKyBuYW1lXSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0uZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50W1wiY2xpZW50XCIgKyBuYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldCBkb2N1bWVudCB3aWR0aCBvciBoZWlnaHRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtLm5vZGVUeXBlID09PSA5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jID0gZWxlbS5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRWl0aGVyIHNjcm9sbFtXaWR0aC9IZWlnaHRdIG9yIG9mZnNldFtXaWR0aC9IZWlnaHRdIG9yIGNsaWVudFtXaWR0aC9IZWlnaHRdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdoaWNoZXZlciBpcyBncmVhdGVzdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLm1heChlbGVtLmJvZHlbXCJzY3JvbGxcIiArIG5hbWVdLCBkb2NbXCJzY3JvbGxcIiArIG5hbWVdLCBlbGVtLmJvZHlbXCJvZmZzZXRcIiArIG5hbWVdLCBkb2NbXCJvZmZzZXRcIiArIG5hbWVdLCBkb2NbXCJjbGllbnRcIiArIG5hbWVdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBHZXQgd2lkdGggb3IgaGVpZ2h0IG9uIHRoZSBlbGVtZW50LCByZXF1ZXN0aW5nIGJ1dCBub3QgZm9yY2luZyBwYXJzZUZsb2F0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmNzcyhlbGVtLCB0eXBlLCBleHRyYSkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldCB3aWR0aCBvciBoZWlnaHQgb24gdGhlIGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuc3R5bGUoZWxlbSwgdHlwZSwgdmFsdWUsIGV4dHJhKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgdHlwZSwgY2hhaW5hYmxlID8gbWFyZ2luIDogdW5kZWZpbmVkLCBjaGFpbmFibGUpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGpRdWVyeS5lYWNoKFtcbiAgICAgICAgICAgIFwiYWpheFN0YXJ0XCIsXG4gICAgICAgICAgICBcImFqYXhTdG9wXCIsXG4gICAgICAgICAgICBcImFqYXhDb21wbGV0ZVwiLFxuICAgICAgICAgICAgXCJhamF4RXJyb3JcIixcbiAgICAgICAgICAgIFwiYWpheFN1Y2Nlc3NcIixcbiAgICAgICAgICAgIFwiYWpheFNlbmRcIlxuICAgICAgICBdLCBmdW5jdGlvbiAoX2ksIHR5cGUpIHtcbiAgICAgICAgICAgIGpRdWVyeS5mblt0eXBlXSA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm9uKHR5cGUsIGZuKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICBqUXVlcnkuZm4uZXh0ZW5kKHtcbiAgICAgICAgICAgIGJpbmQ6IGZ1bmN0aW9uICh0eXBlcywgZGF0YSwgZm4pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5vbih0eXBlcywgbnVsbCwgZGF0YSwgZm4pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHVuYmluZDogZnVuY3Rpb24gKHR5cGVzLCBmbikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm9mZih0eXBlcywgbnVsbCwgZm4pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlbGVnYXRlOiBmdW5jdGlvbiAoc2VsZWN0b3IsIHR5cGVzLCBkYXRhLCBmbikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm9uKHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHVuZGVsZWdhdGU6IGZ1bmN0aW9uIChzZWxlY3RvciwgdHlwZXMsIGZuKSB7XG4gICAgICAgICAgICAgICAgLy8gKCBuYW1lc3BhY2UgKSBvciAoIHNlbGVjdG9yLCB0eXBlcyBbLCBmbl0gKVxuICAgICAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID09PSAxID9cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vZmYoc2VsZWN0b3IsIFwiKipcIikgOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9mZih0eXBlcywgc2VsZWN0b3IgfHwgXCIqKlwiLCBmbik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaG92ZXI6IGZ1bmN0aW9uIChmbk92ZXIsIGZuT3V0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNcbiAgICAgICAgICAgICAgICAgICAgLm9uKFwibW91c2VlbnRlclwiLCBmbk92ZXIpXG4gICAgICAgICAgICAgICAgICAgIC5vbihcIm1vdXNlbGVhdmVcIiwgZm5PdXQgfHwgZm5PdmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGpRdWVyeS5lYWNoKChcImJsdXIgZm9jdXMgZm9jdXNpbiBmb2N1c291dCByZXNpemUgc2Nyb2xsIGNsaWNrIGRibGNsaWNrIFwiICtcbiAgICAgICAgICAgIFwibW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgXCIgK1xuICAgICAgICAgICAgXCJjaGFuZ2Ugc2VsZWN0IHN1Ym1pdCBrZXlkb3duIGtleXByZXNzIGtleXVwIGNvbnRleHRtZW51XCIpLnNwbGl0KFwiIFwiKSwgZnVuY3Rpb24gKF9pLCBuYW1lKSB7XG4gICAgICAgICAgICAvLyBIYW5kbGUgZXZlbnQgYmluZGluZ1xuICAgICAgICAgICAgalF1ZXJ5LmZuW25hbWVdID0gZnVuY3Rpb24gKGRhdGEsIGZuKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPiAwID9cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbihuYW1lLCBudWxsLCBkYXRhLCBmbikgOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXIobmFtZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5XG4gICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSB0cmltIEJPTSBhbmQgTkJTUFxuICAgICAgICAvLyBSZXF1aXJlIHRoYXQgdGhlIFwid2hpdGVzcGFjZSBydW5cIiBzdGFydHMgZnJvbSBhIG5vbi13aGl0ZXNwYWNlXG4gICAgICAgIC8vIHRvIGF2b2lkIE8oTl4yKSBiZWhhdmlvciB3aGVuIHRoZSBlbmdpbmUgd291bGQgdHJ5IG1hdGNoaW5nIFwiXFxzKyRcIiBhdCBlYWNoIHNwYWNlIHBvc2l0aW9uLlxuICAgICAgICB2YXIgcnRyaW0gPSAvXltcXHNcXHVGRUZGXFx4QTBdK3woW15cXHNcXHVGRUZGXFx4QTBdKVtcXHNcXHVGRUZGXFx4QTBdKyQvZztcbiAgICAgICAgLy8gQmluZCBhIGZ1bmN0aW9uIHRvIGEgY29udGV4dCwgb3B0aW9uYWxseSBwYXJ0aWFsbHkgYXBwbHlpbmcgYW55XG4gICAgICAgIC8vIGFyZ3VtZW50cy5cbiAgICAgICAgLy8galF1ZXJ5LnByb3h5IGlzIGRlcHJlY2F0ZWQgdG8gcHJvbW90ZSBzdGFuZGFyZHMgKHNwZWNpZmljYWxseSBGdW5jdGlvbiNiaW5kKVxuICAgICAgICAvLyBIb3dldmVyLCBpdCBpcyBub3Qgc2xhdGVkIGZvciByZW1vdmFsIGFueSB0aW1lIHNvb25cbiAgICAgICAgalF1ZXJ5LnByb3h5ID0gZnVuY3Rpb24gKGZuLCBjb250ZXh0KSB7XG4gICAgICAgICAgICB2YXIgdG1wLCBhcmdzLCBwcm94eTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGV4dCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIHRtcCA9IGZuW2NvbnRleHRdO1xuICAgICAgICAgICAgICAgIGNvbnRleHQgPSBmbjtcbiAgICAgICAgICAgICAgICBmbiA9IHRtcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFF1aWNrIGNoZWNrIHRvIGRldGVybWluZSBpZiB0YXJnZXQgaXMgY2FsbGFibGUsIGluIHRoZSBzcGVjXG4gICAgICAgICAgICAvLyB0aGlzIHRocm93cyBhIFR5cGVFcnJvciwgYnV0IHdlIHdpbGwganVzdCByZXR1cm4gdW5kZWZpbmVkLlxuICAgICAgICAgICAgaWYgKCFpc0Z1bmN0aW9uKGZuKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTaW11bGF0ZWQgYmluZFxuICAgICAgICAgICAgYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKTtcbiAgICAgICAgICAgIHByb3h5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmbi5hcHBseShjb250ZXh0IHx8IHRoaXMsIGFyZ3MuY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzKSkpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIFNldCB0aGUgZ3VpZCBvZiB1bmlxdWUgaGFuZGxlciB0byB0aGUgc2FtZSBvZiBvcmlnaW5hbCBoYW5kbGVyLCBzbyBpdCBjYW4gYmUgcmVtb3ZlZFxuICAgICAgICAgICAgcHJveHkuZ3VpZCA9IGZuLmd1aWQgPSBmbi5ndWlkIHx8IGpRdWVyeS5ndWlkKys7XG4gICAgICAgICAgICByZXR1cm4gcHJveHk7XG4gICAgICAgIH07XG4gICAgICAgIGpRdWVyeS5ob2xkUmVhZHkgPSBmdW5jdGlvbiAoaG9sZCkge1xuICAgICAgICAgICAgaWYgKGhvbGQpIHtcbiAgICAgICAgICAgICAgICBqUXVlcnkucmVhZHlXYWl0Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBqUXVlcnkucmVhZHkodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGpRdWVyeS5pc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbiAgICAgICAgalF1ZXJ5LnBhcnNlSlNPTiA9IEpTT04ucGFyc2U7XG4gICAgICAgIGpRdWVyeS5ub2RlTmFtZSA9IG5vZGVOYW1lO1xuICAgICAgICBqUXVlcnkuaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG4gICAgICAgIGpRdWVyeS5pc1dpbmRvdyA9IGlzV2luZG93O1xuICAgICAgICBqUXVlcnkuY2FtZWxDYXNlID0gY2FtZWxDYXNlO1xuICAgICAgICBqUXVlcnkudHlwZSA9IHRvVHlwZTtcbiAgICAgICAgalF1ZXJ5Lm5vdyA9IERhdGUubm93O1xuICAgICAgICBqUXVlcnkuaXNOdW1lcmljID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgICAgLy8gQXMgb2YgalF1ZXJ5IDMuMCwgaXNOdW1lcmljIGlzIGxpbWl0ZWQgdG9cbiAgICAgICAgICAgIC8vIHN0cmluZ3MgYW5kIG51bWJlcnMgKHByaW1pdGl2ZXMgb3Igb2JqZWN0cylcbiAgICAgICAgICAgIC8vIHRoYXQgY2FuIGJlIGNvZXJjZWQgdG8gZmluaXRlIG51bWJlcnMgKGdoLTI2NjIpXG4gICAgICAgICAgICB2YXIgdHlwZSA9IGpRdWVyeS50eXBlKG9iaik7XG4gICAgICAgICAgICByZXR1cm4gKHR5cGUgPT09IFwibnVtYmVyXCIgfHwgdHlwZSA9PT0gXCJzdHJpbmdcIikgJiZcbiAgICAgICAgICAgICAgICAvLyBwYXJzZUZsb2F0IE5hTnMgbnVtZXJpYy1jYXN0IGZhbHNlIHBvc2l0aXZlcyAoXCJcIilcbiAgICAgICAgICAgICAgICAvLyAuLi5idXQgbWlzaW50ZXJwcmV0cyBsZWFkaW5nLW51bWJlciBzdHJpbmdzLCBwYXJ0aWN1bGFybHkgaGV4IGxpdGVyYWxzIChcIjB4Li4uXCIpXG4gICAgICAgICAgICAgICAgLy8gc3VidHJhY3Rpb24gZm9yY2VzIGluZmluaXRpZXMgdG8gTmFOXG4gICAgICAgICAgICAgICAgIWlzTmFOKG9iaiAtIHBhcnNlRmxvYXQob2JqKSk7XG4gICAgICAgIH07XG4gICAgICAgIGpRdWVyeS50cmltID0gZnVuY3Rpb24gKHRleHQpIHtcbiAgICAgICAgICAgIHJldHVybiB0ZXh0ID09IG51bGwgP1xuICAgICAgICAgICAgICAgIFwiXCIgOlxuICAgICAgICAgICAgICAgICh0ZXh0ICsgXCJcIikucmVwbGFjZShydHJpbSwgXCIkMVwiKTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gUmVnaXN0ZXIgYXMgYSBuYW1lZCBBTUQgbW9kdWxlLCBzaW5jZSBqUXVlcnkgY2FuIGJlIGNvbmNhdGVuYXRlZCB3aXRoIG90aGVyXG4gICAgICAgIC8vIGZpbGVzIHRoYXQgbWF5IHVzZSBkZWZpbmUsIGJ1dCBub3QgdmlhIGEgcHJvcGVyIGNvbmNhdGVuYXRpb24gc2NyaXB0IHRoYXRcbiAgICAgICAgLy8gdW5kZXJzdGFuZHMgYW5vbnltb3VzIEFNRCBtb2R1bGVzLiBBIG5hbWVkIEFNRCBpcyBzYWZlc3QgYW5kIG1vc3Qgcm9idXN0XG4gICAgICAgIC8vIHdheSB0byByZWdpc3Rlci4gTG93ZXJjYXNlIGpxdWVyeSBpcyB1c2VkIGJlY2F1c2UgQU1EIG1vZHVsZSBuYW1lcyBhcmVcbiAgICAgICAgLy8gZGVyaXZlZCBmcm9tIGZpbGUgbmFtZXMsIGFuZCBqUXVlcnkgaXMgbm9ybWFsbHkgZGVsaXZlcmVkIGluIGEgbG93ZXJjYXNlXG4gICAgICAgIC8vIGZpbGUgbmFtZS4gRG8gdGhpcyBhZnRlciBjcmVhdGluZyB0aGUgZ2xvYmFsIHNvIHRoYXQgaWYgYW4gQU1EIG1vZHVsZSB3YW50c1xuICAgICAgICAvLyB0byBjYWxsIG5vQ29uZmxpY3QgdG8gaGlkZSB0aGlzIHZlcnNpb24gb2YgalF1ZXJ5LCBpdCB3aWxsIHdvcmsuXG4gICAgICAgIC8vIE5vdGUgdGhhdCBmb3IgbWF4aW11bSBwb3J0YWJpbGl0eSwgbGlicmFyaWVzIHRoYXQgYXJlIG5vdCBqUXVlcnkgc2hvdWxkXG4gICAgICAgIC8vIGRlY2xhcmUgdGhlbXNlbHZlcyBhcyBhbm9ueW1vdXMgbW9kdWxlcywgYW5kIGF2b2lkIHNldHRpbmcgYSBnbG9iYWwgaWYgYW5cbiAgICAgICAgLy8gQU1EIGxvYWRlciBpcyBwcmVzZW50LiBqUXVlcnkgaXMgYSBzcGVjaWFsIGNhc2UuIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWVcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2pyYnVya2UvcmVxdWlyZWpzL3dpa2kvVXBkYXRpbmctZXhpc3RpbmctbGlicmFyaWVzI3dpa2ktYW5vblxuICAgICAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgICAgIGRlZmluZShcImpxdWVyeVwiLCBbXSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBqUXVlcnk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgXG4gICAgICAgIC8vIE1hcCBvdmVyIGpRdWVyeSBpbiBjYXNlIG9mIG92ZXJ3cml0ZVxuICAgICAgICBfalF1ZXJ5ID0gd2luZG93LmpRdWVyeSwgXG4gICAgICAgIC8vIE1hcCBvdmVyIHRoZSAkIGluIGNhc2Ugb2Ygb3ZlcndyaXRlXG4gICAgICAgIF8kID0gd2luZG93LiQ7XG4gICAgICAgIGpRdWVyeS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKGRlZXApIHtcbiAgICAgICAgICAgIGlmICh3aW5kb3cuJCA9PT0galF1ZXJ5KSB7XG4gICAgICAgICAgICAgICAgd2luZG93LiQgPSBfJDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkZWVwICYmIHdpbmRvdy5qUXVlcnkgPT09IGpRdWVyeSkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5qUXVlcnkgPSBfalF1ZXJ5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGpRdWVyeTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gRXhwb3NlIGpRdWVyeSBhbmQgJCBpZGVudGlmaWVycywgZXZlbiBpbiBBTURcbiAgICAgICAgLy8gKHRyYWMtNzEwMiNjb21tZW50OjEwLCBodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5L2pxdWVyeS9wdWxsLzU1NylcbiAgICAgICAgLy8gYW5kIENvbW1vbkpTIGZvciBicm93c2VyIGVtdWxhdG9ycyAodHJhYy0xMzU2NilcbiAgICAgICAgaWYgKHR5cGVvZiBub0dsb2JhbCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgd2luZG93LmpRdWVyeSA9IHdpbmRvdy4kID0galF1ZXJ5O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBqUXVlcnk7XG4gICAgfSk7XG59XG5leHBvcnRzLmxvYWRqcXVlcnkgPSBsb2FkanF1ZXJ5O1xuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGpxdWVyeWxvYWRlcl8xID0gcmVxdWlyZShcIi4vanF1ZXJ5bG9hZGVyXCIpO1xudmFyIGFkZGd1aV8xID0gcmVxdWlyZShcIi4vYWRkZ3VpXCIpO1xudmFyIG1haW5ndWluYW1lID0gbnVsbDtcbnZhciBtYWluZ3VpaHRtbCA9IG51bGw7XG52YXIgbWFpbmd1aXN0eWxlcyA9IG51bGw7XG52YXIgbWFpbmd1aWtleWJpbmQgPSBudWxsO1xudmFyIG1haW5ndWlvbmx5c2hvd2lmaW5nYW1lID0gZmFsc2U7XG5mdW5jdGlvbiBtYWluYWRkZ3VpKCkge1xuICAgICgwLCBhZGRndWlfMS5zZXRndWluYW1lKShtYWluZ3VpbmFtZSk7XG4gICAgKDAsIGFkZGd1aV8xLnNldGd1aWh0bWwpKG1haW5ndWlodG1sKTtcbiAgICAoMCwgYWRkZ3VpXzEuc2V0Z3Vpc3R5bGVzKShtYWluZ3Vpc3R5bGVzKTtcbiAgICAoMCwgYWRkZ3VpXzEuc2V0Z3Vpa2V5YmluZCkobWFpbmd1aWtleWJpbmQpO1xuICAgICgwLCBhZGRndWlfMS5zZXRndWlvbmx5c2hvd2lmaW5nYW1lKShtYWluZ3Vpb25seXNob3dpZmluZ2FtZSk7XG4gICAgKDAsIGFkZGd1aV8xLmFkZGd1aSkoKTtcbn1cbnZhciBTZWFQaWNrbGVsaWIgPSB7XG4gICAgdmVyc2lvbjogXCIxLjBcIixcbiAgICBsb2FkanF1ZXJ5OiBqcXVlcnlsb2FkZXJfMS5sb2FkanF1ZXJ5LFxuICAgIGd1aToge1xuICAgICAgICBzZXRndWluYW1lOiBtYWluZ3VpbmFtZSxcbiAgICAgICAgc2V0Z3VpaHRtbDogbWFpbmd1aWh0bWwsXG4gICAgICAgIHNldGd1aXN0eWxlczogbWFpbmd1aXN0eWxlcyxcbiAgICAgICAgc2V0Z3Vpa2V5YmluZDogbWFpbmd1aWtleWJpbmQsXG4gICAgICAgIHNldGd1aW9ubHlzaG93aWZpbmdhbWU6IG1haW5ndWlvbmx5c2hvd2lmaW5nYW1lLFxuICAgICAgICBhZGRndWk6IG1haW5hZGRndWlcbiAgICB9XG59O1xuIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsInRoaXMiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwiYWRkZ3VpIiwic2V0Z3Vpb25seXNob3dpZmluZ2FtZSIsInNldGd1aWtleWJpbmQiLCJzZXRndWlzdHlsZXMiLCJzZXRndWlodG1sIiwic2V0Z3VpbmFtZSIsImd1aW9ubHlzaG93aWZpbmdhbWUiLCJndWlrZXliaW5kIiwiZ3Vpc3R5bGVzIiwiZ3VpaHRtbCIsImd1aW5hbWUiLCJuYW1lIiwiaHRtbCIsInN0eWxlcyIsImtleWJpbmQiLCJpZGsiLCJndWlWaXNpYmxlIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50Iiwia2V5IiwibG9jYXRpb24iLCJLZXlib2FyZEV2ZW50IiwiRE9NX0tFWV9MT0NBVElPTl9SSUdIVCIsInRvZ2dsZUd1aSIsImhpZGVHdWkiLCJhbGVydCIsImd1aSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInBvaW50ZXJMb2NrRWxlbWVudCIsImlubmVySFRNTCIsImlkIiwic3R5bGUiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJleGl0UG9pbnRlckxvY2siLCJzaG93R3VpIiwiZ2V0RWxlbWVudEJ5SWQiLCJyZW1vdmUiLCJsb2FkanF1ZXJ5IiwiZ2xvYmFsIiwiY29uc29sZSIsImxvZyIsIm5vR2xvYmFsIiwiYXJyIiwiZ2V0UHJvdG8iLCJnZXRQcm90b3R5cGVPZiIsInNsaWNlIiwiZmxhdCIsImFycmF5IiwiY2FsbCIsImNvbmNhdCIsImFwcGx5IiwicHVzaCIsImluZGV4T2YiLCJjbGFzczJ0eXBlIiwidG9TdHJpbmciLCJoYXNPd24iLCJoYXNPd25Qcm9wZXJ0eSIsImZuVG9TdHJpbmciLCJPYmplY3RGdW5jdGlvblN0cmluZyIsInN1cHBvcnQiLCJpc0Z1bmN0aW9uIiwib2JqIiwibm9kZVR5cGUiLCJpdGVtIiwiaXNXaW5kb3ciLCJwcmVzZXJ2ZWRTY3JpcHRBdHRyaWJ1dGVzIiwidHlwZSIsInNyYyIsIm5vbmNlIiwibm9Nb2R1bGUiLCJET01FdmFsIiwiY29kZSIsIm5vZGUiLCJkb2MiLCJpIiwidmFsIiwic2NyaXB0IiwidGV4dCIsImdldEF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsImhlYWQiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJ0b1R5cGUiLCJ2ZXJzaW9uIiwicmh0bWxTdWZmaXgiLCJqUXVlcnkiLCJzZWxlY3RvciIsImNvbnRleHQiLCJmbiIsImluaXQiLCJpc0FycmF5TGlrZSIsImxlbmd0aCIsIm5vZGVOYW1lIiwiZWxlbSIsInRvTG93ZXJDYXNlIiwicHJvdG90eXBlIiwianF1ZXJ5IiwiY29uc3RydWN0b3IiLCJ0b0FycmF5IiwiZ2V0IiwibnVtIiwicHVzaFN0YWNrIiwiZWxlbXMiLCJyZXQiLCJtZXJnZSIsInByZXZPYmplY3QiLCJlYWNoIiwiY2FsbGJhY2siLCJtYXAiLCJhcmd1bWVudHMiLCJmaXJzdCIsImVxIiwibGFzdCIsImV2ZW4iLCJncmVwIiwiX2VsZW0iLCJvZGQiLCJsZW4iLCJqIiwiZW5kIiwic29ydCIsInNwbGljZSIsImV4dGVuZCIsIm9wdGlvbnMiLCJjb3B5IiwiY29weUlzQXJyYXkiLCJjbG9uZSIsInRhcmdldCIsImRlZXAiLCJpc1BsYWluT2JqZWN0IiwiQXJyYXkiLCJpc0FycmF5IiwidW5kZWZpbmVkIiwiZXhwYW5kbyIsIk1hdGgiLCJyYW5kb20iLCJyZXBsYWNlIiwiaXNSZWFkeSIsImVycm9yIiwibXNnIiwiRXJyb3IiLCJub29wIiwicHJvdG8iLCJDdG9yIiwiaXNFbXB0eU9iamVjdCIsImdsb2JhbEV2YWwiLCJ0ZXh0Q29udGVudCIsImRvY3VtZW50RWxlbWVudCIsIm5vZGVWYWx1ZSIsIm1ha2VBcnJheSIsInJlc3VsdHMiLCJpbkFycmF5IiwiaXNYTUxEb2MiLCJuYW1lc3BhY2UiLCJuYW1lc3BhY2VVUkkiLCJkb2NFbGVtIiwib3duZXJEb2N1bWVudCIsInRlc3QiLCJzZWNvbmQiLCJpbnZlcnQiLCJtYXRjaGVzIiwiY2FsbGJhY2tFeHBlY3QiLCJhcmciLCJndWlkIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJzcGxpdCIsIl9pIiwicG9wIiwid2hpdGVzcGFjZSIsInJ0cmltQ1NTIiwiUmVnRXhwIiwiY29udGFpbnMiLCJhIiwiYiIsImJ1cCIsImNvbXBhcmVEb2N1bWVudFBvc2l0aW9uIiwicmNzc2VzY2FwZSIsImZjc3Nlc2NhcGUiLCJjaCIsImFzQ29kZVBvaW50IiwiY2hhckNvZGVBdCIsImVzY2FwZVNlbGVjdG9yIiwic2VsIiwicHJlZmVycmVkRG9jIiwicHVzaE5hdGl2ZSIsIkV4cHIiLCJvdXRlcm1vc3RDb250ZXh0Iiwic29ydElucHV0IiwiaGFzRHVwbGljYXRlIiwiZG9jdW1lbnRJc0hUTUwiLCJyYnVnZ3lRU0EiLCJkaXJydW5zIiwiZG9uZSIsImNsYXNzQ2FjaGUiLCJjcmVhdGVDYWNoZSIsInRva2VuQ2FjaGUiLCJjb21waWxlckNhY2hlIiwibm9ubmF0aXZlU2VsZWN0b3JDYWNoZSIsInNvcnRPcmRlciIsImJvb2xlYW5zIiwiaWRlbnRpZmllciIsImF0dHJpYnV0ZXMiLCJwc2V1ZG9zIiwicndoaXRlc3BhY2UiLCJyY29tbWEiLCJybGVhZGluZ0NvbWJpbmF0b3IiLCJyZGVzY2VuZCIsInJwc2V1ZG8iLCJyaWRlbnRpZmllciIsIm1hdGNoRXhwciIsIklEIiwiQ0xBU1MiLCJUQUciLCJBVFRSIiwiUFNFVURPIiwiQ0hJTEQiLCJib29sIiwibmVlZHNDb250ZXh0IiwicmlucHV0cyIsInJoZWFkZXIiLCJycXVpY2tFeHByIiwicnNpYmxpbmciLCJydW5lc2NhcGUiLCJmdW5lc2NhcGUiLCJlc2NhcGUiLCJub25IZXgiLCJoaWdoIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwidW5sb2FkSGFuZGxlciIsInNldERvY3VtZW50IiwiaW5EaXNhYmxlZEZpZWxkc2V0IiwiYWRkQ29tYmluYXRvciIsImRpc2FibGVkIiwiZGlyIiwibmV4dCIsImNoaWxkTm9kZXMiLCJlIiwiZWxzIiwiZmluZCIsInNlZWQiLCJtIiwibmlkIiwibWF0Y2giLCJncm91cHMiLCJuZXdTZWxlY3RvciIsIm5ld0NvbnRleHQiLCJleGVjIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwidGVzdENvbnRleHQiLCJzY29wZSIsInRva2VuaXplIiwidG9TZWxlY3RvciIsImpvaW4iLCJxdWVyeVNlbGVjdG9yQWxsIiwicXNhRXJyb3IiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzZWxlY3QiLCJrZXlzIiwiY2FjaGUiLCJjYWNoZUxlbmd0aCIsInNoaWZ0IiwibWFya0Z1bmN0aW9uIiwiYXNzZXJ0IiwiZWwiLCJjcmVhdGVJbnB1dFBzZXVkbyIsImNyZWF0ZUJ1dHRvblBzZXVkbyIsImNyZWF0ZURpc2FibGVkUHNldWRvIiwiaXNEaXNhYmxlZCIsImNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8iLCJhcmd1bWVudCIsIm1hdGNoSW5kZXhlcyIsInN1YldpbmRvdyIsIndlYmtpdE1hdGNoZXNTZWxlY3RvciIsIm1zTWF0Y2hlc1NlbGVjdG9yIiwiZGVmYXVsdFZpZXciLCJ0b3AiLCJnZXRCeUlkIiwiZ2V0RWxlbWVudHNCeU5hbWUiLCJkaXNjb25uZWN0ZWRNYXRjaCIsImNzc0hhcyIsInF1ZXJ5U2VsZWN0b3IiLCJmaWx0ZXIiLCJhdHRySWQiLCJnZXRBdHRyaWJ1dGVOb2RlIiwidGFnIiwiY2xhc3NOYW1lIiwiaW5wdXQiLCJjb21wYXJlIiwic29ydERldGFjaGVkIiwiZXhwciIsImVsZW1lbnRzIiwibWF0Y2hlc1NlbGVjdG9yIiwiYXR0ciIsImF0dHJIYW5kbGUiLCJ1bmlxdWVTb3J0IiwiZHVwbGljYXRlcyIsInNvcnRTdGFibGUiLCJjcmVhdGVQc2V1ZG8iLCJyZWxhdGl2ZSIsInByZUZpbHRlciIsImV4Y2VzcyIsInVucXVvdGVkIiwibm9kZU5hbWVTZWxlY3RvciIsImV4cGVjdGVkTm9kZU5hbWUiLCJwYXR0ZXJuIiwib3BlcmF0b3IiLCJjaGVjayIsInJlc3VsdCIsIndoYXQiLCJfYXJndW1lbnQiLCJzaW1wbGUiLCJmb3J3YXJkIiwib2ZUeXBlIiwiX2NvbnRleHQiLCJ4bWwiLCJvdXRlckNhY2hlIiwibm9kZUluZGV4Iiwic3RhcnQiLCJwYXJlbnQiLCJ1c2VDYWNoZSIsImRpZmYiLCJmaXJzdENoaWxkIiwibGFzdENoaWxkIiwicHNldWRvIiwiYXJncyIsInNldEZpbHRlcnMiLCJpZHgiLCJtYXRjaGVkIiwibm90IiwibWF0Y2hlciIsImNvbXBpbGUiLCJ1bm1hdGNoZWQiLCJoYXMiLCJsYW5nIiwiZWxlbUxhbmciLCJoYXNoIiwiZm9jdXMiLCJhY3RpdmVFbGVtZW50IiwiZXJyIiwic2FmZUFjdGl2ZUVsZW1lbnQiLCJoYXNGb2N1cyIsImhyZWYiLCJ0YWJJbmRleCIsImVuYWJsZWQiLCJjaGVja2VkIiwic2VsZWN0ZWQiLCJzZWxlY3RlZEluZGV4IiwiZW1wdHkiLCJuZXh0U2libGluZyIsImhlYWRlciIsImJ1dHRvbiIsIl9tYXRjaEluZGV4ZXMiLCJsdCIsImd0IiwibnRoIiwicmFkaW8iLCJjaGVja2JveCIsImZpbGUiLCJwYXNzd29yZCIsImltYWdlIiwic3VibWl0IiwicmVzZXQiLCJwYXJzZU9ubHkiLCJ0b2tlbnMiLCJzb0ZhciIsInByZUZpbHRlcnMiLCJjYWNoZWQiLCJjb21iaW5hdG9yIiwiYmFzZSIsInNraXAiLCJjaGVja05vbkVsZW1lbnRzIiwiZG9uZU5hbWUiLCJvbGRDYWNoZSIsIm5ld0NhY2hlIiwiZWxlbWVudE1hdGNoZXIiLCJtYXRjaGVycyIsImNvbmRlbnNlIiwibmV3VW5tYXRjaGVkIiwibWFwcGVkIiwic2V0TWF0Y2hlciIsInBvc3RGaWx0ZXIiLCJwb3N0RmluZGVyIiwicG9zdFNlbGVjdG9yIiwidGVtcCIsIm1hdGNoZXJPdXQiLCJwcmVNYXAiLCJwb3N0TWFwIiwicHJlZXhpc3RpbmciLCJjb250ZXh0cyIsIm11bHRpcGxlQ29udGV4dHMiLCJtYXRjaGVySW4iLCJtYXRjaGVyRnJvbVRva2VucyIsImNoZWNrQ29udGV4dCIsImxlYWRpbmdSZWxhdGl2ZSIsImltcGxpY2l0UmVsYXRpdmUiLCJtYXRjaENvbnRleHQiLCJtYXRjaEFueUNvbnRleHQiLCJzZXRNYXRjaGVycyIsImVsZW1lbnRNYXRjaGVycyIsImJ5U2V0IiwiYnlFbGVtZW50Iiwic3VwZXJNYXRjaGVyIiwib3V0ZXJtb3N0IiwibWF0Y2hlZENvdW50Iiwic2V0TWF0Y2hlZCIsImNvbnRleHRCYWNrdXAiLCJkaXJydW5zVW5pcXVlIiwibWF0Y2hlckZyb21Hcm91cE1hdGNoZXJzIiwidG9rZW4iLCJjb21waWxlZCIsImZpbHRlcnMiLCJ1bmlxdWUiLCJnZXRUZXh0IiwiaXNYTUwiLCJzZWxlY3RvcnMiLCJ1bnRpbCIsInRydW5jYXRlIiwiaXMiLCJzaWJsaW5ncyIsIm4iLCJybmVlZHNDb250ZXh0IiwicnNpbmdsZVRhZyIsIndpbm5vdyIsInF1YWxpZmllciIsInNlbGYiLCJyb290alF1ZXJ5IiwicGFyc2VIVE1MIiwicmVhZHkiLCJycGFyZW50c3ByZXYiLCJndWFyYW50ZWVkVW5pcXVlIiwiY2hpbGRyZW4iLCJjb250ZW50cyIsInByZXYiLCJzaWJsaW5nIiwiY3VyIiwidGFyZ2V0cyIsImwiLCJjbG9zZXN0IiwiaW5kZXgiLCJwcmV2QWxsIiwiYWRkIiwiYWRkQmFjayIsInBhcmVudHMiLCJwYXJlbnRzVW50aWwiLCJuZXh0QWxsIiwibmV4dFVudGlsIiwicHJldlVudGlsIiwiY29udGVudERvY3VtZW50IiwiY29udGVudCIsInJldmVyc2UiLCJybm90aHRtbHdoaXRlIiwiSWRlbnRpdHkiLCJ2IiwiVGhyb3dlciIsImV4IiwiYWRvcHRWYWx1ZSIsInJlc29sdmUiLCJyZWplY3QiLCJub1ZhbHVlIiwibWV0aG9kIiwicHJvbWlzZSIsImZhaWwiLCJ0aGVuIiwiQ2FsbGJhY2tzIiwib2JqZWN0IiwiXyIsImZsYWciLCJjcmVhdGVPcHRpb25zIiwiZmlyaW5nIiwibWVtb3J5IiwiZmlyZWQiLCJsb2NrZWQiLCJsaXN0IiwicXVldWUiLCJmaXJpbmdJbmRleCIsImZpcmUiLCJvbmNlIiwic3RvcE9uRmFsc2UiLCJkaXNhYmxlIiwibG9jayIsImZpcmVXaXRoIiwiRGVmZXJyZWQiLCJmdW5jIiwidHVwbGVzIiwic3RhdGUiLCJhbHdheXMiLCJkZWZlcnJlZCIsInBpcGUiLCJmbnMiLCJuZXdEZWZlciIsInR1cGxlIiwicmV0dXJuZWQiLCJwcm9ncmVzcyIsIm5vdGlmeSIsIm9uRnVsZmlsbGVkIiwib25SZWplY3RlZCIsIm9uUHJvZ3Jlc3MiLCJtYXhEZXB0aCIsImRlcHRoIiwiaGFuZGxlciIsInNwZWNpYWwiLCJ0aGF0IiwibWlnaHRUaHJvdyIsIlR5cGVFcnJvciIsIm5vdGlmeVdpdGgiLCJyZXNvbHZlV2l0aCIsInByb2Nlc3MiLCJleGNlcHRpb25Ib29rIiwicmVqZWN0V2l0aCIsImdldEVycm9ySG9vayIsImdldFN0YWNrSG9vayIsInNldFRpbWVvdXQiLCJzdGF0ZVN0cmluZyIsIndoZW4iLCJzaW5nbGVWYWx1ZSIsInJlbWFpbmluZyIsInJlc29sdmVDb250ZXh0cyIsInJlc29sdmVWYWx1ZXMiLCJwcmltYXJ5IiwidXBkYXRlRnVuYyIsInJlcnJvck5hbWVzIiwiYXN5bmNFcnJvciIsIndhcm4iLCJtZXNzYWdlIiwic3RhY2siLCJyZWFkeUV4Y2VwdGlvbiIsInJlYWR5TGlzdCIsImNvbXBsZXRlZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjYXRjaCIsInJlYWR5V2FpdCIsIndhaXQiLCJyZWFkeVN0YXRlIiwiZG9TY3JvbGwiLCJhY2Nlc3MiLCJjaGFpbmFibGUiLCJlbXB0eUdldCIsInJhdyIsImJ1bGsiLCJfa2V5Iiwicm1zUHJlZml4IiwicmRhc2hBbHBoYSIsImZjYW1lbENhc2UiLCJfYWxsIiwibGV0dGVyIiwidG9VcHBlckNhc2UiLCJjYW1lbENhc2UiLCJzdHJpbmciLCJhY2NlcHREYXRhIiwib3duZXIiLCJEYXRhIiwidWlkIiwiY29uZmlndXJhYmxlIiwic2V0IiwiZGF0YSIsInByb3AiLCJoYXNEYXRhIiwiZGF0YVByaXYiLCJkYXRhVXNlciIsInJicmFjZSIsInJtdWx0aURhc2giLCJkYXRhQXR0ciIsIkpTT04iLCJwYXJzZSIsImdldERhdGEiLCJyZW1vdmVEYXRhIiwiX2RhdGEiLCJfcmVtb3ZlRGF0YSIsImF0dHJzIiwiZGVxdWV1ZSIsInN0YXJ0TGVuZ3RoIiwiaG9va3MiLCJfcXVldWVIb29rcyIsInVuc2hpZnQiLCJzdG9wIiwic2V0dGVyIiwiY2xlYXJRdWV1ZSIsInRtcCIsImNvdW50IiwiZGVmZXIiLCJwbnVtIiwic291cmNlIiwicmNzc051bSIsImNzc0V4cGFuZCIsImlzQXR0YWNoZWQiLCJjb21wb3NlZCIsImdldFJvb3ROb2RlIiwiaXNIaWRkZW5XaXRoaW5UcmVlIiwiZGlzcGxheSIsImNzcyIsImFkanVzdENTUyIsInZhbHVlUGFydHMiLCJ0d2VlbiIsImFkanVzdGVkIiwic2NhbGUiLCJtYXhJdGVyYXRpb25zIiwiY3VycmVudFZhbHVlIiwiaW5pdGlhbCIsInVuaXQiLCJjc3NOdW1iZXIiLCJpbml0aWFsSW5Vbml0IiwiZGVmYXVsdERpc3BsYXlNYXAiLCJnZXREZWZhdWx0RGlzcGxheSIsInNob3dIaWRlIiwic2hvdyIsInZhbHVlcyIsImhpZGUiLCJ0b2dnbGUiLCJkaXYiLCJyY2hlY2thYmxlVHlwZSIsInJ0YWdOYW1lIiwicnNjcmlwdFR5cGUiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiY2hlY2tDbG9uZSIsImNsb25lTm9kZSIsIm5vQ2xvbmVDaGVja2VkIiwiZGVmYXVsdFZhbHVlIiwib3B0aW9uIiwid3JhcE1hcCIsInRoZWFkIiwiY29sIiwidHIiLCJ0ZCIsIl9kZWZhdWx0IiwiZ2V0QWxsIiwic2V0R2xvYmFsRXZhbCIsInJlZkVsZW1lbnRzIiwidGJvZHkiLCJ0Zm9vdCIsImNvbGdyb3VwIiwiY2FwdGlvbiIsInRoIiwib3B0Z3JvdXAiLCJyaHRtbCIsImJ1aWxkRnJhZ21lbnQiLCJzY3JpcHRzIiwic2VsZWN0aW9uIiwiaWdub3JlZCIsIndyYXAiLCJhdHRhY2hlZCIsImZyYWdtZW50Iiwibm9kZXMiLCJodG1sUHJlZmlsdGVyIiwiY3JlYXRlVGV4dE5vZGUiLCJydHlwZW5hbWVzcGFjZSIsInJldHVyblRydWUiLCJyZXR1cm5GYWxzZSIsIm9uIiwidHlwZXMiLCJvbmUiLCJvcmlnRm4iLCJvZmYiLCJsZXZlcmFnZU5hdGl2ZSIsImlzU2V0dXAiLCJzYXZlZCIsImlzVHJpZ2dlciIsImRlbGVnYXRlVHlwZSIsInN0b3BQcm9wYWdhdGlvbiIsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsInByZXZlbnREZWZhdWx0IiwidHJpZ2dlciIsImlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkIiwiaGFuZGxlT2JqSW4iLCJldmVudEhhbmRsZSIsImV2ZW50cyIsInQiLCJoYW5kbGVPYmoiLCJoYW5kbGVycyIsIm5hbWVzcGFjZXMiLCJvcmlnVHlwZSIsImVsZW1EYXRhIiwiY3JlYXRlIiwiaGFuZGxlIiwidHJpZ2dlcmVkIiwiZGlzcGF0Y2giLCJiaW5kVHlwZSIsImRlbGVnYXRlQ291bnQiLCJzZXR1cCIsIm1hcHBlZFR5cGVzIiwib3JpZ0NvdW50IiwidGVhcmRvd24iLCJyZW1vdmVFdmVudCIsIm5hdGl2ZUV2ZW50IiwiaGFuZGxlclF1ZXVlIiwiZml4IiwiZGVsZWdhdGVUYXJnZXQiLCJwcmVEaXNwYXRjaCIsImlzUHJvcGFnYXRpb25TdG9wcGVkIiwiY3VycmVudFRhcmdldCIsInJuYW1lc3BhY2UiLCJwb3N0RGlzcGF0Y2giLCJtYXRjaGVkSGFuZGxlcnMiLCJtYXRjaGVkU2VsZWN0b3JzIiwiYWRkUHJvcCIsImhvb2siLCJFdmVudCIsImVudW1lcmFibGUiLCJvcmlnaW5hbEV2ZW50Iiwid3JpdGFibGUiLCJsb2FkIiwibm9CdWJibGUiLCJjbGljayIsImJlZm9yZXVubG9hZCIsInJldHVyblZhbHVlIiwicHJvcHMiLCJpc0RlZmF1bHRQcmV2ZW50ZWQiLCJkZWZhdWx0UHJldmVudGVkIiwicmVsYXRlZFRhcmdldCIsInRpbWVTdGFtcCIsIkRhdGUiLCJub3ciLCJpc1NpbXVsYXRlZCIsImFsdEtleSIsImJ1YmJsZXMiLCJjYW5jZWxhYmxlIiwiY2hhbmdlZFRvdWNoZXMiLCJjdHJsS2V5IiwiZGV0YWlsIiwiZXZlbnRQaGFzZSIsIm1ldGFLZXkiLCJwYWdlWCIsInBhZ2VZIiwic2hpZnRLZXkiLCJ2aWV3IiwiY2hhckNvZGUiLCJrZXlDb2RlIiwiYnV0dG9ucyIsImNsaWVudFgiLCJjbGllbnRZIiwib2Zmc2V0WCIsIm9mZnNldFkiLCJwb2ludGVySWQiLCJwb2ludGVyVHlwZSIsInNjcmVlblgiLCJzY3JlZW5ZIiwidGFyZ2V0VG91Y2hlcyIsInRvRWxlbWVudCIsInRvdWNoZXMiLCJ3aGljaCIsImJsdXIiLCJmb2N1c01hcHBlZEhhbmRsZXIiLCJkb2N1bWVudE1vZGUiLCJzaW11bGF0ZSIsImF0dGFjaGVzIiwiZGF0YUhvbGRlciIsIm1vdXNlZW50ZXIiLCJtb3VzZWxlYXZlIiwicG9pbnRlcmVudGVyIiwicG9pbnRlcmxlYXZlIiwib3JpZyIsInJlbGF0ZWQiLCJybm9Jbm5lcmh0bWwiLCJyY2hlY2tlZCIsInJjbGVhblNjcmlwdCIsIm1hbmlwdWxhdGlvblRhcmdldCIsImRpc2FibGVTY3JpcHQiLCJyZXN0b3JlU2NyaXB0IiwiY2xvbmVDb3B5RXZlbnQiLCJkZXN0IiwidWRhdGFPbGQiLCJ1ZGF0YUN1ciIsImZpeElucHV0IiwiZG9tTWFuaXAiLCJjb2xsZWN0aW9uIiwiaGFzU2NyaXB0cyIsImlOb0Nsb25lIiwidmFsdWVJc0Z1bmN0aW9uIiwiX2V2YWxVcmwiLCJrZWVwRGF0YSIsImNsZWFuRGF0YSIsImRhdGFBbmRFdmVudHMiLCJkZWVwRGF0YUFuZEV2ZW50cyIsInNyY0VsZW1lbnRzIiwiZGVzdEVsZW1lbnRzIiwiaW5QYWdlIiwiZGV0YWNoIiwiYXBwZW5kIiwicHJlcGVuZCIsImluc2VydEJlZm9yZSIsImJlZm9yZSIsImFmdGVyIiwicmVwbGFjZVdpdGgiLCJyZXBsYWNlQ2hpbGQiLCJhcHBlbmRUbyIsInByZXBlbmRUbyIsImluc2VydEFmdGVyIiwicmVwbGFjZUFsbCIsIm9yaWdpbmFsIiwiaW5zZXJ0Iiwicm51bW5vbnB4IiwicmN1c3RvbVByb3AiLCJnZXRTdHlsZXMiLCJvcGVuZXIiLCJnZXRDb21wdXRlZFN0eWxlIiwic3dhcCIsIm9sZCIsInJib3hTdHlsZSIsImN1ckNTUyIsImNvbXB1dGVkIiwid2lkdGgiLCJtaW5XaWR0aCIsIm1heFdpZHRoIiwiaXNDdXN0b21Qcm9wIiwiZ2V0UHJvcGVydHlWYWx1ZSIsInBpeGVsQm94U3R5bGVzIiwiYWRkR2V0SG9va0lmIiwiY29uZGl0aW9uRm4iLCJob29rRm4iLCJjb21wdXRlU3R5bGVUZXN0cyIsImNvbnRhaW5lciIsImNzc1RleHQiLCJkaXZTdHlsZSIsInBpeGVsUG9zaXRpb25WYWwiLCJyZWxpYWJsZU1hcmdpbkxlZnRWYWwiLCJyb3VuZFBpeGVsTWVhc3VyZXMiLCJtYXJnaW5MZWZ0IiwicmlnaHQiLCJwaXhlbEJveFN0eWxlc1ZhbCIsImJveFNpemluZ1JlbGlhYmxlVmFsIiwicG9zaXRpb24iLCJzY3JvbGxib3hTaXplVmFsIiwib2Zmc2V0V2lkdGgiLCJtZWFzdXJlIiwicm91bmQiLCJwYXJzZUZsb2F0IiwicmVsaWFibGVUckRpbWVuc2lvbnNWYWwiLCJiYWNrZ3JvdW5kQ2xpcCIsImNsZWFyQ2xvbmVTdHlsZSIsImJveFNpemluZ1JlbGlhYmxlIiwicGl4ZWxQb3NpdGlvbiIsInJlbGlhYmxlTWFyZ2luTGVmdCIsInNjcm9sbGJveFNpemUiLCJyZWxpYWJsZVRyRGltZW5zaW9ucyIsInRhYmxlIiwidHJDaGlsZCIsInRyU3R5bGUiLCJoZWlnaHQiLCJwYXJzZUludCIsImJvcmRlclRvcFdpZHRoIiwiYm9yZGVyQm90dG9tV2lkdGgiLCJvZmZzZXRIZWlnaHQiLCJjc3NQcmVmaXhlcyIsImVtcHR5U3R5bGUiLCJ2ZW5kb3JQcm9wcyIsImZpbmFsUHJvcE5hbWUiLCJmaW5hbCIsImNzc1Byb3BzIiwiY2FwTmFtZSIsInZlbmRvclByb3BOYW1lIiwicmRpc3BsYXlzd2FwIiwiY3NzU2hvdyIsInZpc2liaWxpdHkiLCJjc3NOb3JtYWxUcmFuc2Zvcm0iLCJsZXR0ZXJTcGFjaW5nIiwiZm9udFdlaWdodCIsInNldFBvc2l0aXZlTnVtYmVyIiwic3VidHJhY3QiLCJtYXgiLCJib3hNb2RlbEFkanVzdG1lbnQiLCJkaW1lbnNpb24iLCJib3giLCJpc0JvcmRlckJveCIsImNvbXB1dGVkVmFsIiwiZXh0cmEiLCJkZWx0YSIsIm1hcmdpbkRlbHRhIiwiY2VpbCIsImdldFdpZHRoT3JIZWlnaHQiLCJ2YWx1ZUlzQm9yZGVyQm94Iiwib2Zmc2V0UHJvcCIsImdldENsaWVudFJlY3RzIiwiVHdlZW4iLCJlYXNpbmciLCJjc3NIb29rcyIsIm9wYWNpdHkiLCJhbmltYXRpb25JdGVyYXRpb25Db3VudCIsImFzcGVjdFJhdGlvIiwiYm9yZGVySW1hZ2VTbGljZSIsImNvbHVtbkNvdW50IiwiZmxleEdyb3ciLCJmbGV4U2hyaW5rIiwiZ3JpZEFyZWEiLCJncmlkQ29sdW1uIiwiZ3JpZENvbHVtbkVuZCIsImdyaWRDb2x1bW5TdGFydCIsImdyaWRSb3ciLCJncmlkUm93RW5kIiwiZ3JpZFJvd1N0YXJ0IiwibGluZUhlaWdodCIsIm9yZGVyIiwib3JwaGFucyIsIndpZG93cyIsInpJbmRleCIsInpvb20iLCJmaWxsT3BhY2l0eSIsImZsb29kT3BhY2l0eSIsInN0b3BPcGFjaXR5Iiwic3Ryb2tlTWl0ZXJsaW1pdCIsInN0cm9rZU9wYWNpdHkiLCJvcmlnTmFtZSIsInNldFByb3BlcnR5IiwiaXNGaW5pdGUiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJzY3JvbGxib3hTaXplQnVnZ3kiLCJsZWZ0IiwibWFyZ2luIiwicGFkZGluZyIsImJvcmRlciIsInByZWZpeCIsInN1ZmZpeCIsImV4cGFuZCIsImV4cGFuZGVkIiwicGFydHMiLCJwcm9wSG9va3MiLCJydW4iLCJwZXJjZW50IiwiZWFzZWQiLCJkdXJhdGlvbiIsInBvcyIsInN0ZXAiLCJmeCIsInNjcm9sbFRvcCIsInNjcm9sbExlZnQiLCJsaW5lYXIiLCJwIiwic3dpbmciLCJjb3MiLCJQSSIsImZ4Tm93IiwiaW5Qcm9ncmVzcyIsInJmeHR5cGVzIiwicnJ1biIsInNjaGVkdWxlIiwiaGlkZGVuIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiaW50ZXJ2YWwiLCJ0aWNrIiwiY3JlYXRlRnhOb3ciLCJnZW5GeCIsImluY2x1ZGVXaWR0aCIsImNyZWF0ZVR3ZWVuIiwiYW5pbWF0aW9uIiwiQW5pbWF0aW9uIiwidHdlZW5lcnMiLCJwcm9wZXJ0aWVzIiwic3RvcHBlZCIsInByZWZpbHRlcnMiLCJjdXJyZW50VGltZSIsInN0YXJ0VGltZSIsInR3ZWVucyIsIm9wdHMiLCJzcGVjaWFsRWFzaW5nIiwib3JpZ2luYWxQcm9wZXJ0aWVzIiwib3JpZ2luYWxPcHRpb25zIiwiZ290b0VuZCIsInByb3BGaWx0ZXIiLCJiaW5kIiwiY29tcGxldGUiLCJ0aW1lciIsImFuaW0iLCJ0d2VlbmVyIiwib2xkZmlyZSIsInByb3BUd2VlbiIsInJlc3RvcmVEaXNwbGF5IiwiaXNCb3giLCJkYXRhU2hvdyIsInVucXVldWVkIiwib3ZlcmZsb3ciLCJvdmVyZmxvd1giLCJvdmVyZmxvd1kiLCJwcmVmaWx0ZXIiLCJzcGVlZCIsIm9wdCIsInNwZWVkcyIsImZhZGVUbyIsInRvIiwiYW5pbWF0ZSIsIm9wdGFsbCIsImRvQW5pbWF0aW9uIiwiZmluaXNoIiwic3RvcFF1ZXVlIiwidGltZXJzIiwiY3NzRm4iLCJzbGlkZURvd24iLCJzbGlkZVVwIiwic2xpZGVUb2dnbGUiLCJmYWRlSW4iLCJmYWRlT3V0IiwiZmFkZVRvZ2dsZSIsInNsb3ciLCJmYXN0IiwiZGVsYXkiLCJ0aW1lIiwidGltZW91dCIsImNsZWFyVGltZW91dCIsImNoZWNrT24iLCJvcHRTZWxlY3RlZCIsInJhZGlvVmFsdWUiLCJib29sSG9vayIsInJlbW92ZUF0dHIiLCJuVHlwZSIsImF0dHJIb29rcyIsImF0dHJOYW1lcyIsImdldHRlciIsImxvd2VyY2FzZU5hbWUiLCJyZm9jdXNhYmxlIiwicmNsaWNrYWJsZSIsInN0cmlwQW5kQ29sbGFwc2UiLCJnZXRDbGFzcyIsImNsYXNzZXNUb0FycmF5IiwicmVtb3ZlUHJvcCIsInByb3BGaXgiLCJ0YWJpbmRleCIsImFkZENsYXNzIiwiY2xhc3NOYW1lcyIsImN1clZhbHVlIiwiZmluYWxWYWx1ZSIsInJlbW92ZUNsYXNzIiwidG9nZ2xlQ2xhc3MiLCJzdGF0ZVZhbCIsImlzVmFsaWRWYWx1ZSIsImhhc0NsYXNzIiwicnJldHVybiIsInZhbEhvb2tzIiwib3B0aW9uU2V0IiwicnF1ZXJ5IiwicGFyc2VYTUwiLCJwYXJzZXJFcnJvckVsZW0iLCJET01QYXJzZXIiLCJwYXJzZUZyb21TdHJpbmciLCJyZm9jdXNNb3JwaCIsInN0b3BQcm9wYWdhdGlvbkNhbGxiYWNrIiwib25seUhhbmRsZXJzIiwiYnViYmxlVHlwZSIsIm9udHlwZSIsImxhc3RFbGVtZW50IiwiZXZlbnRQYXRoIiwicGFyZW50V2luZG93IiwidHJpZ2dlckhhbmRsZXIiLCJyYnJhY2tldCIsInJDUkxGIiwicnN1Ym1pdHRlclR5cGVzIiwicnN1Ym1pdHRhYmxlIiwiYnVpbGRQYXJhbXMiLCJ0cmFkaXRpb25hbCIsInBhcmFtIiwicyIsInZhbHVlT3JGdW5jdGlvbiIsImVuY29kZVVSSUNvbXBvbmVudCIsInNlcmlhbGl6ZSIsInNlcmlhbGl6ZUFycmF5IiwicjIwIiwicmhhc2giLCJyYW50aUNhY2hlIiwicmhlYWRlcnMiLCJybm9Db250ZW50IiwicnByb3RvY29sIiwidHJhbnNwb3J0cyIsImFsbFR5cGVzIiwib3JpZ2luQW5jaG9yIiwiYWRkVG9QcmVmaWx0ZXJzT3JUcmFuc3BvcnRzIiwic3RydWN0dXJlIiwiZGF0YVR5cGVFeHByZXNzaW9uIiwiZGF0YVR5cGUiLCJkYXRhVHlwZXMiLCJpbnNwZWN0UHJlZmlsdGVyc09yVHJhbnNwb3J0cyIsImpxWEhSIiwiaW5zcGVjdGVkIiwic2Vla2luZ1RyYW5zcG9ydCIsImluc3BlY3QiLCJwcmVmaWx0ZXJPckZhY3RvcnkiLCJkYXRhVHlwZU9yVHJhbnNwb3J0IiwiYWpheEV4dGVuZCIsImZsYXRPcHRpb25zIiwiYWpheFNldHRpbmdzIiwiYWN0aXZlIiwibGFzdE1vZGlmaWVkIiwiZXRhZyIsInVybCIsImlzTG9jYWwiLCJwcm90b2NvbCIsInByb2Nlc3NEYXRhIiwiYXN5bmMiLCJjb250ZW50VHlwZSIsImFjY2VwdHMiLCJqc29uIiwicmVzcG9uc2VGaWVsZHMiLCJjb252ZXJ0ZXJzIiwiYWpheFNldHVwIiwic2V0dGluZ3MiLCJhamF4UHJlZmlsdGVyIiwiYWpheFRyYW5zcG9ydCIsImFqYXgiLCJ0cmFuc3BvcnQiLCJjYWNoZVVSTCIsInJlc3BvbnNlSGVhZGVyc1N0cmluZyIsInJlc3BvbnNlSGVhZGVycyIsInRpbWVvdXRUaW1lciIsInVybEFuY2hvciIsImZpcmVHbG9iYWxzIiwidW5jYWNoZWQiLCJjYWxsYmFja0NvbnRleHQiLCJnbG9iYWxFdmVudENvbnRleHQiLCJjb21wbGV0ZURlZmVycmVkIiwic3RhdHVzQ29kZSIsInJlcXVlc3RIZWFkZXJzIiwicmVxdWVzdEhlYWRlcnNOYW1lcyIsInN0ckFib3J0IiwiZ2V0UmVzcG9uc2VIZWFkZXIiLCJnZXRBbGxSZXNwb25zZUhlYWRlcnMiLCJzZXRSZXF1ZXN0SGVhZGVyIiwib3ZlcnJpZGVNaW1lVHlwZSIsIm1pbWVUeXBlIiwic3RhdHVzIiwiYWJvcnQiLCJzdGF0dXNUZXh0IiwiZmluYWxUZXh0IiwiY3Jvc3NEb21haW4iLCJob3N0IiwiaGFzQ29udGVudCIsImlmTW9kaWZpZWQiLCJoZWFkZXJzIiwiYmVmb3JlU2VuZCIsInN1Y2Nlc3MiLCJzZW5kIiwibmF0aXZlU3RhdHVzVGV4dCIsInJlc3BvbnNlcyIsImlzU3VjY2VzcyIsInJlc3BvbnNlIiwibW9kaWZpZWQiLCJjdCIsImZpbmFsRGF0YVR5cGUiLCJmaXJzdERhdGFUeXBlIiwiYWpheEhhbmRsZVJlc3BvbnNlcyIsImNvbnYyIiwiY3VycmVudCIsImNvbnYiLCJkYXRhRmlsdGVyIiwidGhyb3dzIiwiYWpheENvbnZlcnQiLCJnZXRKU09OIiwiZ2V0U2NyaXB0Iiwid3JhcEFsbCIsImZpcnN0RWxlbWVudENoaWxkIiwid3JhcElubmVyIiwiaHRtbElzRnVuY3Rpb24iLCJ1bndyYXAiLCJ2aXNpYmxlIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJ4aHJTdWNjZXNzU3RhdHVzIiwieGhyU3VwcG9ydGVkIiwiY29ycyIsImVycm9yQ2FsbGJhY2siLCJvcGVuIiwidXNlcm5hbWUiLCJ4aHJGaWVsZHMiLCJvbmxvYWQiLCJvbmVycm9yIiwib25hYm9ydCIsIm9udGltZW91dCIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlc3BvbnNlVHlwZSIsInJlc3BvbnNlVGV4dCIsImJpbmFyeSIsInNjcmlwdEF0dHJzIiwiY2hhcnNldCIsInNjcmlwdENoYXJzZXQiLCJldnQiLCJvbGRDYWxsYmFja3MiLCJyanNvbnAiLCJqc29ucCIsImpzb25wQ2FsbGJhY2siLCJvcmlnaW5hbFNldHRpbmdzIiwiY2FsbGJhY2tOYW1lIiwib3ZlcndyaXR0ZW4iLCJyZXNwb25zZUNvbnRhaW5lciIsImpzb25Qcm9wIiwiY3JlYXRlSFRNTERvY3VtZW50IiwiaW1wbGVtZW50YXRpb24iLCJrZWVwU2NyaXB0cyIsInBhcnNlZCIsInBhcmFtcyIsImFuaW1hdGVkIiwib2Zmc2V0Iiwic2V0T2Zmc2V0IiwiY3VyUG9zaXRpb24iLCJjdXJMZWZ0IiwiY3VyQ1NTVG9wIiwiY3VyVG9wIiwiY3VyT2Zmc2V0IiwiY3VyQ1NTTGVmdCIsImN1ckVsZW0iLCJ1c2luZyIsInJlY3QiLCJ3aW4iLCJwYWdlWU9mZnNldCIsInBhZ2VYT2Zmc2V0Iiwib2Zmc2V0UGFyZW50IiwicGFyZW50T2Zmc2V0Iiwic2Nyb2xsVG8iLCJIZWlnaHQiLCJXaWR0aCIsImRlZmF1bHRFeHRyYSIsImZ1bmNOYW1lIiwidW5iaW5kIiwiZGVsZWdhdGUiLCJ1bmRlbGVnYXRlIiwiaG92ZXIiLCJmbk92ZXIiLCJmbk91dCIsInJ0cmltIiwicHJveHkiLCJob2xkUmVhZHkiLCJob2xkIiwicGFyc2VKU09OIiwiaXNOdW1lcmljIiwiaXNOYU4iLCJ0cmltIiwiX2pRdWVyeSIsIl8kIiwiJCIsIm5vQ29uZmxpY3QiLCJ3IiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImpxdWVyeWxvYWRlcl8xIl0sInNvdXJjZVJvb3QiOiIifQ==