(()=>{"use strict";var e={270:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.addgui=t.setguionlyshowifingame=t.setguikeybind=t.setguistyles=t.setguihtml=t.setguiname=t.guionlyshowifingame=t.guikeybind=t.guistyles=t.guihtml=t.guiname=void 0,t.guiname=null,t.guihtml=null,t.guistyles=null,t.guikeybind=null,t.guionlyshowifingame=!1,t.setguiname=function(e){t.guiname=e},t.setguihtml=function(e){t.guihtml=e},t.setguistyles=function(e){t.guistyles=e},t.setguikeybind=function(e){t.guikeybind=e},t.setguionlyshowifingame=function(e){t.guionlyshowifingame=e},t.addgui=function(){if(null!=t.guiname&&null!=t.guihtml&&null!=t.guistyles){var e=!1;window.addEventListener("keydown",(function(e){"RightShift"==t.guikeybind&&"Shift"===e.key&&e.location===KeyboardEvent.DOM_KEY_LOCATION_RIGHT&&n(),"Escape"!==e.key&&"`"!==e.key||r(),e.key===t.guikeybind&&n()}))}else alert("failed to add gui. reason : guiname or guihtml or guistyles are not defined");function n(){e?r():function(){r();var n=document.createElement("gui");1==t.guionlyshowifingame&&null!=document.pointerLockElement?(n.innerHTML=t.guihtml,n.id=t.guiname,n.style=t.guistyles,document.body.appendChild(n),e=!0):(null!=document.pointerLockElement&&document.exitPointerLock(),n.innerHTML=t.guihtml,n.id=t.guiname,n.style=t.guistyles,document.body.appendChild(n),e=!0)}()}function r(){document.getElementById(t.guiname)&&document.getElementById(t.guiname).remove(),e=!1}}},850:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.loadjquery=void 0,t.loadjquery=function(){
/*!
    * jQuery JavaScript Library v3.7.1
    * https://jquery.com/
    *
    * Copyright OpenJS Foundation and other contributors
    * Released under the MIT license
    * https://jquery.org/license
    *
    * Date: 2023-08-28T13:37Z
    */
var r,i;console.log("successfully loaded jquery!"),r="undefined"!=typeof window?window:this,i=function(r,i){var o=[],a=Object.getPrototypeOf,s=o.slice,u=o.flat?function(e){return o.flat.call(e)}:function(e){return o.concat.apply([],e)},l=o.push,c=o.indexOf,f={},p=f.toString,d=f.hasOwnProperty,h=d.toString,g=h.call(Object),v={},y=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},m=function(e){return null!=e&&e===e.window},x=r.document,b={type:!0,src:!0,nonce:!0,noModule:!0};function w(e,t,n){var r,i,o=(n=n||x).createElement("script");if(o.text=e,t)for(r in b)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function T(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?f[p.call(e)]||"object":typeof e}var C="3.7.1",k=/HTML$/i,E=function(e,t){return new E.fn.init(e,t)};function S(e){var t=!!e&&"length"in e&&e.length,n=T(e);return!y(e)&&!m(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function j(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}E.fn=E.prototype={jquery:C,constructor:E,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=E.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return E.each(this,e)},map:function(e){return this.pushStack(E.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(E.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(E.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:o.sort,splice:o.splice},E.extend=E.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||y(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(E.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||E.isPlainObject(n)?n:{},i=!1,a[t]=E.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},E.extend({expando:"jQuery"+(C+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==p.call(e)||(t=a(e))&&("function"!=typeof(n=d.call(t,"constructor")&&t.constructor)||h.call(n)!==g))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){w(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(S(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},text:function(e){var t,n="",r=0,i=e.nodeType;if(!i)for(;t=e[r++];)n+=E.text(t);return 1===i||11===i?e.textContent:9===i?e.documentElement.textContent:3===i||4===i?e.nodeValue:n},makeArray:function(e,t){var n=t||[];return null!=e&&(S(Object(e))?E.merge(n,"string"==typeof e?[e]:e):l.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:c.call(t,e,n)},isXMLDoc:function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!k.test(t||n&&n.nodeName||"HTML")},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(S(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return u(a)},guid:1,support:v}),"function"==typeof Symbol&&(E.fn[Symbol.iterator]=o[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){f["[object "+t+"]"]=t.toLowerCase()}));var A=o.pop,D=o.sort,N=o.splice,L="[\\x20\\t\\r\\n\\f]",q=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g");E.contains=function(e,t){var n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(e.contains?e.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))};var H=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function O(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}E.escapeSelector=function(e){return(e+"").replace(H,O)};var P=x,M=l;!function(){var e,t,n,i,a,u,l,f,p,h,g=M,y=E.expando,m=0,x=0,b=ee(),w=ee(),T=ee(),C=ee(),k=function(e,t){return e===t&&(a=!0),0},S="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",H="(?:\\\\[\\da-fA-F]{1,6}"+L+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",O="\\["+L+"*("+H+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+H+"))|)"+L+"*\\]",R=":("+H+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+O+")*)|.*)\\)|)",I=new RegExp(L+"+","g"),W=new RegExp("^"+L+"*,"+L+"*"),F=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),$=new RegExp(L+"|>"),_=new RegExp(R),B=new RegExp("^"+H+"$"),z={ID:new RegExp("^#("+H+")"),CLASS:new RegExp("^\\.("+H+")"),TAG:new RegExp("^("+H+"|[*])"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+R),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+S+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,U=/^h\d$/i,V=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,G=/[+~]/,Y=new RegExp("\\\\[\\da-fA-F]{1,6}"+L+"?|\\\\([^\\r\\n\\f])","g"),Q=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},J=function(){ue()},K=pe((function(e){return!0===e.disabled&&j(e,"fieldset")}),{dir:"parentNode",next:"legend"});try{g.apply(o=s.call(P.childNodes),P.childNodes),o[P.childNodes.length].nodeType}catch(e){g={apply:function(e,t){M.apply(e,s.call(t))},call:function(e){M.apply(e,s.call(arguments,1))}}}function Z(e,t,n,r){var i,o,a,s,l,c,d,h=t&&t.ownerDocument,m=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==m&&9!==m&&11!==m)return n;if(!r&&(ue(t),t=t||u,f)){if(11!==m&&(l=V.exec(e)))if(i=l[1]){if(9===m){if(!(a=t.getElementById(i)))return n;if(a.id===i)return g.call(n,a),n}else if(h&&(a=h.getElementById(i))&&Z.contains(t,a)&&a.id===i)return g.call(n,a),n}else{if(l[2])return g.apply(n,t.getElementsByTagName(e)),n;if((i=l[3])&&t.getElementsByClassName)return g.apply(n,t.getElementsByClassName(i)),n}if(!(C[e+" "]||p&&p.test(e))){if(d=e,h=t,1===m&&($.test(e)||F.test(e))){for((h=G.test(e)&&se(t.parentNode)||t)==t&&v.scope||((s=t.getAttribute("id"))?s=E.escapeSelector(s):t.setAttribute("id",s=y)),o=(c=ce(e)).length;o--;)c[o]=(s?"#"+s:":scope")+" "+fe(c[o]);d=c.join(",")}try{return g.apply(n,h.querySelectorAll(d)),n}catch(t){C(e,!0)}finally{s===y&&t.removeAttribute("id")}}}return me(e.replace(q,"$1"),t,n,r)}function ee(){var e=[];return function n(r,i){return e.push(r+" ")>t.cacheLength&&delete n[e.shift()],n[r+" "]=i}}function te(e){return e[y]=!0,e}function ne(e){var t=u.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function re(e){return function(t){return j(t,"input")&&t.type===e}}function ie(e){return function(t){return(j(t,"input")||j(t,"button"))&&t.type===e}}function oe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&K(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ae(e){return te((function(t){return t=+t,te((function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))}))}))}function se(e){return e&&void 0!==e.getElementsByTagName&&e}function ue(e){var n,r=e?e.ownerDocument||e:P;return r!=u&&9===r.nodeType&&r.documentElement?(l=(u=r).documentElement,f=!E.isXMLDoc(u),h=l.matches||l.webkitMatchesSelector||l.msMatchesSelector,l.msMatchesSelector&&P!=u&&(n=u.defaultView)&&n.top!==n&&n.addEventListener("unload",J),v.getById=ne((function(e){return l.appendChild(e).id=E.expando,!u.getElementsByName||!u.getElementsByName(E.expando).length})),v.disconnectedMatch=ne((function(e){return h.call(e,"*")})),v.scope=ne((function(){return u.querySelectorAll(":scope")})),v.cssHas=ne((function(){try{return u.querySelector(":has(*,:jqfake)"),!1}catch(e){return!0}})),v.getById?(t.filter.ID=function(e){var t=e.replace(Y,Q);return function(e){return e.getAttribute("id")===t}},t.find.ID=function(e,t){if(void 0!==t.getElementById&&f){var n=t.getElementById(e);return n?[n]:[]}}):(t.filter.ID=function(e){var t=e.replace(Y,Q);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},t.find.ID=function(e,t){if(void 0!==t.getElementById&&f){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),t.find.TAG=function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},t.find.CLASS=function(e,t){if(void 0!==t.getElementsByClassName&&f)return t.getElementsByClassName(e)},p=[],ne((function(e){var t;l.appendChild(e).innerHTML="<a id='"+y+"' href='' disabled='disabled'></a><select id='"+y+"-\r\\' disabled='disabled'><option selected=''></option></select>",e.querySelectorAll("[selected]").length||p.push("\\["+L+"*(?:value|"+S+")"),e.querySelectorAll("[id~="+y+"-]").length||p.push("~="),e.querySelectorAll("a#"+y+"+*").length||p.push(".#.+[+~]"),e.querySelectorAll(":checked").length||p.push(":checked"),(t=u.createElement("input")).setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),l.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&p.push(":enabled",":disabled"),(t=u.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||p.push("\\["+L+"*name"+L+"*="+L+"*(?:''|\"\")")})),v.cssHas||p.push(":has"),p=p.length&&new RegExp(p.join("|")),k=function(e,t){if(e===t)return a=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!v.sortDetached&&t.compareDocumentPosition(e)===n?e===u||e.ownerDocument==P&&Z.contains(P,e)?-1:t===u||t.ownerDocument==P&&Z.contains(P,t)?1:i?c.call(i,e)-c.call(i,t):0:4&n?-1:1)},u):u}for(e in Z.matches=function(e,t){return Z(e,null,null,t)},Z.matchesSelector=function(e,t){if(ue(e),f&&!C[t+" "]&&(!p||!p.test(t)))try{var n=h.call(e,t);if(n||v.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){C(t,!0)}return Z(t,u,null,[e]).length>0},Z.contains=function(e,t){return(e.ownerDocument||e)!=u&&ue(e),E.contains(e,t)},Z.attr=function(e,n){(e.ownerDocument||e)!=u&&ue(e);var r=t.attrHandle[n.toLowerCase()],i=r&&d.call(t.attrHandle,n.toLowerCase())?r(e,n,!f):void 0;return void 0!==i?i:e.getAttribute(n)},Z.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},E.uniqueSort=function(e){var t,n=[],r=0,o=0;if(a=!v.sortStable,i=!v.sortStable&&s.call(e,0),D.call(e,k),a){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)N.call(e,n[r],1)}return i=null,e},E.fn.uniqueSort=function(){return this.pushStack(E.uniqueSort(s.apply(this)))},t=E.expr={cacheLength:50,createPseudo:te,match:z,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Y,Q),e[3]=(e[3]||e[4]||e[5]||"").replace(Y,Q),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||Z.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&Z.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return z.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&_.test(n)&&(t=ce(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Y,Q).toLowerCase();return"*"===e?function(){return!0}:function(e){return j(e,t)}},CLASS:function(e){var t=b[e+" "];return t||(t=new RegExp("(^|"+L+")"+e+"("+L+"|$)"))&&b(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var i=Z.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(I," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,p,d,h=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),x=!u&&!s,b=!1;if(g){if(o){for(;h;){for(f=t;f=f[h];)if(s?j(f,v):1===f.nodeType)return!1;d=h="only"===e&&!d&&"nextSibling"}return!0}if(d=[a?g.firstChild:g.lastChild],a&&x){for(b=(p=(l=(c=g[y]||(g[y]={}))[e]||[])[0]===m&&l[1])&&l[2],f=p&&g.childNodes[p];f=++p&&f&&f[h]||(b=p=0)||d.pop();)if(1===f.nodeType&&++b&&f===t){c[e]=[m,p,b];break}}else if(x&&(b=p=(l=(c=t[y]||(t[y]={}))[e]||[])[0]===m&&l[1]),!1===b)for(;(f=++p&&f&&f[h]||(b=p=0)||d.pop())&&(!(s?j(f,v):1===f.nodeType)||!++b||(x&&((c=f[y]||(f[y]={}))[e]=[m,b]),f!==t)););return(b-=i)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,n){var r,i=t.pseudos[e]||t.setFilters[e.toLowerCase()]||Z.error("unsupported pseudo: "+e);return i[y]?i(n):i.length>1?(r=[e,e,"",n],t.setFilters.hasOwnProperty(e.toLowerCase())?te((function(e,t){for(var r,o=i(e,n),a=o.length;a--;)e[r=c.call(e,o[a])]=!(t[r]=o[a])})):function(e){return i(e,0,r)}):i}},pseudos:{not:te((function(e){var t=[],n=[],r=ye(e.replace(q,"$1"));return r[y]?te((function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))})):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}})),has:te((function(e){return function(t){return Z(e,t).length>0}})),contains:te((function(e){return e=e.replace(Y,Q),function(t){return(t.textContent||E.text(t)).indexOf(e)>-1}})),lang:te((function(e){return B.test(e||"")||Z.error("unsupported lang: "+e),e=e.replace(Y,Q).toLowerCase(),function(t){var n;do{if(n=f?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(e){var t=r.location&&r.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===l},focus:function(e){return e===function(){try{return u.activeElement}catch(e){}}()&&u.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:oe(!1),disabled:oe(!0),checked:function(e){return j(e,"input")&&!!e.checked||j(e,"option")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!t.pseudos.empty(e)},header:function(e){return U.test(e.nodeName)},input:function(e){return X.test(e.nodeName)},button:function(e){return j(e,"input")&&"button"===e.type||j(e,"button")},text:function(e){var t;return j(e,"input")&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ae((function(){return[0]})),last:ae((function(e,t){return[t-1]})),eq:ae((function(e,t,n){return[n<0?n+t:n]})),even:ae((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:ae((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:ae((function(e,t,n){var r;for(r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e})),gt:ae((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}},t.pseudos.nth=t.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[e]=re(e);for(e in{submit:!0,reset:!0})t.pseudos[e]=ie(e);function le(){}function ce(e,n){var r,i,o,a,s,u,l,c=w[e+" "];if(c)return n?0:c.slice(0);for(s=e,u=[],l=t.preFilter;s;){for(a in r&&!(i=W.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=F.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(q," ")}),s=s.slice(r.length)),t.filter)!(i=z[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?Z.error(e):w(e,u).slice(0)}function fe(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function pe(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,s=x++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,u){var l,c,f=[m,s];if(u){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,u))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(c=t[y]||(t[y]={}),i&&j(t,i))t=t[r]||t;else{if((l=c[o])&&l[0]===m&&l[1]===s)return f[2]=l[2];if(c[o]=f,f[2]=e(t,n,u))return!0}return!1}}function de(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function he(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function ge(e,t,n,r,i,o){return r&&!r[y]&&(r=ge(r)),i&&!i[y]&&(i=ge(i,o)),te((function(o,a,s,u){var l,f,p,d,h=[],v=[],y=a.length,m=o||function(e,t,n){for(var r=0,i=t.length;r<i;r++)Z(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),x=!e||!o&&t?m:he(m,h,e,s,u);if(n?n(x,d=i||(o?e:y||r)?[]:a,s,u):d=x,r)for(l=he(d,v),r(l,[],s,u),f=l.length;f--;)(p=l[f])&&(d[v[f]]=!(x[v[f]]=p));if(o){if(i||e){if(i){for(l=[],f=d.length;f--;)(p=d[f])&&l.push(x[f]=p);i(null,d=[],l,u)}for(f=d.length;f--;)(p=d[f])&&(l=i?c.call(o,p):h[f])>-1&&(o[l]=!(a[l]=p))}}else d=he(d===a?d.splice(y,d.length):d),i?i(null,a,d,u):g.apply(a,d)}))}function ve(e){for(var r,i,o,a=e.length,s=t.relative[e[0].type],u=s||t.relative[" "],l=s?1:0,f=pe((function(e){return e===r}),u,!0),p=pe((function(e){return c.call(r,e)>-1}),u,!0),d=[function(e,t,i){var o=!s&&(i||t!=n)||((r=t).nodeType?f(e,t,i):p(e,t,i));return r=null,o}];l<a;l++)if(i=t.relative[e[l].type])d=[pe(de(d),i)];else{if((i=t.filter[e[l].type].apply(null,e[l].matches))[y]){for(o=++l;o<a&&!t.relative[e[o].type];o++);return ge(l>1&&de(d),l>1&&fe(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(q,"$1"),i,l<o&&ve(e.slice(l,o)),o<a&&ve(e=e.slice(o)),o<a&&fe(e))}d.push(i)}return de(d)}function ye(e,r){var i,o=[],a=[],s=T[e+" "];if(!s){for(r||(r=ce(e)),i=r.length;i--;)(s=ve(r[i]))[y]?o.push(s):a.push(s);s=T(e,function(e,r){var i=r.length>0,o=e.length>0,a=function(a,s,l,c,p){var d,h,v,y=0,x="0",b=a&&[],w=[],T=n,C=a||o&&t.find.TAG("*",p),k=m+=null==T?1:Math.random()||.1,S=C.length;for(p&&(n=s==u||s||p);x!==S&&null!=(d=C[x]);x++){if(o&&d){for(h=0,s||d.ownerDocument==u||(ue(d),l=!f);v=e[h++];)if(v(d,s||u,l)){g.call(c,d);break}p&&(m=k)}i&&((d=!v&&d)&&y--,a&&b.push(d))}if(y+=x,i&&x!==y){for(h=0;v=r[h++];)v(b,w,s,l);if(a){if(y>0)for(;x--;)b[x]||w[x]||(w[x]=A.call(c));w=he(w)}g.apply(c,w),p&&!a&&w.length>0&&y+r.length>1&&E.uniqueSort(c)}return p&&(m=k,n=T),b};return i?te(a):a}(a,o)),s.selector=e}return s}function me(e,n,r,i){var o,a,s,u,l,c="function"==typeof e&&e,p=!i&&ce(e=c.selector||e);if(r=r||[],1===p.length){if((a=p[0]=p[0].slice(0)).length>2&&"ID"===(s=a[0]).type&&9===n.nodeType&&f&&t.relative[a[1].type]){if(!(n=(t.find.ID(s.matches[0].replace(Y,Q),n)||[])[0]))return r;c&&(n=n.parentNode),e=e.slice(a.shift().value.length)}for(o=z.needsContext.test(e)?0:a.length;o--&&(s=a[o],!t.relative[u=s.type]);)if((l=t.find[u])&&(i=l(s.matches[0].replace(Y,Q),G.test(a[0].type)&&se(n.parentNode)||n))){if(a.splice(o,1),!(e=i.length&&fe(a)))return g.apply(r,i),r;break}}return(c||ye(e,p))(i,n,!f,r,!n||G.test(e)&&se(n.parentNode)||n),r}le.prototype=t.filters=t.pseudos,t.setFilters=new le,v.sortStable=y.split("").sort(k).join("")===y,ue(),v.sortDetached=ne((function(e){return 1&e.compareDocumentPosition(u.createElement("fieldset"))})),E.find=Z,E.expr[":"]=E.expr.pseudos,E.unique=E.uniqueSort,Z.compile=ye,Z.select=me,Z.setDocument=ue,Z.tokenize=ce,Z.escape=E.escapeSelector,Z.getText=E.text,Z.isXML=E.isXMLDoc,Z.selectors=E.expr,Z.support=E.support,Z.uniqueSort=E.uniqueSort}();var R=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&E(e).is(n))break;r.push(e)}return r},I=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},W=E.expr.match.needsContext,F=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function $(e,t,n){return y(t)?E.grep(e,(function(e,r){return!!t.call(e,r,e)!==n})):t.nodeType?E.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?E.grep(e,(function(e){return c.call(t,e)>-1!==n})):E.filter(t,e,n)}E.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?E.find.matchesSelector(r,e)?[r]:[]:E.find.matches(e,E.grep(t,(function(e){return 1===e.nodeType})))},E.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(E(e).filter((function(){for(t=0;t<r;t++)if(E.contains(i[t],this))return!0})));for(n=this.pushStack([]),t=0;t<r;t++)E.find(e,i[t],n);return r>1?E.uniqueSort(n):n},filter:function(e){return this.pushStack($(this,e||[],!1))},not:function(e){return this.pushStack($(this,e||[],!0))},is:function(e){return!!$(this,"string"==typeof e&&W.test(e)?E(e):e||[],!1).length}});var _,B=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(E.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||_,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:B.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof E?t[0]:t,E.merge(this,E.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:x,!0)),F.test(r[1])&&E.isPlainObject(t))for(r in t)y(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=x.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):y(e)?void 0!==n.ready?n.ready(e):e(E):E.makeArray(e,this)}).prototype=E.fn,_=E(x);var z=/^(?:parents|prev(?:Until|All))/,X={children:!0,contents:!0,next:!0,prev:!0};function U(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}E.fn.extend({has:function(e){var t=E(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(E.contains(this,t[e]))return!0}))},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&E(e);if(!W.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&E.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?E.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?c.call(E(e),this[0]):c.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),E.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return R(e,"parentNode")},parentsUntil:function(e,t,n){return R(e,"parentNode",n)},next:function(e){return U(e,"nextSibling")},prev:function(e){return U(e,"previousSibling")},nextAll:function(e){return R(e,"nextSibling")},prevAll:function(e){return R(e,"previousSibling")},nextUntil:function(e,t,n){return R(e,"nextSibling",n)},prevUntil:function(e,t,n){return R(e,"previousSibling",n)},siblings:function(e){return I((e.parentNode||{}).firstChild,e)},children:function(e){return I(e.firstChild)},contents:function(e){return null!=e.contentDocument&&a(e.contentDocument)?e.contentDocument:(j(e,"template")&&(e=e.content||e),E.merge([],e.childNodes))}},(function(e,t){E.fn[e]=function(n,r){var i=E.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=E.filter(r,i)),this.length>1&&(X[e]||E.uniqueSort(i),z.test(e)&&i.reverse()),this.pushStack(i)}}));var V=/[^\x20\t\r\n\f]+/g;function G(e){return e}function Y(e){throw e}function Q(e,t,n,r){var i;try{e&&y(i=e.promise)?i.call(e).done(t).fail(n):e&&y(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}E.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return E.each(e.match(V)||[],(function(e,n){t[n]=!0})),t}(e):E.extend({},e);var t,n,r,i,o=[],a=[],s=-1,u=function(){for(i=i||e.once,r=t=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},l={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),function t(n){E.each(n,(function(n,r){y(r)?e.unique&&l.has(r)||o.push(r):r&&r.length&&"string"!==T(r)&&t(r)}))}(arguments),n&&!t&&u()),this},remove:function(){return E.each(arguments,(function(e,t){for(var n;(n=E.inArray(t,o,n))>-1;)o.splice(n,1),n<=s&&s--})),this},has:function(e){return e?E.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},E.extend({Deferred:function(e){var t=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return E.Deferred((function(n){E.each(t,(function(t,r){var i=y(e[r[4]])&&e[r[4]];o[r[1]]((function(){var e=i&&i.apply(this,arguments);e&&y(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[e]:arguments)}))})),e=null})).promise()},then:function(e,n,i){var o=0;function a(e,t,n,i){return function(){var s=this,u=arguments,l=function(){var r,l;if(!(e<o)){if((r=n.apply(s,u))===t.promise())throw new TypeError("Thenable self-resolution");l=r&&("object"==typeof r||"function"==typeof r)&&r.then,y(l)?i?l.call(r,a(o,t,G,i),a(o,t,Y,i)):(o++,l.call(r,a(o,t,G,i),a(o,t,Y,i),a(o,t,G,t.notifyWith))):(n!==G&&(s=void 0,u=[r]),(i||t.resolveWith)(s,u))}},c=i?l:function(){try{l()}catch(r){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(r,c.error),e+1>=o&&(n!==Y&&(s=void 0,u=[r]),t.rejectWith(s,u))}};e?c():(E.Deferred.getErrorHook?c.error=E.Deferred.getErrorHook():E.Deferred.getStackHook&&(c.error=E.Deferred.getStackHook()),r.setTimeout(c))}}return E.Deferred((function(r){t[0][3].add(a(0,r,y(i)?i:G,r.notifyWith)),t[1][3].add(a(0,r,y(e)?e:G)),t[2][3].add(a(0,r,y(n)?n:Y))})).promise()},promise:function(e){return null!=e?E.extend(e,i):i}},o={};return E.each(t,(function(e,r){var a=r[2],s=r[5];i[r[1]]=a.add,s&&a.add((function(){n=s}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(r[3].fire),o[r[0]]=function(){return o[r[0]+"With"](this===o?void 0:this,arguments),this},o[r[0]+"With"]=a.fireWith})),i.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=s.call(arguments),o=E.Deferred(),a=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?s.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(Q(e,o.done(a(n)).resolve,o.reject,!t),"pending"===o.state()||y(i[n]&&i[n].then)))return o.then();for(;n--;)Q(i[n],a(n),o.reject);return o.promise()}});var J=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(e,t){r.console&&r.console.warn&&e&&J.test(e.name)&&r.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},E.readyException=function(e){r.setTimeout((function(){throw e}))};var K=E.Deferred();function Z(){x.removeEventListener("DOMContentLoaded",Z),r.removeEventListener("load",Z),E.ready()}E.fn.ready=function(e){return K.then(e).catch((function(e){E.readyException(e)})),this},E.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--E.readyWait:E.isReady)||(E.isReady=!0,!0!==e&&--E.readyWait>0||K.resolveWith(x,[E]))}}),E.ready.then=K.then,"complete"===x.readyState||"loading"!==x.readyState&&!x.documentElement.doScroll?r.setTimeout(E.ready):(x.addEventListener("DOMContentLoaded",Z),r.addEventListener("load",Z));var ee=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===T(n))for(s in i=!0,n)ee(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,y(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(E(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},te=/^-ms-/,ne=/-([a-z])/g;function re(e,t){return t.toUpperCase()}function ie(e){return e.replace(te,"ms-").replace(ne,re)}var oe=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function ae(){this.expando=E.expando+ae.uid++}ae.uid=1,ae.prototype={cache:function(e){var t=e[this.expando];return t||(t={},oe(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[ie(t)]=n;else for(r in t)i[ie(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][ie(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(ie):(t=ie(t))in r?[t]:t.match(V)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||E.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!E.isEmptyObject(t)}};var se=new ae,ue=new ae,le=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ce=/[A-Z]/g;function fe(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(ce,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:le.test(e)?JSON.parse(e):e)}(n)}catch(e){}ue.set(e,t,n)}else n=void 0;return n}E.extend({hasData:function(e){return ue.hasData(e)||se.hasData(e)},data:function(e,t,n){return ue.access(e,t,n)},removeData:function(e,t){ue.remove(e,t)},_data:function(e,t,n){return se.access(e,t,n)},_removeData:function(e,t){se.remove(e,t)}}),E.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=ue.get(o),1===o.nodeType&&!se.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=ie(r.slice(5)),fe(o,r,i[r]));se.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each((function(){ue.set(this,e)})):ee(this,(function(t){var n;if(o&&void 0===t)return void 0!==(n=ue.get(o,e))||void 0!==(n=fe(o,e))?n:void 0;this.each((function(){ue.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){ue.remove(this,e)}))}}),E.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=se.get(e,t),n&&(!r||Array.isArray(n)?r=se.access(e,t,E.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=E.queue(e,t),r=n.length,i=n.shift(),o=E._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,(function(){E.dequeue(e,t)}),o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return se.get(e,n)||se.access(e,n,{empty:E.Callbacks("once memory").add((function(){se.remove(e,[t+"queue",n])}))})}}),E.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?E.queue(this[0],e):void 0===t?this:this.each((function(){var n=E.queue(this,e,t);E._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&E.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){E.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=E.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=se.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var pe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,de=new RegExp("^(?:([+-])=|)("+pe+")([a-z%]*)$","i"),he=["Top","Right","Bottom","Left"],ge=x.documentElement,ve=function(e){return E.contains(e.ownerDocument,e)},ye={composed:!0};ge.getRootNode&&(ve=function(e){return E.contains(e.ownerDocument,e)||e.getRootNode(ye)===e.ownerDocument});var me=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ve(e)&&"none"===E.css(e,"display")};function xe(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return E.css(e,t,"")},u=s(),l=n&&n[3]||(E.cssNumber[t]?"":"px"),c=e.nodeType&&(E.cssNumber[t]||"px"!==l&&+u)&&de.exec(E.css(e,t));if(c&&c[3]!==l){for(u/=2,l=l||c[3],c=+u||1;a--;)E.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,E.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var be={};function we(e){var t,n=e.ownerDocument,r=e.nodeName,i=be[r];return i||(t=n.body.appendChild(n.createElement(r)),i=E.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),be[r]=i,i)}function Te(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=se.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&me(r)&&(i[o]=we(r))):"none"!==n&&(i[o]="none",se.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}E.fn.extend({show:function(){return Te(this,!0)},hide:function(){return Te(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){me(this)?E(this).show():E(this).hide()}))}});var Ce,ke,Ee=/^(?:checkbox|radio)$/i,Se=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,je=/^$|^module$|\/(?:java|ecma)script/i;Ce=x.createDocumentFragment().appendChild(x.createElement("div")),(ke=x.createElement("input")).setAttribute("type","radio"),ke.setAttribute("checked","checked"),ke.setAttribute("name","t"),Ce.appendChild(ke),v.checkClone=Ce.cloneNode(!0).cloneNode(!0).lastChild.checked,Ce.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!Ce.cloneNode(!0).lastChild.defaultValue,Ce.innerHTML="<option></option>",v.option=!!Ce.lastChild;var Ae={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function De(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&j(e,t)?E.merge([e],n):n}function Ne(e,t){for(var n=0,r=e.length;n<r;n++)se.set(e[n],"globalEval",!t||se.get(t[n],"globalEval"))}Ae.tbody=Ae.tfoot=Ae.colgroup=Ae.caption=Ae.thead,Ae.th=Ae.td,v.option||(Ae.optgroup=Ae.option=[1,"<select multiple='multiple'>","</select>"]);var Le=/<|&#?\w+;/;function qe(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===T(o))E.merge(p,o.nodeType?[o]:o);else if(Le.test(o)){for(a=a||f.appendChild(t.createElement("div")),s=(Se.exec(o)||["",""])[1].toLowerCase(),u=Ae[s]||Ae._default,a.innerHTML=u[1]+E.htmlPrefilter(o)+u[2],c=u[0];c--;)a=a.lastChild;E.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));for(f.textContent="",d=0;o=p[d++];)if(r&&E.inArray(o,r)>-1)i&&i.push(o);else if(l=ve(o),a=De(f.appendChild(o),"script"),l&&Ne(a),n)for(c=0;o=a[c++];)je.test(o.type||"")&&n.push(o);return f}var He=/^([^.]*)(?:\.(.+)|)/;function Oe(){return!0}function Pe(){return!1}function Me(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Me(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Pe;else if(!i)return e;return 1===o&&(a=i,i=function(e){return E().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=E.guid++)),e.each((function(){E.event.add(this,t,i,r,n)}))}function Re(e,t,n){n?(se.set(e,t,!1),E.event.add(e,t,{namespace:!1,handler:function(e){var n,r=se.get(this,t);if(1&e.isTrigger&&this[t]){if(r)(E.event.special[t]||{}).delegateType&&e.stopPropagation();else if(r=s.call(arguments),se.set(this,t,r),this[t](),n=se.get(this,t),se.set(this,t,!1),r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n}else r&&(se.set(this,t,E.event.trigger(r[0],r.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=Oe)}})):void 0===se.get(e,t)&&E.event.add(e,t,Oe)}E.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=se.get(e);if(oe(e))for(n.handler&&(n=(o=n).handler,i=o.selector),i&&E.find.matchesSelector(ge,i),n.guid||(n.guid=E.guid++),(u=v.events)||(u=v.events=Object.create(null)),(a=v.handle)||(a=v.handle=function(t){return void 0!==E&&E.event.triggered!==t.type?E.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(V)||[""]).length;l--;)d=g=(s=He.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=E.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=E.event.special[d]||{},c=E.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&E.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,r,h,a)||e.addEventListener&&e.addEventListener(d,a)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),E.event.global[d]=!0)},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=se.hasData(e)&&se.get(e);if(v&&(u=v.events)){for(l=(t=(t||"").match(V)||[""]).length;l--;)if(d=g=(s=He.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){for(f=E.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||E.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)E.event.remove(e,d+t[l],n,r,!0);E.isEmptyObject(u)&&se.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),u=E.event.fix(e),l=(se.get(this,"events")||Object.create(null))[u.type]||[],c=E.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){for(a=E.event.handlers.call(this,u,l),t=0;(i=a[t++])&&!u.isPropagationStopped();)for(u.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!u.isImmediatePropagationStopped();)u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((E.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?E(i,this).index(l)>-1:E.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(e,t){Object.defineProperty(E.Event.prototype,e,{enumerable:!0,configurable:!0,get:y(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[E.expando]?e:new E.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return Ee.test(t.type)&&t.click&&j(t,"input")&&Re(t,"click",!0),!1},trigger:function(e){var t=this||e;return Ee.test(t.type)&&t.click&&j(t,"input")&&Re(t,"click"),!0},_default:function(e){var t=e.target;return Ee.test(t.type)&&t.click&&j(t,"input")&&se.get(t,"click")||j(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},E.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},E.Event=function(e,t){if(!(this instanceof E.Event))return new E.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Oe:Pe,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&E.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:Pe,isPropagationStopped:Pe,isImmediatePropagationStopped:Pe,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Oe,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Oe,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Oe,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},E.event.addProp),E.each({focus:"focusin",blur:"focusout"},(function(e,t){function n(e){if(x.documentMode){var n=se.get(this,"handle"),r=E.event.fix(e);r.type="focusin"===e.type?"focus":"blur",r.isSimulated=!0,n(e),r.target===r.currentTarget&&n(r)}else E.event.simulate(t,e.target,E.event.fix(e))}E.event.special[e]={setup:function(){var r;if(Re(this,e,!0),!x.documentMode)return!1;(r=se.get(this,t))||this.addEventListener(t,n),se.set(this,t,(r||0)+1)},trigger:function(){return Re(this,e),!0},teardown:function(){var e;if(!x.documentMode)return!1;(e=se.get(this,t)-1)?se.set(this,t,e):(this.removeEventListener(t,n),se.remove(this,t))},_default:function(t){return se.get(t.target,e)},delegateType:t},E.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,i=x.documentMode?this:r,o=se.get(i,t);o||(x.documentMode?this.addEventListener(t,n):r.addEventListener(e,n,!0)),se.set(i,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,i=x.documentMode?this:r,o=se.get(i,t)-1;o?se.set(i,t,o):(x.documentMode?this.removeEventListener(t,n):r.removeEventListener(e,n,!0),se.remove(i,t))}}})),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){E.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,i=e.handleObj;return r&&(r===this||E.contains(this,r))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}})),E.fn.extend({on:function(e,t,n,r){return Me(this,e,t,n,r)},one:function(e,t,n,r){return Me(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,E(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Pe),this.each((function(){E.event.remove(this,e,n,t)}))}});var Ie=/<script|<style|<link/i,We=/checked\s*(?:[^=]|=\s*.checked.)/i,Fe=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function $e(e,t){return j(e,"table")&&j(11!==t.nodeType?t:t.firstChild,"tr")&&E(e).children("tbody")[0]||e}function _e(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Be(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function ze(e,t){var n,r,i,o,a,s;if(1===t.nodeType){if(se.hasData(e)&&(s=se.get(e).events))for(i in se.remove(t,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)E.event.add(t,i,s[i][n]);ue.hasData(e)&&(o=ue.access(e),a=E.extend({},o),ue.set(t,a))}}function Xe(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Ee.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Ue(e,t,n,r){t=u(t);var i,o,a,s,l,c,f=0,p=e.length,d=p-1,h=t[0],g=y(h);if(g||p>1&&"string"==typeof h&&!v.checkClone&&We.test(h))return e.each((function(i){var o=e.eq(i);g&&(t[0]=h.call(this,i,o.html())),Ue(o,t,n,r)}));if(p&&(o=(i=qe(t,e[0].ownerDocument,!1,e,r)).firstChild,1===i.childNodes.length&&(i=o),o||r)){for(s=(a=E.map(De(i,"script"),_e)).length;f<p;f++)l=i,f!==d&&(l=E.clone(l,!0,!0),s&&E.merge(a,De(l,"script"))),n.call(e[f],l,f);if(s)for(c=a[a.length-1].ownerDocument,E.map(a,Be),f=0;f<s;f++)l=a[f],je.test(l.type||"")&&!se.access(l,"globalEval")&&E.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?E._evalUrl&&!l.noModule&&E._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},c):w(l.textContent.replace(Fe,""),l,c))}return e}function Ve(e,t,n){for(var r,i=t?E.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||E.cleanData(De(r)),r.parentNode&&(n&&ve(r)&&Ne(De(r,"script")),r.parentNode.removeChild(r));return e}E.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),u=ve(e);if(!(v.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||E.isXMLDoc(e)))for(a=De(s),r=0,i=(o=De(e)).length;r<i;r++)Xe(o[r],a[r]);if(t)if(n)for(o=o||De(e),a=a||De(s),r=0,i=o.length;r<i;r++)ze(o[r],a[r]);else ze(e,s);return(a=De(s,"script")).length>0&&Ne(a,!u&&De(e,"script")),s},cleanData:function(e){for(var t,n,r,i=E.event.special,o=0;void 0!==(n=e[o]);o++)if(oe(n)){if(t=n[se.expando]){if(t.events)for(r in t.events)i[r]?E.event.remove(n,r):E.removeEvent(n,r,t.handle);n[se.expando]=void 0}n[ue.expando]&&(n[ue.expando]=void 0)}}}),E.fn.extend({detach:function(e){return Ve(this,e,!0)},remove:function(e){return Ve(this,e)},text:function(e){return ee(this,(function(e){return void 0===e?E.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Ue(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||$e(this,e).appendChild(e)}))},prepend:function(){return Ue(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=$e(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Ue(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Ue(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(E.cleanData(De(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return E.clone(this,e,t)}))},html:function(e){return ee(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ie.test(e)&&!Ae[(Se.exec(e)||["",""])[1].toLowerCase()]){e=E.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(E.cleanData(De(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Ue(this,arguments,(function(t){var n=this.parentNode;E.inArray(this,e)<0&&(E.cleanData(De(this)),n&&n.replaceChild(t,this))}),e)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){E.fn[e]=function(e){for(var n,r=[],i=E(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),E(i[a])[t](n),l.apply(r,n.get());return this.pushStack(r)}}));var Ge=new RegExp("^("+pe+")(?!px)[a-z%]+$","i"),Ye=/^--/,Qe=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=r),t.getComputedStyle(e)},Je=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},Ke=new RegExp(he.join("|"),"i");function Ze(e,t,n){var r,i,o,a,s=Ye.test(t),u=e.style;return(n=n||Qe(e))&&(a=n.getPropertyValue(t)||n[t],s&&a&&(a=a.replace(q,"$1")||void 0),""!==a||ve(e)||(a=E.style(e,t)),!v.pixelBoxStyles()&&Ge.test(a)&&Ke.test(t)&&(r=u.width,i=u.minWidth,o=u.maxWidth,u.minWidth=u.maxWidth=u.width=a,a=n.width,u.width=r,u.minWidth=i,u.maxWidth=o)),void 0!==a?a+"":a}function et(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ge.appendChild(l).appendChild(c);var e=r.getComputedStyle(c);n="1%"!==e.top,u=12===t(e.marginLeft),c.style.right="60%",a=36===t(e.right),i=36===t(e.width),c.style.position="absolute",o=12===t(c.offsetWidth/3),ge.removeChild(l),c=null}}function t(e){return Math.round(parseFloat(e))}var n,i,o,a,s,u,l=x.createElement("div"),c=x.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===c.style.backgroundClip,E.extend(v,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),u},scrollboxSize:function(){return e(),o},reliableTrDimensions:function(){var e,t,n,i;return null==s&&(e=x.createElement("table"),t=x.createElement("tr"),n=x.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="box-sizing:content-box;border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",ge.appendChild(e).appendChild(t).appendChild(n),i=r.getComputedStyle(t),s=parseInt(i.height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===t.offsetHeight,ge.removeChild(e)),s}}))}();var tt=["Webkit","Moz","ms"],nt=x.createElement("div").style,rt={};function it(e){var t=E.cssProps[e]||rt[e];return t||(e in nt?e:rt[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=tt.length;n--;)if((e=tt[n]+t)in nt)return e}(e)||e)}var ot=/^(none|table(?!-c[ea]).+)/,at={position:"absolute",visibility:"hidden",display:"block"},st={letterSpacing:"0",fontWeight:"400"};function ut(e,t,n){var r=de.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function lt(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0,l=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=E.css(e,n+he[a],!0,i)),r?("content"===n&&(u-=E.css(e,"padding"+he[a],!0,i)),"margin"!==n&&(u-=E.css(e,"border"+he[a]+"Width",!0,i))):(u+=E.css(e,"padding"+he[a],!0,i),"padding"!==n?u+=E.css(e,"border"+he[a]+"Width",!0,i):s+=E.css(e,"border"+he[a]+"Width",!0,i));return!r&&o>=0&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u+l}function ct(e,t,n){var r=Qe(e),i=(!v.boxSizingReliable()||n)&&"border-box"===E.css(e,"boxSizing",!1,r),o=i,a=Ze(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(Ge.test(a)){if(!n)return a;a="auto"}return(!v.boxSizingReliable()&&i||!v.reliableTrDimensions()&&j(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===E.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===E.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+lt(e,t,n||(i?"border":"content"),o,r,a)+"px"}function ft(e,t,n,r,i){return new ft.prototype.init(e,t,n,r,i)}E.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ze(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=ie(t),u=Ye.test(t),l=e.style;if(u||(t=it(s)),a=E.cssHooks[t]||E.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"==(o=typeof n)&&(i=de.exec(n))&&i[1]&&(n=xe(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(E.cssNumber[s]?"":"px")),v.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=ie(t);return Ye.test(t)||(t=it(s)),(a=E.cssHooks[t]||E.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Ze(e,t,r)),"normal"===i&&t in st&&(i=st[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),E.each(["height","width"],(function(e,t){E.cssHooks[t]={get:function(e,n,r){if(n)return!ot.test(E.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ct(e,t,r):Je(e,at,(function(){return ct(e,t,r)}))},set:function(e,n,r){var i,o=Qe(e),a=!v.scrollboxSize()&&"absolute"===o.position,s=(a||r)&&"border-box"===E.css(e,"boxSizing",!1,o),u=r?lt(e,t,r,s,o):0;return s&&a&&(u-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-lt(e,t,"border",!1,o)-.5)),u&&(i=de.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=E.css(e,t)),ut(0,n,u)}}})),E.cssHooks.marginLeft=et(v.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Ze(e,"marginLeft"))||e.getBoundingClientRect().left-Je(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),E.each({margin:"",padding:"",border:"Width"},(function(e,t){E.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+he[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(E.cssHooks[e+t].set=ut)})),E.fn.extend({css:function(e,t){return ee(this,(function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Qe(e),i=t.length;a<i;a++)o[t[a]]=E.css(e,t[a],!1,r);return o}return void 0!==n?E.style(e,t,n):E.css(e,t)}),e,t,arguments.length>1)}}),E.Tween=ft,ft.prototype={constructor:ft,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||E.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(E.cssNumber[n]?"":"px")},cur:function(){var e=ft.propHooks[this.prop];return e&&e.get?e.get(this):ft.propHooks._default.get(this)},run:function(e){var t,n=ft.propHooks[this.prop];return this.options.duration?this.pos=t=E.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ft.propHooks._default.set(this),this}},ft.prototype.init.prototype=ft.prototype,ft.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=E.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){E.fx.step[e.prop]?E.fx.step[e.prop](e):1!==e.elem.nodeType||!E.cssHooks[e.prop]&&null==e.elem.style[it(e.prop)]?e.elem[e.prop]=e.now:E.style(e.elem,e.prop,e.now+e.unit)}}},ft.propHooks.scrollTop=ft.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},E.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},E.fx=ft.prototype.init,E.fx.step={};var pt,dt,ht=/^(?:toggle|show|hide)$/,gt=/queueHooks$/;function vt(){dt&&(!1===x.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(vt):r.setTimeout(vt,E.fx.interval),E.fx.tick())}function yt(){return r.setTimeout((function(){pt=void 0})),pt=Date.now()}function mt(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=he[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function xt(e,t,n){for(var r,i=(bt.tweeners[t]||[]).concat(bt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function bt(e,t,n){var r,i,o=0,a=bt.prefilters.length,s=E.Deferred().always((function(){delete u.elem})),u=function(){if(i)return!1;for(var t=pt||yt(),n=Math.max(0,l.startTime+l.duration-t),r=1-(n/l.duration||0),o=0,a=l.tweens.length;o<a;o++)l.tweens[o].run(r);return s.notifyWith(e,[l,r,n]),r<1&&a?n:(a||s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:E.extend({},t),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},n),originalProperties:t,originalOptions:n,startTime:pt||yt(),duration:n.duration,tweens:[],createTween:function(t,n){var r=E.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),c=l.props;for(function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=ie(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=E.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);o<a;o++)if(r=bt.prefilters[o].call(l,e,c,l.opts))return y(r.stop)&&(E._queueHooks(l.elem,l.opts.queue).stop=r.stop.bind(r)),r;return E.map(c,xt,l),y(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),E.fx.timer(E.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l}E.Animation=E.extend(bt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return xe(n.elem,e,de.exec(t),n),n}]},tweener:function(e,t){y(e)?(t=e,e=["*"]):e=e.match(V);for(var n,r=0,i=e.length;r<i;r++)n=e[r],bt.tweeners[n]=bt.tweeners[n]||[],bt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&me(e),v=se.get(e,"fxshow");for(r in n.queue||(null==(a=E._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always((function(){p.always((function(){a.unqueued--,E.queue(e,"fx").length||a.empty.fire()}))}))),t)if(i=t[r],ht.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||E.style(e,r)}if((u=!E.isEmptyObject(t))||!E.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=se.get(e,"display")),"none"===(c=E.css(e,"display"))&&(l?c=l:(Te([e],!0),l=e.style.display||l,c=E.css(e,"display"),Te([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===E.css(e,"float")&&(u||(p.done((function(){h.display=l})),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always((function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}))),u=!1,d)u||(v?"hidden"in v&&(g=v.hidden):v=se.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&Te([e],!0),p.done((function(){for(r in g||Te([e]),se.remove(e,"fxshow"),d)E.style(e,r,d[r])}))),u=xt(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?bt.prefilters.unshift(e):bt.prefilters.push(e)}}),E.speed=function(e,t,n){var r=e&&"object"==typeof e?E.extend({},e):{complete:n||!n&&t||y(e)&&e,duration:e,easing:n&&t||t&&!y(t)&&t};return E.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in E.fx.speeds?r.duration=E.fx.speeds[r.duration]:r.duration=E.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){y(r.old)&&r.old.call(this),r.queue&&E.dequeue(this,r.queue)},r},E.fn.extend({fadeTo:function(e,t,n,r){return this.filter(me).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=E.isEmptyObject(e),o=E.speed(t,n,r),a=function(){var t=bt(this,E.extend({},e),o);(i||se.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,i=null!=e&&e+"queueHooks",o=E.timers,a=se.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&gt.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||E.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=se.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=E.timers,a=r?r.length:0;for(n.finish=!0,E.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish}))}}),E.each(["toggle","show","hide"],(function(e,t){var n=E.fn[t];E.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(mt(t,!0),e,r,i)}})),E.each({slideDown:mt("show"),slideUp:mt("hide"),slideToggle:mt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){E.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}})),E.timers=[],E.fx.tick=function(){var e,t=0,n=E.timers;for(pt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||E.fx.stop(),pt=void 0},E.fx.timer=function(e){E.timers.push(e),E.fx.start()},E.fx.interval=13,E.fx.start=function(){dt||(dt=!0,vt())},E.fx.stop=function(){dt=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(e,t){return e=E.fx&&E.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var i=r.setTimeout(t,e);n.stop=function(){r.clearTimeout(i)}}))},function(){var e=x.createElement("input"),t=x.createElement("select").appendChild(x.createElement("option"));e.type="checkbox",v.checkOn=""!==e.value,v.optSelected=t.selected,(e=x.createElement("input")).value="t",e.type="radio",v.radioValue="t"===e.value}();var wt,Tt=E.expr.attrHandle;E.fn.extend({attr:function(e,t){return ee(this,E.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){E.removeAttr(this,e)}))}}),E.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?E.prop(e,t,n):(1===o&&E.isXMLDoc(e)||(i=E.attrHooks[t.toLowerCase()]||(E.expr.match.bool.test(t)?wt:void 0)),void 0!==n?null===n?void E.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=E.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!v.radioValue&&"radio"===t&&j(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(V);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),wt={set:function(e,t,n){return!1===t?E.removeAttr(e,n):e.setAttribute(n,n),n}},E.each(E.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=Tt[t]||E.find.attr;Tt[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=Tt[a],Tt[a]=i,i=null!=n(e,t,r)?a:null,Tt[a]=o),i}}));var Ct=/^(?:input|select|textarea|button)$/i,kt=/^(?:a|area)$/i;function Et(e){return(e.match(V)||[]).join(" ")}function St(e){return e.getAttribute&&e.getAttribute("class")||""}function jt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(V)||[]}E.fn.extend({prop:function(e,t){return ee(this,E.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[E.propFix[e]||e]}))}}),E.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&E.isXMLDoc(e)||(t=E.propFix[t]||t,i=E.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=E.find.attr(e,"tabindex");return t?parseInt(t,10):Ct.test(e.nodeName)||kt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(E.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){E.propFix[this.toLowerCase()]=this})),E.fn.extend({addClass:function(e){var t,n,r,i,o,a;return y(e)?this.each((function(t){E(this).addClass(e.call(this,t,St(this)))})):(t=jt(e)).length?this.each((function(){if(r=St(this),n=1===this.nodeType&&" "+Et(r)+" "){for(o=0;o<t.length;o++)i=t[o],n.indexOf(" "+i+" ")<0&&(n+=i+" ");a=Et(n),r!==a&&this.setAttribute("class",a)}})):this},removeClass:function(e){var t,n,r,i,o,a;return y(e)?this.each((function(t){E(this).removeClass(e.call(this,t,St(this)))})):arguments.length?(t=jt(e)).length?this.each((function(){if(r=St(this),n=1===this.nodeType&&" "+Et(r)+" "){for(o=0;o<t.length;o++)for(i=t[o];n.indexOf(" "+i+" ")>-1;)n=n.replace(" "+i+" "," ");a=Et(n),r!==a&&this.setAttribute("class",a)}})):this:this.attr("class","")},toggleClass:function(e,t){var n,r,i,o,a=typeof e,s="string"===a||Array.isArray(e);return y(e)?this.each((function(n){E(this).toggleClass(e.call(this,n,St(this),t),t)})):"boolean"==typeof t&&s?t?this.addClass(e):this.removeClass(e):(n=jt(e),this.each((function(){if(s)for(o=E(this),i=0;i<n.length;i++)r=n[i],o.hasClass(r)?o.removeClass(r):o.addClass(r);else void 0!==e&&"boolean"!==a||((r=St(this))&&se.set(this,"__className__",r),this.setAttribute&&this.setAttribute("class",r||!1===e?"":se.get(this,"__className__")||""))})))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+Et(St(n))+" ").indexOf(t)>-1)return!0;return!1}});var At=/\r/g;E.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=y(e),this.each((function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,E(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=E.map(i,(function(e){return null==e?"":e+""}))),(t=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))}))):i?(t=E.valHooks[i.type]||E.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(At,""):null==n?"":n:void 0}}),E.extend({valHooks:{option:{get:function(e){var t=E.find.attr(e,"value");return null!=t?t:Et(E.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!j(n.parentNode,"optgroup"))){if(t=E(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=E.makeArray(t),a=i.length;a--;)((r=i[a]).selected=E.inArray(E.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),E.each(["radio","checkbox"],(function(){E.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=E.inArray(E(e).val(),t)>-1}},v.checkOn||(E.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}));var Dt=r.location,Nt={guid:Date.now()},Lt=/\?/;E.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new r.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||E.error("Invalid XML: "+(n?E.map(n.childNodes,(function(e){return e.textContent})).join("\n"):e)),t};var qt=/^(?:focusinfocus|focusoutblur)$/,Ht=function(e){e.stopPropagation()};E.extend(E.event,{trigger:function(e,t,n,i){var o,a,s,u,l,c,f,p,h=[n||x],g=d.call(e,"type")?e.type:e,v=d.call(e,"namespace")?e.namespace.split("."):[];if(a=p=s=n=n||x,3!==n.nodeType&&8!==n.nodeType&&!qt.test(g+E.event.triggered)&&(g.indexOf(".")>-1&&(v=g.split("."),g=v.shift(),v.sort()),l=g.indexOf(":")<0&&"on"+g,(e=e[E.expando]?e:new E.Event(g,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=v.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:E.makeArray(t,[e]),f=E.event.special[g]||{},i||!f.trigger||!1!==f.trigger.apply(n,t))){if(!i&&!f.noBubble&&!m(n)){for(u=f.delegateType||g,qt.test(u+g)||(a=a.parentNode);a;a=a.parentNode)h.push(a),s=a;s===(n.ownerDocument||x)&&h.push(s.defaultView||s.parentWindow||r)}for(o=0;(a=h[o++])&&!e.isPropagationStopped();)p=a,e.type=o>1?u:f.bindType||g,(c=(se.get(a,"events")||Object.create(null))[e.type]&&se.get(a,"handle"))&&c.apply(a,t),(c=l&&a[l])&&c.apply&&oe(a)&&(e.result=c.apply(a,t),!1===e.result&&e.preventDefault());return e.type=g,i||e.isDefaultPrevented()||f._default&&!1!==f._default.apply(h.pop(),t)||!oe(n)||l&&y(n[g])&&!m(n)&&((s=n[l])&&(n[l]=null),E.event.triggered=g,e.isPropagationStopped()&&p.addEventListener(g,Ht),n[g](),e.isPropagationStopped()&&p.removeEventListener(g,Ht),E.event.triggered=void 0,s&&(n[l]=s)),e.result}},simulate:function(e,t,n){var r=E.extend(new E.Event,n,{type:e,isSimulated:!0});E.event.trigger(r,null,t)}}),E.fn.extend({trigger:function(e,t){return this.each((function(){E.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return E.event.trigger(e,t,n,!0)}});var Ot=/\[\]$/,Pt=/\r?\n/g,Mt=/^(?:submit|button|image|reset|file)$/i,Rt=/^(?:input|select|textarea|keygen)/i;function It(e,t,n,r){var i;if(Array.isArray(t))E.each(t,(function(t,i){n||Ot.test(e)?r(e,i):It(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)}));else if(n||"object"!==T(t))r(e,t);else for(i in t)It(e+"["+i+"]",t[i],n,r)}E.param=function(e,t){var n,r=[],i=function(e,t){var n=y(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!E.isPlainObject(e))E.each(e,(function(){i(this.name,this.value)}));else for(n in e)It(n,e[n],t,i);return r.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=E.prop(this,"elements");return e?E.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!E(this).is(":disabled")&&Rt.test(this.nodeName)&&!Mt.test(e)&&(this.checked||!Ee.test(e))})).map((function(e,t){var n=E(this).val();return null==n?null:Array.isArray(n)?E.map(n,(function(e){return{name:t.name,value:e.replace(Pt,"\r\n")}})):{name:t.name,value:n.replace(Pt,"\r\n")}})).get()}});var Wt=/%20/g,Ft=/#.*$/,$t=/([?&])_=[^&]*/,_t=/^(.*?):[ \t]*([^\r\n]*)$/gm,Bt=/^(?:GET|HEAD)$/,zt=/^\/\//,Xt={},Ut={},Vt="*/".concat("*"),Gt=x.createElement("a");function Yt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(V)||[];if(y(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Qt(e,t,n,r){var i={},o=e===Ut;function a(s){var u;return i[s]=!0,E.each(e[s]||[],(function(e,s){var l=s(t,n,r);return"string"!=typeof l||o||i[l]?o?!(u=l):void 0:(t.dataTypes.unshift(l),a(l),!1)})),u}return a(t.dataTypes[0])||!i["*"]&&a("*")}function Jt(e,t){var n,r,i=E.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&E.extend(!0,e,r),e}Gt.href=Dt.href,E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Dt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Dt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Vt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Jt(Jt(e,E.ajaxSettings),t):Jt(E.ajaxSettings,e)},ajaxPrefilter:Yt(Xt),ajaxTransport:Yt(Ut),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,i,o,a,s,u,l,c,f,p,d=E.ajaxSetup({},t),h=d.context||d,g=d.context&&(h.nodeType||h.jquery)?E(h):E.event,v=E.Deferred(),y=E.Callbacks("once memory"),m=d.statusCode||{},b={},w={},T="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(l){if(!a)for(a={};t=_t.exec(o);)a[t[1].toLowerCase()+" "]=(a[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=a[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return l?o:null},setRequestHeader:function(e,t){return null==l&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==l&&(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(l)C.always(e[C.status]);else for(t in e)m[t]=[m[t],e[t]];return this},abort:function(e){var t=e||T;return n&&n.abort(t),k(0,t),this}};if(v.promise(C),d.url=((e||d.url||Dt.href)+"").replace(zt,Dt.protocol+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(V)||[""],null==d.crossDomain){u=x.createElement("a");try{u.href=d.url,u.href=u.href,d.crossDomain=Gt.protocol+"//"+Gt.host!=u.protocol+"//"+u.host}catch(e){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=E.param(d.data,d.traditional)),Qt(Xt,d,t,C),l)return C;for(f in(c=E.event&&d.global)&&0==E.active++&&E.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Bt.test(d.type),i=d.url.replace(Ft,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Wt,"+")):(p=d.url.slice(i.length),d.data&&(d.processData||"string"==typeof d.data)&&(i+=(Lt.test(i)?"&":"?")+d.data,delete d.data),!1===d.cache&&(i=i.replace($t,"$1"),p=(Lt.test(i)?"&":"?")+"_="+Nt.guid+++p),d.url=i+p),d.ifModified&&(E.lastModified[i]&&C.setRequestHeader("If-Modified-Since",E.lastModified[i]),E.etag[i]&&C.setRequestHeader("If-None-Match",E.etag[i])),(d.data&&d.hasContent&&!1!==d.contentType||t.contentType)&&C.setRequestHeader("Content-Type",d.contentType),C.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Vt+"; q=0.01":""):d.accepts["*"]),d.headers)C.setRequestHeader(f,d.headers[f]);if(d.beforeSend&&(!1===d.beforeSend.call(h,C,d)||l))return C.abort();if(T="abort",y.add(d.complete),C.done(d.success),C.fail(d.error),n=Qt(Ut,d,t,C)){if(C.readyState=1,c&&g.trigger("ajaxSend",[C,d]),l)return C;d.async&&d.timeout>0&&(s=r.setTimeout((function(){C.abort("timeout")}),d.timeout));try{l=!1,n.send(b,k)}catch(e){if(l)throw e;k(-1,e)}}else k(-1,"No Transport");function k(e,t,a,u){var f,p,x,b,w,T=t;l||(l=!0,s&&r.clearTimeout(s),n=void 0,o=u||"",C.readyState=e>0?4:0,f=e>=200&&e<300||304===e,a&&(b=function(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(d,C,a)),!f&&E.inArray("script",d.dataTypes)>-1&&E.inArray("json",d.dataTypes)<0&&(d.converters["text script"]=function(){}),b=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(d,b,C,f),f?(d.ifModified&&((w=C.getResponseHeader("Last-Modified"))&&(E.lastModified[i]=w),(w=C.getResponseHeader("etag"))&&(E.etag[i]=w)),204===e||"HEAD"===d.type?T="nocontent":304===e?T="notmodified":(T=b.state,p=b.data,f=!(x=b.error))):(x=T,!e&&T||(T="error",e<0&&(e=0))),C.status=e,C.statusText=(t||T)+"",f?v.resolveWith(h,[p,T,C]):v.rejectWith(h,[C,T,x]),C.statusCode(m),m=void 0,c&&g.trigger(f?"ajaxSuccess":"ajaxError",[C,d,f?p:x]),y.fireWith(h,[C,T]),c&&(g.trigger("ajaxComplete",[C,d]),--E.active||E.event.trigger("ajaxStop")))}return C},getJSON:function(e,t,n){return E.get(e,t,n,"json")},getScript:function(e,t){return E.get(e,void 0,t,"script")}}),E.each(["get","post"],(function(e,t){E[t]=function(e,n,r,i){return y(n)&&(i=i||r,r=n,n=void 0),E.ajax(E.extend({url:e,type:t,dataType:i,data:n,success:r},E.isPlainObject(e)&&e))}})),E.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),E._evalUrl=function(e,t,n){return E.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){E.globalEval(e,t,n)}})},E.fn.extend({wrapAll:function(e){var t;return this[0]&&(y(e)&&(e=e.call(this[0])),t=E(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return y(e)?this.each((function(t){E(this).wrapInner(e.call(this,t))})):this.each((function(){var t=E(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=y(e);return this.each((function(n){E(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){E(this).replaceWith(this.childNodes)})),this}}),E.expr.pseudos.hidden=function(e){return!E.expr.pseudos.visible(e)},E.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(e){}};var Kt={0:200,1223:204},Zt=E.ajaxSettings.xhr();v.cors=!!Zt&&"withCredentials"in Zt,v.ajax=Zt=!!Zt,E.ajaxTransport((function(e){var t,n;if(v.cors||Zt&&!e.crossDomain)return{send:function(i,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];for(a in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)s.setRequestHeader(a,i[a]);t=function(e){return function(){t&&(t=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Kt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),n=s.onerror=s.ontimeout=t("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&r.setTimeout((function(){t&&n()}))},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),E.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return E.globalEval(e),e}}}),E.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),E.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,i){t=E("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),x.head.appendChild(t[0])},abort:function(){n&&n()}}}));var en,tn=[],nn=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=tn.pop()||E.expando+"_"+Nt.guid++;return this[e]=!0,e}}),E.ajaxPrefilter("json jsonp",(function(e,t,n){var i,o,a,s=!1!==e.jsonp&&(nn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&nn.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=y(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(nn,"$1"+i):!1!==e.jsonp&&(e.url+=(Lt.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return a||E.error(i+" was not called"),a[0]},e.dataTypes[0]="json",o=r[i],r[i]=function(){a=arguments},n.always((function(){void 0===o?E(r).removeProp(i):r[i]=o,e[i]&&(e.jsonpCallback=t.jsonpCallback,tn.push(i)),a&&y(o)&&o(a[0]),a=o=void 0})),"script"})),v.createHTMLDocument=((en=x.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===en.childNodes.length),E.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(v.createHTMLDocument?((r=(t=x.implementation.createHTMLDocument("")).createElement("base")).href=x.location.href,t.head.appendChild(r)):t=x),o=!n&&[],(i=F.exec(e))?[t.createElement(i[1])]:(i=qe([e],t,o),o&&o.length&&E(o).remove(),E.merge([],i.childNodes)));var r,i,o},E.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=Et(e.slice(s)),e=e.slice(0,s)),y(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&E.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done((function(e){o=arguments,a.html(r?E("<div>").append(E.parseHTML(e)).find(r):e)})).always(n&&function(e,t){a.each((function(){n.apply(this,o||[e.responseText,t,e])}))}),this},E.expr.pseudos.animated=function(e){return E.grep(E.timers,(function(t){return e===t.elem})).length},E.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=E.css(e,"position"),c=E(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=E.css(e,"top"),u=E.css(e,"left"),("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),y(t)&&(t=t.call(e,n,E.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},E.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){E.offset.setOffset(this,e,t)}));var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===E.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===E.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=E(e).offset()).top+=E.css(e,"borderTopWidth",!0),i.left+=E.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-E.css(r,"marginTop",!0),left:t.left-i.left-E.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===E.css(e,"position");)e=e.offsetParent;return e||ge}))}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;E.fn[e]=function(r){return ee(this,(function(e,r,i){var o;if(m(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i}),e,r,arguments.length)}})),E.each(["top","left"],(function(e,t){E.cssHooks[t]=et(v.pixelPosition,(function(e,n){if(n)return n=Ze(e,t),Ge.test(n)?E(e).position()[t]+"px":n}))})),E.each({Height:"height",Width:"width"},(function(e,t){E.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){E.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return ee(this,(function(t,n,i){var o;return m(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?E.css(t,n,s):E.style(t,n,i,s)}),t,a?i:void 0,a)}}))})),E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){E.fn[t]=function(e){return this.on(t,e)}})),E.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)}}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){E.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var rn=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;E.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),y(e))return r=s.call(arguments,2),i=function(){return e.apply(t||this,r.concat(s.call(arguments)))},i.guid=e.guid=e.guid||E.guid++,i},E.holdReady=function(e){e?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=j,E.isFunction=y,E.isWindow=m,E.camelCase=ie,E.type=T,E.now=Date.now,E.isNumeric=function(e){var t=E.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},E.trim=function(e){return null==e?"":(e+"").replace(rn,"$1")},void 0===(n=function(){return E}.apply(t,[]))||(e.exports=n);var on=r.jQuery,an=r.$;return E.noConflict=function(e){return r.$===E&&(r.$=an),e&&r.jQuery===E&&(r.jQuery=on),E},void 0===i&&(r.jQuery=r.$=E),E},"object"==typeof e.exports?e.exports=r.document?i(r,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return i(e)}:i(r)}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}(()=>{var e=n(850);n(270);e.loadjquery})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZS1saWIvLi9zcmMvYWRkZ3VpLnRzIiwid2VicGFjazovL1NlYVBpY2tsZS1saWIvLi9zcmMvanF1ZXJ5bG9hZGVyLnRzIiwid2VicGFjazovL1NlYVBpY2tsZS1saWIvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vU2VhUGlja2xlLWxpYi8uL3NyYy9tYWluLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5hZGRndWkgPSBleHBvcnRzLnNldGd1aW9ubHlzaG93aWZpbmdhbWUgPSBleHBvcnRzLnNldGd1aWtleWJpbmQgPSBleHBvcnRzLnNldGd1aXN0eWxlcyA9IGV4cG9ydHMuc2V0Z3VpaHRtbCA9IGV4cG9ydHMuc2V0Z3VpbmFtZSA9IGV4cG9ydHMuZ3Vpb25seXNob3dpZmluZ2FtZSA9IGV4cG9ydHMuZ3Vpa2V5YmluZCA9IGV4cG9ydHMuZ3Vpc3R5bGVzID0gZXhwb3J0cy5ndWlodG1sID0gZXhwb3J0cy5ndWluYW1lID0gdm9pZCAwO1xuZXhwb3J0cy5ndWluYW1lID0gbnVsbDtcbmV4cG9ydHMuZ3VpaHRtbCA9IG51bGw7XG5leHBvcnRzLmd1aXN0eWxlcyA9IG51bGw7XG5leHBvcnRzLmd1aWtleWJpbmQgPSBudWxsO1xuZXhwb3J0cy5ndWlvbmx5c2hvd2lmaW5nYW1lID0gZmFsc2U7XG5mdW5jdGlvbiBzZXRndWluYW1lKG5hbWUpIHtcbiAgICBleHBvcnRzLmd1aW5hbWUgPSBuYW1lO1xufVxuZXhwb3J0cy5zZXRndWluYW1lID0gc2V0Z3VpbmFtZTtcbmZ1bmN0aW9uIHNldGd1aWh0bWwoaHRtbCkge1xuICAgIGV4cG9ydHMuZ3VpaHRtbCA9IGh0bWw7XG59XG5leHBvcnRzLnNldGd1aWh0bWwgPSBzZXRndWlodG1sO1xuZnVuY3Rpb24gc2V0Z3Vpc3R5bGVzKHN0eWxlcykge1xuICAgIGV4cG9ydHMuZ3Vpc3R5bGVzID0gc3R5bGVzO1xufVxuZXhwb3J0cy5zZXRndWlzdHlsZXMgPSBzZXRndWlzdHlsZXM7XG5mdW5jdGlvbiBzZXRndWlrZXliaW5kKGtleWJpbmQpIHtcbiAgICBleHBvcnRzLmd1aWtleWJpbmQgPSBrZXliaW5kO1xufVxuZXhwb3J0cy5zZXRndWlrZXliaW5kID0gc2V0Z3Vpa2V5YmluZDtcbmZ1bmN0aW9uIHNldGd1aW9ubHlzaG93aWZpbmdhbWUoaWRrKSB7XG4gICAgZXhwb3J0cy5ndWlvbmx5c2hvd2lmaW5nYW1lID0gaWRrO1xufVxuZXhwb3J0cy5zZXRndWlvbmx5c2hvd2lmaW5nYW1lID0gc2V0Z3Vpb25seXNob3dpZmluZ2FtZTtcbmZ1bmN0aW9uIGFkZGd1aSgpIHtcbiAgICBpZiAoZXhwb3J0cy5ndWluYW1lID09IG51bGwgfHwgZXhwb3J0cy5ndWlodG1sID09IG51bGwgfHwgZXhwb3J0cy5ndWlzdHlsZXMgPT0gbnVsbCkge1xuICAgICAgICBhbGVydChcImZhaWxlZCB0byBhZGQgZ3VpLiByZWFzb24gOiBndWluYW1lIG9yIGd1aWh0bWwgb3IgZ3Vpc3R5bGVzIGFyZSBub3QgZGVmaW5lZFwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgZ3VpVmlzaWJsZSA9IGZhbHNlOyAvLyBWYXJpYWJsZSB0byBrZWVwIHRyYWNrIG9mIHRoZSB2aXNpYmlsaXR5IG9mIHRoZSBHVUlcbiAgICBmdW5jdGlvbiB0b2dnbGVHdWkoKSB7XG4gICAgICAgIGlmIChndWlWaXNpYmxlKSB7IC8vIElmIHRoZSBHVUkgaXMgdmlzaWJsZVxuICAgICAgICAgICAgaGlkZUd1aSgpOyAvLyBIaWRlIHRoZSBHVUlcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNob3dHdWkoKTsgLy8gT3RoZXJ3aXNlLCBzaG93IHRoZSBHVUlcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBzaG93R3VpKCkge1xuICAgICAgICBoaWRlR3VpKCk7IC8vIElmIHRoZSBHVUkgaXMgYWxyZWFkeSBvcGVuLCB0aGlzIHdpbGwgaGlkZSBpdC5cbiAgICAgICAgdmFyIGd1aSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJndWlcIik7IC8vIENyZWF0ZSBhIG5ldyBcImd1aVwiIGVsZW1lbnRcbiAgICAgICAgaWYgKGV4cG9ydHMuZ3Vpb25seXNob3dpZmluZ2FtZSA9PSB0cnVlICYmIGRvY3VtZW50LnBvaW50ZXJMb2NrRWxlbWVudCAhPSBudWxsKSB7XG4gICAgICAgICAgICBndWkuaW5uZXJIVE1MID0gZXhwb3J0cy5ndWlodG1sOyAvLyBTZXQgdGhlIEhUTUwgY29udGVudCBvZiB0aGUgXCJndWlcIiBlbGVtZW50XG4gICAgICAgICAgICBndWkuaWQgPSBleHBvcnRzLmd1aW5hbWU7IC8vIFNldCB0aGUgSUQgb2YgdGhlIFwiZ3VpXCIgZWxlbWVudCB0byBcIm15R3VpXCJcbiAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAgICAgZ3VpLnN0eWxlID0gZXhwb3J0cy5ndWlzdHlsZXM7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGd1aSk7IC8vIEFwcGVuZCB0aGUgXCJndWlcIiBlbGVtZW50IHRvIHRoZSBib2R5IG9mIHRoZSBkb2N1bWVudFxuICAgICAgICAgICAgZ3VpVmlzaWJsZSA9IHRydWU7IC8vIFNldCB0aGUgR1VJIHZpc2liaWxpdHkgdG8gdHJ1ZVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGRvY3VtZW50LnBvaW50ZXJMb2NrRWxlbWVudCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZXhpdFBvaW50ZXJMb2NrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBndWkuaW5uZXJIVE1MID0gZXhwb3J0cy5ndWlodG1sOyAvLyBTZXQgdGhlIEhUTUwgY29udGVudCBvZiB0aGUgXCJndWlcIiBlbGVtZW50XG4gICAgICAgICAgICBndWkuaWQgPSBleHBvcnRzLmd1aW5hbWU7IC8vIFNldCB0aGUgSUQgb2YgdGhlIFwiZ3VpXCIgZWxlbWVudCB0byBcIm15R3VpXCJcbiAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAgICAgZ3VpLnN0eWxlID0gZXhwb3J0cy5ndWlzdHlsZXM7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGd1aSk7IC8vIEFwcGVuZCB0aGUgXCJndWlcIiBlbGVtZW50IHRvIHRoZSBib2R5IG9mIHRoZSBkb2N1bWVudFxuICAgICAgICAgICAgZ3VpVmlzaWJsZSA9IHRydWU7IC8vIFNldCB0aGUgR1VJIHZpc2liaWxpdHkgdG8gdHJ1ZVxuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhpZGVHdWkoKSB7XG4gICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChleHBvcnRzLmd1aW5hbWUpKSB7IC8vIElmIHRoZSBcIm15R3VpXCIgZWxlbWVudCBleGlzdHNcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGV4cG9ydHMuZ3VpbmFtZSkucmVtb3ZlKCk7IC8vIFJlbW92ZSB0aGUgXCJteUd1aVwiIGVsZW1lbnQgZnJvbSB0aGUgZG9jdW1lbnRcbiAgICAgICAgfVxuICAgICAgICBndWlWaXNpYmxlID0gZmFsc2U7IC8vIFNldCB0aGUgR1VJIHZpc2liaWxpdHkgdG8gZmFsc2VcbiAgICB9XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpZiAoZXhwb3J0cy5ndWlrZXliaW5kID09IFwiUmlnaHRTaGlmdFwiICYmIGV2ZW50LmtleSA9PT0gXCJTaGlmdFwiICYmIGV2ZW50LmxvY2F0aW9uID09PSBLZXlib2FyZEV2ZW50LkRPTV9LRVlfTE9DQVRJT05fUklHSFQpIHsgLy8gSWYgdGhlIHJpZ2h0IFNoaWZ0IGtleSBpcyBwcmVzc2VkXG4gICAgICAgICAgICB0b2dnbGVHdWkoKTsgLy8gVG9nZ2xlIHRoZSBHVUkgdmlzaWJpbGl0eVxuICAgICAgICB9XG4gICAgICAgIGlmIChldmVudC5rZXkgPT09IFwiRXNjYXBlXCIgfHwgZXZlbnQua2V5ID09PSBcImBcIikgeyAvLyBJZiB0aGUgRXNjYXBlIGtleSBvciBiYWNrdGljayBpcyBwcmVzc2VkXG4gICAgICAgICAgICBoaWRlR3VpKCk7IC8vIEhpZGUgdGhlIEdVSVxuICAgICAgICB9XG4gICAgICAgIGlmIChldmVudC5rZXkgPT09IGV4cG9ydHMuZ3Vpa2V5YmluZCkgeyAvLyBJZiB0aGUgcmlnaHQgU2hpZnQga2V5IGlzIHByZXNzZWRcbiAgICAgICAgICAgIHRvZ2dsZUd1aSgpOyAvLyBUb2dnbGUgdGhlIEdVSSB2aXNpYmlsaXR5XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmV4cG9ydHMuYWRkZ3VpID0gYWRkZ3VpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmxvYWRqcXVlcnkgPSB2b2lkIDA7XG4vL0B0cy1ub2NoZWNrXG5mdW5jdGlvbiBsb2FkanF1ZXJ5KCkge1xuICAgIGNvbnNvbGUubG9nKFwic3VjY2Vzc2Z1bGx5IGxvYWRlZCBqcXVlcnkhXCIpO1xuICAgIC8qIVxuICAgICogalF1ZXJ5IEphdmFTY3JpcHQgTGlicmFyeSB2My43LjFcbiAgICAqIGh0dHBzOi8vanF1ZXJ5LmNvbS9cbiAgICAqXG4gICAgKiBDb3B5cmlnaHQgT3BlbkpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICAgICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gICAgKiBodHRwczovL2pxdWVyeS5vcmcvbGljZW5zZVxuICAgICpcbiAgICAqIERhdGU6IDIwMjMtMDgtMjhUMTM6MzdaXG4gICAgKi9cbiAgICAvL0B0cy1pZ25vcmVcbiAgICAoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICAgICAgICBcInVzZSBzdHJpY3RcIjtcbiAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgIGlmICh0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBtb2R1bGUuZXhwb3J0cyA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgLy8gRm9yIENvbW1vbkpTIGFuZCBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB3aGVyZSBhIHByb3BlciBgd2luZG93YFxuICAgICAgICAgICAgLy8gaXMgcHJlc2VudCwgZXhlY3V0ZSB0aGUgZmFjdG9yeSBhbmQgZ2V0IGpRdWVyeS5cbiAgICAgICAgICAgIC8vIEZvciBlbnZpcm9ubWVudHMgdGhhdCBkbyBub3QgaGF2ZSBhIGB3aW5kb3dgIHdpdGggYSBgZG9jdW1lbnRgXG4gICAgICAgICAgICAvLyAoc3VjaCBhcyBOb2RlLmpzKSwgZXhwb3NlIGEgZmFjdG9yeSBhcyBtb2R1bGUuZXhwb3J0cy5cbiAgICAgICAgICAgIC8vIFRoaXMgYWNjZW50dWF0ZXMgdGhlIG5lZWQgZm9yIHRoZSBjcmVhdGlvbiBvZiBhIHJlYWwgYHdpbmRvd2AuXG4gICAgICAgICAgICAvLyBlLmcuIHZhciBqUXVlcnkgPSByZXF1aXJlKFwianF1ZXJ5XCIpKHdpbmRvdyk7XG4gICAgICAgICAgICAvLyBTZWUgdGlja2V0IHRyYWMtMTQ1NDkgZm9yIG1vcmUgaW5mby5cbiAgICAgICAgICAgIG1vZHVsZS5leHBvcnRzID0gZ2xvYmFsLmRvY3VtZW50ID9cbiAgICAgICAgICAgICAgICBmYWN0b3J5KGdsb2JhbCwgdHJ1ZSkgOlxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh3KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdy5kb2N1bWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwialF1ZXJ5IHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFjdG9yeSh3KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZmFjdG9yeShnbG9iYWwpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFBhc3MgdGhpcyBpZiB3aW5kb3cgaXMgbm90IGRlZmluZWQgeWV0XG4gICAgfSkodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHRoaXMsIGZ1bmN0aW9uICh3aW5kb3csIG5vR2xvYmFsKSB7XG4gICAgICAgIC8vIEVkZ2UgPD0gMTIgLSAxMyssIEZpcmVmb3ggPD0xOCAtIDQ1KywgSUUgMTAgLSAxMSwgU2FmYXJpIDUuMSAtIDkrLCBpT1MgNiAtIDkuMVxuICAgICAgICAvLyB0aHJvdyBleGNlcHRpb25zIHdoZW4gbm9uLXN0cmljdCBjb2RlIChlLmcuLCBBU1AuTkVUIDQuNSkgYWNjZXNzZXMgc3RyaWN0IG1vZGVcbiAgICAgICAgLy8gYXJndW1lbnRzLmNhbGxlZS5jYWxsZXIgKHRyYWMtMTMzMzUpLiBCdXQgYXMgb2YgalF1ZXJ5IDMuMCAoMjAxNiksIHN0cmljdCBtb2RlIHNob3VsZCBiZSBjb21tb25cbiAgICAgICAgLy8gZW5vdWdoIHRoYXQgYWxsIHN1Y2ggYXR0ZW1wdHMgYXJlIGd1YXJkZWQgaW4gYSB0cnkgYmxvY2suXG4gICAgICAgIFwidXNlIHN0cmljdFwiO1xuICAgICAgICB2YXIgYXJyID0gW107XG4gICAgICAgIHZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbiAgICAgICAgdmFyIHNsaWNlID0gYXJyLnNsaWNlO1xuICAgICAgICB2YXIgZmxhdCA9IGFyci5mbGF0ID8gZnVuY3Rpb24gKGFycmF5KSB7XG4gICAgICAgICAgICByZXR1cm4gYXJyLmZsYXQuY2FsbChhcnJheSk7XG4gICAgICAgIH0gOiBmdW5jdGlvbiAoYXJyYXkpIHtcbiAgICAgICAgICAgIHJldHVybiBhcnIuY29uY2F0LmFwcGx5KFtdLCBhcnJheSk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBwdXNoID0gYXJyLnB1c2g7XG4gICAgICAgIHZhciBpbmRleE9mID0gYXJyLmluZGV4T2Y7XG4gICAgICAgIHZhciBjbGFzczJ0eXBlID0ge307XG4gICAgICAgIHZhciB0b1N0cmluZyA9IGNsYXNzMnR5cGUudG9TdHJpbmc7XG4gICAgICAgIHZhciBoYXNPd24gPSBjbGFzczJ0eXBlLmhhc093blByb3BlcnR5O1xuICAgICAgICB2YXIgZm5Ub1N0cmluZyA9IGhhc093bi50b1N0cmluZztcbiAgICAgICAgdmFyIE9iamVjdEZ1bmN0aW9uU3RyaW5nID0gZm5Ub1N0cmluZy5jYWxsKE9iamVjdCk7XG4gICAgICAgIHZhciBzdXBwb3J0ID0ge307XG4gICAgICAgIHZhciBpc0Z1bmN0aW9uID0gZnVuY3Rpb24gaXNGdW5jdGlvbihvYmopIHtcbiAgICAgICAgICAgIC8vIFN1cHBvcnQ6IENocm9tZSA8PTU3LCBGaXJlZm94IDw9NTJcbiAgICAgICAgICAgIC8vIEluIHNvbWUgYnJvd3NlcnMsIHR5cGVvZiByZXR1cm5zIFwiZnVuY3Rpb25cIiBmb3IgSFRNTCA8b2JqZWN0PiBlbGVtZW50c1xuICAgICAgICAgICAgLy8gKGkuZS4sIGB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJvYmplY3RcIiApID09PSBcImZ1bmN0aW9uXCJgKS5cbiAgICAgICAgICAgIC8vIFdlIGRvbid0IHdhbnQgdG8gY2xhc3NpZnkgKmFueSogRE9NIG5vZGUgYXMgYSBmdW5jdGlvbi5cbiAgICAgICAgICAgIC8vIFN1cHBvcnQ6IFF0V2ViIDw9My44LjUsIFdlYktpdCA8PTUzNC4zNCwgd2todG1sdG9wZGYgdG9vbCA8PTAuMTIuNVxuICAgICAgICAgICAgLy8gUGx1cyBmb3Igb2xkIFdlYktpdCwgdHlwZW9mIHJldHVybnMgXCJmdW5jdGlvblwiIGZvciBIVE1MIGNvbGxlY3Rpb25zXG4gICAgICAgICAgICAvLyAoZS5nLiwgYHR5cGVvZiBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImRpdlwiKSA9PT0gXCJmdW5jdGlvblwiYCkuIChnaC00NzU2KVxuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBvYmogPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2Ygb2JqLm5vZGVUeXBlICE9PSBcIm51bWJlclwiICYmXG4gICAgICAgICAgICAgICAgdHlwZW9mIG9iai5pdGVtICE9PSBcImZ1bmN0aW9uXCI7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBpc1dpbmRvdyA9IGZ1bmN0aW9uIGlzV2luZG93KG9iaikge1xuICAgICAgICAgICAgcmV0dXJuIG9iaiAhPSBudWxsICYmIG9iaiA9PT0gb2JqLndpbmRvdztcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGRvY3VtZW50ID0gd2luZG93LmRvY3VtZW50O1xuICAgICAgICB2YXIgcHJlc2VydmVkU2NyaXB0QXR0cmlidXRlcyA9IHtcbiAgICAgICAgICAgIHR5cGU6IHRydWUsXG4gICAgICAgICAgICBzcmM6IHRydWUsXG4gICAgICAgICAgICBub25jZTogdHJ1ZSxcbiAgICAgICAgICAgIG5vTW9kdWxlOiB0cnVlXG4gICAgICAgIH07XG4gICAgICAgIGZ1bmN0aW9uIERPTUV2YWwoY29kZSwgbm9kZSwgZG9jKSB7XG4gICAgICAgICAgICBkb2MgPSBkb2MgfHwgZG9jdW1lbnQ7XG4gICAgICAgICAgICB2YXIgaSwgdmFsLCBzY3JpcHQgPSBkb2MuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcbiAgICAgICAgICAgIHNjcmlwdC50ZXh0ID0gY29kZTtcbiAgICAgICAgICAgIGlmIChub2RlKSB7XG4gICAgICAgICAgICAgICAgZm9yIChpIGluIHByZXNlcnZlZFNjcmlwdEF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogRmlyZWZveCA2NCssIEVkZ2UgMTgrXG4gICAgICAgICAgICAgICAgICAgIC8vIFNvbWUgYnJvd3NlcnMgZG9uJ3Qgc3VwcG9ydCB0aGUgXCJub25jZVwiIHByb3BlcnR5IG9uIHNjcmlwdHMuXG4gICAgICAgICAgICAgICAgICAgIC8vIE9uIHRoZSBvdGhlciBoYW5kLCBqdXN0IHVzaW5nIGBnZXRBdHRyaWJ1dGVgIGlzIG5vdCBlbm91Z2ggYXNcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGBub25jZWAgYXR0cmlidXRlIGlzIHJlc2V0IHRvIGFuIGVtcHR5IHN0cmluZyB3aGVuZXZlciBpdFxuICAgICAgICAgICAgICAgICAgICAvLyBiZWNvbWVzIGJyb3dzaW5nLWNvbnRleHQgY29ubmVjdGVkLlxuICAgICAgICAgICAgICAgICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3doYXR3Zy9odG1sL2lzc3Vlcy8yMzY5XG4gICAgICAgICAgICAgICAgICAgIC8vIFNlZSBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnLyNub25jZS1hdHRyaWJ1dGVzXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBgbm9kZS5nZXRBdHRyaWJ1dGVgIGNoZWNrIHdhcyBhZGRlZCBmb3IgdGhlIHNha2Ugb2ZcbiAgICAgICAgICAgICAgICAgICAgLy8gYGpRdWVyeS5nbG9iYWxFdmFsYCBzbyB0aGF0IGl0IGNhbiBmYWtlIGEgbm9uY2UtY29udGFpbmluZyBub2RlXG4gICAgICAgICAgICAgICAgICAgIC8vIHZpYSBhbiBvYmplY3QuXG4gICAgICAgICAgICAgICAgICAgIHZhbCA9IG5vZGVbaV0gfHwgbm9kZS5nZXRBdHRyaWJ1dGUgJiYgbm9kZS5nZXRBdHRyaWJ1dGUoaSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcmlwdC5zZXRBdHRyaWJ1dGUoaSwgdmFsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRvYy5oZWFkLmFwcGVuZENoaWxkKHNjcmlwdCkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzY3JpcHQpO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHRvVHlwZShvYmopIHtcbiAgICAgICAgICAgIGlmIChvYmogPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvYmogKyBcIlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU3VwcG9ydDogQW5kcm9pZCA8PTIuMyBvbmx5IChmdW5jdGlvbmlzaCBSZWdFeHApXG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2Ygb2JqID09PSBcImZ1bmN0aW9uXCIgP1xuICAgICAgICAgICAgICAgIGNsYXNzMnR5cGVbdG9TdHJpbmcuY2FsbChvYmopXSB8fCBcIm9iamVjdFwiIDpcbiAgICAgICAgICAgICAgICB0eXBlb2Ygb2JqO1xuICAgICAgICB9XG4gICAgICAgIC8qIGdsb2JhbCBTeW1ib2wgKi9cbiAgICAgICAgLy8gRGVmaW5pbmcgdGhpcyBnbG9iYWwgaW4gLmVzbGludHJjLmpzb24gd291bGQgY3JlYXRlIGEgZGFuZ2VyIG9mIHVzaW5nIHRoZSBnbG9iYWxcbiAgICAgICAgLy8gdW5ndWFyZGVkIGluIGFub3RoZXIgcGxhY2UsIGl0IHNlZW1zIHNhZmVyIHRvIGRlZmluZSBnbG9iYWwgb25seSBmb3IgdGhpcyBtb2R1bGVcbiAgICAgICAgdmFyIHZlcnNpb24gPSBcIjMuNy4xXCIsIHJodG1sU3VmZml4ID0gL0hUTUwkL2ksIFxuICAgICAgICAvLyBEZWZpbmUgYSBsb2NhbCBjb3B5IG9mIGpRdWVyeVxuICAgICAgICBqUXVlcnkgPSBmdW5jdGlvbiAoc2VsZWN0b3IsIGNvbnRleHQpIHtcbiAgICAgICAgICAgIC8vIFRoZSBqUXVlcnkgb2JqZWN0IGlzIGFjdHVhbGx5IGp1c3QgdGhlIGluaXQgY29uc3RydWN0b3IgJ2VuaGFuY2VkJ1xuICAgICAgICAgICAgLy8gTmVlZCBpbml0IGlmIGpRdWVyeSBpcyBjYWxsZWQgKGp1c3QgYWxsb3cgZXJyb3IgdG8gYmUgdGhyb3duIGlmIG5vdCBpbmNsdWRlZClcbiAgICAgICAgICAgIHJldHVybiBuZXcgalF1ZXJ5LmZuLmluaXQoc2VsZWN0b3IsIGNvbnRleHQpO1xuICAgICAgICB9O1xuICAgICAgICBqUXVlcnkuZm4gPSBqUXVlcnkucHJvdG90eXBlID0ge1xuICAgICAgICAgICAgLy8gVGhlIGN1cnJlbnQgdmVyc2lvbiBvZiBqUXVlcnkgYmVpbmcgdXNlZFxuICAgICAgICAgICAganF1ZXJ5OiB2ZXJzaW9uLFxuICAgICAgICAgICAgY29uc3RydWN0b3I6IGpRdWVyeSxcbiAgICAgICAgICAgIC8vIFRoZSBkZWZhdWx0IGxlbmd0aCBvZiBhIGpRdWVyeSBvYmplY3QgaXMgMFxuICAgICAgICAgICAgbGVuZ3RoOiAwLFxuICAgICAgICAgICAgdG9BcnJheTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzbGljZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIEdldCB0aGUgTnRoIGVsZW1lbnQgaW4gdGhlIG1hdGNoZWQgZWxlbWVudCBzZXQgT1JcbiAgICAgICAgICAgIC8vIEdldCB0aGUgd2hvbGUgbWF0Y2hlZCBlbGVtZW50IHNldCBhcyBhIGNsZWFuIGFycmF5XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIChudW0pIHtcbiAgICAgICAgICAgICAgICAvLyBSZXR1cm4gYWxsIHRoZSBlbGVtZW50cyBpbiBhIGNsZWFuIGFycmF5XG4gICAgICAgICAgICAgICAgaWYgKG51bSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzbGljZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBSZXR1cm4ganVzdCB0aGUgb25lIGVsZW1lbnQgZnJvbSB0aGUgc2V0XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bSA8IDAgPyB0aGlzW251bSArIHRoaXMubGVuZ3RoXSA6IHRoaXNbbnVtXTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBUYWtlIGFuIGFycmF5IG9mIGVsZW1lbnRzIGFuZCBwdXNoIGl0IG9udG8gdGhlIHN0YWNrXG4gICAgICAgICAgICAvLyAocmV0dXJuaW5nIHRoZSBuZXcgbWF0Y2hlZCBlbGVtZW50IHNldClcbiAgICAgICAgICAgIHB1c2hTdGFjazogZnVuY3Rpb24gKGVsZW1zKSB7XG4gICAgICAgICAgICAgICAgLy8gQnVpbGQgYSBuZXcgalF1ZXJ5IG1hdGNoZWQgZWxlbWVudCBzZXRcbiAgICAgICAgICAgICAgICB2YXIgcmV0ID0galF1ZXJ5Lm1lcmdlKHRoaXMuY29uc3RydWN0b3IoKSwgZWxlbXMpO1xuICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUgb2xkIG9iamVjdCBvbnRvIHRoZSBzdGFjayAoYXMgYSByZWZlcmVuY2UpXG4gICAgICAgICAgICAgICAgcmV0LnByZXZPYmplY3QgPSB0aGlzO1xuICAgICAgICAgICAgICAgIC8vIFJldHVybiB0aGUgbmV3bHktZm9ybWVkIGVsZW1lbnQgc2V0XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBFeGVjdXRlIGEgY2FsbGJhY2sgZm9yIGV2ZXJ5IGVsZW1lbnQgaW4gdGhlIG1hdGNoZWQgc2V0LlxuICAgICAgICAgICAgZWFjaDogZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGpRdWVyeS5lYWNoKHRoaXMsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtYXA6IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnB1c2hTdGFjayhqUXVlcnkubWFwKHRoaXMsIGZ1bmN0aW9uIChlbGVtLCBpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjay5jYWxsKGVsZW0sIGksIGVsZW0pO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzbGljZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnB1c2hTdGFjayhzbGljZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmaXJzdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVxKDApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxhc3Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lcSgtMSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXZlbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnB1c2hTdGFjayhqUXVlcnkuZ3JlcCh0aGlzLCBmdW5jdGlvbiAoX2VsZW0sIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChpICsgMSkgJSAyO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvZGQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wdXNoU3RhY2soalF1ZXJ5LmdyZXAodGhpcywgZnVuY3Rpb24gKF9lbGVtLCBpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpICUgMjtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXE6IGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoLCBqID0gK2kgKyAoaSA8IDAgPyBsZW4gOiAwKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wdXNoU3RhY2soaiA+PSAwICYmIGogPCBsZW4gPyBbdGhpc1tqXV0gOiBbXSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZW5kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJldk9iamVjdCB8fCB0aGlzLmNvbnN0cnVjdG9yKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gRm9yIGludGVybmFsIHVzZSBvbmx5LlxuICAgICAgICAgICAgLy8gQmVoYXZlcyBsaWtlIGFuIEFycmF5J3MgbWV0aG9kLCBub3QgbGlrZSBhIGpRdWVyeSBtZXRob2QuXG4gICAgICAgICAgICBwdXNoOiBwdXNoLFxuICAgICAgICAgICAgc29ydDogYXJyLnNvcnQsXG4gICAgICAgICAgICBzcGxpY2U6IGFyci5zcGxpY2VcbiAgICAgICAgfTtcbiAgICAgICAgalF1ZXJ5LmV4dGVuZCA9IGpRdWVyeS5mbi5leHRlbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgb3B0aW9ucywgbmFtZSwgc3JjLCBjb3B5LCBjb3B5SXNBcnJheSwgY2xvbmUsIHRhcmdldCA9IGFyZ3VtZW50c1swXSB8fCB7fSwgaSA9IDEsIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsIGRlZXAgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIEhhbmRsZSBhIGRlZXAgY29weSBzaXR1YXRpb25cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICAgICAgICAgIGRlZXAgPSB0YXJnZXQ7XG4gICAgICAgICAgICAgICAgLy8gU2tpcCB0aGUgYm9vbGVhbiBhbmQgdGhlIHRhcmdldFxuICAgICAgICAgICAgICAgIHRhcmdldCA9IGFyZ3VtZW50c1tpXSB8fCB7fTtcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBIYW5kbGUgY2FzZSB3aGVuIHRhcmdldCBpcyBhIHN0cmluZyBvciBzb21ldGhpbmcgKHBvc3NpYmxlIGluIGRlZXAgY29weSlcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ICE9PSBcIm9iamVjdFwiICYmICFpc0Z1bmN0aW9uKHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQgPSB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEV4dGVuZCBqUXVlcnkgaXRzZWxmIGlmIG9ubHkgb25lIGFyZ3VtZW50IGlzIHBhc3NlZFxuICAgICAgICAgICAgaWYgKGkgPT09IGxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRhcmdldCA9IHRoaXM7XG4gICAgICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIC8vIE9ubHkgZGVhbCB3aXRoIG5vbi1udWxsL3VuZGVmaW5lZCB2YWx1ZXNcbiAgICAgICAgICAgICAgICBpZiAoKG9wdGlvbnMgPSBhcmd1bWVudHNbaV0pICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRXh0ZW5kIHRoZSBiYXNlIG9iamVjdFxuICAgICAgICAgICAgICAgICAgICBmb3IgKG5hbWUgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29weSA9IG9wdGlvbnNbbmFtZV07XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IE9iamVjdC5wcm90b3R5cGUgcG9sbHV0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IG5ldmVyLWVuZGluZyBsb29wXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmFtZSA9PT0gXCJfX3Byb3RvX19cIiB8fCB0YXJnZXQgPT09IGNvcHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlY3Vyc2UgaWYgd2UncmUgbWVyZ2luZyBwbGFpbiBvYmplY3RzIG9yIGFycmF5c1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlZXAgJiYgY29weSAmJiAoalF1ZXJ5LmlzUGxhaW5PYmplY3QoY29weSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY29weUlzQXJyYXkgPSBBcnJheS5pc0FycmF5KGNvcHkpKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmMgPSB0YXJnZXRbbmFtZV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRW5zdXJlIHByb3BlciB0eXBlIGZvciB0aGUgc291cmNlIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvcHlJc0FycmF5ICYmICFBcnJheS5pc0FycmF5KHNyYykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvbmUgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoIWNvcHlJc0FycmF5ICYmICFqUXVlcnkuaXNQbGFpbk9iamVjdChzcmMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG9uZSA9IHNyYztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29weUlzQXJyYXkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBOZXZlciBtb3ZlIG9yaWdpbmFsIG9iamVjdHMsIGNsb25lIHRoZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRbbmFtZV0gPSBqUXVlcnkuZXh0ZW5kKGRlZXAsIGNsb25lLCBjb3B5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEb24ndCBicmluZyBpbiB1bmRlZmluZWQgdmFsdWVzXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChjb3B5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRbbmFtZV0gPSBjb3B5O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUmV0dXJuIHRoZSBtb2RpZmllZCBvYmplY3RcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICAgIH07XG4gICAgICAgIGpRdWVyeS5leHRlbmQoe1xuICAgICAgICAgICAgLy8gVW5pcXVlIGZvciBlYWNoIGNvcHkgb2YgalF1ZXJ5IG9uIHRoZSBwYWdlXG4gICAgICAgICAgICBleHBhbmRvOiBcImpRdWVyeVwiICsgKHZlcnNpb24gKyBNYXRoLnJhbmRvbSgpKS5yZXBsYWNlKC9cXEQvZywgXCJcIiksXG4gICAgICAgICAgICAvLyBBc3N1bWUgalF1ZXJ5IGlzIHJlYWR5IHdpdGhvdXQgdGhlIHJlYWR5IG1vZHVsZVxuICAgICAgICAgICAgaXNSZWFkeTogdHJ1ZSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAobXNnKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbm9vcDogZnVuY3Rpb24gKCkgeyB9LFxuICAgICAgICAgICAgaXNQbGFpbk9iamVjdDogZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgICAgICAgIHZhciBwcm90bywgQ3RvcjtcbiAgICAgICAgICAgICAgICAvLyBEZXRlY3Qgb2J2aW91cyBuZWdhdGl2ZXNcbiAgICAgICAgICAgICAgICAvLyBVc2UgdG9TdHJpbmcgaW5zdGVhZCBvZiBqUXVlcnkudHlwZSB0byBjYXRjaCBob3N0IG9iamVjdHNcbiAgICAgICAgICAgICAgICBpZiAoIW9iaiB8fCB0b1N0cmluZy5jYWxsKG9iaikgIT09IFwiW29iamVjdCBPYmplY3RdXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwcm90byA9IGdldFByb3RvKG9iaik7XG4gICAgICAgICAgICAgICAgLy8gT2JqZWN0cyB3aXRoIG5vIHByb3RvdHlwZSAoZS5nLiwgYE9iamVjdC5jcmVhdGUoIG51bGwgKWApIGFyZSBwbGFpblxuICAgICAgICAgICAgICAgIGlmICghcHJvdG8pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIE9iamVjdHMgd2l0aCBwcm90b3R5cGUgYXJlIHBsYWluIGlmZiB0aGV5IHdlcmUgY29uc3RydWN0ZWQgYnkgYSBnbG9iYWwgT2JqZWN0IGZ1bmN0aW9uXG4gICAgICAgICAgICAgICAgQ3RvciA9IGhhc093bi5jYWxsKHByb3RvLCBcImNvbnN0cnVjdG9yXCIpICYmIHByb3RvLmNvbnN0cnVjdG9yO1xuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2YgQ3RvciA9PT0gXCJmdW5jdGlvblwiICYmIGZuVG9TdHJpbmcuY2FsbChDdG9yKSA9PT0gT2JqZWN0RnVuY3Rpb25TdHJpbmc7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNFbXB0eU9iamVjdDogZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgICAgICAgIHZhciBuYW1lO1xuICAgICAgICAgICAgICAgIGZvciAobmFtZSBpbiBvYmopIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBFdmFsdWF0ZXMgYSBzY3JpcHQgaW4gYSBwcm92aWRlZCBjb250ZXh0OyBmYWxscyBiYWNrIHRvIHRoZSBnbG9iYWwgb25lXG4gICAgICAgICAgICAvLyBpZiBub3Qgc3BlY2lmaWVkLlxuICAgICAgICAgICAgZ2xvYmFsRXZhbDogZnVuY3Rpb24gKGNvZGUsIG9wdGlvbnMsIGRvYykge1xuICAgICAgICAgICAgICAgIERPTUV2YWwoY29kZSwgeyBub25jZTogb3B0aW9ucyAmJiBvcHRpb25zLm5vbmNlIH0sIGRvYyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZWFjaDogZnVuY3Rpb24gKG9iaiwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICB2YXIgbGVuZ3RoLCBpID0gMDtcbiAgICAgICAgICAgICAgICBpZiAoaXNBcnJheUxpa2Uob2JqKSkge1xuICAgICAgICAgICAgICAgICAgICBsZW5ndGggPSBvYmoubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2suY2FsbChvYmpbaV0sIGksIG9ialtpXSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoaSBpbiBvYmopIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjay5jYWxsKG9ialtpXSwgaSwgb2JqW2ldKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIFJldHJpZXZlIHRoZSB0ZXh0IHZhbHVlIG9mIGFuIGFycmF5IG9mIERPTSBub2Rlc1xuICAgICAgICAgICAgdGV4dDogZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICB2YXIgbm9kZSwgcmV0ID0gXCJcIiwgaSA9IDAsIG5vZGVUeXBlID0gZWxlbS5ub2RlVHlwZTtcbiAgICAgICAgICAgICAgICBpZiAoIW5vZGVUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIG5vIG5vZGVUeXBlLCB0aGlzIGlzIGV4cGVjdGVkIHRvIGJlIGFuIGFycmF5XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICgobm9kZSA9IGVsZW1baSsrXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvIG5vdCB0cmF2ZXJzZSBjb21tZW50IG5vZGVzXG4gICAgICAgICAgICAgICAgICAgICAgICByZXQgKz0galF1ZXJ5LnRleHQobm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5vZGVUeXBlID09PSAxIHx8IG5vZGVUeXBlID09PSAxMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbS50ZXh0Q29udGVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5vZGVUeXBlID09PSA5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtLmRvY3VtZW50RWxlbWVudC50ZXh0Q29udGVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5vZGVUeXBlID09PSAzIHx8IG5vZGVUeXBlID09PSA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtLm5vZGVWYWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gRG8gbm90IGluY2x1ZGUgY29tbWVudCBvciBwcm9jZXNzaW5nIGluc3RydWN0aW9uIG5vZGVzXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyByZXN1bHRzIGlzIGZvciBpbnRlcm5hbCB1c2FnZSBvbmx5XG4gICAgICAgICAgICBtYWtlQXJyYXk6IGZ1bmN0aW9uIChhcnIsIHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmV0ID0gcmVzdWx0cyB8fCBbXTtcbiAgICAgICAgICAgICAgICBpZiAoYXJyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzQXJyYXlMaWtlKE9iamVjdChhcnIpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5Lm1lcmdlKHJldCwgdHlwZW9mIGFyciA9PT0gXCJzdHJpbmdcIiA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW2Fycl0gOiBhcnIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHVzaC5jYWxsKHJldCwgYXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGluQXJyYXk6IGZ1bmN0aW9uIChlbGVtLCBhcnIsIGkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXJyID09IG51bGwgPyAtMSA6IGluZGV4T2YuY2FsbChhcnIsIGVsZW0sIGkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlzWE1MRG9jOiBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgIHZhciBuYW1lc3BhY2UgPSBlbGVtICYmIGVsZW0ubmFtZXNwYWNlVVJJLCBkb2NFbGVtID0gZWxlbSAmJiAoZWxlbS5vd25lckRvY3VtZW50IHx8IGVsZW0pLmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgICAgICAgICAvLyBBc3N1bWUgSFRNTCB3aGVuIGRvY3VtZW50RWxlbWVudCBkb2Vzbid0IHlldCBleGlzdCwgc3VjaCBhcyBpbnNpZGVcbiAgICAgICAgICAgICAgICAvLyBkb2N1bWVudCBmcmFnbWVudHMuXG4gICAgICAgICAgICAgICAgcmV0dXJuICFyaHRtbFN1ZmZpeC50ZXN0KG5hbWVzcGFjZSB8fCBkb2NFbGVtICYmIGRvY0VsZW0ubm9kZU5hbWUgfHwgXCJIVE1MXCIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seVxuICAgICAgICAgICAgLy8gcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93cyBvbiBhbmNpZW50IFdlYktpdFxuICAgICAgICAgICAgbWVyZ2U6IGZ1bmN0aW9uIChmaXJzdCwgc2Vjb25kKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxlbiA9ICtzZWNvbmQubGVuZ3RoLCBqID0gMCwgaSA9IGZpcnN0Lmxlbmd0aDtcbiAgICAgICAgICAgICAgICBmb3IgKDsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpcnN0W2krK10gPSBzZWNvbmRbal07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpcnN0Lmxlbmd0aCA9IGk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpcnN0O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdyZXA6IGZ1bmN0aW9uIChlbGVtcywgY2FsbGJhY2ssIGludmVydCkge1xuICAgICAgICAgICAgICAgIHZhciBjYWxsYmFja0ludmVyc2UsIG1hdGNoZXMgPSBbXSwgaSA9IDAsIGxlbmd0aCA9IGVsZW1zLmxlbmd0aCwgY2FsbGJhY2tFeHBlY3QgPSAhaW52ZXJ0O1xuICAgICAgICAgICAgICAgIC8vIEdvIHRocm91Z2ggdGhlIGFycmF5LCBvbmx5IHNhdmluZyB0aGUgaXRlbXNcbiAgICAgICAgICAgICAgICAvLyB0aGF0IHBhc3MgdGhlIHZhbGlkYXRvciBmdW5jdGlvblxuICAgICAgICAgICAgICAgIGZvciAoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tJbnZlcnNlID0gIWNhbGxiYWNrKGVsZW1zW2ldLCBpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrSW52ZXJzZSAhPT0gY2FsbGJhY2tFeHBlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZXMucHVzaChlbGVtc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoZXM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gYXJnIGlzIGZvciBpbnRlcm5hbCB1c2FnZSBvbmx5XG4gICAgICAgICAgICBtYXA6IGZ1bmN0aW9uIChlbGVtcywgY2FsbGJhY2ssIGFyZykge1xuICAgICAgICAgICAgICAgIHZhciBsZW5ndGgsIHZhbHVlLCBpID0gMCwgcmV0ID0gW107XG4gICAgICAgICAgICAgICAgLy8gR28gdGhyb3VnaCB0aGUgYXJyYXksIHRyYW5zbGF0aW5nIGVhY2ggb2YgdGhlIGl0ZW1zIHRvIHRoZWlyIG5ldyB2YWx1ZXNcbiAgICAgICAgICAgICAgICBpZiAoaXNBcnJheUxpa2UoZWxlbXMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxlbmd0aCA9IGVsZW1zLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgZm9yICg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBjYWxsYmFjayhlbGVtc1tpXSwgaSwgYXJnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0LnB1c2godmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIEdvIHRocm91Z2ggZXZlcnkga2V5IG9uIHRoZSBvYmplY3QsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGkgaW4gZWxlbXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gY2FsbGJhY2soZWxlbXNbaV0sIGksIGFyZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldC5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBGbGF0dGVuIGFueSBuZXN0ZWQgYXJyYXlzXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZsYXQocmV0KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBBIGdsb2JhbCBHVUlEIGNvdW50ZXIgZm9yIG9iamVjdHNcbiAgICAgICAgICAgIGd1aWQ6IDEsXG4gICAgICAgICAgICAvLyBqUXVlcnkuc3VwcG9ydCBpcyBub3QgdXNlZCBpbiBDb3JlIGJ1dCBvdGhlciBwcm9qZWN0cyBhdHRhY2ggdGhlaXJcbiAgICAgICAgICAgIC8vIHByb3BlcnRpZXMgdG8gaXQgc28gaXQgbmVlZHMgdG8gZXhpc3QuXG4gICAgICAgICAgICBzdXBwb3J0OiBzdXBwb3J0XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICBqUXVlcnkuZm5bU3ltYm9sLml0ZXJhdG9yXSA9IGFycltTeW1ib2wuaXRlcmF0b3JdO1xuICAgICAgICB9XG4gICAgICAgIC8vIFBvcHVsYXRlIHRoZSBjbGFzczJ0eXBlIG1hcFxuICAgICAgICBqUXVlcnkuZWFjaChcIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3IgU3ltYm9sXCIuc3BsaXQoXCIgXCIpLCBmdW5jdGlvbiAoX2ksIG5hbWUpIHtcbiAgICAgICAgICAgIGNsYXNzMnR5cGVbXCJbb2JqZWN0IFwiICsgbmFtZSArIFwiXVwiXSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGZ1bmN0aW9uIGlzQXJyYXlMaWtlKG9iaikge1xuICAgICAgICAgICAgLy8gU3VwcG9ydDogcmVhbCBpT1MgOC4yIG9ubHkgKG5vdCByZXByb2R1Y2libGUgaW4gc2ltdWxhdG9yKVxuICAgICAgICAgICAgLy8gYGluYCBjaGVjayB1c2VkIHRvIHByZXZlbnQgSklUIGVycm9yIChnaC0yMTQ1KVxuICAgICAgICAgICAgLy8gaGFzT3duIGlzbid0IHVzZWQgaGVyZSBkdWUgdG8gZmFsc2UgbmVnYXRpdmVzXG4gICAgICAgICAgICAvLyByZWdhcmRpbmcgTm9kZWxpc3QgbGVuZ3RoIGluIElFXG4gICAgICAgICAgICB2YXIgbGVuZ3RoID0gISFvYmogJiYgXCJsZW5ndGhcIiBpbiBvYmogJiYgb2JqLmxlbmd0aCwgdHlwZSA9IHRvVHlwZShvYmopO1xuICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24ob2JqKSB8fCBpc1dpbmRvdyhvYmopKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHR5cGUgPT09IFwiYXJyYXlcIiB8fCBsZW5ndGggPT09IDAgfHxcbiAgICAgICAgICAgICAgICB0eXBlb2YgbGVuZ3RoID09PSBcIm51bWJlclwiICYmIGxlbmd0aCA+IDAgJiYgKGxlbmd0aCAtIDEpIGluIG9iajtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBub2RlTmFtZShlbGVtLCBuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gZWxlbS5ub2RlTmFtZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcG9wID0gYXJyLnBvcDtcbiAgICAgICAgdmFyIHNvcnQgPSBhcnIuc29ydDtcbiAgICAgICAgdmFyIHNwbGljZSA9IGFyci5zcGxpY2U7XG4gICAgICAgIHZhciB3aGl0ZXNwYWNlID0gXCJbXFxcXHgyMFxcXFx0XFxcXHJcXFxcblxcXFxmXVwiO1xuICAgICAgICB2YXIgcnRyaW1DU1MgPSBuZXcgUmVnRXhwKFwiXlwiICsgd2hpdGVzcGFjZSArIFwiK3woKD86XnxbXlxcXFxcXFxcXSkoPzpcXFxcXFxcXC4pKilcIiArIHdoaXRlc3BhY2UgKyBcIiskXCIsIFwiZ1wiKTtcbiAgICAgICAgLy8gTm90ZTogYW4gZWxlbWVudCBkb2VzIG5vdCBjb250YWluIGl0c2VsZlxuICAgICAgICBqUXVlcnkuY29udGFpbnMgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgdmFyIGJ1cCA9IGIgJiYgYi5wYXJlbnROb2RlO1xuICAgICAgICAgICAgcmV0dXJuIGEgPT09IGJ1cCB8fCAhIShidXAgJiYgYnVwLm5vZGVUeXBlID09PSAxICYmIChcbiAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDkgLSAxMStcbiAgICAgICAgICAgIC8vIElFIGRvZXNuJ3QgaGF2ZSBgY29udGFpbnNgIG9uIFNWRy5cbiAgICAgICAgICAgIGEuY29udGFpbnMgP1xuICAgICAgICAgICAgICAgIGEuY29udGFpbnMoYnVwKSA6XG4gICAgICAgICAgICAgICAgYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiAmJiBhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGJ1cCkgJiAxNikpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBDU1Mgc3RyaW5nL2lkZW50aWZpZXIgc2VyaWFsaXphdGlvblxuICAgICAgICAvLyBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvY3Nzb20vI2NvbW1vbi1zZXJpYWxpemluZy1pZGlvbXNcbiAgICAgICAgdmFyIHJjc3Nlc2NhcGUgPSAvKFtcXDAtXFx4MWZcXHg3Zl18Xi0/XFxkKXxeLSR8W15cXHg4MC1cXHVGRkZGXFx3LV0vZztcbiAgICAgICAgZnVuY3Rpb24gZmNzc2VzY2FwZShjaCwgYXNDb2RlUG9pbnQpIHtcbiAgICAgICAgICAgIGlmIChhc0NvZGVQb2ludCkge1xuICAgICAgICAgICAgICAgIC8vIFUrMDAwMCBOVUxMIGJlY29tZXMgVStGRkZEIFJFUExBQ0VNRU5UIENIQVJBQ1RFUlxuICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gXCJcXDBcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJcXHVGRkZEXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIENvbnRyb2wgY2hhcmFjdGVycyBhbmQgKGRlcGVuZGVudCB1cG9uIHBvc2l0aW9uKSBudW1iZXJzIGdldCBlc2NhcGVkIGFzIGNvZGUgcG9pbnRzXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoLnNsaWNlKDAsIC0xKSArIFwiXFxcXFwiICsgY2guY2hhckNvZGVBdChjaC5sZW5ndGggLSAxKS50b1N0cmluZygxNikgKyBcIiBcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE90aGVyIHBvdGVudGlhbGx5LXNwZWNpYWwgQVNDSUkgY2hhcmFjdGVycyBnZXQgYmFja3NsYXNoLWVzY2FwZWRcbiAgICAgICAgICAgIHJldHVybiBcIlxcXFxcIiArIGNoO1xuICAgICAgICB9XG4gICAgICAgIGpRdWVyeS5lc2NhcGVTZWxlY3RvciA9IGZ1bmN0aW9uIChzZWwpIHtcbiAgICAgICAgICAgIHJldHVybiAoc2VsICsgXCJcIikucmVwbGFjZShyY3NzZXNjYXBlLCBmY3NzZXNjYXBlKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHByZWZlcnJlZERvYyA9IGRvY3VtZW50LCBwdXNoTmF0aXZlID0gcHVzaDtcbiAgICAgICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBpLCBFeHByLCBvdXRlcm1vc3RDb250ZXh0LCBzb3J0SW5wdXQsIGhhc0R1cGxpY2F0ZSwgcHVzaCA9IHB1c2hOYXRpdmUsIFxuICAgICAgICAgICAgLy8gTG9jYWwgZG9jdW1lbnQgdmFyc1xuICAgICAgICAgICAgZG9jdW1lbnQsIGRvY3VtZW50RWxlbWVudCwgZG9jdW1lbnRJc0hUTUwsIHJidWdneVFTQSwgbWF0Y2hlcywgXG4gICAgICAgICAgICAvLyBJbnN0YW5jZS1zcGVjaWZpYyBkYXRhXG4gICAgICAgICAgICBleHBhbmRvID0galF1ZXJ5LmV4cGFuZG8sIGRpcnJ1bnMgPSAwLCBkb25lID0gMCwgY2xhc3NDYWNoZSA9IGNyZWF0ZUNhY2hlKCksIHRva2VuQ2FjaGUgPSBjcmVhdGVDYWNoZSgpLCBjb21waWxlckNhY2hlID0gY3JlYXRlQ2FjaGUoKSwgbm9ubmF0aXZlU2VsZWN0b3JDYWNoZSA9IGNyZWF0ZUNhY2hlKCksIHNvcnRPcmRlciA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGEgPT09IGIpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFzRHVwbGljYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9LCBib29sZWFucyA9IFwiY2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGlzbWFwfFwiICtcbiAgICAgICAgICAgICAgICBcImxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWRcIiwgXG4gICAgICAgICAgICAvLyBSZWd1bGFyIGV4cHJlc3Npb25zXG4gICAgICAgICAgICAvLyBodHRwczovL3d3dy53My5vcmcvVFIvY3NzLXN5bnRheC0zLyNpZGVudC10b2tlbi1kaWFncmFtXG4gICAgICAgICAgICBpZGVudGlmaWVyID0gXCIoPzpcXFxcXFxcXFtcXFxcZGEtZkEtRl17MSw2fVwiICsgd2hpdGVzcGFjZSArXG4gICAgICAgICAgICAgICAgXCI/fFxcXFxcXFxcW15cXFxcclxcXFxuXFxcXGZdfFtcXFxcdy1dfFteXFwwLVxcXFx4N2ZdKStcIiwgXG4gICAgICAgICAgICAvLyBBdHRyaWJ1dGUgc2VsZWN0b3JzOiBodHRwczovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLyNhdHRyaWJ1dGUtc2VsZWN0b3JzXG4gICAgICAgICAgICBhdHRyaWJ1dGVzID0gXCJcXFxcW1wiICsgd2hpdGVzcGFjZSArIFwiKihcIiArIGlkZW50aWZpZXIgKyBcIikoPzpcIiArIHdoaXRlc3BhY2UgK1xuICAgICAgICAgICAgICAgIC8vIE9wZXJhdG9yIChjYXB0dXJlIDIpXG4gICAgICAgICAgICAgICAgXCIqKFsqXiR8IX5dPz0pXCIgKyB3aGl0ZXNwYWNlICtcbiAgICAgICAgICAgICAgICAvLyBcIkF0dHJpYnV0ZSB2YWx1ZXMgbXVzdCBiZSBDU1MgaWRlbnRpZmllcnMgW2NhcHR1cmUgNV0gb3Igc3RyaW5ncyBbY2FwdHVyZSAzIG9yIGNhcHR1cmUgNF1cIlxuICAgICAgICAgICAgICAgIFwiKig/OicoKD86XFxcXFxcXFwufFteXFxcXFxcXFwnXSkqKSd8XFxcIigoPzpcXFxcXFxcXC58W15cXFxcXFxcXFxcXCJdKSopXFxcInwoXCIgKyBpZGVudGlmaWVyICsgXCIpKXwpXCIgK1xuICAgICAgICAgICAgICAgIHdoaXRlc3BhY2UgKyBcIipcXFxcXVwiLCBwc2V1ZG9zID0gXCI6KFwiICsgaWRlbnRpZmllciArIFwiKSg/OlxcXFwoKFwiICtcbiAgICAgICAgICAgICAgICAvLyBUbyByZWR1Y2UgdGhlIG51bWJlciBvZiBzZWxlY3RvcnMgbmVlZGluZyB0b2tlbml6ZSBpbiB0aGUgcHJlRmlsdGVyLCBwcmVmZXIgYXJndW1lbnRzOlxuICAgICAgICAgICAgICAgIC8vIDEuIHF1b3RlZCAoY2FwdHVyZSAzOyBjYXB0dXJlIDQgb3IgY2FwdHVyZSA1KVxuICAgICAgICAgICAgICAgIFwiKCcoKD86XFxcXFxcXFwufFteXFxcXFxcXFwnXSkqKSd8XFxcIigoPzpcXFxcXFxcXC58W15cXFxcXFxcXFxcXCJdKSopXFxcIil8XCIgK1xuICAgICAgICAgICAgICAgIC8vIDIuIHNpbXBsZSAoY2FwdHVyZSA2KVxuICAgICAgICAgICAgICAgIFwiKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcKClbXFxcXF1dfFwiICsgYXR0cmlidXRlcyArIFwiKSopfFwiICtcbiAgICAgICAgICAgICAgICAvLyAzLiBhbnl0aGluZyBlbHNlIChjYXB0dXJlIDIpXG4gICAgICAgICAgICAgICAgXCIuKlwiICtcbiAgICAgICAgICAgICAgICBcIilcXFxcKXwpXCIsIFxuICAgICAgICAgICAgLy8gTGVhZGluZyBhbmQgbm9uLWVzY2FwZWQgdHJhaWxpbmcgd2hpdGVzcGFjZSwgY2FwdHVyaW5nIHNvbWUgbm9uLXdoaXRlc3BhY2UgY2hhcmFjdGVycyBwcmVjZWRpbmcgdGhlIGxhdHRlclxuICAgICAgICAgICAgcndoaXRlc3BhY2UgPSBuZXcgUmVnRXhwKHdoaXRlc3BhY2UgKyBcIitcIiwgXCJnXCIpLCByY29tbWEgPSBuZXcgUmVnRXhwKFwiXlwiICsgd2hpdGVzcGFjZSArIFwiKixcIiArIHdoaXRlc3BhY2UgKyBcIipcIiksIHJsZWFkaW5nQ29tYmluYXRvciA9IG5ldyBSZWdFeHAoXCJeXCIgKyB3aGl0ZXNwYWNlICsgXCIqKFs+K35dfFwiICsgd2hpdGVzcGFjZSArIFwiKVwiICtcbiAgICAgICAgICAgICAgICB3aGl0ZXNwYWNlICsgXCIqXCIpLCByZGVzY2VuZCA9IG5ldyBSZWdFeHAod2hpdGVzcGFjZSArIFwifD5cIiksIHJwc2V1ZG8gPSBuZXcgUmVnRXhwKHBzZXVkb3MpLCByaWRlbnRpZmllciA9IG5ldyBSZWdFeHAoXCJeXCIgKyBpZGVudGlmaWVyICsgXCIkXCIpLCBtYXRjaEV4cHIgPSB7XG4gICAgICAgICAgICAgICAgSUQ6IG5ldyBSZWdFeHAoXCJeIyhcIiArIGlkZW50aWZpZXIgKyBcIilcIiksXG4gICAgICAgICAgICAgICAgQ0xBU1M6IG5ldyBSZWdFeHAoXCJeXFxcXC4oXCIgKyBpZGVudGlmaWVyICsgXCIpXCIpLFxuICAgICAgICAgICAgICAgIFRBRzogbmV3IFJlZ0V4cChcIl4oXCIgKyBpZGVudGlmaWVyICsgXCJ8WypdKVwiKSxcbiAgICAgICAgICAgICAgICBBVFRSOiBuZXcgUmVnRXhwKFwiXlwiICsgYXR0cmlidXRlcyksXG4gICAgICAgICAgICAgICAgUFNFVURPOiBuZXcgUmVnRXhwKFwiXlwiICsgcHNldWRvcyksXG4gICAgICAgICAgICAgICAgQ0hJTEQ6IG5ldyBSZWdFeHAoXCJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXFxcKFwiICtcbiAgICAgICAgICAgICAgICAgICAgd2hpdGVzcGFjZSArIFwiKihldmVufG9kZHwoKFsrLV18KShcXFxcZCopbnwpXCIgKyB3aGl0ZXNwYWNlICsgXCIqKD86KFsrLV18KVwiICtcbiAgICAgICAgICAgICAgICAgICAgd2hpdGVzcGFjZSArIFwiKihcXFxcZCspfCkpXCIgKyB3aGl0ZXNwYWNlICsgXCIqXFxcXCl8KVwiLCBcImlcIiksXG4gICAgICAgICAgICAgICAgYm9vbDogbmV3IFJlZ0V4cChcIl4oPzpcIiArIGJvb2xlYW5zICsgXCIpJFwiLCBcImlcIiksXG4gICAgICAgICAgICAgICAgLy8gRm9yIHVzZSBpbiBsaWJyYXJpZXMgaW1wbGVtZW50aW5nIC5pcygpXG4gICAgICAgICAgICAgICAgLy8gV2UgdXNlIHRoaXMgZm9yIFBPUyBtYXRjaGluZyBpbiBgc2VsZWN0YFxuICAgICAgICAgICAgICAgIG5lZWRzQ29udGV4dDogbmV3IFJlZ0V4cChcIl5cIiArIHdoaXRlc3BhY2UgK1xuICAgICAgICAgICAgICAgICAgICBcIipbPit+XXw6KGV2ZW58b2RkfGVxfGd0fGx0fG50aHxmaXJzdHxsYXN0KSg/OlxcXFwoXCIgKyB3aGl0ZXNwYWNlICtcbiAgICAgICAgICAgICAgICAgICAgXCIqKCg/Oi1cXFxcZCk/XFxcXGQqKVwiICsgd2hpdGVzcGFjZSArIFwiKlxcXFwpfCkoPz1bXi1dfCQpXCIsIFwiaVwiKVxuICAgICAgICAgICAgfSwgcmlucHV0cyA9IC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksIHJoZWFkZXIgPSAvXmhcXGQkL2ksIFxuICAgICAgICAgICAgLy8gRWFzaWx5LXBhcnNlYWJsZS9yZXRyaWV2YWJsZSBJRCBvciBUQUcgb3IgQ0xBU1Mgc2VsZWN0b3JzXG4gICAgICAgICAgICBycXVpY2tFeHByID0gL14oPzojKFtcXHctXSspfChcXHcrKXxcXC4oW1xcdy1dKykpJC8sIHJzaWJsaW5nID0gL1srfl0vLCBcbiAgICAgICAgICAgIC8vIENTUyBlc2NhcGVzXG4gICAgICAgICAgICAvLyBodHRwczovL3d3dy53My5vcmcvVFIvQ1NTMjEvc3luZGF0YS5odG1sI2VzY2FwZWQtY2hhcmFjdGVyc1xuICAgICAgICAgICAgcnVuZXNjYXBlID0gbmV3IFJlZ0V4cChcIlxcXFxcXFxcW1xcXFxkYS1mQS1GXXsxLDZ9XCIgKyB3aGl0ZXNwYWNlICtcbiAgICAgICAgICAgICAgICBcIj98XFxcXFxcXFwoW15cXFxcclxcXFxuXFxcXGZdKVwiLCBcImdcIiksIGZ1bmVzY2FwZSA9IGZ1bmN0aW9uIChlc2NhcGUsIG5vbkhleCkge1xuICAgICAgICAgICAgICAgIHZhciBoaWdoID0gXCIweFwiICsgZXNjYXBlLnNsaWNlKDEpIC0gMHgxMDAwMDtcbiAgICAgICAgICAgICAgICBpZiAobm9uSGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFN0cmlwIHRoZSBiYWNrc2xhc2ggcHJlZml4IGZyb20gYSBub24taGV4IGVzY2FwZSBzZXF1ZW5jZVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm9uSGV4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBSZXBsYWNlIGEgaGV4YWRlY2ltYWwgZXNjYXBlIHNlcXVlbmNlIHdpdGggdGhlIGVuY29kZWQgVW5pY29kZSBjb2RlIHBvaW50XG4gICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgPD0xMStcbiAgICAgICAgICAgICAgICAvLyBGb3IgdmFsdWVzIG91dHNpZGUgdGhlIEJhc2ljIE11bHRpbGluZ3VhbCBQbGFuZSAoQk1QKSwgbWFudWFsbHkgY29uc3RydWN0IGFcbiAgICAgICAgICAgICAgICAvLyBzdXJyb2dhdGUgcGFpclxuICAgICAgICAgICAgICAgIHJldHVybiBoaWdoIDwgMCA/XG4gICAgICAgICAgICAgICAgICAgIFN0cmluZy5mcm9tQ2hhckNvZGUoaGlnaCArIDB4MTAwMDApIDpcbiAgICAgICAgICAgICAgICAgICAgU3RyaW5nLmZyb21DaGFyQ29kZShoaWdoID4+IDEwIHwgMHhEODAwLCBoaWdoICYgMHgzRkYgfCAweERDMDApO1xuICAgICAgICAgICAgfSwgXG4gICAgICAgICAgICAvLyBVc2VkIGZvciBpZnJhbWVzOyBzZWUgYHNldERvY3VtZW50YC5cbiAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDkgLSAxMSssIEVkZ2UgMTIgLSAxOCtcbiAgICAgICAgICAgIC8vIFJlbW92aW5nIHRoZSBmdW5jdGlvbiB3cmFwcGVyIGNhdXNlcyBhIFwiUGVybWlzc2lvbiBEZW5pZWRcIlxuICAgICAgICAgICAgLy8gZXJyb3IgaW4gSUUvRWRnZS5cbiAgICAgICAgICAgIHVubG9hZEhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgc2V0RG9jdW1lbnQoKTtcbiAgICAgICAgICAgIH0sIGluRGlzYWJsZWRGaWVsZHNldCA9IGFkZENvbWJpbmF0b3IoZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbS5kaXNhYmxlZCA9PT0gdHJ1ZSAmJiBub2RlTmFtZShlbGVtLCBcImZpZWxkc2V0XCIpO1xuICAgICAgICAgICAgfSwgeyBkaXI6IFwicGFyZW50Tm9kZVwiLCBuZXh0OiBcImxlZ2VuZFwiIH0pO1xuICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgPD05IG9ubHlcbiAgICAgICAgICAgIC8vIEFjY2Vzc2luZyBkb2N1bWVudC5hY3RpdmVFbGVtZW50IGNhbiB0aHJvdyB1bmV4cGVjdGVkbHlcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC8xMzM5M1xuICAgICAgICAgICAgZnVuY3Rpb24gc2FmZUFjdGl2ZUVsZW1lbnQoKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gT3B0aW1pemUgZm9yIHB1c2guYXBwbHkoIF8sIE5vZGVMaXN0IClcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcHVzaC5hcHBseSgoYXJyID0gc2xpY2UuY2FsbChwcmVmZXJyZWREb2MuY2hpbGROb2RlcykpLCBwcmVmZXJyZWREb2MuY2hpbGROb2Rlcyk7XG4gICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMFxuICAgICAgICAgICAgICAgIC8vIERldGVjdCBzaWxlbnRseSBmYWlsaW5nIHB1c2guYXBwbHlcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLWV4cHJlc3Npb25zXG4gICAgICAgICAgICAgICAgYXJyW3ByZWZlcnJlZERvYy5jaGlsZE5vZGVzLmxlbmd0aF0ubm9kZVR5cGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHB1c2ggPSB7XG4gICAgICAgICAgICAgICAgICAgIGFwcGx5OiBmdW5jdGlvbiAodGFyZ2V0LCBlbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHB1c2hOYXRpdmUuYXBwbHkodGFyZ2V0LCBzbGljZS5jYWxsKGVscykpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBjYWxsOiBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwdXNoTmF0aXZlLmFwcGx5KHRhcmdldCwgc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBmaW5kKHNlbGVjdG9yLCBjb250ZXh0LCByZXN1bHRzLCBzZWVkKSB7XG4gICAgICAgICAgICAgICAgdmFyIG0sIGksIGVsZW0sIG5pZCwgbWF0Y2gsIGdyb3VwcywgbmV3U2VsZWN0b3IsIG5ld0NvbnRleHQgPSBjb250ZXh0ICYmIGNvbnRleHQub3duZXJEb2N1bWVudCwgXG4gICAgICAgICAgICAgICAgLy8gbm9kZVR5cGUgZGVmYXVsdHMgdG8gOSwgc2luY2UgY29udGV4dCBkZWZhdWx0cyB0byBkb2N1bWVudFxuICAgICAgICAgICAgICAgIG5vZGVUeXBlID0gY29udGV4dCA/IGNvbnRleHQubm9kZVR5cGUgOiA5O1xuICAgICAgICAgICAgICAgIHJlc3VsdHMgPSByZXN1bHRzIHx8IFtdO1xuICAgICAgICAgICAgICAgIC8vIFJldHVybiBlYXJseSBmcm9tIGNhbGxzIHdpdGggaW52YWxpZCBzZWxlY3RvciBvciBjb250ZXh0XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzZWxlY3RvciAhPT0gXCJzdHJpbmdcIiB8fCAhc2VsZWN0b3IgfHxcbiAgICAgICAgICAgICAgICAgICAgbm9kZVR5cGUgIT09IDEgJiYgbm9kZVR5cGUgIT09IDkgJiYgbm9kZVR5cGUgIT09IDExKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBUcnkgdG8gc2hvcnRjdXQgZmluZCBvcGVyYXRpb25zIChhcyBvcHBvc2VkIHRvIGZpbHRlcnMpIGluIEhUTUwgZG9jdW1lbnRzXG4gICAgICAgICAgICAgICAgaWYgKCFzZWVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldERvY3VtZW50KGNvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0ID0gY29udGV4dCB8fCBkb2N1bWVudDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50SXNIVE1MKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgc2VsZWN0b3IgaXMgc3VmZmljaWVudGx5IHNpbXBsZSwgdHJ5IHVzaW5nIGEgXCJnZXQqQnkqXCIgRE9NIG1ldGhvZFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gKGV4Y2VwdGluZyBEb2N1bWVudEZyYWdtZW50IGNvbnRleHQsIHdoZXJlIHRoZSBtZXRob2RzIGRvbid0IGV4aXN0KVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGVUeXBlICE9PSAxMSAmJiAobWF0Y2ggPSBycXVpY2tFeHByLmV4ZWMoc2VsZWN0b3IpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElEIHNlbGVjdG9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChtID0gbWF0Y2hbMV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvY3VtZW50IGNvbnRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGVUeXBlID09PSA5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGVsZW0gPSBjb250ZXh0LmdldEVsZW1lbnRCeUlkKG0pKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDkgb25seVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGdldEVsZW1lbnRCeUlkIGNhbiBtYXRjaCBlbGVtZW50cyBieSBuYW1lIGluc3RlYWQgb2YgSURcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbS5pZCA9PT0gbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdXNoLmNhbGwocmVzdWx0cywgZWxlbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRWxlbWVudCBjb250ZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA5IG9ubHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGdldEVsZW1lbnRCeUlkIGNhbiBtYXRjaCBlbGVtZW50cyBieSBuYW1lIGluc3RlYWQgb2YgSURcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdDb250ZXh0ICYmIChlbGVtID0gbmV3Q29udGV4dC5nZXRFbGVtZW50QnlJZChtKSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5kLmNvbnRhaW5zKGNvbnRleHQsIGVsZW0pICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5pZCA9PT0gbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1c2guY2FsbChyZXN1bHRzLCBlbGVtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUeXBlIHNlbGVjdG9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG1hdGNoWzJdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1c2guYXBwbHkocmVzdWx0cywgY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZShzZWxlY3RvcikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2xhc3Mgc2VsZWN0b3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoKG0gPSBtYXRjaFszXSkgJiYgY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1c2guYXBwbHkocmVzdWx0cywgY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKG0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGFrZSBhZHZhbnRhZ2Ugb2YgcXVlcnlTZWxlY3RvckFsbFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFub25uYXRpdmVTZWxlY3RvckNhY2hlW3NlbGVjdG9yICsgXCIgXCJdICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKCFyYnVnZ3lRU0EgfHwgIXJidWdneVFTQS50ZXN0KHNlbGVjdG9yKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdTZWxlY3RvciA9IHNlbGVjdG9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHFTQSBjb25zaWRlcnMgZWxlbWVudHMgb3V0c2lkZSBhIHNjb3Bpbmcgcm9vdCB3aGVuIGV2YWx1YXRpbmcgY2hpbGQgb3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBkZXNjZW5kYW50IGNvbWJpbmF0b3JzLCB3aGljaCBpcyBub3Qgd2hhdCB3ZSB3YW50LlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEluIHN1Y2ggY2FzZXMsIHdlIHdvcmsgYXJvdW5kIHRoZSBiZWhhdmlvciBieSBwcmVmaXhpbmcgZXZlcnkgc2VsZWN0b3IgaW4gdGhlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGlzdCB3aXRoIGFuIElEIHNlbGVjdG9yIHJlZmVyZW5jaW5nIHRoZSBzY29wZSBjb250ZXh0LlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSB0ZWNobmlxdWUgaGFzIHRvIGJlIHVzZWQgYXMgd2VsbCB3aGVuIGEgbGVhZGluZyBjb21iaW5hdG9yIGlzIHVzZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhcyBzdWNoIHNlbGVjdG9ycyBhcmUgbm90IHJlY29nbml6ZWQgYnkgcXVlcnlTZWxlY3RvckFsbC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGFua3MgdG8gQW5kcmV3IER1cG9udCBmb3IgdGhpcyB0ZWNobmlxdWUuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGVUeXBlID09PSAxICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChyZGVzY2VuZC50ZXN0KHNlbGVjdG9yKSB8fCBybGVhZGluZ0NvbWJpbmF0b3IudGVzdChzZWxlY3RvcikpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEV4cGFuZCBjb250ZXh0IGZvciBzaWJsaW5nIHNlbGVjdG9yc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdDb250ZXh0ID0gcnNpYmxpbmcudGVzdChzZWxlY3RvcikgJiYgdGVzdENvbnRleHQoY29udGV4dC5wYXJlbnROb2RlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgY2FuIHVzZSA6c2NvcGUgaW5zdGVhZCBvZiB0aGUgSUQgaGFjayBpZiB0aGUgYnJvd3NlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzdXBwb3J0cyBpdCAmIGlmIHdlJ3JlIG5vdCBjaGFuZ2luZyB0aGUgY29udGV4dC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgMTErLCBFZGdlIDE3IC0gMTgrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgXCJQZXJtaXNzaW9uIGRlbmllZFwiIGVycm9yIHdoZW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3RyaWN0LWNvbXBhcmluZyB0d28gZG9jdW1lbnRzOyBzaGFsbG93IGNvbXBhcmlzb25zIHdvcmsuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0NvbnRleHQgIT0gY29udGV4dCB8fCAhc3VwcG9ydC5zY29wZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2FwdHVyZSB0aGUgY29udGV4dCBJRCwgc2V0dGluZyBpdCBmaXJzdCBpZiBuZWNlc3NhcnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgobmlkID0gY29udGV4dC5nZXRBdHRyaWJ1dGUoXCJpZFwiKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuaWQgPSBqUXVlcnkuZXNjYXBlU2VsZWN0b3IobmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0QXR0cmlidXRlKFwiaWRcIiwgKG5pZCA9IGV4cGFuZG8pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQcmVmaXggZXZlcnkgc2VsZWN0b3IgaW4gdGhlIGxpc3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBzID0gdG9rZW5pemUoc2VsZWN0b3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gZ3JvdXBzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBzW2ldID0gKG5pZCA/IFwiI1wiICsgbmlkIDogXCI6c2NvcGVcIikgKyBcIiBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9TZWxlY3Rvcihncm91cHNbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1NlbGVjdG9yID0gZ3JvdXBzLmpvaW4oXCIsXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdXNoLmFwcGx5KHJlc3VsdHMsIG5ld0NvbnRleHQucXVlcnlTZWxlY3RvckFsbChuZXdTZWxlY3RvcikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKHFzYUVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vbm5hdGl2ZVNlbGVjdG9yQ2FjaGUoc2VsZWN0b3IsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5pZCA9PT0gZXhwYW5kbykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5yZW1vdmVBdHRyaWJ1dGUoXCJpZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBBbGwgb3RoZXJzXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbGVjdChzZWxlY3Rvci5yZXBsYWNlKHJ0cmltQ1NTLCBcIiQxXCIpLCBjb250ZXh0LCByZXN1bHRzLCBzZWVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQ3JlYXRlIGtleS12YWx1ZSBjYWNoZXMgb2YgbGltaXRlZCBzaXplXG4gICAgICAgICAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb24oc3RyaW5nLCBvYmplY3QpfSBSZXR1cm5zIHRoZSBPYmplY3QgZGF0YSBhZnRlciBzdG9yaW5nIGl0IG9uIGl0c2VsZiB3aXRoXG4gICAgICAgICAgICAgKlx0cHJvcGVydHkgbmFtZSB0aGUgKHNwYWNlLXN1ZmZpeGVkKSBzdHJpbmcgYW5kIChpZiB0aGUgY2FjaGUgaXMgbGFyZ2VyIHRoYW4gRXhwci5jYWNoZUxlbmd0aClcbiAgICAgICAgICAgICpcdGRlbGV0aW5nIHRoZSBvbGRlc3QgZW50cnlcbiAgICAgICAgICAgICovXG4gICAgICAgICAgICBmdW5jdGlvbiBjcmVhdGVDYWNoZSgpIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5cyA9IFtdO1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGNhY2hlKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVXNlIChrZXkgKyBcIiBcIikgdG8gYXZvaWQgY29sbGlzaW9uIHdpdGggbmF0aXZlIHByb3RvdHlwZSBwcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgICAgIC8vIChzZWUgaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9zaXp6bGUvaXNzdWVzLzE1NylcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleXMucHVzaChrZXkgKyBcIiBcIikgPiBFeHByLmNhY2hlTGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IGtlZXAgdGhlIG1vc3QgcmVjZW50IGVudHJpZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBjYWNoZVtrZXlzLnNoaWZ0KCldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoY2FjaGVba2V5ICsgXCIgXCJdID0gdmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIE1hcmsgYSBmdW5jdGlvbiBmb3Igc3BlY2lhbCB1c2UgYnkgalF1ZXJ5IHNlbGVjdG9yIG1vZHVsZVxuICAgICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIG1hcmtcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZnVuY3Rpb24gbWFya0Z1bmN0aW9uKGZuKSB7XG4gICAgICAgICAgICAgICAgZm5bZXhwYW5kb10gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiBmbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU3VwcG9ydCB0ZXN0aW5nIHVzaW5nIGFuIGVsZW1lbnRcbiAgICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFBhc3NlZCB0aGUgY3JlYXRlZCBlbGVtZW50IGFuZCByZXR1cm5zIGEgYm9vbGVhbiByZXN1bHRcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZnVuY3Rpb24gYXNzZXJ0KGZuKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZpZWxkc2V0XCIpO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhIWZuKGVsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGZyb20gaXRzIHBhcmVudCBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbC5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyByZWxlYXNlIG1lbW9yeSBpbiBJRVxuICAgICAgICAgICAgICAgICAgICBlbCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gdXNlIGluIHBzZXVkb3MgZm9yIGlucHV0IHR5cGVzXG4gICAgICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBmdW5jdGlvbiBjcmVhdGVJbnB1dFBzZXVkbyh0eXBlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBub2RlTmFtZShlbGVtLCBcImlucHV0XCIpICYmIGVsZW0udHlwZSA9PT0gdHlwZTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gdXNlIGluIHBzZXVkb3MgZm9yIGJ1dHRvbnNcbiAgICAgICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUJ1dHRvblBzZXVkbyh0eXBlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAobm9kZU5hbWUoZWxlbSwgXCJpbnB1dFwiKSB8fCBub2RlTmFtZShlbGVtLCBcImJ1dHRvblwiKSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0udHlwZSA9PT0gdHlwZTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gdXNlIGluIHBzZXVkb3MgZm9yIDplbmFibGVkLzpkaXNhYmxlZFxuICAgICAgICAgICAgICogQHBhcmFtIHtCb29sZWFufSBkaXNhYmxlZCB0cnVlIGZvciA6ZGlzYWJsZWQ7IGZhbHNlIGZvciA6ZW5hYmxlZFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBmdW5jdGlvbiBjcmVhdGVEaXNhYmxlZFBzZXVkbyhkaXNhYmxlZCkge1xuICAgICAgICAgICAgICAgIC8vIEtub3duIDpkaXNhYmxlZCBmYWxzZSBwb3NpdGl2ZXM6IGZpZWxkc2V0W2Rpc2FibGVkXSA+IGxlZ2VuZDpudGgtb2YtdHlwZShuKzIpIDpjYW4tZGlzYWJsZVxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IGNlcnRhaW4gZWxlbWVudHMgY2FuIG1hdGNoIDplbmFibGVkIG9yIDpkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zY3JpcHRpbmcuaHRtbCNzZWxlY3Rvci1lbmFibGVkXG4gICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3NjcmlwdGluZy5odG1sI3NlbGVjdG9yLWRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgIGlmIChcImZvcm1cIiBpbiBlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgaW5oZXJpdGVkIGRpc2FibGVkbmVzcyBvbiByZWxldmFudCBub24tZGlzYWJsZWQgZWxlbWVudHM6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAqIGxpc3RlZCBmb3JtLWFzc29jaWF0ZWQgZWxlbWVudHMgaW4gYSBkaXNhYmxlZCBmaWVsZHNldFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9mb3Jtcy5odG1sI2NhdGVnb3J5LWxpc3RlZFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9mb3Jtcy5odG1sI2NvbmNlcHQtZmUtZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICogb3B0aW9uIGVsZW1lbnRzIGluIGEgZGlzYWJsZWQgb3B0Z3JvdXBcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZm9ybXMuaHRtbCNjb25jZXB0LW9wdGlvbi1kaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWxsIHN1Y2ggZWxlbWVudHMgaGF2ZSBhIFwiZm9ybVwiIHByb3BlcnR5LlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW0ucGFyZW50Tm9kZSAmJiBlbGVtLmRpc2FibGVkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9wdGlvbiBlbGVtZW50cyBkZWZlciB0byBhIHBhcmVudCBvcHRncm91cCBpZiBwcmVzZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwibGFiZWxcIiBpbiBlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcImxhYmVsXCIgaW4gZWxlbS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbS5wYXJlbnROb2RlLmRpc2FibGVkID09PSBkaXNhYmxlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtLmRpc2FibGVkID09PSBkaXNhYmxlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA2IC0gMTErXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXNlIHRoZSBpc0Rpc2FibGVkIHNob3J0Y3V0IHByb3BlcnR5IHRvIGNoZWNrIGZvciBkaXNhYmxlZCBmaWVsZHNldCBhbmNlc3RvcnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbS5pc0Rpc2FibGVkID09PSBkaXNhYmxlZCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXaGVyZSB0aGVyZSBpcyBubyBpc0Rpc2FibGVkLCBjaGVjayBtYW51YWxseVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtLmlzRGlzYWJsZWQgIT09ICFkaXNhYmxlZCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5EaXNhYmxlZEZpZWxkc2V0KGVsZW0pID09PSBkaXNhYmxlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtLmRpc2FibGVkID09PSBkaXNhYmxlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRyeSB0byB3aW5ub3cgb3V0IGVsZW1lbnRzIHRoYXQgY2FuJ3QgYmUgZGlzYWJsZWQgYmVmb3JlIHRydXN0aW5nIHRoZSBkaXNhYmxlZCBwcm9wZXJ0eS5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNvbWUgdmljdGltcyBnZXQgY2F1Z2h0IGluIG91ciBuZXQgKGxhYmVsLCBsZWdlbmQsIG1lbnUsIHRyYWNrKSwgYnV0IGl0IHNob3VsZG4ndFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXZlbiBleGlzdCBvbiB0aGVtLCBsZXQgYWxvbmUgaGF2ZSBhIGJvb2xlYW4gdmFsdWUuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoXCJsYWJlbFwiIGluIGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtLmRpc2FibGVkID09PSBkaXNhYmxlZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBSZW1haW5pbmcgZWxlbWVudHMgYXJlIG5laXRoZXIgOmVuYWJsZWQgbm9yIDpkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVzZSBpbiBwc2V1ZG9zIGZvciBwb3NpdGlvbmFsc1xuICAgICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZnVuY3Rpb24gY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50ID0gK2FyZ3VtZW50O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWFya0Z1bmN0aW9uKGZ1bmN0aW9uIChzZWVkLCBtYXRjaGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaiwgbWF0Y2hJbmRleGVzID0gZm4oW10sIHNlZWQubGVuZ3RoLCBhcmd1bWVudCksIGkgPSBtYXRjaEluZGV4ZXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWF0Y2ggZWxlbWVudHMgZm91bmQgYXQgdGhlIHNwZWNpZmllZCBpbmRleGVzXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlZWRbKGogPSBtYXRjaEluZGV4ZXNbaV0pXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWVkW2pdID0gIShtYXRjaGVzW2pdID0gc2VlZFtqXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQ2hlY2tzIGEgbm9kZSBmb3IgdmFsaWRpdHkgYXMgYSBqUXVlcnkgc2VsZWN0b3IgY29udGV4dFxuICAgICAgICAgICAgICogQHBhcmFtIHtFbGVtZW50fE9iamVjdD19IGNvbnRleHRcbiAgICAgICAgICAgICAqIEByZXR1cm5zIHtFbGVtZW50fE9iamVjdHxCb29sZWFufSBUaGUgaW5wdXQgbm9kZSBpZiBhY2NlcHRhYmxlLCBvdGhlcndpc2UgYSBmYWxzeSB2YWx1ZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBmdW5jdGlvbiB0ZXN0Q29udGV4dChjb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQgJiYgdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgIT09IFwidW5kZWZpbmVkXCIgJiYgY29udGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2V0cyBkb2N1bWVudC1yZWxhdGVkIHZhcmlhYmxlcyBvbmNlIGJhc2VkIG9uIHRoZSBjdXJyZW50IGRvY3VtZW50XG4gICAgICAgICAgICAgKiBAcGFyYW0ge0VsZW1lbnR8T2JqZWN0fSBbbm9kZV0gQW4gZWxlbWVudCBvciBkb2N1bWVudCBvYmplY3QgdG8gdXNlIHRvIHNldCB0aGUgZG9jdW1lbnRcbiAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGN1cnJlbnQgZG9jdW1lbnRcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZnVuY3Rpb24gc2V0RG9jdW1lbnQobm9kZSkge1xuICAgICAgICAgICAgICAgIHZhciBzdWJXaW5kb3csIGRvYyA9IG5vZGUgPyBub2RlLm93bmVyRG9jdW1lbnQgfHwgbm9kZSA6IHByZWZlcnJlZERvYztcbiAgICAgICAgICAgICAgICAvLyBSZXR1cm4gZWFybHkgaWYgZG9jIGlzIGludmFsaWQgb3IgYWxyZWFkeSBzZWxlY3RlZFxuICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4K1xuICAgICAgICAgICAgICAgIC8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgXCJQZXJtaXNzaW9uIGRlbmllZFwiIGVycm9yIHdoZW4gc3RyaWN0LWNvbXBhcmluZ1xuICAgICAgICAgICAgICAgIC8vIHR3byBkb2N1bWVudHM7IHNoYWxsb3cgY29tcGFyaXNvbnMgd29yay5cbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG4gICAgICAgICAgICAgICAgaWYgKGRvYyA9PSBkb2N1bWVudCB8fCBkb2Mubm9kZVR5cGUgIT09IDkgfHwgIWRvYy5kb2N1bWVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgZ2xvYmFsIHZhcmlhYmxlc1xuICAgICAgICAgICAgICAgIGRvY3VtZW50ID0gZG9jO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50RWxlbWVudCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgICAgICAgICBkb2N1bWVudElzSFRNTCA9ICFqUXVlcnkuaXNYTUxEb2MoZG9jdW1lbnQpO1xuICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IGlPUyA3IG9ubHksIElFIDkgLSAxMStcbiAgICAgICAgICAgICAgICAvLyBPbGRlciBicm93c2VycyBkaWRuJ3Qgc3VwcG9ydCB1bnByZWZpeGVkIGBtYXRjaGVzYC5cbiAgICAgICAgICAgICAgICBtYXRjaGVzID0gZG9jdW1lbnRFbGVtZW50Lm1hdGNoZXMgfHxcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnRFbGVtZW50LndlYmtpdE1hdGNoZXNTZWxlY3RvciB8fFxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudEVsZW1lbnQubXNNYXRjaGVzU2VsZWN0b3I7XG4gICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgOSAtIDExKywgRWRnZSAxMiAtIDE4K1xuICAgICAgICAgICAgICAgIC8vIEFjY2Vzc2luZyBpZnJhbWUgZG9jdW1lbnRzIGFmdGVyIHVubG9hZCB0aHJvd3MgXCJwZXJtaXNzaW9uIGRlbmllZFwiIGVycm9yc1xuICAgICAgICAgICAgICAgIC8vIChzZWUgdHJhYy0xMzkzNikuXG4gICAgICAgICAgICAgICAgLy8gTGltaXQgdGhlIGZpeCB0byBJRSAmIEVkZ2UgTGVnYWN5OyBkZXNwaXRlIEVkZ2UgMTUrIGltcGxlbWVudGluZyBgbWF0Y2hlc2AsXG4gICAgICAgICAgICAgICAgLy8gYWxsIElFIDkrIGFuZCBFZGdlIExlZ2FjeSB2ZXJzaW9ucyBpbXBsZW1lbnQgYG1zTWF0Y2hlc1NlbGVjdG9yYCBhcyB3ZWxsLlxuICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudEVsZW1lbnQubXNNYXRjaGVzU2VsZWN0b3IgJiZcbiAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgMTErLCBFZGdlIDE3IC0gMTgrXG4gICAgICAgICAgICAgICAgICAgIC8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgXCJQZXJtaXNzaW9uIGRlbmllZFwiIGVycm9yIHdoZW4gc3RyaWN0LWNvbXBhcmluZ1xuICAgICAgICAgICAgICAgICAgICAvLyB0d28gZG9jdW1lbnRzOyBzaGFsbG93IGNvbXBhcmlzb25zIHdvcmsuXG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcbiAgICAgICAgICAgICAgICAgICAgcHJlZmVycmVkRG9jICE9IGRvY3VtZW50ICYmXG4gICAgICAgICAgICAgICAgICAgIChzdWJXaW5kb3cgPSBkb2N1bWVudC5kZWZhdWx0VmlldykgJiYgc3ViV2luZG93LnRvcCAhPT0gc3ViV2luZG93KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDkgLSAxMSssIEVkZ2UgMTIgLSAxOCtcbiAgICAgICAgICAgICAgICAgICAgc3ViV2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ1bmxvYWRcIiwgdW5sb2FkSGFuZGxlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDwxMFxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGdldEVsZW1lbnRCeUlkIHJldHVybnMgZWxlbWVudHMgYnkgbmFtZVxuICAgICAgICAgICAgICAgIC8vIFRoZSBicm9rZW4gZ2V0RWxlbWVudEJ5SWQgbWV0aG9kcyBkb24ndCBwaWNrIHVwIHByb2dyYW1tYXRpY2FsbHktc2V0IG5hbWVzLFxuICAgICAgICAgICAgICAgIC8vIHNvIHVzZSBhIHJvdW5kYWJvdXQgZ2V0RWxlbWVudHNCeU5hbWUgdGVzdFxuICAgICAgICAgICAgICAgIHN1cHBvcnQuZ2V0QnlJZCA9IGFzc2VydChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKGVsKS5pZCA9IGpRdWVyeS5leHBhbmRvO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gIWRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAhZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoalF1ZXJ5LmV4cGFuZG8pLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA5IG9ubHlcbiAgICAgICAgICAgICAgICAvLyBDaGVjayB0byBzZWUgaWYgaXQncyBwb3NzaWJsZSB0byBkbyBtYXRjaGVzU2VsZWN0b3JcbiAgICAgICAgICAgICAgICAvLyBvbiBhIGRpc2Nvbm5lY3RlZCBub2RlLlxuICAgICAgICAgICAgICAgIHN1cHBvcnQuZGlzY29ubmVjdGVkTWF0Y2ggPSBhc3NlcnQoZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaGVzLmNhbGwoZWwsIFwiKlwiKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA5IC0gMTErLCBFZGdlIDEyIC0gMTgrXG4gICAgICAgICAgICAgICAgLy8gSUUvRWRnZSBkb24ndCBzdXBwb3J0IHRoZSA6c2NvcGUgcHNldWRvLWNsYXNzLlxuICAgICAgICAgICAgICAgIHN1cHBvcnQuc2NvcGUgPSBhc3NlcnQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIjpzY29wZVwiKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBDaHJvbWUgMTA1IC0gMTExIG9ubHksIFNhZmFyaSAxNS40IC0gMTYuMyBvbmx5XG4gICAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSBgOmhhcygpYCBhcmd1bWVudCBpcyBwYXJzZWQgdW5mb3JnaXZpbmdseS5cbiAgICAgICAgICAgICAgICAvLyBXZSBpbmNsdWRlIGAqYCBpbiB0aGUgdGVzdCB0byBkZXRlY3QgYnVnZ3kgaW1wbGVtZW50YXRpb25zIHRoYXQgYXJlXG4gICAgICAgICAgICAgICAgLy8gX3NlbGVjdGl2ZWx5XyBmb3JnaXZpbmcgKHNwZWNpZmljYWxseSB3aGVuIHRoZSBsaXN0IGluY2x1ZGVzIGF0IGxlYXN0XG4gICAgICAgICAgICAgICAgLy8gb25lIHZhbGlkIHNlbGVjdG9yKS5cbiAgICAgICAgICAgICAgICAvLyBOb3RlIHRoYXQgd2UgdHJlYXQgY29tcGxldGUgbGFjayBvZiBzdXBwb3J0IGZvciBgOmhhcygpYCBhcyBpZiBpdCB3ZXJlXG4gICAgICAgICAgICAgICAgLy8gc3BlYy1jb21wbGlhbnQgc3VwcG9ydCwgd2hpY2ggaXMgZmluZSBiZWNhdXNlIHVzZSBvZiBgOmhhcygpYCBpbiBzdWNoXG4gICAgICAgICAgICAgICAgLy8gZW52aXJvbm1lbnRzIHdpbGwgZmFpbCBpbiB0aGUgcVNBIHBhdGggYW5kIGZhbGwgYmFjayB0byBqUXVlcnkgdHJhdmVyc2FsXG4gICAgICAgICAgICAgICAgLy8gYW55d2F5LlxuICAgICAgICAgICAgICAgIHN1cHBvcnQuY3NzSGFzID0gYXNzZXJ0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCI6aGFzKCosOmpxZmFrZSlcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy8gSUQgZmlsdGVyIGFuZCBmaW5kXG4gICAgICAgICAgICAgICAgaWYgKHN1cHBvcnQuZ2V0QnlJZCkge1xuICAgICAgICAgICAgICAgICAgICBFeHByLmZpbHRlci5JRCA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGF0dHJJZCA9IGlkLnJlcGxhY2UocnVuZXNjYXBlLCBmdW5lc2NhcGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlKFwiaWRcIikgPT09IGF0dHJJZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIEV4cHIuZmluZC5JRCA9IGZ1bmN0aW9uIChpZCwgY29udGV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRCeUlkICE9PSBcInVuZGVmaW5lZFwiICYmIGRvY3VtZW50SXNIVE1MKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW0gPSBjb250ZXh0LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbSA/IFtlbGVtXSA6IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgRXhwci5maWx0ZXIuSUQgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhdHRySWQgPSBpZC5yZXBsYWNlKHJ1bmVzY2FwZSwgZnVuZXNjYXBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBub2RlID0gdHlwZW9mIGVsZW0uZ2V0QXR0cmlidXRlTm9kZSAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtLmdldEF0dHJpYnV0ZU5vZGUoXCJpZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm9kZSAmJiBub2RlLnZhbHVlID09PSBhdHRySWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA2IC0gNyBvbmx5XG4gICAgICAgICAgICAgICAgICAgIC8vIGdldEVsZW1lbnRCeUlkIGlzIG5vdCByZWxpYWJsZSBhcyBhIGZpbmQgc2hvcnRjdXRcbiAgICAgICAgICAgICAgICAgICAgRXhwci5maW5kLklEID0gZnVuY3Rpb24gKGlkLCBjb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQgIT09IFwidW5kZWZpbmVkXCIgJiYgZG9jdW1lbnRJc0hUTUwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbm9kZSwgaSwgZWxlbXMsIGVsZW0gPSBjb250ZXh0LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBWZXJpZnkgdGhlIGlkIGF0dHJpYnV0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlID0gZWxlbS5nZXRBdHRyaWJ1dGVOb2RlKFwiaWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlICYmIG5vZGUudmFsdWUgPT09IGlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2VsZW1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZhbGwgYmFjayBvbiBnZXRFbGVtZW50c0J5TmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtcyA9IGNvbnRleHQuZ2V0RWxlbWVudHNCeU5hbWUoaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKChlbGVtID0gZWxlbXNbaSsrXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSBlbGVtLmdldEF0dHJpYnV0ZU5vZGUoXCJpZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlICYmIG5vZGUudmFsdWUgPT09IGlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtlbGVtXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFRhZ1xuICAgICAgICAgICAgICAgIEV4cHIuZmluZC5UQUcgPSBmdW5jdGlvbiAodGFnLCBjb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUodGFnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvY3VtZW50RnJhZ21lbnQgbm9kZXMgZG9uJ3QgaGF2ZSBnRUJUTlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQucXVlcnlTZWxlY3RvckFsbCh0YWcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAvLyBDbGFzc1xuICAgICAgICAgICAgICAgIEV4cHIuZmluZC5DTEFTUyA9IGZ1bmN0aW9uIChjbGFzc05hbWUsIGNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgIT09IFwidW5kZWZpbmVkXCIgJiYgZG9jdW1lbnRJc0hUTUwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoY2xhc3NOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgLyogUVNBL21hdGNoZXNTZWxlY3RvclxuICAgICAgICAgICAgICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbiAgICAgICAgICAgICAgICAvLyBRU0EgYW5kIG1hdGNoZXNTZWxlY3RvciBzdXBwb3J0XG4gICAgICAgICAgICAgICAgcmJ1Z2d5UVNBID0gW107XG4gICAgICAgICAgICAgICAgLy8gQnVpbGQgUVNBIHJlZ2V4XG4gICAgICAgICAgICAgICAgLy8gUmVnZXggc3RyYXRlZ3kgYWRvcHRlZCBmcm9tIERpZWdvIFBlcmluaVxuICAgICAgICAgICAgICAgIGFzc2VydChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlucHV0O1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoZWwpLmlubmVySFRNTCA9XG4gICAgICAgICAgICAgICAgICAgICAgICBcIjxhIGlkPSdcIiArIGV4cGFuZG8gKyBcIicgaHJlZj0nJyBkaXNhYmxlZD0nZGlzYWJsZWQnPjwvYT5cIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI8c2VsZWN0IGlkPSdcIiArIGV4cGFuZG8gKyBcIi1cXHJcXFxcJyBkaXNhYmxlZD0nZGlzYWJsZWQnPlwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjxvcHRpb24gc2VsZWN0ZWQ9Jyc+PC9vcHRpb24+PC9zZWxlY3Q+XCI7XG4gICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IGlPUyA8PTcgLSA4IG9ubHlcbiAgICAgICAgICAgICAgICAgICAgLy8gQm9vbGVhbiBhdHRyaWJ1dGVzIGFuZCBcInZhbHVlXCIgYXJlIG5vdCB0cmVhdGVkIGNvcnJlY3RseSBpbiBzb21lIFhNTCBkb2N1bWVudHNcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlbC5xdWVyeVNlbGVjdG9yQWxsKFwiW3NlbGVjdGVkXVwiKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJidWdneVFTQS5wdXNoKFwiXFxcXFtcIiArIHdoaXRlc3BhY2UgKyBcIiooPzp2YWx1ZXxcIiArIGJvb2xlYW5zICsgXCIpXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IGlPUyA8PTcgLSA4IG9ubHlcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlbC5xdWVyeVNlbGVjdG9yQWxsKFwiW2lkfj1cIiArIGV4cGFuZG8gKyBcIi1dXCIpLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmJ1Z2d5UVNBLnB1c2goXCJ+PVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBpT1MgOCBvbmx5XG4gICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xMzY4NTFcbiAgICAgICAgICAgICAgICAgICAgLy8gSW4tcGFnZSBgc2VsZWN0b3IjaWQgc2libGluZy1jb21iaW5hdG9yIHNlbGVjdG9yYCBmYWlsc1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCJhI1wiICsgZXhwYW5kbyArIFwiKypcIikubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByYnVnZ3lRU0EucHVzaChcIi4jLitbK35dXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IENocm9tZSA8PTEwNSssIEZpcmVmb3ggPD0xMDQrLCBTYWZhcmkgPD0xNS40K1xuICAgICAgICAgICAgICAgICAgICAvLyBJbiBzb21lIG9mIHRoZSBkb2N1bWVudCBraW5kcywgdGhlc2Ugc2VsZWN0b3JzIHdvdWxkbid0IHdvcmsgbmF0aXZlbHkuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgcHJvYmFibHkgT0sgYnV0IGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSB3ZSB3YW50IHRvIG1haW50YWluXG4gICAgICAgICAgICAgICAgICAgIC8vIGhhbmRsaW5nIHRoZW0gdGhyb3VnaCBqUXVlcnkgdHJhdmVyc2FsIGluIGpRdWVyeSAzLnguXG4gICAgICAgICAgICAgICAgICAgIGlmICghZWwucXVlcnlTZWxlY3RvckFsbChcIjpjaGVja2VkXCIpLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmJ1Z2d5UVNBLnB1c2goXCI6Y2hlY2tlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBXaW5kb3dzIDggTmF0aXZlIEFwcHNcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHR5cGUgYW5kIG5hbWUgYXR0cmlidXRlcyBhcmUgcmVzdHJpY3RlZCBkdXJpbmcgLmlubmVySFRNTCBhc3NpZ25tZW50XG4gICAgICAgICAgICAgICAgICAgIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgICAgICAgICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICAgICAgICAgICAgICBlbC5hcHBlbmRDaGlsZChpbnB1dCkuc2V0QXR0cmlidXRlKFwibmFtZVwiLCBcIkRcIik7XG4gICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDkgLSAxMStcbiAgICAgICAgICAgICAgICAgICAgLy8gSUUncyA6ZGlzYWJsZWQgc2VsZWN0b3IgZG9lcyBub3QgcGljayB1cCB0aGUgY2hpbGRyZW4gb2YgZGlzYWJsZWQgZmllbGRzZXRzXG4gICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IENocm9tZSA8PTEwNSssIEZpcmVmb3ggPD0xMDQrLCBTYWZhcmkgPD0xNS40K1xuICAgICAgICAgICAgICAgICAgICAvLyBJbiBzb21lIG9mIHRoZSBkb2N1bWVudCBraW5kcywgdGhlc2Ugc2VsZWN0b3JzIHdvdWxkbid0IHdvcmsgbmF0aXZlbHkuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgcHJvYmFibHkgT0sgYnV0IGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSB3ZSB3YW50IHRvIG1haW50YWluXG4gICAgICAgICAgICAgICAgICAgIC8vIGhhbmRsaW5nIHRoZW0gdGhyb3VnaCBqUXVlcnkgdHJhdmVyc2FsIGluIGpRdWVyeSAzLnguXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChlbCkuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZWwucXVlcnlTZWxlY3RvckFsbChcIjpkaXNhYmxlZFwiKS5sZW5ndGggIT09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJidWdneVFTQS5wdXNoKFwiOmVuYWJsZWRcIiwgXCI6ZGlzYWJsZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgMTErLCBFZGdlIDE1IC0gMTgrXG4gICAgICAgICAgICAgICAgICAgIC8vIElFIDExL0VkZ2UgZG9uJ3QgZmluZCBlbGVtZW50cyBvbiBhIGBbbmFtZT0nJ11gIHF1ZXJ5IGluIHNvbWUgY2FzZXMuXG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZGluZyBhIHRlbXBvcmFyeSBhdHRyaWJ1dGUgdG8gdGhlIGRvY3VtZW50IGJlZm9yZSB0aGUgc2VsZWN0aW9uIHdvcmtzXG4gICAgICAgICAgICAgICAgICAgIC8vIGFyb3VuZCB0aGUgaXNzdWUuXG4gICAgICAgICAgICAgICAgICAgIC8vIEludGVyZXN0aW5nbHksIElFIDEwICYgb2xkZXIgZG9uJ3Qgc2VlbSB0byBoYXZlIHRoZSBpc3N1ZS5cbiAgICAgICAgICAgICAgICAgICAgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZShcIm5hbWVcIiwgXCJcIik7XG4gICAgICAgICAgICAgICAgICAgIGVsLmFwcGVuZENoaWxkKGlucHV0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlbC5xdWVyeVNlbGVjdG9yQWxsKFwiW25hbWU9JyddXCIpLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmJ1Z2d5UVNBLnB1c2goXCJcXFxcW1wiICsgd2hpdGVzcGFjZSArIFwiKm5hbWVcIiArIHdoaXRlc3BhY2UgKyBcIio9XCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaXRlc3BhY2UgKyBcIiooPzonJ3xcXFwiXFxcIilcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoIXN1cHBvcnQuY3NzSGFzKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IENocm9tZSAxMDUgLSAxMTArLCBTYWZhcmkgMTUuNCAtIDE2LjMrXG4gICAgICAgICAgICAgICAgICAgIC8vIE91ciByZWd1bGFyIGB0cnktY2F0Y2hgIG1lY2hhbmlzbSBmYWlscyB0byBkZXRlY3QgbmF0aXZlbHktdW5zdXBwb3J0ZWRcbiAgICAgICAgICAgICAgICAgICAgLy8gcHNldWRvLWNsYXNzZXMgaW5zaWRlIGA6aGFzKClgIChzdWNoIGFzIGA6aGFzKDpjb250YWlucyhcIkZvb1wiKSlgKVxuICAgICAgICAgICAgICAgICAgICAvLyBpbiBicm93c2VycyB0aGF0IHBhcnNlIHRoZSBgOmhhcygpYCBhcmd1bWVudCBhcyBhIGZvcmdpdmluZyBzZWxlY3RvciBsaXN0LlxuICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvc2VsZWN0b3JzLyNyZWxhdGlvbmFsIG5vdyByZXF1aXJlcyB0aGUgYXJndW1lbnRcbiAgICAgICAgICAgICAgICAgICAgLy8gdG8gYmUgcGFyc2VkIHVuZm9yZ2l2aW5nbHksIGJ1dCBicm93c2VycyBoYXZlIG5vdCB5ZXQgZnVsbHkgYWRqdXN0ZWQuXG4gICAgICAgICAgICAgICAgICAgIHJidWdneVFTQS5wdXNoKFwiOmhhc1wiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmJ1Z2d5UVNBID0gcmJ1Z2d5UVNBLmxlbmd0aCAmJiBuZXcgUmVnRXhwKHJidWdneVFTQS5qb2luKFwifFwiKSk7XG4gICAgICAgICAgICAgICAgLyogU29ydGluZ1xuICAgICAgICAgICAgICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbiAgICAgICAgICAgICAgICAvLyBEb2N1bWVudCBvcmRlciBzb3J0aW5nXG4gICAgICAgICAgICAgICAgc29ydE9yZGVyID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRmxhZyBmb3IgZHVwbGljYXRlIHJlbW92YWxcbiAgICAgICAgICAgICAgICAgICAgaWYgKGEgPT09IGIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc0R1cGxpY2F0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBTb3J0IG9uIG1ldGhvZCBleGlzdGVuY2UgaWYgb25seSBvbmUgaW5wdXQgaGFzIGNvbXBhcmVEb2N1bWVudFBvc2l0aW9uXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb21wYXJlID0gIWEuY29tcGFyZURvY3VtZW50UG9zaXRpb24gLSAhYi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBhcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb21wYXJlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBwb3NpdGlvbiBpZiBib3RoIGlucHV0cyBiZWxvbmcgdG8gdGhlIHNhbWUgZG9jdW1lbnRcbiAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgMTErLCBFZGdlIDE3IC0gMTgrXG4gICAgICAgICAgICAgICAgICAgIC8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgXCJQZXJtaXNzaW9uIGRlbmllZFwiIGVycm9yIHdoZW4gc3RyaWN0LWNvbXBhcmluZ1xuICAgICAgICAgICAgICAgICAgICAvLyB0d28gZG9jdW1lbnRzOyBzaGFsbG93IGNvbXBhcmlzb25zIHdvcmsuXG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcbiAgICAgICAgICAgICAgICAgICAgY29tcGFyZSA9IChhLm93bmVyRG9jdW1lbnQgfHwgYSkgPT0gKGIub3duZXJEb2N1bWVudCB8fCBiKSA/XG4gICAgICAgICAgICAgICAgICAgICAgICBhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGIpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSB3ZSBrbm93IHRoZXkgYXJlIGRpc2Nvbm5lY3RlZFxuICAgICAgICAgICAgICAgICAgICAgICAgMTtcbiAgICAgICAgICAgICAgICAgICAgLy8gRGlzY29ubmVjdGVkIG5vZGVzXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb21wYXJlICYgMSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgKCFzdXBwb3J0LnNvcnREZXRhY2hlZCAmJiBiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGEpID09PSBjb21wYXJlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hvb3NlIHRoZSBmaXJzdCBlbGVtZW50IHRoYXQgaXMgcmVsYXRlZCB0byBvdXIgcHJlZmVycmVkIGRvY3VtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSAxMSssIEVkZ2UgMTcgLSAxOCtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgXCJQZXJtaXNzaW9uIGRlbmllZFwiIGVycm9yIHdoZW4gc3RyaWN0LWNvbXBhcmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHdvIGRvY3VtZW50czsgc2hhbGxvdyBjb21wYXJpc29ucyB3b3JrLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGEgPT09IGRvY3VtZW50IHx8IGEub3duZXJEb2N1bWVudCA9PSBwcmVmZXJyZWREb2MgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5kLmNvbnRhaW5zKHByZWZlcnJlZERvYywgYSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSAxMSssIEVkZ2UgMTcgLSAxOCtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgXCJQZXJtaXNzaW9uIGRlbmllZFwiIGVycm9yIHdoZW4gc3RyaWN0LWNvbXBhcmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHdvIGRvY3VtZW50czsgc2hhbGxvdyBjb21wYXJpc29ucyB3b3JrLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGIgPT09IGRvY3VtZW50IHx8IGIub3duZXJEb2N1bWVudCA9PSBwcmVmZXJyZWREb2MgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5kLmNvbnRhaW5zKHByZWZlcnJlZERvYywgYikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1haW50YWluIG9yaWdpbmFsIG9yZGVyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc29ydElucHV0ID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoaW5kZXhPZi5jYWxsKHNvcnRJbnB1dCwgYSkgLSBpbmRleE9mLmNhbGwoc29ydElucHV0LCBiKSkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBhcmUgJiA0ID8gLTEgOiAxO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluZC5tYXRjaGVzID0gZnVuY3Rpb24gKGV4cHIsIGVsZW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpbmQoZXhwciwgbnVsbCwgbnVsbCwgZWxlbWVudHMpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGZpbmQubWF0Y2hlc1NlbGVjdG9yID0gZnVuY3Rpb24gKGVsZW0sIGV4cHIpIHtcbiAgICAgICAgICAgICAgICBzZXREb2N1bWVudChlbGVtKTtcbiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnRJc0hUTUwgJiZcbiAgICAgICAgICAgICAgICAgICAgIW5vbm5hdGl2ZVNlbGVjdG9yQ2FjaGVbZXhwciArIFwiIFwiXSAmJlxuICAgICAgICAgICAgICAgICAgICAoIXJidWdneVFTQSB8fCAhcmJ1Z2d5UVNBLnRlc3QoZXhwcikpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmV0ID0gbWF0Y2hlcy5jYWxsKGVsZW0sIGV4cHIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSUUgOSdzIG1hdGNoZXNTZWxlY3RvciByZXR1cm5zIGZhbHNlIG9uIGRpc2Nvbm5lY3RlZCBub2Rlc1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJldCB8fCBzdXBwb3J0LmRpc2Nvbm5lY3RlZE1hdGNoIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXMgd2VsbCwgZGlzY29ubmVjdGVkIG5vZGVzIGFyZSBzYWlkIHRvIGJlIGluIGEgZG9jdW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmcmFnbWVudCBpbiBJRSA5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5kb2N1bWVudCAmJiBlbGVtLmRvY3VtZW50Lm5vZGVUeXBlICE9PSAxMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vbm5hdGl2ZVNlbGVjdG9yQ2FjaGUoZXhwciwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpbmQoZXhwciwgZG9jdW1lbnQsIG51bGwsIFtlbGVtXSkubGVuZ3RoID4gMDtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBmaW5kLmNvbnRhaW5zID0gZnVuY3Rpb24gKGNvbnRleHQsIGVsZW0pIHtcbiAgICAgICAgICAgICAgICAvLyBTZXQgZG9jdW1lbnQgdmFycyBpZiBuZWVkZWRcbiAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSAxMSssIEVkZ2UgMTcgLSAxOCtcbiAgICAgICAgICAgICAgICAvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhIFwiUGVybWlzc2lvbiBkZW5pZWRcIiBlcnJvciB3aGVuIHN0cmljdC1jb21wYXJpbmdcbiAgICAgICAgICAgICAgICAvLyB0d28gZG9jdW1lbnRzOyBzaGFsbG93IGNvbXBhcmlzb25zIHdvcmsuXG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuICAgICAgICAgICAgICAgIGlmICgoY29udGV4dC5vd25lckRvY3VtZW50IHx8IGNvbnRleHQpICE9IGRvY3VtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHNldERvY3VtZW50KGNvbnRleHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4galF1ZXJ5LmNvbnRhaW5zKGNvbnRleHQsIGVsZW0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGZpbmQuYXR0ciA9IGZ1bmN0aW9uIChlbGVtLCBuYW1lKSB7XG4gICAgICAgICAgICAgICAgLy8gU2V0IGRvY3VtZW50IHZhcnMgaWYgbmVlZGVkXG4gICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgMTErLCBFZGdlIDE3IC0gMTgrXG4gICAgICAgICAgICAgICAgLy8gSUUvRWRnZSBzb21ldGltZXMgdGhyb3cgYSBcIlBlcm1pc3Npb24gZGVuaWVkXCIgZXJyb3Igd2hlbiBzdHJpY3QtY29tcGFyaW5nXG4gICAgICAgICAgICAgICAgLy8gdHdvIGRvY3VtZW50czsgc2hhbGxvdyBjb21wYXJpc29ucyB3b3JrLlxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcbiAgICAgICAgICAgICAgICBpZiAoKGVsZW0ub3duZXJEb2N1bWVudCB8fCBlbGVtKSAhPSBkb2N1bWVudCkge1xuICAgICAgICAgICAgICAgICAgICBzZXREb2N1bWVudChlbGVtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGZuID0gRXhwci5hdHRySGFuZGxlW25hbWUudG9Mb3dlckNhc2UoKV0sIFxuICAgICAgICAgICAgICAgIC8vIERvbid0IGdldCBmb29sZWQgYnkgT2JqZWN0LnByb3RvdHlwZSBwcm9wZXJ0aWVzIChzZWUgdHJhYy0xMzgwNylcbiAgICAgICAgICAgICAgICB2YWwgPSBmbiAmJiBoYXNPd24uY2FsbChFeHByLmF0dHJIYW5kbGUsIG5hbWUudG9Mb3dlckNhc2UoKSkgP1xuICAgICAgICAgICAgICAgICAgICBmbihlbGVtLCBuYW1lLCAhZG9jdW1lbnRJc0hUTUwpIDpcbiAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGlmICh2YWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUobmFtZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZmluZC5lcnJvciA9IGZ1bmN0aW9uIChtc2cpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTeW50YXggZXJyb3IsIHVucmVjb2duaXplZCBleHByZXNzaW9uOiBcIiArIG1zZyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBEb2N1bWVudCBzb3J0aW5nIGFuZCByZW1vdmluZyBkdXBsaWNhdGVzXG4gICAgICAgICAgICAgKiBAcGFyYW0ge0FycmF5TGlrZX0gcmVzdWx0c1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBqUXVlcnkudW5pcXVlU29ydCA9IGZ1bmN0aW9uIChyZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVsZW0sIGR1cGxpY2F0ZXMgPSBbXSwgaiA9IDAsIGkgPSAwO1xuICAgICAgICAgICAgICAgIC8vIFVubGVzcyB3ZSAqa25vdyogd2UgY2FuIGRldGVjdCBkdXBsaWNhdGVzLCBhc3N1bWUgdGhlaXIgcHJlc2VuY2VcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjArXG4gICAgICAgICAgICAgICAgLy8gVGVzdGluZyBmb3IgZGV0ZWN0aW5nIGR1cGxpY2F0ZXMgaXMgdW5wcmVkaWN0YWJsZSBzbyBpbnN0ZWFkIGFzc3VtZSB3ZSBjYW4ndFxuICAgICAgICAgICAgICAgIC8vIGRlcGVuZCBvbiBkdXBsaWNhdGUgZGV0ZWN0aW9uIGluIGFsbCBicm93c2VycyB3aXRob3V0IGEgc3RhYmxlIHNvcnQuXG4gICAgICAgICAgICAgICAgaGFzRHVwbGljYXRlID0gIXN1cHBvcnQuc29ydFN0YWJsZTtcbiAgICAgICAgICAgICAgICBzb3J0SW5wdXQgPSAhc3VwcG9ydC5zb3J0U3RhYmxlICYmIHNsaWNlLmNhbGwocmVzdWx0cywgMCk7XG4gICAgICAgICAgICAgICAgc29ydC5jYWxsKHJlc3VsdHMsIHNvcnRPcmRlcik7XG4gICAgICAgICAgICAgICAgaWYgKGhhc0R1cGxpY2F0ZSkge1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKGVsZW0gPSByZXN1bHRzW2krK10pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbSA9PT0gcmVzdWx0c1tpXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGogPSBkdXBsaWNhdGVzLnB1c2goaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGotLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3BsaWNlLmNhbGwocmVzdWx0cywgZHVwbGljYXRlc1tqXSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQ2xlYXIgaW5wdXQgYWZ0ZXIgc29ydGluZyB0byByZWxlYXNlIG9iamVjdHNcbiAgICAgICAgICAgICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9zaXp6bGUvcHVsbC8yMjVcbiAgICAgICAgICAgICAgICBzb3J0SW5wdXQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGpRdWVyeS5mbi51bmlxdWVTb3J0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnB1c2hTdGFjayhqUXVlcnkudW5pcXVlU29ydChzbGljZS5hcHBseSh0aGlzKSkpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIEV4cHIgPSBqUXVlcnkuZXhwciA9IHtcbiAgICAgICAgICAgICAgICAvLyBDYW4gYmUgYWRqdXN0ZWQgYnkgdGhlIHVzZXJcbiAgICAgICAgICAgICAgICBjYWNoZUxlbmd0aDogNTAsXG4gICAgICAgICAgICAgICAgY3JlYXRlUHNldWRvOiBtYXJrRnVuY3Rpb24sXG4gICAgICAgICAgICAgICAgbWF0Y2g6IG1hdGNoRXhwcixcbiAgICAgICAgICAgICAgICBhdHRySGFuZGxlOiB7fSxcbiAgICAgICAgICAgICAgICBmaW5kOiB7fSxcbiAgICAgICAgICAgICAgICByZWxhdGl2ZToge1xuICAgICAgICAgICAgICAgICAgICBcIj5cIjogeyBkaXI6IFwicGFyZW50Tm9kZVwiLCBmaXJzdDogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICBcIiBcIjogeyBkaXI6IFwicGFyZW50Tm9kZVwiIH0sXG4gICAgICAgICAgICAgICAgICAgIFwiK1wiOiB7IGRpcjogXCJwcmV2aW91c1NpYmxpbmdcIiwgZmlyc3Q6IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgXCJ+XCI6IHsgZGlyOiBcInByZXZpb3VzU2libGluZ1wiIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHByZUZpbHRlcjoge1xuICAgICAgICAgICAgICAgICAgICBBVFRSOiBmdW5jdGlvbiAobWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzFdID0gbWF0Y2hbMV0ucmVwbGFjZShydW5lc2NhcGUsIGZ1bmVzY2FwZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBNb3ZlIHRoZSBnaXZlbiB2YWx1ZSB0byBtYXRjaFszXSB3aGV0aGVyIHF1b3RlZCBvciB1bnF1b3RlZFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hbM10gPSAobWF0Y2hbM10gfHwgbWF0Y2hbNF0gfHwgbWF0Y2hbNV0gfHwgXCJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZShydW5lc2NhcGUsIGZ1bmVzY2FwZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hbMl0gPT09IFwifj1cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzNdID0gXCIgXCIgKyBtYXRjaFszXSArIFwiIFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoLnNsaWNlKDAsIDQpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBDSElMRDogZnVuY3Rpb24gKG1hdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBtYXRjaGVzIGZyb20gbWF0Y2hFeHByW1wiQ0hJTERcIl1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAxIHR5cGUgKG9ubHl8bnRofC4uLilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAyIHdoYXQgKGNoaWxkfG9mLXR5cGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMyBhcmd1bWVudCAoZXZlbnxvZGR8XFxkKnxcXGQqbihbKy1dXFxkKyk/fC4uLilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA0IHhuLWNvbXBvbmVudCBvZiB4bit5IGFyZ3VtZW50IChbKy1dP1xcZCpufClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA1IHNpZ24gb2YgeG4tY29tcG9uZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgNiB4IG9mIHhuLWNvbXBvbmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDcgc2lnbiBvZiB5LWNvbXBvbmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDggeSBvZiB5LWNvbXBvbmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzFdID0gbWF0Y2hbMV0udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaFsxXS5zbGljZSgwLCAzKSA9PT0gXCJudGhcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG50aC0qIHJlcXVpcmVzIGFyZ3VtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFtYXRjaFszXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5kLmVycm9yKG1hdGNoWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbnVtZXJpYyB4IGFuZCB5IHBhcmFtZXRlcnMgZm9yIEV4cHIuZmlsdGVyLkNISUxEXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVtZW1iZXIgdGhhdCBmYWxzZS90cnVlIGNhc3QgcmVzcGVjdGl2ZWx5IHRvIDAvMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzRdID0gKyhtYXRjaFs0XSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzVdICsgKG1hdGNoWzZdIHx8IDEpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMiAqIChtYXRjaFszXSA9PT0gXCJldmVuXCIgfHwgbWF0Y2hbM10gPT09IFwib2RkXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFs1XSA9ICsoKG1hdGNoWzddICsgbWF0Y2hbOF0pIHx8IG1hdGNoWzNdID09PSBcIm9kZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvdGhlciB0eXBlcyBwcm9oaWJpdCBhcmd1bWVudHNcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG1hdGNoWzNdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluZC5lcnJvcihtYXRjaFswXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFBTRVVETzogZnVuY3Rpb24gKG1hdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXhjZXNzLCB1bnF1b3RlZCA9ICFtYXRjaFs2XSAmJiBtYXRjaFsyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaEV4cHIuQ0hJTEQudGVzdChtYXRjaFswXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFjY2VwdCBxdW90ZWQgYXJndW1lbnRzIGFzLWlzXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hbM10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsyXSA9IG1hdGNoWzRdIHx8IG1hdGNoWzVdIHx8IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RyaXAgZXhjZXNzIGNoYXJhY3RlcnMgZnJvbSB1bnF1b3RlZCBhcmd1bWVudHNcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHVucXVvdGVkICYmIHJwc2V1ZG8udGVzdCh1bnF1b3RlZCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBHZXQgZXhjZXNzIGZyb20gdG9rZW5pemUgKHJlY3Vyc2l2ZWx5KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChleGNlc3MgPSB0b2tlbml6ZSh1bnF1b3RlZCwgdHJ1ZSkpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWR2YW5jZSB0byB0aGUgbmV4dCBjbG9zaW5nIHBhcmVudGhlc2lzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGV4Y2VzcyA9IHVucXVvdGVkLmluZGV4T2YoXCIpXCIsIHVucXVvdGVkLmxlbmd0aCAtIGV4Y2VzcykgLSB1bnF1b3RlZC5sZW5ndGgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXhjZXNzIGlzIGEgbmVnYXRpdmUgaW5kZXhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFswXSA9IG1hdGNoWzBdLnNsaWNlKDAsIGV4Y2Vzcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hbMl0gPSB1bnF1b3RlZC5zbGljZSgwLCBleGNlc3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmV0dXJuIG9ubHkgY2FwdHVyZXMgbmVlZGVkIGJ5IHRoZSBwc2V1ZG8gZmlsdGVyIG1ldGhvZCAodHlwZSBhbmQgYXJndW1lbnQpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2guc2xpY2UoMCwgMyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZpbHRlcjoge1xuICAgICAgICAgICAgICAgICAgICBUQUc6IGZ1bmN0aW9uIChub2RlTmFtZVNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXhwZWN0ZWROb2RlTmFtZSA9IG5vZGVOYW1lU2VsZWN0b3IucmVwbGFjZShydW5lc2NhcGUsIGZ1bmVzY2FwZSkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBub2RlTmFtZVNlbGVjdG9yID09PSBcIipcIiA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm9kZU5hbWUoZWxlbSwgZXhwZWN0ZWROb2RlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgQ0xBU1M6IGZ1bmN0aW9uIChjbGFzc05hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXR0ZXJuID0gY2xhc3NDYWNoZVtjbGFzc05hbWUgKyBcIiBcIl07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGF0dGVybiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwYXR0ZXJuID0gbmV3IFJlZ0V4cChcIihefFwiICsgd2hpdGVzcGFjZSArIFwiKVwiICsgY2xhc3NOYW1lICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIoXCIgKyB3aGl0ZXNwYWNlICsgXCJ8JClcIikpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzQ2FjaGUoY2xhc3NOYW1lLCBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhdHRlcm4udGVzdCh0eXBlb2YgZWxlbS5jbGFzc05hbWUgPT09IFwic3RyaW5nXCIgJiYgZWxlbS5jbGFzc05hbWUgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgZWxlbS5nZXRBdHRyaWJ1dGUgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgQVRUUjogZnVuY3Rpb24gKG5hbWUsIG9wZXJhdG9yLCBjaGVjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGZpbmQuYXR0cihlbGVtLCBuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9wZXJhdG9yID09PSBcIiE9XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghb3BlcmF0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcGVyYXRvciA9PT0gXCI9XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gY2hlY2s7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcGVyYXRvciA9PT0gXCIhPVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQgIT09IGNoZWNrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3BlcmF0b3IgPT09IFwiXj1cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2hlY2sgJiYgcmVzdWx0LmluZGV4T2YoY2hlY2spID09PSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3BlcmF0b3IgPT09IFwiKj1cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2hlY2sgJiYgcmVzdWx0LmluZGV4T2YoY2hlY2spID4gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcGVyYXRvciA9PT0gXCIkPVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGVjayAmJiByZXN1bHQuc2xpY2UoLWNoZWNrLmxlbmd0aCkgPT09IGNoZWNrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3BlcmF0b3IgPT09IFwifj1cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFwiIFwiICsgcmVzdWx0LnJlcGxhY2UocndoaXRlc3BhY2UsIFwiIFwiKSArIFwiIFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoY2hlY2spID4gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcGVyYXRvciA9PT0gXCJ8PVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQgPT09IGNoZWNrIHx8IHJlc3VsdC5zbGljZSgwLCBjaGVjay5sZW5ndGggKyAxKSA9PT0gY2hlY2sgKyBcIi1cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgQ0hJTEQ6IGZ1bmN0aW9uICh0eXBlLCB3aGF0LCBfYXJndW1lbnQsIGZpcnN0LCBsYXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2ltcGxlID0gdHlwZS5zbGljZSgwLCAzKSAhPT0gXCJudGhcIiwgZm9yd2FyZCA9IHR5cGUuc2xpY2UoLTQpICE9PSBcImxhc3RcIiwgb2ZUeXBlID0gd2hhdCA9PT0gXCJvZi10eXBlXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmlyc3QgPT09IDEgJiYgbGFzdCA9PT0gMCA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2hvcnRjdXQgZm9yIDpudGgtKihuKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhIWVsZW0ucGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZWxlbSwgX2NvbnRleHQsIHhtbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2FjaGUsIG91dGVyQ2FjaGUsIG5vZGUsIG5vZGVJbmRleCwgc3RhcnQsIGRpciA9IHNpbXBsZSAhPT0gZm9yd2FyZCA/IFwibmV4dFNpYmxpbmdcIiA6IFwicHJldmlvdXNTaWJsaW5nXCIsIHBhcmVudCA9IGVsZW0ucGFyZW50Tm9kZSwgbmFtZSA9IG9mVHlwZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksIHVzZUNhY2hlID0gIXhtbCAmJiAhb2ZUeXBlLCBkaWZmID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDooZmlyc3R8bGFzdHxvbmx5KS0oY2hpbGR8b2YtdHlwZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaW1wbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoZGlyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSBlbGVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKG5vZGUgPSBub2RlW2Rpcl0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2ZUeXBlID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlTmFtZShub2RlLCBuYW1lKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXZlcnNlIGRpcmVjdGlvbiBmb3IgOm9ubHktKiAoaWYgd2UgaGF2ZW4ndCB5ZXQgZG9uZSBzbylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBkaXIgPSB0eXBlID09PSBcIm9ubHlcIiAmJiAhc3RhcnQgJiYgXCJuZXh0U2libGluZ1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gW2ZvcndhcmQgPyBwYXJlbnQuZmlyc3RDaGlsZCA6IHBhcmVudC5sYXN0Q2hpbGRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm9uLXhtbCA6bnRoLWNoaWxkKC4uLikgc3RvcmVzIGNhY2hlIGRhdGEgb24gYHBhcmVudGBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb3J3YXJkICYmIHVzZUNhY2hlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2VlayBgZWxlbWAgZnJvbSBhIHByZXZpb3VzbHktY2FjaGVkIGluZGV4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0ZXJDYWNoZSA9IHBhcmVudFtleHBhbmRvXSB8fCAocGFyZW50W2V4cGFuZG9dID0ge30pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlID0gb3V0ZXJDYWNoZVt0eXBlXSB8fCBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlSW5kZXggPSBjYWNoZVswXSA9PT0gZGlycnVucyAmJiBjYWNoZVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWZmID0gbm9kZUluZGV4ICYmIGNhY2hlWzJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlSW5kZXggJiYgcGFyZW50LmNoaWxkTm9kZXNbbm9kZUluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKG5vZGUgPSArK25vZGVJbmRleCAmJiBub2RlICYmIG5vZGVbZGlyXSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGYWxsYmFjayB0byBzZWVraW5nIGBlbGVtYCBmcm9tIHRoZSBzdGFydFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZGlmZiA9IG5vZGVJbmRleCA9IDApIHx8IHN0YXJ0LnBvcCgpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXaGVuIGZvdW5kLCBjYWNoZSBpbmRleGVzIG9uIGBwYXJlbnRgIGFuZCBicmVha1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gMSAmJiArK2RpZmYgJiYgbm9kZSA9PT0gZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0ZXJDYWNoZVt0eXBlXSA9IFtkaXJydW5zLCBub2RlSW5kZXgsIGRpZmZdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVc2UgcHJldmlvdXNseS1jYWNoZWQgZWxlbWVudCBpbmRleCBpZiBhdmFpbGFibGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodXNlQ2FjaGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0ZXJDYWNoZSA9IGVsZW1bZXhwYW5kb10gfHwgKGVsZW1bZXhwYW5kb10gPSB7fSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlID0gb3V0ZXJDYWNoZVt0eXBlXSB8fCBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZUluZGV4ID0gY2FjaGVbMF0gPT09IGRpcnJ1bnMgJiYgY2FjaGVbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpZmYgPSBub2RlSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHhtbCA6bnRoLWNoaWxkKC4uLilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvciA6bnRoLWxhc3QtY2hpbGQoLi4uKSBvciA6bnRoKC1sYXN0KT8tb2YtdHlwZSguLi4pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRpZmYgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVzZSB0aGUgc2FtZSBsb29wIGFzIGFib3ZlIHRvIHNlZWsgYGVsZW1gIGZyb20gdGhlIHN0YXJ0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgobm9kZSA9ICsrbm9kZUluZGV4ICYmIG5vZGUgJiYgbm9kZVtkaXJdIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZGlmZiA9IG5vZGVJbmRleCA9IDApIHx8IHN0YXJ0LnBvcCgpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChvZlR5cGUgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVOYW1lKG5vZGUsIG5hbWUpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLm5vZGVUeXBlID09PSAxKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsrZGlmZikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENhY2hlIHRoZSBpbmRleCBvZiBlYWNoIGVuY291bnRlcmVkIGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodXNlQ2FjaGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0ZXJDYWNoZSA9IG5vZGVbZXhwYW5kb10gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChub2RlW2V4cGFuZG9dID0ge30pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRlckNhY2hlW3R5cGVdID0gW2RpcnJ1bnMsIGRpZmZdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZSA9PT0gZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJbmNvcnBvcmF0ZSB0aGUgb2Zmc2V0LCB0aGVuIGNoZWNrIGFnYWluc3QgY3ljbGUgc2l6ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlmZiAtPSBsYXN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRpZmYgPT09IGZpcnN0IHx8IChkaWZmICUgZmlyc3QgPT09IDAgJiYgZGlmZiAvIGZpcnN0ID49IDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgUFNFVURPOiBmdW5jdGlvbiAocHNldWRvLCBhcmd1bWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHNldWRvLWNsYXNzIG5hbWVzIGFyZSBjYXNlLWluc2Vuc2l0aXZlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLyNwc2V1ZG8tY2xhc3Nlc1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUHJpb3JpdGl6ZSBieSBjYXNlIHNlbnNpdGl2aXR5IGluIGNhc2UgY3VzdG9tIHBzZXVkb3MgYXJlIGFkZGVkIHdpdGggdXBwZXJjYXNlIGxldHRlcnNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbWVtYmVyIHRoYXQgc2V0RmlsdGVycyBpbmhlcml0cyBmcm9tIHBzZXVkb3NcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhcmdzLCBmbiA9IEV4cHIucHNldWRvc1twc2V1ZG9dIHx8IEV4cHIuc2V0RmlsdGVyc1twc2V1ZG8udG9Mb3dlckNhc2UoKV0gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5kLmVycm9yKFwidW5zdXBwb3J0ZWQgcHNldWRvOiBcIiArIHBzZXVkbyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgdXNlciBtYXkgdXNlIGNyZWF0ZVBzZXVkbyB0byBpbmRpY2F0ZSB0aGF0XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhcmd1bWVudHMgYXJlIG5lZWRlZCB0byBjcmVhdGUgdGhlIGZpbHRlciBmdW5jdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8ganVzdCBhcyBqUXVlcnkgZG9lc1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZuW2V4cGFuZG9dKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZuKGFyZ3VtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJ1dCBtYWludGFpbiBzdXBwb3J0IGZvciBvbGQgc2lnbmF0dXJlc1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZuLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzID0gW3BzZXVkbywgcHNldWRvLCBcIlwiLCBhcmd1bWVudF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEV4cHIuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eShwc2V1ZG8udG9Mb3dlckNhc2UoKSkgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJrRnVuY3Rpb24oZnVuY3Rpb24gKHNlZWQsIG1hdGNoZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZHgsIG1hdGNoZWQgPSBmbihzZWVkLCBhcmd1bWVudCksIGkgPSBtYXRjaGVkLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHggPSBpbmRleE9mLmNhbGwoc2VlZCwgbWF0Y2hlZFtpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VlZFtpZHhdID0gIShtYXRjaGVzW2lkeF0gPSBtYXRjaGVkW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZuKGVsZW0sIDAsIGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBwc2V1ZG9zOiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFBvdGVudGlhbGx5IGNvbXBsZXggcHNldWRvc1xuICAgICAgICAgICAgICAgICAgICBub3Q6IG1hcmtGdW5jdGlvbihmdW5jdGlvbiAoc2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRyaW0gdGhlIHNlbGVjdG9yIHBhc3NlZCB0byBjb21waWxlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0byBhdm9pZCB0cmVhdGluZyBsZWFkaW5nIGFuZCB0cmFpbGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3BhY2VzIGFzIGNvbWJpbmF0b3JzXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5wdXQgPSBbXSwgcmVzdWx0cyA9IFtdLCBtYXRjaGVyID0gY29tcGlsZShzZWxlY3Rvci5yZXBsYWNlKHJ0cmltQ1NTLCBcIiQxXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaGVyW2V4cGFuZG9dID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJrRnVuY3Rpb24oZnVuY3Rpb24gKHNlZWQsIG1hdGNoZXMsIF9jb250ZXh0LCB4bWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW0sIHVubWF0Y2hlZCA9IG1hdGNoZXIoc2VlZCwgbnVsbCwgeG1sLCBbXSksIGkgPSBzZWVkLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWF0Y2ggZWxlbWVudHMgdW5tYXRjaGVkIGJ5IGBtYXRjaGVyYFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGVsZW0gPSB1bm1hdGNoZWRbaV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VlZFtpXSA9ICEobWF0Y2hlc1tpXSA9IGVsZW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlbGVtLCBfY29udGV4dCwgeG1sKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0WzBdID0gZWxlbTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlcihpbnB1dCwgbnVsbCwgeG1sLCByZXN1bHRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRG9uJ3Qga2VlcCB0aGUgZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAoc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qcXVlcnkvc2l6emxlL2lzc3Vlcy8yOTkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0WzBdID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFyZXN1bHRzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBoYXM6IG1hcmtGdW5jdGlvbihmdW5jdGlvbiAoc2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmaW5kKHNlbGVjdG9yLCBlbGVtKS5sZW5ndGggPiAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5zOiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24gKHRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UocnVuZXNjYXBlLCBmdW5lc2NhcGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChlbGVtLnRleHRDb250ZW50IHx8IGpRdWVyeS50ZXh0KGVsZW0pKS5pbmRleE9mKHRleHQpID4gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgLy8gXCJXaGV0aGVyIGFuIGVsZW1lbnQgaXMgcmVwcmVzZW50ZWQgYnkgYSA6bGFuZygpIHNlbGVjdG9yXG4gICAgICAgICAgICAgICAgICAgIC8vIGlzIGJhc2VkIHNvbGVseSBvbiB0aGUgZWxlbWVudCdzIGxhbmd1YWdlIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgIC8vIGJlaW5nIGVxdWFsIHRvIHRoZSBpZGVudGlmaWVyIEMsXG4gICAgICAgICAgICAgICAgICAgIC8vIG9yIGJlZ2lubmluZyB3aXRoIHRoZSBpZGVudGlmaWVyIEMgaW1tZWRpYXRlbHkgZm9sbG93ZWQgYnkgXCItXCIuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBtYXRjaGluZyBvZiBDIGFnYWluc3QgdGhlIGVsZW1lbnQncyBsYW5ndWFnZSB2YWx1ZSBpcyBwZXJmb3JtZWQgY2FzZS1pbnNlbnNpdGl2ZWx5LlxuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgaWRlbnRpZmllciBDIGRvZXMgbm90IGhhdmUgdG8gYmUgYSB2YWxpZCBsYW5ndWFnZSBuYW1lLlwiXG4gICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI2xhbmctcHNldWRvXG4gICAgICAgICAgICAgICAgICAgIGxhbmc6IG1hcmtGdW5jdGlvbihmdW5jdGlvbiAobGFuZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGFuZyB2YWx1ZSBtdXN0IGJlIGEgdmFsaWQgaWRlbnRpZmllclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyaWRlbnRpZmllci50ZXN0KGxhbmcgfHwgXCJcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5kLmVycm9yKFwidW5zdXBwb3J0ZWQgbGFuZzogXCIgKyBsYW5nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGxhbmcgPSBsYW5nLnJlcGxhY2UocnVuZXNjYXBlLCBmdW5lc2NhcGUpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbUxhbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGVsZW1MYW5nID0gZG9jdW1lbnRJc0hUTUwgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5sYW5nIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0uZ2V0QXR0cmlidXRlKFwieG1sOmxhbmdcIikgfHwgZWxlbS5nZXRBdHRyaWJ1dGUoXCJsYW5nXCIpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbUxhbmcgPSBlbGVtTGFuZy50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1MYW5nID09PSBsYW5nIHx8IGVsZW1MYW5nLmluZGV4T2YobGFuZyArIFwiLVwiKSA9PT0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKChlbGVtID0gZWxlbS5wYXJlbnROb2RlKSAmJiBlbGVtLm5vZGVUeXBlID09PSAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgLy8gTWlzY2VsbGFuZW91c1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaGFzaCA9IHdpbmRvdy5sb2NhdGlvbiAmJiB3aW5kb3cubG9jYXRpb24uaGFzaDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBoYXNoICYmIGhhc2guc2xpY2UoMSkgPT09IGVsZW0uaWQ7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHJvb3Q6IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbSA9PT0gZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBmb2N1czogZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtID09PSBzYWZlQWN0aXZlRWxlbWVudCgpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuaGFzRm9jdXMoKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICEhKGVsZW0udHlwZSB8fCBlbGVtLmhyZWYgfHwgfmVsZW0udGFiSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAvLyBCb29sZWFuIHByb3BlcnRpZXNcbiAgICAgICAgICAgICAgICAgICAgZW5hYmxlZDogY3JlYXRlRGlzYWJsZWRQc2V1ZG8oZmFsc2UpLFxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZDogY3JlYXRlRGlzYWJsZWRQc2V1ZG8odHJ1ZSksXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ6IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJbiBDU1MzLCA6Y2hlY2tlZCBzaG91bGQgcmV0dXJuIGJvdGggY2hlY2tlZCBhbmQgc2VsZWN0ZWQgZWxlbWVudHNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDExL1JFQy1jc3MzLXNlbGVjdG9ycy0yMDExMDkyOS8jY2hlY2tlZFxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChub2RlTmFtZShlbGVtLCBcImlucHV0XCIpICYmICEhZWxlbS5jaGVja2VkKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChub2RlTmFtZShlbGVtLCBcIm9wdGlvblwiKSAmJiAhIWVsZW0uc2VsZWN0ZWQpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZDogZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDw9MTErXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBY2Nlc3NpbmcgdGhlIHNlbGVjdGVkSW5kZXggcHJvcGVydHlcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZvcmNlcyB0aGUgYnJvd3NlciB0byB0cmVhdCB0aGUgZGVmYXVsdCBvcHRpb24gYXNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNlbGVjdGVkIHdoZW4gaW4gYW4gb3B0Z3JvdXAuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC1leHByZXNzaW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0ucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZW0uc2VsZWN0ZWQgPT09IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIC8vIENvbnRlbnRzXG4gICAgICAgICAgICAgICAgICAgIGVtcHR5OiBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly93d3cudzMub3JnL1RSL3NlbGVjdG9ycy8jZW1wdHktcHNldWRvXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyA6ZW1wdHkgaXMgbmVnYXRlZCBieSBlbGVtZW50ICgxKSBvciBjb250ZW50IG5vZGVzICh0ZXh0OiAzOyBjZGF0YTogNDsgZW50aXR5IHJlZjogNSksXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgIGJ1dCBub3QgYnkgb3RoZXJzIChjb21tZW50OiA4OyBwcm9jZXNzaW5nIGluc3RydWN0aW9uOiA3OyBldGMuKVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm9kZVR5cGUgPCA2IHdvcmtzIGJlY2F1c2UgYXR0cmlidXRlcyAoMikgZG8gbm90IGFwcGVhciBhcyBjaGlsZHJlblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChlbGVtID0gZWxlbS5maXJzdENoaWxkOyBlbGVtOyBlbGVtID0gZWxlbS5uZXh0U2libGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtLm5vZGVUeXBlIDwgNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhRXhwci5wc2V1ZG9zLmVtcHR5KGVsZW0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAvLyBFbGVtZW50L2lucHV0IHR5cGVzXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcjogZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByaGVhZGVyLnRlc3QoZWxlbS5ub2RlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGlucHV0OiBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJpbnB1dHMudGVzdChlbGVtLm5vZGVOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uOiBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vZGVOYW1lKGVsZW0sIFwiaW5wdXRcIikgJiYgZWxlbS50eXBlID09PSBcImJ1dHRvblwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZU5hbWUoZWxlbSwgXCJidXR0b25cIik7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXR0cjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBub2RlTmFtZShlbGVtLCBcImlucHV0XCIpICYmIGVsZW0udHlwZSA9PT0gXCJ0ZXh0XCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA8MTAgb25seVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5ldyBIVE1MNSBhdHRyaWJ1dGUgdmFsdWVzIChlLmcuLCBcInNlYXJjaFwiKSBhcHBlYXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3aXRoIGVsZW0udHlwZSA9PT0gXCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoKGF0dHIgPSBlbGVtLmdldEF0dHJpYnV0ZShcInR5cGVcIikpID09IG51bGwgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0ci50b0xvd2VyQ2FzZSgpID09PSBcInRleHRcIik7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIC8vIFBvc2l0aW9uLWluLWNvbGxlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgZmlyc3Q6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFswXTtcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIGxhc3Q6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24gKF9tYXRjaEluZGV4ZXMsIGxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtsZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIGVxOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uIChfbWF0Y2hJbmRleGVzLCBsZW5ndGgsIGFyZ3VtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2FyZ3VtZW50IDwgMCA/IGFyZ3VtZW50ICsgbGVuZ3RoIDogYXJndW1lbnRdO1xuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgZXZlbjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiAobWF0Y2hJbmRleGVzLCBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoOyBpIDwgbGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaEluZGV4ZXMucHVzaChpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaEluZGV4ZXM7XG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBvZGQ6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24gKG1hdGNoSW5kZXhlcywgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKDsgaSA8IGxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hJbmRleGVzLnB1c2goaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2hJbmRleGVzO1xuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgbHQ6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24gKG1hdGNoSW5kZXhlcywgbGVuZ3RoLCBhcmd1bWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJndW1lbnQgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGFyZ3VtZW50ICsgbGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoYXJndW1lbnQgPiBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gbGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGFyZ3VtZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICg7IC0taSA+PSAwOykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoSW5kZXhlcy5wdXNoKGkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoSW5kZXhlcztcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIGd0OiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uIChtYXRjaEluZGV4ZXMsIGxlbmd0aCwgYXJndW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpID0gYXJndW1lbnQgPCAwID8gYXJndW1lbnQgKyBsZW5ndGggOiBhcmd1bWVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoOyArK2kgPCBsZW5ndGg7KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hJbmRleGVzLnB1c2goaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2hJbmRleGVzO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBFeHByLnBzZXVkb3MubnRoID0gRXhwci5wc2V1ZG9zLmVxO1xuICAgICAgICAgICAgLy8gQWRkIGJ1dHRvbi9pbnB1dCB0eXBlIHBzZXVkb3NcbiAgICAgICAgICAgIGZvciAoaSBpbiB7IHJhZGlvOiB0cnVlLCBjaGVja2JveDogdHJ1ZSwgZmlsZTogdHJ1ZSwgcGFzc3dvcmQ6IHRydWUsIGltYWdlOiB0cnVlIH0pIHtcbiAgICAgICAgICAgICAgICBFeHByLnBzZXVkb3NbaV0gPSBjcmVhdGVJbnB1dFBzZXVkbyhpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoaSBpbiB7IHN1Ym1pdDogdHJ1ZSwgcmVzZXQ6IHRydWUgfSkge1xuICAgICAgICAgICAgICAgIEV4cHIucHNldWRvc1tpXSA9IGNyZWF0ZUJ1dHRvblBzZXVkbyhpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEVhc3kgQVBJIGZvciBjcmVhdGluZyBuZXcgc2V0RmlsdGVyc1xuICAgICAgICAgICAgZnVuY3Rpb24gc2V0RmlsdGVycygpIHsgfVxuICAgICAgICAgICAgc2V0RmlsdGVycy5wcm90b3R5cGUgPSBFeHByLmZpbHRlcnMgPSBFeHByLnBzZXVkb3M7XG4gICAgICAgICAgICBFeHByLnNldEZpbHRlcnMgPSBuZXcgc2V0RmlsdGVycygpO1xuICAgICAgICAgICAgZnVuY3Rpb24gdG9rZW5pemUoc2VsZWN0b3IsIHBhcnNlT25seSkge1xuICAgICAgICAgICAgICAgIHZhciBtYXRjaGVkLCBtYXRjaCwgdG9rZW5zLCB0eXBlLCBzb0ZhciwgZ3JvdXBzLCBwcmVGaWx0ZXJzLCBjYWNoZWQgPSB0b2tlbkNhY2hlW3NlbGVjdG9yICsgXCIgXCJdO1xuICAgICAgICAgICAgICAgIGlmIChjYWNoZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlT25seSA/IDAgOiBjYWNoZWQuc2xpY2UoMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNvRmFyID0gc2VsZWN0b3I7XG4gICAgICAgICAgICAgICAgZ3JvdXBzID0gW107XG4gICAgICAgICAgICAgICAgcHJlRmlsdGVycyA9IEV4cHIucHJlRmlsdGVyO1xuICAgICAgICAgICAgICAgIHdoaWxlIChzb0Zhcikge1xuICAgICAgICAgICAgICAgICAgICAvLyBDb21tYSBhbmQgZmlyc3QgcnVuXG4gICAgICAgICAgICAgICAgICAgIGlmICghbWF0Y2hlZCB8fCAobWF0Y2ggPSByY29tbWEuZXhlYyhzb0ZhcikpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEb24ndCBjb25zdW1lIHRyYWlsaW5nIGNvbW1hcyBhcyB2YWxpZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvRmFyID0gc29GYXIuc2xpY2UobWF0Y2hbMF0ubGVuZ3RoKSB8fCBzb0ZhcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3Vwcy5wdXNoKCh0b2tlbnMgPSBbXSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ29tYmluYXRvcnNcbiAgICAgICAgICAgICAgICAgICAgaWYgKChtYXRjaCA9IHJsZWFkaW5nQ29tYmluYXRvci5leGVjKHNvRmFyKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZWQgPSBtYXRjaC5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBtYXRjaGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENhc3QgZGVzY2VuZGFudCBjb21iaW5hdG9ycyB0byBzcGFjZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IG1hdGNoWzBdLnJlcGxhY2UocnRyaW1DU1MsIFwiIFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzb0ZhciA9IHNvRmFyLnNsaWNlKG1hdGNoZWQubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBGaWx0ZXJzXG4gICAgICAgICAgICAgICAgICAgIGZvciAodHlwZSBpbiBFeHByLmZpbHRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChtYXRjaCA9IG1hdGNoRXhwclt0eXBlXS5leGVjKHNvRmFyKSkgJiYgKCFwcmVGaWx0ZXJzW3R5cGVdIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKG1hdGNoID0gcHJlRmlsdGVyc1t0eXBlXShtYXRjaCkpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZWQgPSBtYXRjaC5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG1hdGNoZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZXM6IG1hdGNoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc29GYXIgPSBzb0Zhci5zbGljZShtYXRjaGVkLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFtYXRjaGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBSZXR1cm4gdGhlIGxlbmd0aCBvZiB0aGUgaW52YWxpZCBleGNlc3NcbiAgICAgICAgICAgICAgICAvLyBpZiB3ZSdyZSBqdXN0IHBhcnNpbmdcbiAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2UsIHRocm93IGFuIGVycm9yIG9yIHJldHVybiB0b2tlbnNcbiAgICAgICAgICAgICAgICBpZiAocGFyc2VPbmx5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzb0Zhci5sZW5ndGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBzb0ZhciA/XG4gICAgICAgICAgICAgICAgICAgIGZpbmQuZXJyb3Ioc2VsZWN0b3IpIDpcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2FjaGUgdGhlIHRva2Vuc1xuICAgICAgICAgICAgICAgICAgICB0b2tlbkNhY2hlKHNlbGVjdG9yLCBncm91cHMpLnNsaWNlKDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gdG9TZWxlY3Rvcih0b2tlbnMpIHtcbiAgICAgICAgICAgICAgICB2YXIgaSA9IDAsIGxlbiA9IHRva2Vucy5sZW5ndGgsIHNlbGVjdG9yID0gXCJcIjtcbiAgICAgICAgICAgICAgICBmb3IgKDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yICs9IHRva2Vuc1tpXS52YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbGVjdG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gYWRkQ29tYmluYXRvcihtYXRjaGVyLCBjb21iaW5hdG9yLCBiYXNlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRpciA9IGNvbWJpbmF0b3IuZGlyLCBza2lwID0gY29tYmluYXRvci5uZXh0LCBrZXkgPSBza2lwIHx8IGRpciwgY2hlY2tOb25FbGVtZW50cyA9IGJhc2UgJiYga2V5ID09PSBcInBhcmVudE5vZGVcIiwgZG9uZU5hbWUgPSBkb25lKys7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbWJpbmF0b3IuZmlyc3QgP1xuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBhZ2FpbnN0IGNsb3Nlc3QgYW5jZXN0b3IvcHJlY2VkaW5nIGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGVsZW0sIGNvbnRleHQsIHhtbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKChlbGVtID0gZWxlbVtkaXJdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtLm5vZGVUeXBlID09PSAxIHx8IGNoZWNrTm9uRWxlbWVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoZXIoZWxlbSwgY29udGV4dCwgeG1sKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH0gOlxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBhZ2FpbnN0IGFsbCBhbmNlc3Rvci9wcmVjZWRpbmcgZWxlbWVudHNcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGVsZW0sIGNvbnRleHQsIHhtbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9sZENhY2hlLCBvdXRlckNhY2hlLCBuZXdDYWNoZSA9IFtkaXJydW5zLCBkb25lTmFtZV07XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBjYW4ndCBzZXQgYXJiaXRyYXJ5IGRhdGEgb24gWE1MIG5vZGVzLCBzbyB0aGV5IGRvbid0IGJlbmVmaXQgZnJvbSBjb21iaW5hdG9yIGNhY2hpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh4bWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKGVsZW0gPSBlbGVtW2Rpcl0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtLm5vZGVUeXBlID09PSAxIHx8IGNoZWNrTm9uRWxlbWVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaGVyKGVsZW0sIGNvbnRleHQsIHhtbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgoZWxlbSA9IGVsZW1bZGlyXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW0ubm9kZVR5cGUgPT09IDEgfHwgY2hlY2tOb25FbGVtZW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0ZXJDYWNoZSA9IGVsZW1bZXhwYW5kb10gfHwgKGVsZW1bZXhwYW5kb10gPSB7fSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2tpcCAmJiBub2RlTmFtZShlbGVtLCBza2lwKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0gPSBlbGVtW2Rpcl0gfHwgZWxlbTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKChvbGRDYWNoZSA9IG91dGVyQ2FjaGVba2V5XSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGRDYWNoZVswXSA9PT0gZGlycnVucyAmJiBvbGRDYWNoZVsxXSA9PT0gZG9uZU5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBc3NpZ24gdG8gbmV3Q2FjaGUgc28gcmVzdWx0cyBiYWNrLXByb3BhZ2F0ZSB0byBwcmV2aW91cyBlbGVtZW50c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAobmV3Q2FjaGVbMl0gPSBvbGRDYWNoZVsyXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXVzZSBuZXdjYWNoZSBzbyByZXN1bHRzIGJhY2stcHJvcGFnYXRlIHRvIHByZXZpb3VzIGVsZW1lbnRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0ZXJDYWNoZVtrZXldID0gbmV3Q2FjaGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQSBtYXRjaCBtZWFucyB3ZSdyZSBkb25lOyBhIGZhaWwgbWVhbnMgd2UgaGF2ZSB0byBrZWVwIGNoZWNraW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChuZXdDYWNoZVsyXSA9IG1hdGNoZXIoZWxlbSwgY29udGV4dCwgeG1sKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gZWxlbWVudE1hdGNoZXIobWF0Y2hlcnMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2hlcnMubGVuZ3RoID4gMSA/XG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlbGVtLCBjb250ZXh0LCB4bWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpID0gbWF0Y2hlcnMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbWF0Y2hlcnNbaV0oZWxlbSwgY29udGV4dCwgeG1sKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH0gOlxuICAgICAgICAgICAgICAgICAgICBtYXRjaGVyc1swXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIG11bHRpcGxlQ29udGV4dHMoc2VsZWN0b3IsIGNvbnRleHRzLCByZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGkgPSAwLCBsZW4gPSBjb250ZXh0cy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgZm9yICg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBmaW5kKHNlbGVjdG9yLCBjb250ZXh0c1tpXSwgcmVzdWx0cyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gY29uZGVuc2UodW5tYXRjaGVkLCBtYXAsIGZpbHRlciwgY29udGV4dCwgeG1sKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVsZW0sIG5ld1VubWF0Y2hlZCA9IFtdLCBpID0gMCwgbGVuID0gdW5tYXRjaGVkLmxlbmd0aCwgbWFwcGVkID0gbWFwICE9IG51bGw7XG4gICAgICAgICAgICAgICAgZm9yICg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoKGVsZW0gPSB1bm1hdGNoZWRbaV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWZpbHRlciB8fCBmaWx0ZXIoZWxlbSwgY29udGV4dCwgeG1sKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1VubWF0Y2hlZC5wdXNoKGVsZW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXBwZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwLnB1c2goaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBuZXdVbm1hdGNoZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBzZXRNYXRjaGVyKHByZUZpbHRlciwgc2VsZWN0b3IsIG1hdGNoZXIsIHBvc3RGaWx0ZXIsIHBvc3RGaW5kZXIsIHBvc3RTZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgIGlmIChwb3N0RmlsdGVyICYmICFwb3N0RmlsdGVyW2V4cGFuZG9dKSB7XG4gICAgICAgICAgICAgICAgICAgIHBvc3RGaWx0ZXIgPSBzZXRNYXRjaGVyKHBvc3RGaWx0ZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocG9zdEZpbmRlciAmJiAhcG9zdEZpbmRlcltleHBhbmRvXSkge1xuICAgICAgICAgICAgICAgICAgICBwb3N0RmluZGVyID0gc2V0TWF0Y2hlcihwb3N0RmluZGVyLCBwb3N0U2VsZWN0b3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbWFya0Z1bmN0aW9uKGZ1bmN0aW9uIChzZWVkLCByZXN1bHRzLCBjb250ZXh0LCB4bWwpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAsIGksIGVsZW0sIG1hdGNoZXJPdXQsIHByZU1hcCA9IFtdLCBwb3N0TWFwID0gW10sIHByZWV4aXN0aW5nID0gcmVzdWx0cy5sZW5ndGgsIFxuICAgICAgICAgICAgICAgICAgICAvLyBHZXQgaW5pdGlhbCBlbGVtZW50cyBmcm9tIHNlZWQgb3IgY29udGV4dFxuICAgICAgICAgICAgICAgICAgICBlbGVtcyA9IHNlZWQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpcGxlQ29udGV4dHMoc2VsZWN0b3IgfHwgXCIqXCIsIGNvbnRleHQubm9kZVR5cGUgPyBbY29udGV4dF0gOiBjb250ZXh0LCBbXSksIFxuICAgICAgICAgICAgICAgICAgICAvLyBQcmVmaWx0ZXIgdG8gZ2V0IG1hdGNoZXIgaW5wdXQsIHByZXNlcnZpbmcgYSBtYXAgZm9yIHNlZWQtcmVzdWx0cyBzeW5jaHJvbml6YXRpb25cbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlckluID0gcHJlRmlsdGVyICYmIChzZWVkIHx8ICFzZWxlY3RvcikgP1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uZGVuc2UoZWxlbXMsIHByZU1hcCwgcHJlRmlsdGVyLCBjb250ZXh0LCB4bWwpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1zO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZSBhIHBvc3RGaW5kZXIsIG9yIGZpbHRlcmVkIHNlZWQsIG9yIG5vbi1zZWVkIHBvc3RGaWx0ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9yIHByZWV4aXN0aW5nIHJlc3VsdHMsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVyT3V0ID0gcG9zdEZpbmRlciB8fCAoc2VlZCA/IHByZUZpbHRlciA6IHByZWV4aXN0aW5nIHx8IHBvc3RGaWx0ZXIpID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAuLi5pbnRlcm1lZGlhdGUgcHJvY2Vzc2luZyBpcyBuZWNlc3NhcnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi4ub3RoZXJ3aXNlIHVzZSByZXN1bHRzIGRpcmVjdGx5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0cztcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZpbmQgcHJpbWFyeSBtYXRjaGVzXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVyKG1hdGNoZXJJbiwgbWF0Y2hlck91dCwgY29udGV4dCwgeG1sKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZXJPdXQgPSBtYXRjaGVySW47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gQXBwbHkgcG9zdEZpbHRlclxuICAgICAgICAgICAgICAgICAgICBpZiAocG9zdEZpbHRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcCA9IGNvbmRlbnNlKG1hdGNoZXJPdXQsIHBvc3RNYXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9zdEZpbHRlcih0ZW1wLCBbXSwgY29udGV4dCwgeG1sKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVuLW1hdGNoIGZhaWxpbmcgZWxlbWVudHMgYnkgbW92aW5nIHRoZW0gYmFjayB0byBtYXRjaGVySW5cbiAgICAgICAgICAgICAgICAgICAgICAgIGkgPSB0ZW1wLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGVsZW0gPSB0ZW1wW2ldKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVyT3V0W3Bvc3RNYXBbaV1dID0gIShtYXRjaGVySW5bcG9zdE1hcFtpXV0gPSBlbGVtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwb3N0RmluZGVyIHx8IHByZUZpbHRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwb3N0RmluZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgZmluYWwgbWF0Y2hlck91dCBieSBjb25kZW5zaW5nIHRoaXMgaW50ZXJtZWRpYXRlIGludG8gcG9zdEZpbmRlciBjb250ZXh0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBtYXRjaGVyT3V0Lmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChlbGVtID0gbWF0Y2hlck91dFtpXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXN0b3JlIG1hdGNoZXJJbiBzaW5jZSBlbGVtIGlzIG5vdCB5ZXQgYSBmaW5hbCBtYXRjaFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAucHVzaCgobWF0Y2hlckluW2ldID0gZWxlbSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc3RGaW5kZXIobnVsbCwgKG1hdGNoZXJPdXQgPSBbXSksIHRlbXAsIHhtbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1vdmUgbWF0Y2hlZCBlbGVtZW50cyBmcm9tIHNlZWQgdG8gcmVzdWx0cyB0byBrZWVwIHRoZW0gc3luY2hyb25pemVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IG1hdGNoZXJPdXQubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChlbGVtID0gbWF0Y2hlck91dFtpXSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0ZW1wID0gcG9zdEZpbmRlciA/IGluZGV4T2YuY2FsbChzZWVkLCBlbGVtKSA6IHByZU1hcFtpXSkgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VlZFt0ZW1wXSA9ICEocmVzdWx0c1t0ZW1wXSA9IGVsZW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIGVsZW1lbnRzIHRvIHJlc3VsdHMsIHRocm91Z2ggcG9zdEZpbmRlciBpZiBkZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVyT3V0ID0gY29uZGVuc2UobWF0Y2hlck91dCA9PT0gcmVzdWx0cyA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlck91dC5zcGxpY2UocHJlZXhpc3RpbmcsIG1hdGNoZXJPdXQubGVuZ3RoKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlck91dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocG9zdEZpbmRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc3RGaW5kZXIobnVsbCwgcmVzdWx0cywgbWF0Y2hlck91dCwgeG1sKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1c2guYXBwbHkocmVzdWx0cywgbWF0Y2hlck91dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIG1hdGNoZXJGcm9tVG9rZW5zKHRva2Vucykge1xuICAgICAgICAgICAgICAgIHZhciBjaGVja0NvbnRleHQsIG1hdGNoZXIsIGosIGxlbiA9IHRva2Vucy5sZW5ndGgsIGxlYWRpbmdSZWxhdGl2ZSA9IEV4cHIucmVsYXRpdmVbdG9rZW5zWzBdLnR5cGVdLCBpbXBsaWNpdFJlbGF0aXZlID0gbGVhZGluZ1JlbGF0aXZlIHx8IEV4cHIucmVsYXRpdmVbXCIgXCJdLCBpID0gbGVhZGluZ1JlbGF0aXZlID8gMSA6IDAsIFxuICAgICAgICAgICAgICAgIC8vIFRoZSBmb3VuZGF0aW9uYWwgbWF0Y2hlciBlbnN1cmVzIHRoYXQgZWxlbWVudHMgYXJlIHJlYWNoYWJsZSBmcm9tIHRvcC1sZXZlbCBjb250ZXh0KHMpXG4gICAgICAgICAgICAgICAgbWF0Y2hDb250ZXh0ID0gYWRkQ29tYmluYXRvcihmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbSA9PT0gY2hlY2tDb250ZXh0O1xuICAgICAgICAgICAgICAgIH0sIGltcGxpY2l0UmVsYXRpdmUsIHRydWUpLCBtYXRjaEFueUNvbnRleHQgPSBhZGRDb21iaW5hdG9yKGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbmRleE9mLmNhbGwoY2hlY2tDb250ZXh0LCBlbGVtKSA+IC0xO1xuICAgICAgICAgICAgICAgIH0sIGltcGxpY2l0UmVsYXRpdmUsIHRydWUpLCBtYXRjaGVycyA9IFtmdW5jdGlvbiAoZWxlbSwgY29udGV4dCwgeG1sKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSAxMSssIEVkZ2UgMTcgLSAxOCtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgXCJQZXJtaXNzaW9uIGRlbmllZFwiIGVycm9yIHdoZW4gc3RyaWN0LWNvbXBhcmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHdvIGRvY3VtZW50czsgc2hhbGxvdyBjb21wYXJpc29ucyB3b3JrLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJldCA9ICghbGVhZGluZ1JlbGF0aXZlICYmICh4bWwgfHwgY29udGV4dCAhPSBvdXRlcm1vc3RDb250ZXh0KSkgfHwgKChjaGVja0NvbnRleHQgPSBjb250ZXh0KS5ub2RlVHlwZSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hDb250ZXh0KGVsZW0sIGNvbnRleHQsIHhtbCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoQW55Q29udGV4dChlbGVtLCBjb250ZXh0LCB4bWwpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEF2b2lkIGhhbmdpbmcgb250byBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAoc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qcXVlcnkvc2l6emxlL2lzc3Vlcy8yOTkpXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja0NvbnRleHQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgICAgICAgICAgICAgfV07XG4gICAgICAgICAgICAgICAgZm9yICg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoKG1hdGNoZXIgPSBFeHByLnJlbGF0aXZlW3Rva2Vuc1tpXS50eXBlXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZXJzID0gW2FkZENvbWJpbmF0b3IoZWxlbWVudE1hdGNoZXIobWF0Y2hlcnMpLCBtYXRjaGVyKV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVyID0gRXhwci5maWx0ZXJbdG9rZW5zW2ldLnR5cGVdLmFwcGx5KG51bGwsIHRva2Vuc1tpXS5tYXRjaGVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJldHVybiBzcGVjaWFsIHVwb24gc2VlaW5nIGEgcG9zaXRpb25hbCBtYXRjaGVyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hlcltleHBhbmRvXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZpbmQgdGhlIG5leHQgcmVsYXRpdmUgb3BlcmF0b3IgKGlmIGFueSkgZm9yIHByb3BlciBoYW5kbGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGogPSArK2k7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICg7IGogPCBsZW47IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoRXhwci5yZWxhdGl2ZVt0b2tlbnNbal0udHlwZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXRNYXRjaGVyKGkgPiAxICYmIGVsZW1lbnRNYXRjaGVyKG1hdGNoZXJzKSwgaSA+IDEgJiYgdG9TZWxlY3RvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgcHJlY2VkaW5nIHRva2VuIHdhcyBhIGRlc2NlbmRhbnQgY29tYmluYXRvciwgaW5zZXJ0IGFuIGltcGxpY2l0IGFueS1lbGVtZW50IGAqYFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2Vucy5zbGljZSgwLCBpIC0gMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNvbmNhdCh7IHZhbHVlOiB0b2tlbnNbaSAtIDJdLnR5cGUgPT09IFwiIFwiID8gXCIqXCIgOiBcIlwiIH0pKS5yZXBsYWNlKHJ0cmltQ1NTLCBcIiQxXCIpLCBtYXRjaGVyLCBpIDwgaiAmJiBtYXRjaGVyRnJvbVRva2Vucyh0b2tlbnMuc2xpY2UoaSwgaikpLCBqIDwgbGVuICYmIG1hdGNoZXJGcm9tVG9rZW5zKCh0b2tlbnMgPSB0b2tlbnMuc2xpY2UoaikpKSwgaiA8IGxlbiAmJiB0b1NlbGVjdG9yKHRva2VucykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlcnMucHVzaChtYXRjaGVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudE1hdGNoZXIobWF0Y2hlcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gbWF0Y2hlckZyb21Hcm91cE1hdGNoZXJzKGVsZW1lbnRNYXRjaGVycywgc2V0TWF0Y2hlcnMpIHtcbiAgICAgICAgICAgICAgICB2YXIgYnlTZXQgPSBzZXRNYXRjaGVycy5sZW5ndGggPiAwLCBieUVsZW1lbnQgPSBlbGVtZW50TWF0Y2hlcnMubGVuZ3RoID4gMCwgc3VwZXJNYXRjaGVyID0gZnVuY3Rpb24gKHNlZWQsIGNvbnRleHQsIHhtbCwgcmVzdWx0cywgb3V0ZXJtb3N0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtLCBqLCBtYXRjaGVyLCBtYXRjaGVkQ291bnQgPSAwLCBpID0gXCIwXCIsIHVubWF0Y2hlZCA9IHNlZWQgJiYgW10sIHNldE1hdGNoZWQgPSBbXSwgY29udGV4dEJhY2t1cCA9IG91dGVybW9zdENvbnRleHQsIFxuICAgICAgICAgICAgICAgICAgICAvLyBXZSBtdXN0IGFsd2F5cyBoYXZlIGVpdGhlciBzZWVkIGVsZW1lbnRzIG9yIG91dGVybW9zdCBjb250ZXh0XG4gICAgICAgICAgICAgICAgICAgIGVsZW1zID0gc2VlZCB8fCBieUVsZW1lbnQgJiYgRXhwci5maW5kLlRBRyhcIipcIiwgb3V0ZXJtb3N0KSwgXG4gICAgICAgICAgICAgICAgICAgIC8vIFVzZSBpbnRlZ2VyIGRpcnJ1bnMgaWZmIHRoaXMgaXMgdGhlIG91dGVybW9zdCBtYXRjaGVyXG4gICAgICAgICAgICAgICAgICAgIGRpcnJ1bnNVbmlxdWUgPSAoZGlycnVucyArPSBjb250ZXh0QmFja3VwID09IG51bGwgPyAxIDogTWF0aC5yYW5kb20oKSB8fCAwLjEpLCBsZW4gPSBlbGVtcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvdXRlcm1vc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4K1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSUUvRWRnZSBzb21ldGltZXMgdGhyb3cgYSBcIlBlcm1pc3Npb24gZGVuaWVkXCIgZXJyb3Igd2hlbiBzdHJpY3QtY29tcGFyaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0d28gZG9jdW1lbnRzOyBzaGFsbG93IGNvbXBhcmlzb25zIHdvcmsuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRlcm1vc3RDb250ZXh0ID0gY29udGV4dCA9PSBkb2N1bWVudCB8fCBjb250ZXh0IHx8IG91dGVybW9zdDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBBZGQgZWxlbWVudHMgcGFzc2luZyBlbGVtZW50TWF0Y2hlcnMgZGlyZWN0bHkgdG8gcmVzdWx0c1xuICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBpT1MgPD03IC0gOSBvbmx5XG4gICAgICAgICAgICAgICAgICAgIC8vIFRvbGVyYXRlIE5vZGVMaXN0IHByb3BlcnRpZXMgKElFOiBcImxlbmd0aFwiOyBTYWZhcmk6IDxudW1iZXI+KSBtYXRjaGluZ1xuICAgICAgICAgICAgICAgICAgICAvLyBlbGVtZW50cyBieSBpZC4gKHNlZSB0cmFjLTE0MTQyKVxuICAgICAgICAgICAgICAgICAgICBmb3IgKDsgaSAhPT0gbGVuICYmIChlbGVtID0gZWxlbXNbaV0pICE9IG51bGw7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJ5RWxlbWVudCAmJiBlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaiA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgMTErLCBFZGdlIDE3IC0gMTgrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSUUvRWRnZSBzb21ldGltZXMgdGhyb3cgYSBcIlBlcm1pc3Npb24gZGVuaWVkXCIgZXJyb3Igd2hlbiBzdHJpY3QtY29tcGFyaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHdvIGRvY3VtZW50czsgc2hhbGxvdyBjb21wYXJpc29ucyB3b3JrLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbnRleHQgJiYgZWxlbS5vd25lckRvY3VtZW50ICE9IGRvY3VtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldERvY3VtZW50KGVsZW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4bWwgPSAhZG9jdW1lbnRJc0hUTUw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgobWF0Y2hlciA9IGVsZW1lbnRNYXRjaGVyc1tqKytdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hlcihlbGVtLCBjb250ZXh0IHx8IGRvY3VtZW50LCB4bWwpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdXNoLmNhbGwocmVzdWx0cywgZWxlbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3V0ZXJtb3N0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpcnJ1bnMgPSBkaXJydW5zVW5pcXVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRyYWNrIHVubWF0Y2hlZCBlbGVtZW50cyBmb3Igc2V0IGZpbHRlcnNcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChieVNldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZXkgd2lsbCBoYXZlIGdvbmUgdGhyb3VnaCBhbGwgcG9zc2libGUgbWF0Y2hlcnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGVsZW0gPSAhbWF0Y2hlciAmJiBlbGVtKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVkQ291bnQtLTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTGVuZ3RoZW4gdGhlIGFycmF5IGZvciBldmVyeSBlbGVtZW50LCBtYXRjaGVkIG9yIG5vdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVubWF0Y2hlZC5wdXNoKGVsZW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBgaWAgaXMgbm93IHRoZSBjb3VudCBvZiBlbGVtZW50cyB2aXNpdGVkIGFib3ZlLCBhbmQgYWRkaW5nIGl0IHRvIGBtYXRjaGVkQ291bnRgXG4gICAgICAgICAgICAgICAgICAgIC8vIG1ha2VzIHRoZSBsYXR0ZXIgbm9ubmVnYXRpdmUuXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoZWRDb3VudCArPSBpO1xuICAgICAgICAgICAgICAgICAgICAvLyBBcHBseSBzZXQgZmlsdGVycyB0byB1bm1hdGNoZWQgZWxlbWVudHNcbiAgICAgICAgICAgICAgICAgICAgLy8gTk9URTogVGhpcyBjYW4gYmUgc2tpcHBlZCBpZiB0aGVyZSBhcmUgbm8gdW5tYXRjaGVkIGVsZW1lbnRzIChpLmUuLCBgbWF0Y2hlZENvdW50YFxuICAgICAgICAgICAgICAgICAgICAvLyBlcXVhbHMgYGlgKSwgdW5sZXNzIHdlIGRpZG4ndCB2aXNpdCBfYW55XyBlbGVtZW50cyBpbiB0aGUgYWJvdmUgbG9vcCBiZWNhdXNlIHdlIGhhdmVcbiAgICAgICAgICAgICAgICAgICAgLy8gbm8gZWxlbWVudCBtYXRjaGVycyBhbmQgbm8gc2VlZC5cbiAgICAgICAgICAgICAgICAgICAgLy8gSW5jcmVtZW50aW5nIGFuIGluaXRpYWxseS1zdHJpbmcgXCIwXCIgYGlgIGFsbG93cyBgaWAgdG8gcmVtYWluIGEgc3RyaW5nIG9ubHkgaW4gdGhhdFxuICAgICAgICAgICAgICAgICAgICAvLyBjYXNlLCB3aGljaCB3aWxsIHJlc3VsdCBpbiBhIFwiMDBcIiBgbWF0Y2hlZENvdW50YCB0aGF0IGRpZmZlcnMgZnJvbSBgaWAgYnV0IGlzIGFsc29cbiAgICAgICAgICAgICAgICAgICAgLy8gbnVtZXJpY2FsbHkgemVyby5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGJ5U2V0ICYmIGkgIT09IG1hdGNoZWRDb3VudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaiA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKG1hdGNoZXIgPSBzZXRNYXRjaGVyc1tqKytdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZXIodW5tYXRjaGVkLCBzZXRNYXRjaGVkLCBjb250ZXh0LCB4bWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZWludGVncmF0ZSBlbGVtZW50IG1hdGNoZXMgdG8gZWxpbWluYXRlIHRoZSBuZWVkIGZvciBzb3J0aW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoZWRDb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEodW5tYXRjaGVkW2ldIHx8IHNldE1hdGNoZWRbaV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0TWF0Y2hlZFtpXSA9IHBvcC5jYWxsKHJlc3VsdHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERpc2NhcmQgaW5kZXggcGxhY2Vob2xkZXIgdmFsdWVzIHRvIGdldCBvbmx5IGFjdHVhbCBtYXRjaGVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0TWF0Y2hlZCA9IGNvbmRlbnNlKHNldE1hdGNoZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIG1hdGNoZXMgdG8gcmVzdWx0c1xuICAgICAgICAgICAgICAgICAgICAgICAgcHVzaC5hcHBseShyZXN1bHRzLCBzZXRNYXRjaGVkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNlZWRsZXNzIHNldCBtYXRjaGVzIHN1Y2NlZWRpbmcgbXVsdGlwbGUgc3VjY2Vzc2Z1bCBtYXRjaGVycyBzdGlwdWxhdGUgc29ydGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG91dGVybW9zdCAmJiAhc2VlZCAmJiBzZXRNYXRjaGVkLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAobWF0Y2hlZENvdW50ICsgc2V0TWF0Y2hlcnMubGVuZ3RoKSA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkudW5pcXVlU29ydChyZXN1bHRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBPdmVycmlkZSBtYW5pcHVsYXRpb24gb2YgZ2xvYmFscyBieSBuZXN0ZWQgbWF0Y2hlcnNcbiAgICAgICAgICAgICAgICAgICAgaWYgKG91dGVybW9zdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlycnVucyA9IGRpcnJ1bnNVbmlxdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRlcm1vc3RDb250ZXh0ID0gY29udGV4dEJhY2t1cDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5tYXRjaGVkO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJ5U2V0ID9cbiAgICAgICAgICAgICAgICAgICAgbWFya0Z1bmN0aW9uKHN1cGVyTWF0Y2hlcikgOlxuICAgICAgICAgICAgICAgICAgICBzdXBlck1hdGNoZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBjb21waWxlKHNlbGVjdG9yLCBtYXRjaCAvKiBJbnRlcm5hbCBVc2UgT25seSAqLykge1xuICAgICAgICAgICAgICAgIHZhciBpLCBzZXRNYXRjaGVycyA9IFtdLCBlbGVtZW50TWF0Y2hlcnMgPSBbXSwgY2FjaGVkID0gY29tcGlsZXJDYWNoZVtzZWxlY3RvciArIFwiIFwiXTtcbiAgICAgICAgICAgICAgICBpZiAoIWNhY2hlZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBHZW5lcmF0ZSBhIGZ1bmN0aW9uIG9mIHJlY3Vyc2l2ZSBmdW5jdGlvbnMgdGhhdCBjYW4gYmUgdXNlZCB0byBjaGVjayBlYWNoIGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFtYXRjaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2ggPSB0b2tlbml6ZShzZWxlY3Rvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaSA9IG1hdGNoLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVkID0gbWF0Y2hlckZyb21Ub2tlbnMobWF0Y2hbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhY2hlZFtleHBhbmRvXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldE1hdGNoZXJzLnB1c2goY2FjaGVkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRNYXRjaGVycy5wdXNoKGNhY2hlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2FjaGUgdGhlIGNvbXBpbGVkIGZ1bmN0aW9uXG4gICAgICAgICAgICAgICAgICAgIGNhY2hlZCA9IGNvbXBpbGVyQ2FjaGUoc2VsZWN0b3IsIG1hdGNoZXJGcm9tR3JvdXBNYXRjaGVycyhlbGVtZW50TWF0Y2hlcnMsIHNldE1hdGNoZXJzKSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNhdmUgc2VsZWN0b3IgYW5kIHRva2VuaXphdGlvblxuICAgICAgICAgICAgICAgICAgICBjYWNoZWQuc2VsZWN0b3IgPSBzZWxlY3RvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhY2hlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQSBsb3ctbGV2ZWwgc2VsZWN0aW9uIGZ1bmN0aW9uIHRoYXQgd29ya3Mgd2l0aCBqUXVlcnkncyBjb21waWxlZFxuICAgICAgICAgICAgICogIHNlbGVjdG9yIGZ1bmN0aW9uc1xuICAgICAgICAgICAgICogQHBhcmFtIHtTdHJpbmd8RnVuY3Rpb259IHNlbGVjdG9yIEEgc2VsZWN0b3Igb3IgYSBwcmUtY29tcGlsZWRcbiAgICAgICAgICAgICAqICBzZWxlY3RvciBmdW5jdGlvbiBidWlsdCB3aXRoIGpRdWVyeSBzZWxlY3RvciBjb21waWxlXG4gICAgICAgICAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGNvbnRleHRcbiAgICAgICAgICAgICAqIEBwYXJhbSB7QXJyYXl9IFtyZXN1bHRzXVxuICAgICAgICAgICAgICogQHBhcmFtIHtBcnJheX0gW3NlZWRdIEEgc2V0IG9mIGVsZW1lbnRzIHRvIG1hdGNoIGFnYWluc3RcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZnVuY3Rpb24gc2VsZWN0KHNlbGVjdG9yLCBjb250ZXh0LCByZXN1bHRzLCBzZWVkKSB7XG4gICAgICAgICAgICAgICAgdmFyIGksIHRva2VucywgdG9rZW4sIHR5cGUsIGZpbmQsIGNvbXBpbGVkID0gdHlwZW9mIHNlbGVjdG9yID09PSBcImZ1bmN0aW9uXCIgJiYgc2VsZWN0b3IsIG1hdGNoID0gIXNlZWQgJiYgdG9rZW5pemUoKHNlbGVjdG9yID0gY29tcGlsZWQuc2VsZWN0b3IgfHwgc2VsZWN0b3IpKTtcbiAgICAgICAgICAgICAgICByZXN1bHRzID0gcmVzdWx0cyB8fCBbXTtcbiAgICAgICAgICAgICAgICAvLyBUcnkgdG8gbWluaW1pemUgb3BlcmF0aW9ucyBpZiB0aGVyZSBpcyBvbmx5IG9uZSBzZWxlY3RvciBpbiB0aGUgbGlzdCBhbmQgbm8gc2VlZFxuICAgICAgICAgICAgICAgIC8vICh0aGUgbGF0dGVyIG9mIHdoaWNoIGd1YXJhbnRlZXMgdXMgY29udGV4dClcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2gubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlZHVjZSBjb250ZXh0IGlmIHRoZSBsZWFkaW5nIGNvbXBvdW5kIHNlbGVjdG9yIGlzIGFuIElEXG4gICAgICAgICAgICAgICAgICAgIHRva2VucyA9IG1hdGNoWzBdID0gbWF0Y2hbMF0uc2xpY2UoMCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbnMubGVuZ3RoID4gMiAmJiAodG9rZW4gPSB0b2tlbnNbMF0pLnR5cGUgPT09IFwiSURcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5ub2RlVHlwZSA9PT0gOSAmJiBkb2N1bWVudElzSFRNTCAmJiBFeHByLnJlbGF0aXZlW3Rva2Vuc1sxXS50eXBlXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dCA9IChFeHByLmZpbmQuSUQodG9rZW4ubWF0Y2hlc1swXS5yZXBsYWNlKHJ1bmVzY2FwZSwgZnVuZXNjYXBlKSwgY29udGV4dCkgfHwgW10pWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUHJlY29tcGlsZWQgbWF0Y2hlcnMgd2lsbCBzdGlsbCB2ZXJpZnkgYW5jZXN0cnksIHNvIHN0ZXAgdXAgYSBsZXZlbFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoY29tcGlsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0ID0gY29udGV4dC5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3IgPSBzZWxlY3Rvci5zbGljZSh0b2tlbnMuc2hpZnQoKS52YWx1ZS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIEZldGNoIGEgc2VlZCBzZXQgZm9yIHJpZ2h0LXRvLWxlZnQgbWF0Y2hpbmdcbiAgICAgICAgICAgICAgICAgICAgaSA9IG1hdGNoRXhwci5uZWVkc0NvbnRleHQudGVzdChzZWxlY3RvcikgPyAwIDogdG9rZW5zLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSB0b2tlbnNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBYm9ydCBpZiB3ZSBoaXQgYSBjb21iaW5hdG9yXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoRXhwci5yZWxhdGl2ZVsodHlwZSA9IHRva2VuLnR5cGUpXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChmaW5kID0gRXhwci5maW5kW3R5cGVdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNlYXJjaCwgZXhwYW5kaW5nIGNvbnRleHQgZm9yIGxlYWRpbmcgc2libGluZyBjb21iaW5hdG9yc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoc2VlZCA9IGZpbmQodG9rZW4ubWF0Y2hlc1swXS5yZXBsYWNlKHJ1bmVzY2FwZSwgZnVuZXNjYXBlKSwgcnNpYmxpbmcudGVzdCh0b2tlbnNbMF0udHlwZSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVzdENvbnRleHQoY29udGV4dC5wYXJlbnROb2RlKSB8fCBjb250ZXh0KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgc2VlZCBpcyBlbXB0eSBvciBubyB0b2tlbnMgcmVtYWluLCB3ZSBjYW4gcmV0dXJuIGVhcmx5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2Vucy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yID0gc2VlZC5sZW5ndGggJiYgdG9TZWxlY3Rvcih0b2tlbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdXNoLmFwcGx5KHJlc3VsdHMsIHNlZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIENvbXBpbGUgYW5kIGV4ZWN1dGUgYSBmaWx0ZXJpbmcgZnVuY3Rpb24gaWYgb25lIGlzIG5vdCBwcm92aWRlZFxuICAgICAgICAgICAgICAgIC8vIFByb3ZpZGUgYG1hdGNoYCB0byBhdm9pZCByZXRva2VuaXphdGlvbiBpZiB3ZSBtb2RpZmllZCB0aGUgc2VsZWN0b3IgYWJvdmVcbiAgICAgICAgICAgICAgICAoY29tcGlsZWQgfHwgY29tcGlsZShzZWxlY3RvciwgbWF0Y2gpKShzZWVkLCBjb250ZXh0LCAhZG9jdW1lbnRJc0hUTUwsIHJlc3VsdHMsICFjb250ZXh0IHx8IHJzaWJsaW5nLnRlc3Qoc2VsZWN0b3IpICYmIHRlc3RDb250ZXh0KGNvbnRleHQucGFyZW50Tm9kZSkgfHwgY29udGV4dCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBPbmUtdGltZSBhc3NpZ25tZW50c1xuICAgICAgICAgICAgLy8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCAtIDQuMStcbiAgICAgICAgICAgIC8vIFNvcnQgc3RhYmlsaXR5XG4gICAgICAgICAgICBzdXBwb3J0LnNvcnRTdGFibGUgPSBleHBhbmRvLnNwbGl0KFwiXCIpLnNvcnQoc29ydE9yZGVyKS5qb2luKFwiXCIpID09PSBleHBhbmRvO1xuICAgICAgICAgICAgLy8gSW5pdGlhbGl6ZSBhZ2FpbnN0IHRoZSBkZWZhdWx0IGRvY3VtZW50XG4gICAgICAgICAgICBzZXREb2N1bWVudCgpO1xuICAgICAgICAgICAgLy8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCAtIDQuMStcbiAgICAgICAgICAgIC8vIERldGFjaGVkIG5vZGVzIGNvbmZvdW5kaW5nbHkgZm9sbG93ICplYWNoIG90aGVyKlxuICAgICAgICAgICAgc3VwcG9ydC5zb3J0RGV0YWNoZWQgPSBhc3NlcnQoZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICAgICAgLy8gU2hvdWxkIHJldHVybiAxLCBidXQgcmV0dXJucyA0IChmb2xsb3dpbmcpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmaWVsZHNldFwiKSkgJiAxO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBqUXVlcnkuZmluZCA9IGZpbmQ7XG4gICAgICAgICAgICAvLyBEZXByZWNhdGVkXG4gICAgICAgICAgICBqUXVlcnkuZXhwcltcIjpcIl0gPSBqUXVlcnkuZXhwci5wc2V1ZG9zO1xuICAgICAgICAgICAgalF1ZXJ5LnVuaXF1ZSA9IGpRdWVyeS51bmlxdWVTb3J0O1xuICAgICAgICAgICAgLy8gVGhlc2UgaGF2ZSBhbHdheXMgYmVlbiBwcml2YXRlLCBidXQgdGhleSB1c2VkIHRvIGJlIGRvY3VtZW50ZWQgYXMgcGFydCBvZlxuICAgICAgICAgICAgLy8gU2l6emxlIHNvIGxldCdzIG1haW50YWluIHRoZW0gZm9yIG5vdyBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgcHVycG9zZXMuXG4gICAgICAgICAgICBmaW5kLmNvbXBpbGUgPSBjb21waWxlO1xuICAgICAgICAgICAgZmluZC5zZWxlY3QgPSBzZWxlY3Q7XG4gICAgICAgICAgICBmaW5kLnNldERvY3VtZW50ID0gc2V0RG9jdW1lbnQ7XG4gICAgICAgICAgICBmaW5kLnRva2VuaXplID0gdG9rZW5pemU7XG4gICAgICAgICAgICBmaW5kLmVzY2FwZSA9IGpRdWVyeS5lc2NhcGVTZWxlY3RvcjtcbiAgICAgICAgICAgIGZpbmQuZ2V0VGV4dCA9IGpRdWVyeS50ZXh0O1xuICAgICAgICAgICAgZmluZC5pc1hNTCA9IGpRdWVyeS5pc1hNTERvYztcbiAgICAgICAgICAgIGZpbmQuc2VsZWN0b3JzID0galF1ZXJ5LmV4cHI7XG4gICAgICAgICAgICBmaW5kLnN1cHBvcnQgPSBqUXVlcnkuc3VwcG9ydDtcbiAgICAgICAgICAgIGZpbmQudW5pcXVlU29ydCA9IGpRdWVyeS51bmlxdWVTb3J0O1xuICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSAqL1xuICAgICAgICB9KSgpO1xuICAgICAgICB2YXIgZGlyID0gZnVuY3Rpb24gKGVsZW0sIGRpciwgdW50aWwpIHtcbiAgICAgICAgICAgIHZhciBtYXRjaGVkID0gW10sIHRydW5jYXRlID0gdW50aWwgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHdoaWxlICgoZWxlbSA9IGVsZW1bZGlyXSkgJiYgZWxlbS5ub2RlVHlwZSAhPT0gOSkge1xuICAgICAgICAgICAgICAgIGlmIChlbGVtLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0cnVuY2F0ZSAmJiBqUXVlcnkoZWxlbSkuaXModW50aWwpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtYXRjaGVkLnB1c2goZWxlbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG1hdGNoZWQ7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBzaWJsaW5ncyA9IGZ1bmN0aW9uIChuLCBlbGVtKSB7XG4gICAgICAgICAgICB2YXIgbWF0Y2hlZCA9IFtdO1xuICAgICAgICAgICAgZm9yICg7IG47IG4gPSBuLm5leHRTaWJsaW5nKSB7XG4gICAgICAgICAgICAgICAgaWYgKG4ubm9kZVR5cGUgPT09IDEgJiYgbiAhPT0gZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICBtYXRjaGVkLnB1c2gobik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG1hdGNoZWQ7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBybmVlZHNDb250ZXh0ID0galF1ZXJ5LmV4cHIubWF0Y2gubmVlZHNDb250ZXh0O1xuICAgICAgICB2YXIgcnNpbmdsZVRhZyA9ICgvXjwoW2Etel1bXlxcL1xcMD46XFx4MjBcXHRcXHJcXG5cXGZdKilbXFx4MjBcXHRcXHJcXG5cXGZdKlxcLz8+KD86PFxcL1xcMT58KSQvaSk7XG4gICAgICAgIC8vIEltcGxlbWVudCB0aGUgaWRlbnRpY2FsIGZ1bmN0aW9uYWxpdHkgZm9yIGZpbHRlciBhbmQgbm90XG4gICAgICAgIGZ1bmN0aW9uIHdpbm5vdyhlbGVtZW50cywgcXVhbGlmaWVyLCBub3QpIHtcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKHF1YWxpZmllcikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4galF1ZXJ5LmdyZXAoZWxlbWVudHMsIGZ1bmN0aW9uIChlbGVtLCBpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhIXF1YWxpZmllci5jYWxsKGVsZW0sIGksIGVsZW0pICE9PSBub3Q7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTaW5nbGUgZWxlbWVudFxuICAgICAgICAgICAgaWYgKHF1YWxpZmllci5ub2RlVHlwZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBqUXVlcnkuZ3JlcChlbGVtZW50cywgZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChlbGVtID09PSBxdWFsaWZpZXIpICE9PSBub3Q7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBBcnJheWxpa2Ugb2YgZWxlbWVudHMgKGpRdWVyeSwgYXJndW1lbnRzLCBBcnJheSlcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcXVhbGlmaWVyICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGpRdWVyeS5ncmVwKGVsZW1lbnRzLCBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGluZGV4T2YuY2FsbChxdWFsaWZpZXIsIGVsZW0pID4gLTEpICE9PSBub3Q7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBGaWx0ZXJlZCBkaXJlY3RseSBmb3IgYm90aCBzaW1wbGUgYW5kIGNvbXBsZXggc2VsZWN0b3JzXG4gICAgICAgICAgICByZXR1cm4galF1ZXJ5LmZpbHRlcihxdWFsaWZpZXIsIGVsZW1lbnRzLCBub3QpO1xuICAgICAgICB9XG4gICAgICAgIGpRdWVyeS5maWx0ZXIgPSBmdW5jdGlvbiAoZXhwciwgZWxlbXMsIG5vdCkge1xuICAgICAgICAgICAgdmFyIGVsZW0gPSBlbGVtc1swXTtcbiAgICAgICAgICAgIGlmIChub3QpIHtcbiAgICAgICAgICAgICAgICBleHByID0gXCI6bm90KFwiICsgZXhwciArIFwiKVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVsZW1zLmxlbmd0aCA9PT0gMSAmJiBlbGVtLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGpRdWVyeS5maW5kLm1hdGNoZXNTZWxlY3RvcihlbGVtLCBleHByKSA/IFtlbGVtXSA6IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGpRdWVyeS5maW5kLm1hdGNoZXMoZXhwciwgalF1ZXJ5LmdyZXAoZWxlbXMsIGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsZW0ubm9kZVR5cGUgPT09IDE7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH07XG4gICAgICAgIGpRdWVyeS5mbi5leHRlbmQoe1xuICAgICAgICAgICAgZmluZDogZnVuY3Rpb24gKHNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgdmFyIGksIHJldCwgbGVuID0gdGhpcy5sZW5ndGgsIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc2VsZWN0b3IgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHVzaFN0YWNrKGpRdWVyeShzZWxlY3RvcikuZmlsdGVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqUXVlcnkuY29udGFpbnMoc2VsZltpXSwgdGhpcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldCA9IHRoaXMucHVzaFN0YWNrKFtdKTtcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmZpbmQoc2VsZWN0b3IsIHNlbGZbaV0sIHJldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBsZW4gPiAxID8galF1ZXJ5LnVuaXF1ZVNvcnQocmV0KSA6IHJldDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmaWx0ZXI6IGZ1bmN0aW9uIChzZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnB1c2hTdGFjayh3aW5ub3codGhpcywgc2VsZWN0b3IgfHwgW10sIGZhbHNlKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbm90OiBmdW5jdGlvbiAoc2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wdXNoU3RhY2sod2lubm93KHRoaXMsIHNlbGVjdG9yIHx8IFtdLCB0cnVlKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXM6IGZ1bmN0aW9uIChzZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiAhIXdpbm5vdyh0aGlzLCBcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGlzIGlzIGEgcG9zaXRpb25hbC9yZWxhdGl2ZSBzZWxlY3RvciwgY2hlY2sgbWVtYmVyc2hpcCBpbiB0aGUgcmV0dXJuZWQgc2V0XG4gICAgICAgICAgICAgICAgLy8gc28gJChcInA6Zmlyc3RcIikuaXMoXCJwOmxhc3RcIikgd29uJ3QgcmV0dXJuIHRydWUgZm9yIGEgZG9jIHdpdGggdHdvIFwicFwiLlxuICAgICAgICAgICAgICAgIHR5cGVvZiBzZWxlY3RvciA9PT0gXCJzdHJpbmdcIiAmJiBybmVlZHNDb250ZXh0LnRlc3Qoc2VsZWN0b3IpID9cbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KHNlbGVjdG9yKSA6XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yIHx8IFtdLCBmYWxzZSkubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBhIGpRdWVyeSBvYmplY3RcbiAgICAgICAgLy8gQSBjZW50cmFsIHJlZmVyZW5jZSB0byB0aGUgcm9vdCBqUXVlcnkoZG9jdW1lbnQpXG4gICAgICAgIHZhciByb290alF1ZXJ5LCBcbiAgICAgICAgLy8gQSBzaW1wbGUgd2F5IHRvIGNoZWNrIGZvciBIVE1MIHN0cmluZ3NcbiAgICAgICAgLy8gUHJpb3JpdGl6ZSAjaWQgb3ZlciA8dGFnPiB0byBhdm9pZCBYU1MgdmlhIGxvY2F0aW9uLmhhc2ggKHRyYWMtOTUyMSlcbiAgICAgICAgLy8gU3RyaWN0IEhUTUwgcmVjb2duaXRpb24gKHRyYWMtMTEyOTA6IG11c3Qgc3RhcnQgd2l0aCA8KVxuICAgICAgICAvLyBTaG9ydGN1dCBzaW1wbGUgI2lkIGNhc2UgZm9yIHNwZWVkXG4gICAgICAgIHJxdWlja0V4cHIgPSAvXig/OlxccyooPFtcXHdcXFddKz4pW14+XSp8IyhbXFx3LV0rKSkkLywgaW5pdCA9IGpRdWVyeS5mbi5pbml0ID0gZnVuY3Rpb24gKHNlbGVjdG9yLCBjb250ZXh0LCByb290KSB7XG4gICAgICAgICAgICB2YXIgbWF0Y2gsIGVsZW07XG4gICAgICAgICAgICAvLyBIQU5ETEU6ICQoXCJcIiksICQobnVsbCksICQodW5kZWZpbmVkKSwgJChmYWxzZSlcbiAgICAgICAgICAgIGlmICghc2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE1ldGhvZCBpbml0KCkgYWNjZXB0cyBhbiBhbHRlcm5hdGUgcm9vdGpRdWVyeVxuICAgICAgICAgICAgLy8gc28gbWlncmF0ZSBjYW4gc3VwcG9ydCBqUXVlcnkuc3ViIChnaC0yMTAxKVxuICAgICAgICAgICAgcm9vdCA9IHJvb3QgfHwgcm9vdGpRdWVyeTtcbiAgICAgICAgICAgIC8vIEhhbmRsZSBIVE1MIHN0cmluZ3NcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc2VsZWN0b3IgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0b3JbMF0gPT09IFwiPFwiICYmXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yW3NlbGVjdG9yLmxlbmd0aCAtIDFdID09PSBcIj5cIiAmJlxuICAgICAgICAgICAgICAgICAgICBzZWxlY3Rvci5sZW5ndGggPj0gMykge1xuICAgICAgICAgICAgICAgICAgICAvLyBBc3N1bWUgdGhhdCBzdHJpbmdzIHRoYXQgc3RhcnQgYW5kIGVuZCB3aXRoIDw+IGFyZSBIVE1MIGFuZCBza2lwIHRoZSByZWdleCBjaGVja1xuICAgICAgICAgICAgICAgICAgICBtYXRjaCA9IFtudWxsLCBzZWxlY3RvciwgbnVsbF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBtYXRjaCA9IHJxdWlja0V4cHIuZXhlYyhzZWxlY3Rvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIE1hdGNoIGh0bWwgb3IgbWFrZSBzdXJlIG5vIGNvbnRleHQgaXMgc3BlY2lmaWVkIGZvciAjaWRcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2ggJiYgKG1hdGNoWzFdIHx8ICFjb250ZXh0KSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBIQU5ETEU6ICQoaHRtbCkgLT4gJChhcnJheSlcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoWzFdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0ID0gY29udGV4dCBpbnN0YW5jZW9mIGpRdWVyeSA/IGNvbnRleHRbMF0gOiBjb250ZXh0O1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gT3B0aW9uIHRvIHJ1biBzY3JpcHRzIGlzIHRydWUgZm9yIGJhY2stY29tcGF0XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJbnRlbnRpb25hbGx5IGxldCB0aGUgZXJyb3IgYmUgdGhyb3duIGlmIHBhcnNlSFRNTCBpcyBub3QgcHJlc2VudFxuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5Lm1lcmdlKHRoaXMsIGpRdWVyeS5wYXJzZUhUTUwobWF0Y2hbMV0sIGNvbnRleHQgJiYgY29udGV4dC5ub2RlVHlwZSA/IGNvbnRleHQub3duZXJEb2N1bWVudCB8fCBjb250ZXh0IDogZG9jdW1lbnQsIHRydWUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhBTkRMRTogJChodG1sLCBwcm9wcylcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyc2luZ2xlVGFnLnRlc3QobWF0Y2hbMV0pICYmIGpRdWVyeS5pc1BsYWluT2JqZWN0KGNvbnRleHQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChtYXRjaCBpbiBjb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFByb3BlcnRpZXMgb2YgY29udGV4dCBhcmUgY2FsbGVkIGFzIG1ldGhvZHMgaWYgcG9zc2libGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24odGhpc1ttYXRjaF0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzW21hdGNoXShjb250ZXh0W21hdGNoXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAuLi5hbmQgb3RoZXJ3aXNlIHNldCBhcyBhdHRyaWJ1dGVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmF0dHIobWF0Y2gsIGNvbnRleHRbbWF0Y2hdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSEFORExFOiAkKCNpZClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChtYXRjaFsyXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEluamVjdCB0aGUgZWxlbWVudCBkaXJlY3RseSBpbnRvIHRoZSBqUXVlcnkgb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1swXSA9IGVsZW07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sZW5ndGggPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gSEFORExFOiAkKGV4cHIsICQoLi4uKSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIWNvbnRleHQgfHwgY29udGV4dC5qcXVlcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChjb250ZXh0IHx8IHJvb3QpLmZpbmQoc2VsZWN0b3IpO1xuICAgICAgICAgICAgICAgICAgICAvLyBIQU5ETEU6ICQoZXhwciwgY29udGV4dClcbiAgICAgICAgICAgICAgICAgICAgLy8gKHdoaWNoIGlzIGp1c3QgZXF1aXZhbGVudCB0bzogJChjb250ZXh0KS5maW5kKGV4cHIpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvcihjb250ZXh0KS5maW5kKHNlbGVjdG9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gSEFORExFOiAkKERPTUVsZW1lbnQpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzZWxlY3Rvci5ub2RlVHlwZSkge1xuICAgICAgICAgICAgICAgIHRoaXNbMF0gPSBzZWxlY3RvcjtcbiAgICAgICAgICAgICAgICB0aGlzLmxlbmd0aCA9IDE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgLy8gSEFORExFOiAkKGZ1bmN0aW9uKVxuICAgICAgICAgICAgICAgIC8vIFNob3J0Y3V0IGZvciBkb2N1bWVudCByZWFkeVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNGdW5jdGlvbihzZWxlY3RvcikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcm9vdC5yZWFkeSAhPT0gdW5kZWZpbmVkID9cbiAgICAgICAgICAgICAgICAgICAgcm9vdC5yZWFkeShzZWxlY3RvcikgOlxuICAgICAgICAgICAgICAgICAgICAvLyBFeGVjdXRlIGltbWVkaWF0ZWx5IGlmIHJlYWR5IGlzIG5vdCBwcmVzZW50XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yKGpRdWVyeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4galF1ZXJ5Lm1ha2VBcnJheShzZWxlY3RvciwgdGhpcyk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIEdpdmUgdGhlIGluaXQgZnVuY3Rpb24gdGhlIGpRdWVyeSBwcm90b3R5cGUgZm9yIGxhdGVyIGluc3RhbnRpYXRpb25cbiAgICAgICAgaW5pdC5wcm90b3R5cGUgPSBqUXVlcnkuZm47XG4gICAgICAgIC8vIEluaXRpYWxpemUgY2VudHJhbCByZWZlcmVuY2VcbiAgICAgICAgcm9vdGpRdWVyeSA9IGpRdWVyeShkb2N1bWVudCk7XG4gICAgICAgIHZhciBycGFyZW50c3ByZXYgPSAvXig/OnBhcmVudHN8cHJldig/OlVudGlsfEFsbCkpLywgXG4gICAgICAgIC8vIE1ldGhvZHMgZ3VhcmFudGVlZCB0byBwcm9kdWNlIGEgdW5pcXVlIHNldCB3aGVuIHN0YXJ0aW5nIGZyb20gYSB1bmlxdWUgc2V0XG4gICAgICAgIGd1YXJhbnRlZWRVbmlxdWUgPSB7XG4gICAgICAgICAgICBjaGlsZHJlbjogdHJ1ZSxcbiAgICAgICAgICAgIGNvbnRlbnRzOiB0cnVlLFxuICAgICAgICAgICAgbmV4dDogdHJ1ZSxcbiAgICAgICAgICAgIHByZXY6IHRydWVcbiAgICAgICAgfTtcbiAgICAgICAgalF1ZXJ5LmZuLmV4dGVuZCh7XG4gICAgICAgICAgICBoYXM6IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0cyA9IGpRdWVyeSh0YXJnZXQsIHRoaXMpLCBsID0gdGFyZ2V0cy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGpRdWVyeS5jb250YWlucyh0aGlzLCB0YXJnZXRzW2ldKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2xvc2VzdDogZnVuY3Rpb24gKHNlbGVjdG9ycywgY29udGV4dCkge1xuICAgICAgICAgICAgICAgIHZhciBjdXIsIGkgPSAwLCBsID0gdGhpcy5sZW5ndGgsIG1hdGNoZWQgPSBbXSwgdGFyZ2V0cyA9IHR5cGVvZiBzZWxlY3RvcnMgIT09IFwic3RyaW5nXCIgJiYgalF1ZXJ5KHNlbGVjdG9ycyk7XG4gICAgICAgICAgICAgICAgLy8gUG9zaXRpb25hbCBzZWxlY3RvcnMgbmV2ZXIgbWF0Y2gsIHNpbmNlIHRoZXJlJ3Mgbm8gX3NlbGVjdGlvbl8gY29udGV4dFxuICAgICAgICAgICAgICAgIGlmICghcm5lZWRzQ29udGV4dC50ZXN0KHNlbGVjdG9ycykpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY3VyID0gdGhpc1tpXTsgY3VyICYmIGN1ciAhPT0gY29udGV4dDsgY3VyID0gY3VyLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBbHdheXMgc2tpcCBkb2N1bWVudCBmcmFnbWVudHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyLm5vZGVUeXBlIDwgMTEgJiYgKHRhcmdldHMgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRzLmluZGV4KGN1cikgPiAtMSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvbid0IHBhc3Mgbm9uLWVsZW1lbnRzIHRvIGpRdWVyeSNmaW5kXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ci5ub2RlVHlwZSA9PT0gMSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmZpbmQubWF0Y2hlc1NlbGVjdG9yKGN1ciwgc2VsZWN0b3JzKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZC5wdXNoKGN1cik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wdXNoU3RhY2sobWF0Y2hlZC5sZW5ndGggPiAxID8galF1ZXJ5LnVuaXF1ZVNvcnQobWF0Y2hlZCkgOiBtYXRjaGVkKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBEZXRlcm1pbmUgdGhlIHBvc2l0aW9uIG9mIGFuIGVsZW1lbnQgd2l0aGluIHRoZSBzZXRcbiAgICAgICAgICAgIGluZGV4OiBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgIC8vIE5vIGFyZ3VtZW50LCByZXR1cm4gaW5kZXggaW4gcGFyZW50XG4gICAgICAgICAgICAgICAgaWYgKCFlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAodGhpc1swXSAmJiB0aGlzWzBdLnBhcmVudE5vZGUpID8gdGhpcy5maXJzdCgpLnByZXZBbGwoKS5sZW5ndGggOiAtMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gSW5kZXggaW4gc2VsZWN0b3JcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGVsZW0gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluZGV4T2YuY2FsbChqUXVlcnkoZWxlbSksIHRoaXNbMF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBMb2NhdGUgdGhlIHBvc2l0aW9uIG9mIHRoZSBkZXNpcmVkIGVsZW1lbnRcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5kZXhPZi5jYWxsKHRoaXMsIFxuICAgICAgICAgICAgICAgIC8vIElmIGl0IHJlY2VpdmVzIGEgalF1ZXJ5IG9iamVjdCwgdGhlIGZpcnN0IGVsZW1lbnQgaXMgdXNlZFxuICAgICAgICAgICAgICAgIGVsZW0uanF1ZXJ5ID8gZWxlbVswXSA6IGVsZW0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFkZDogZnVuY3Rpb24gKHNlbGVjdG9yLCBjb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHVzaFN0YWNrKGpRdWVyeS51bmlxdWVTb3J0KGpRdWVyeS5tZXJnZSh0aGlzLmdldCgpLCBqUXVlcnkoc2VsZWN0b3IsIGNvbnRleHQpKSkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFkZEJhY2s6IGZ1bmN0aW9uIChzZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmFkZChzZWxlY3RvciA9PSBudWxsID9cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmV2T2JqZWN0IDogdGhpcy5wcmV2T2JqZWN0LmZpbHRlcihzZWxlY3RvcikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgZnVuY3Rpb24gc2libGluZyhjdXIsIGRpcikge1xuICAgICAgICAgICAgd2hpbGUgKChjdXIgPSBjdXJbZGlyXSkgJiYgY3VyLm5vZGVUeXBlICE9PSAxKSB7IH1cbiAgICAgICAgICAgIHJldHVybiBjdXI7XG4gICAgICAgIH1cbiAgICAgICAgalF1ZXJ5LmVhY2goe1xuICAgICAgICAgICAgcGFyZW50OiBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgIHZhciBwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcmVudCAmJiBwYXJlbnQubm9kZVR5cGUgIT09IDExID8gcGFyZW50IDogbnVsbDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYXJlbnRzOiBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkaXIoZWxlbSwgXCJwYXJlbnROb2RlXCIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhcmVudHNVbnRpbDogZnVuY3Rpb24gKGVsZW0sIF9pLCB1bnRpbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkaXIoZWxlbSwgXCJwYXJlbnROb2RlXCIsIHVudGlsKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBuZXh0OiBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzaWJsaW5nKGVsZW0sIFwibmV4dFNpYmxpbmdcIik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcHJldjogZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2libGluZyhlbGVtLCBcInByZXZpb3VzU2libGluZ1wiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBuZXh0QWxsOiBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkaXIoZWxlbSwgXCJuZXh0U2libGluZ1wiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwcmV2QWxsOiBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkaXIoZWxlbSwgXCJwcmV2aW91c1NpYmxpbmdcIik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbmV4dFVudGlsOiBmdW5jdGlvbiAoZWxlbSwgX2ksIHVudGlsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRpcihlbGVtLCBcIm5leHRTaWJsaW5nXCIsIHVudGlsKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwcmV2VW50aWw6IGZ1bmN0aW9uIChlbGVtLCBfaSwgdW50aWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGlyKGVsZW0sIFwicHJldmlvdXNTaWJsaW5nXCIsIHVudGlsKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzaWJsaW5nczogZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2libGluZ3MoKGVsZW0ucGFyZW50Tm9kZSB8fCB7fSkuZmlyc3RDaGlsZCwgZWxlbSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2hpbGRyZW46IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNpYmxpbmdzKGVsZW0uZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29udGVudHM6IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW0uY29udGVudERvY3VtZW50ICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgMTErXG4gICAgICAgICAgICAgICAgICAgIC8vIDxvYmplY3Q+IGVsZW1lbnRzIHdpdGggbm8gYGRhdGFgIGF0dHJpYnV0ZSBoYXMgYW4gb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgIC8vIGBjb250ZW50RG9jdW1lbnRgIHdpdGggYSBgbnVsbGAgcHJvdG90eXBlLlxuICAgICAgICAgICAgICAgICAgICBnZXRQcm90byhlbGVtLmNvbnRlbnREb2N1bWVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZW0uY29udGVudERvY3VtZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA5IC0gMTEgb25seSwgaU9TIDcgb25seSwgQW5kcm9pZCBCcm93c2VyIDw9NC4zIG9ubHlcbiAgICAgICAgICAgICAgICAvLyBUcmVhdCB0aGUgdGVtcGxhdGUgZWxlbWVudCBhcyBhIHJlZ3VsYXIgb25lIGluIGJyb3dzZXJzIHRoYXRcbiAgICAgICAgICAgICAgICAvLyBkb24ndCBzdXBwb3J0IGl0LlxuICAgICAgICAgICAgICAgIGlmIChub2RlTmFtZShlbGVtLCBcInRlbXBsYXRlXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW0gPSBlbGVtLmNvbnRlbnQgfHwgZWxlbTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGpRdWVyeS5tZXJnZShbXSwgZWxlbS5jaGlsZE5vZGVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24gKG5hbWUsIGZuKSB7XG4gICAgICAgICAgICBqUXVlcnkuZm5bbmFtZV0gPSBmdW5jdGlvbiAodW50aWwsIHNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1hdGNoZWQgPSBqUXVlcnkubWFwKHRoaXMsIGZuLCB1bnRpbCk7XG4gICAgICAgICAgICAgICAgaWYgKG5hbWUuc2xpY2UoLTUpICE9PSBcIlVudGlsXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3IgPSB1bnRpbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdG9yICYmIHR5cGVvZiBzZWxlY3RvciA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICBtYXRjaGVkID0galF1ZXJ5LmZpbHRlcihzZWxlY3RvciwgbWF0Y2hlZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGR1cGxpY2F0ZXNcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFndWFyYW50ZWVkVW5pcXVlW25hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkudW5pcXVlU29ydChtYXRjaGVkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBSZXZlcnNlIG9yZGVyIGZvciBwYXJlbnRzKiBhbmQgcHJldi1kZXJpdmF0aXZlc1xuICAgICAgICAgICAgICAgICAgICBpZiAocnBhcmVudHNwcmV2LnRlc3QobmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZWQucmV2ZXJzZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnB1c2hTdGFjayhtYXRjaGVkKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgcm5vdGh0bWx3aGl0ZSA9ICgvW15cXHgyMFxcdFxcclxcblxcZl0rL2cpO1xuICAgICAgICAvLyBDb252ZXJ0IFN0cmluZy1mb3JtYXR0ZWQgb3B0aW9ucyBpbnRvIE9iamVjdC1mb3JtYXR0ZWQgb25lc1xuICAgICAgICBmdW5jdGlvbiBjcmVhdGVPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciBvYmplY3QgPSB7fTtcbiAgICAgICAgICAgIGpRdWVyeS5lYWNoKG9wdGlvbnMubWF0Y2gocm5vdGh0bWx3aGl0ZSkgfHwgW10sIGZ1bmN0aW9uIChfLCBmbGFnKSB7XG4gICAgICAgICAgICAgICAgb2JqZWN0W2ZsYWddID0gdHJ1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgfVxuICAgICAgICAvKlxuICAgICAgICAqIENyZWF0ZSBhIGNhbGxiYWNrIGxpc3QgdXNpbmcgdGhlIGZvbGxvd2luZyBwYXJhbWV0ZXJzOlxuICAgICAgICAqXG4gICAgICAgICpcdG9wdGlvbnM6IGFuIG9wdGlvbmFsIGxpc3Qgb2Ygc3BhY2Utc2VwYXJhdGVkIG9wdGlvbnMgdGhhdCB3aWxsIGNoYW5nZSBob3dcbiAgICAgICAgKlx0XHRcdHRoZSBjYWxsYmFjayBsaXN0IGJlaGF2ZXMgb3IgYSBtb3JlIHRyYWRpdGlvbmFsIG9wdGlvbiBvYmplY3RcbiAgICAgICAgKlxuICAgICAgICAqIEJ5IGRlZmF1bHQgYSBjYWxsYmFjayBsaXN0IHdpbGwgYWN0IGxpa2UgYW4gZXZlbnQgY2FsbGJhY2sgbGlzdCBhbmQgY2FuIGJlXG4gICAgICAgICogXCJmaXJlZFwiIG11bHRpcGxlIHRpbWVzLlxuICAgICAgICAqXG4gICAgICAgICogUG9zc2libGUgb3B0aW9uczpcbiAgICAgICAgKlxuICAgICAgICAqXHRvbmNlOlx0XHRcdHdpbGwgZW5zdXJlIHRoZSBjYWxsYmFjayBsaXN0IGNhbiBvbmx5IGJlIGZpcmVkIG9uY2UgKGxpa2UgYSBEZWZlcnJlZClcbiAgICAgICAgKlxuICAgICAgICAqXHRtZW1vcnk6XHRcdFx0d2lsbCBrZWVwIHRyYWNrIG9mIHByZXZpb3VzIHZhbHVlcyBhbmQgd2lsbCBjYWxsIGFueSBjYWxsYmFjayBhZGRlZFxuICAgICAgICAqXHRcdFx0XHRcdGFmdGVyIHRoZSBsaXN0IGhhcyBiZWVuIGZpcmVkIHJpZ2h0IGF3YXkgd2l0aCB0aGUgbGF0ZXN0IFwibWVtb3JpemVkXCJcbiAgICAgICAgKlx0XHRcdFx0XHR2YWx1ZXMgKGxpa2UgYSBEZWZlcnJlZClcbiAgICAgICAgKlxuICAgICAgICAqXHR1bmlxdWU6XHRcdFx0d2lsbCBlbnN1cmUgYSBjYWxsYmFjayBjYW4gb25seSBiZSBhZGRlZCBvbmNlIChubyBkdXBsaWNhdGUgaW4gdGhlIGxpc3QpXG4gICAgICAgICpcbiAgICAgICAgKlx0c3RvcE9uRmFsc2U6XHRpbnRlcnJ1cHQgY2FsbGluZ3Mgd2hlbiBhIGNhbGxiYWNrIHJldHVybnMgZmFsc2VcbiAgICAgICAgKlxuICAgICAgICAqL1xuICAgICAgICBqUXVlcnkuQ2FsbGJhY2tzID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIC8vIENvbnZlcnQgb3B0aW9ucyBmcm9tIFN0cmluZy1mb3JtYXR0ZWQgdG8gT2JqZWN0LWZvcm1hdHRlZCBpZiBuZWVkZWRcbiAgICAgICAgICAgIC8vICh3ZSBjaGVjayBpbiBjYWNoZSBmaXJzdClcbiAgICAgICAgICAgIG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIiA/XG4gICAgICAgICAgICAgICAgY3JlYXRlT3B0aW9ucyhvcHRpb25zKSA6XG4gICAgICAgICAgICAgICAgalF1ZXJ5LmV4dGVuZCh7fSwgb3B0aW9ucyk7XG4gICAgICAgICAgICB2YXIgLy8gRmxhZyB0byBrbm93IGlmIGxpc3QgaXMgY3VycmVudGx5IGZpcmluZ1xuICAgICAgICAgICAgZmlyaW5nLCBcbiAgICAgICAgICAgIC8vIExhc3QgZmlyZSB2YWx1ZSBmb3Igbm9uLWZvcmdldHRhYmxlIGxpc3RzXG4gICAgICAgICAgICBtZW1vcnksIFxuICAgICAgICAgICAgLy8gRmxhZyB0byBrbm93IGlmIGxpc3Qgd2FzIGFscmVhZHkgZmlyZWRcbiAgICAgICAgICAgIGZpcmVkLCBcbiAgICAgICAgICAgIC8vIEZsYWcgdG8gcHJldmVudCBmaXJpbmdcbiAgICAgICAgICAgIGxvY2tlZCwgXG4gICAgICAgICAgICAvLyBBY3R1YWwgY2FsbGJhY2sgbGlzdFxuICAgICAgICAgICAgbGlzdCA9IFtdLCBcbiAgICAgICAgICAgIC8vIFF1ZXVlIG9mIGV4ZWN1dGlvbiBkYXRhIGZvciByZXBlYXRhYmxlIGxpc3RzXG4gICAgICAgICAgICBxdWV1ZSA9IFtdLCBcbiAgICAgICAgICAgIC8vIEluZGV4IG9mIGN1cnJlbnRseSBmaXJpbmcgY2FsbGJhY2sgKG1vZGlmaWVkIGJ5IGFkZC9yZW1vdmUgYXMgbmVlZGVkKVxuICAgICAgICAgICAgZmlyaW5nSW5kZXggPSAtMSwgXG4gICAgICAgICAgICAvLyBGaXJlIGNhbGxiYWNrc1xuICAgICAgICAgICAgZmlyZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAvLyBFbmZvcmNlIHNpbmdsZS1maXJpbmdcbiAgICAgICAgICAgICAgICBsb2NrZWQgPSBsb2NrZWQgfHwgb3B0aW9ucy5vbmNlO1xuICAgICAgICAgICAgICAgIC8vIEV4ZWN1dGUgY2FsbGJhY2tzIGZvciBhbGwgcGVuZGluZyBleGVjdXRpb25zLFxuICAgICAgICAgICAgICAgIC8vIHJlc3BlY3RpbmcgZmlyaW5nSW5kZXggb3ZlcnJpZGVzIGFuZCBydW50aW1lIGNoYW5nZXNcbiAgICAgICAgICAgICAgICBmaXJlZCA9IGZpcmluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgZm9yICg7IHF1ZXVlLmxlbmd0aDsgZmlyaW5nSW5kZXggPSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBtZW1vcnkgPSBxdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKytmaXJpbmdJbmRleCA8IGxpc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSdW4gY2FsbGJhY2sgYW5kIGNoZWNrIGZvciBlYXJseSB0ZXJtaW5hdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpc3RbZmlyaW5nSW5kZXhdLmFwcGx5KG1lbW9yeVswXSwgbWVtb3J5WzFdKSA9PT0gZmFsc2UgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnN0b3BPbkZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSnVtcCB0byBlbmQgYW5kIGZvcmdldCB0aGUgZGF0YSBzbyAuYWRkIGRvZXNuJ3QgcmUtZmlyZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcmluZ0luZGV4ID0gbGlzdC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVtb3J5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gRm9yZ2V0IHRoZSBkYXRhIGlmIHdlJ3JlIGRvbmUgd2l0aCBpdFxuICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucy5tZW1vcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgbWVtb3J5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpcmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIC8vIENsZWFuIHVwIGlmIHdlJ3JlIGRvbmUgZmlyaW5nIGZvciBnb29kXG4gICAgICAgICAgICAgICAgaWYgKGxvY2tlZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBLZWVwIGFuIGVtcHR5IGxpc3QgaWYgd2UgaGF2ZSBkYXRhIGZvciBmdXR1cmUgYWRkIGNhbGxzXG4gICAgICAgICAgICAgICAgICAgIGlmIChtZW1vcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgdGhpcyBvYmplY3QgaXMgc3BlbnRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgXG4gICAgICAgICAgICAvLyBBY3R1YWwgQ2FsbGJhY2tzIG9iamVjdFxuICAgICAgICAgICAgc2VsZiA9IHtcbiAgICAgICAgICAgICAgICAvLyBBZGQgYSBjYWxsYmFjayBvciBhIGNvbGxlY3Rpb24gb2YgY2FsbGJhY2tzIHRvIHRoZSBsaXN0XG4gICAgICAgICAgICAgICAgYWRkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsaXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSBoYXZlIG1lbW9yeSBmcm9tIGEgcGFzdCBydW4sIHdlIHNob3VsZCBmaXJlIGFmdGVyIGFkZGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lbW9yeSAmJiAhZmlyaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyaW5nSW5kZXggPSBsaXN0Lmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVldWUucHVzaChtZW1vcnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgKGZ1bmN0aW9uIGFkZChhcmdzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmVhY2goYXJncywgZnVuY3Rpb24gKF8sIGFyZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihhcmcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMudW5pcXVlIHx8ICFzZWxmLmhhcyhhcmcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdC5wdXNoKGFyZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoYXJnICYmIGFyZy5sZW5ndGggJiYgdG9UeXBlKGFyZykgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEluc3BlY3QgcmVjdXJzaXZlbHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZChhcmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KShhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lbW9yeSAmJiAhZmlyaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGEgY2FsbGJhY2sgZnJvbSB0aGUgbGlzdFxuICAgICAgICAgICAgICAgIHJlbW92ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBqUXVlcnkuZWFjaChhcmd1bWVudHMsIGZ1bmN0aW9uIChfLCBhcmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgoaW5kZXggPSBqUXVlcnkuaW5BcnJheShhcmcsIGxpc3QsIGluZGV4KSkgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3Quc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBIYW5kbGUgZmlyaW5nIGluZGV4ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPD0gZmlyaW5nSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyaW5nSW5kZXgtLTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGEgZ2l2ZW4gY2FsbGJhY2sgaXMgaW4gdGhlIGxpc3QuXG4gICAgICAgICAgICAgICAgLy8gSWYgbm8gYXJndW1lbnQgaXMgZ2l2ZW4sIHJldHVybiB3aGV0aGVyIG9yIG5vdCBsaXN0IGhhcyBjYWxsYmFja3MgYXR0YWNoZWQuXG4gICAgICAgICAgICAgICAgaGFzOiBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZuID9cbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5pbkFycmF5KGZuLCBsaXN0KSA+IC0xIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QubGVuZ3RoID4gMDtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBhbGwgY2FsbGJhY2tzIGZyb20gdGhlIGxpc3RcbiAgICAgICAgICAgICAgICBlbXB0eTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobGlzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdCA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLy8gRGlzYWJsZSAuZmlyZSBhbmQgLmFkZFxuICAgICAgICAgICAgICAgIC8vIEFib3J0IGFueSBjdXJyZW50L3BlbmRpbmcgZXhlY3V0aW9uc1xuICAgICAgICAgICAgICAgIC8vIENsZWFyIGFsbCBjYWxsYmFja3MgYW5kIHZhbHVlc1xuICAgICAgICAgICAgICAgIGRpc2FibGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9ja2VkID0gcXVldWUgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgbGlzdCA9IG1lbW9yeSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFsaXN0O1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLy8gRGlzYWJsZSAuZmlyZVxuICAgICAgICAgICAgICAgIC8vIEFsc28gZGlzYWJsZSAuYWRkIHVubGVzcyB3ZSBoYXZlIG1lbW9yeSAoc2luY2UgaXQgd291bGQgaGF2ZSBubyBlZmZlY3QpXG4gICAgICAgICAgICAgICAgLy8gQWJvcnQgYW55IHBlbmRpbmcgZXhlY3V0aW9uc1xuICAgICAgICAgICAgICAgIGxvY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9ja2VkID0gcXVldWUgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFtZW1vcnkgJiYgIWZpcmluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdCA9IG1lbW9yeSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBsb2NrZWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEhbG9ja2VkO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLy8gQ2FsbCBhbGwgY2FsbGJhY2tzIHdpdGggdGhlIGdpdmVuIGNvbnRleHQgYW5kIGFyZ3VtZW50c1xuICAgICAgICAgICAgICAgIGZpcmVXaXRoOiBmdW5jdGlvbiAoY29udGV4dCwgYXJncykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWxvY2tlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJncyA9IGFyZ3MgfHwgW107XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzID0gW2NvbnRleHQsIGFyZ3Muc2xpY2UgPyBhcmdzLnNsaWNlKCkgOiBhcmdzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2goYXJncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWZpcmluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC8vIENhbGwgYWxsIHRoZSBjYWxsYmFja3Mgd2l0aCB0aGUgZ2l2ZW4gYXJndW1lbnRzXG4gICAgICAgICAgICAgICAgZmlyZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmZpcmVXaXRoKHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLy8gVG8ga25vdyBpZiB0aGUgY2FsbGJhY2tzIGhhdmUgYWxyZWFkeSBiZWVuIGNhbGxlZCBhdCBsZWFzdCBvbmNlXG4gICAgICAgICAgICAgICAgZmlyZWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEhZmlyZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgICB9O1xuICAgICAgICBmdW5jdGlvbiBJZGVudGl0eSh2KSB7XG4gICAgICAgICAgICByZXR1cm4gdjtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBUaHJvd2VyKGV4KSB7XG4gICAgICAgICAgICB0aHJvdyBleDtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBhZG9wdFZhbHVlKHZhbHVlLCByZXNvbHZlLCByZWplY3QsIG5vVmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBtZXRob2Q7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciBwcm9taXNlIGFzcGVjdCBmaXJzdCB0byBwcml2aWxlZ2Ugc3luY2hyb25vdXMgYmVoYXZpb3JcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgJiYgaXNGdW5jdGlvbigobWV0aG9kID0gdmFsdWUucHJvbWlzZSkpKSB7XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZC5jYWxsKHZhbHVlKS5kb25lKHJlc29sdmUpLmZhaWwocmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gT3RoZXIgdGhlbmFibGVzXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlICYmIGlzRnVuY3Rpb24oKG1ldGhvZCA9IHZhbHVlLnRoZW4pKSkge1xuICAgICAgICAgICAgICAgICAgICBtZXRob2QuY2FsbCh2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gT3RoZXIgbm9uLXRoZW5hYmxlc1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ29udHJvbCBgcmVzb2x2ZWAgYXJndW1lbnRzIGJ5IGxldHRpbmcgQXJyYXkjc2xpY2UgY2FzdCBib29sZWFuIGBub1ZhbHVlYCB0byBpbnRlZ2VyOlxuICAgICAgICAgICAgICAgICAgICAvLyAqIGZhbHNlOiBbIHZhbHVlIF0uc2xpY2UoIDAgKSA9PiByZXNvbHZlKCB2YWx1ZSApXG4gICAgICAgICAgICAgICAgICAgIC8vICogdHJ1ZTogWyB2YWx1ZSBdLnNsaWNlKCAxICkgPT4gcmVzb2x2ZSgpXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUuYXBwbHkodW5kZWZpbmVkLCBbdmFsdWVdLnNsaWNlKG5vVmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gRm9yIFByb21pc2VzL0ErLCBjb252ZXJ0IGV4Y2VwdGlvbnMgaW50byByZWplY3Rpb25zXG4gICAgICAgICAgICAgICAgLy8gU2luY2UgalF1ZXJ5LndoZW4gZG9lc24ndCB1bndyYXAgdGhlbmFibGVzLCB3ZSBjYW4gc2tpcCB0aGUgZXh0cmEgY2hlY2tzIGFwcGVhcmluZyBpblxuICAgICAgICAgICAgICAgIC8vIERlZmVycmVkI3RoZW4gdG8gY29uZGl0aW9uYWxseSBzdXBwcmVzcyByZWplY3Rpb24uXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBBbmRyb2lkIDQuMCBvbmx5XG4gICAgICAgICAgICAgICAgLy8gU3RyaWN0IG1vZGUgZnVuY3Rpb25zIGludm9rZWQgd2l0aG91dCAuY2FsbC8uYXBwbHkgZ2V0IGdsb2JhbC1vYmplY3QgY29udGV4dFxuICAgICAgICAgICAgICAgIHJlamVjdC5hcHBseSh1bmRlZmluZWQsIFt2YWx1ZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGpRdWVyeS5leHRlbmQoe1xuICAgICAgICAgICAgRGVmZXJyZWQ6IGZ1bmN0aW9uIChmdW5jKSB7XG4gICAgICAgICAgICAgICAgdmFyIHR1cGxlcyA9IFtcbiAgICAgICAgICAgICAgICAgICAgLy8gYWN0aW9uLCBhZGQgbGlzdGVuZXIsIGNhbGxiYWNrcyxcbiAgICAgICAgICAgICAgICAgICAgLy8gLi4uIC50aGVuIGhhbmRsZXJzLCBhcmd1bWVudCBpbmRleCwgW2ZpbmFsIHN0YXRlXVxuICAgICAgICAgICAgICAgICAgICBbXCJub3RpZnlcIiwgXCJwcm9ncmVzc1wiLCBqUXVlcnkuQ2FsbGJhY2tzKFwibWVtb3J5XCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LkNhbGxiYWNrcyhcIm1lbW9yeVwiKSwgMl0sXG4gICAgICAgICAgICAgICAgICAgIFtcInJlc29sdmVcIiwgXCJkb25lXCIsIGpRdWVyeS5DYWxsYmFja3MoXCJvbmNlIG1lbW9yeVwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5DYWxsYmFja3MoXCJvbmNlIG1lbW9yeVwiKSwgMCwgXCJyZXNvbHZlZFwiXSxcbiAgICAgICAgICAgICAgICAgICAgW1wicmVqZWN0XCIsIFwiZmFpbFwiLCBqUXVlcnkuQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIiksIDEsIFwicmVqZWN0ZWRcIl1cbiAgICAgICAgICAgICAgICBdLCBzdGF0ZSA9IFwicGVuZGluZ1wiLCBwcm9taXNlID0ge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBhbHdheXM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLmRvbmUoYXJndW1lbnRzKS5mYWlsKGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXCJjYXRjaFwiOiBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcm9taXNlLnRoZW4obnVsbCwgZm4pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAvLyBLZWVwIHBpcGUgZm9yIGJhY2stY29tcGF0XG4gICAgICAgICAgICAgICAgICAgIHBpcGU6IGZ1bmN0aW9uICggLyogZm5Eb25lLCBmbkZhaWwsIGZuUHJvZ3Jlc3MgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmbnMgPSBhcmd1bWVudHM7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4galF1ZXJ5LkRlZmVycmVkKGZ1bmN0aW9uIChuZXdEZWZlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5lYWNoKHR1cGxlcywgZnVuY3Rpb24gKF9pLCB0dXBsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNYXAgdHVwbGVzIChwcm9ncmVzcywgZG9uZSwgZmFpbCkgdG8gYXJndW1lbnRzIChkb25lLCBmYWlsLCBwcm9ncmVzcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZuID0gaXNGdW5jdGlvbihmbnNbdHVwbGVbNF1dKSAmJiBmbnNbdHVwbGVbNF1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBkZWZlcnJlZC5wcm9ncmVzcyhmdW5jdGlvbigpIHsgYmluZCB0byBuZXdEZWZlciBvciBuZXdEZWZlci5ub3RpZnkgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZGVmZXJyZWQuZG9uZShmdW5jdGlvbigpIHsgYmluZCB0byBuZXdEZWZlciBvciBuZXdEZWZlci5yZXNvbHZlIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRlZmVycmVkLmZhaWwoZnVuY3Rpb24oKSB7IGJpbmQgdG8gbmV3RGVmZXIgb3IgbmV3RGVmZXIucmVqZWN0IH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkW3R1cGxlWzFdXShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmV0dXJuZWQgPSBmbiAmJiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJldHVybmVkICYmIGlzRnVuY3Rpb24ocmV0dXJuZWQucHJvbWlzZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5lZC5wcm9taXNlKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnByb2dyZXNzKG5ld0RlZmVyLm5vdGlmeSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmRvbmUobmV3RGVmZXIucmVzb2x2ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZhaWwobmV3RGVmZXIucmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0RlZmVyW3R1cGxlWzBdICsgXCJXaXRoXCJdKHRoaXMsIGZuID8gW3JldHVybmVkXSA6IGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZucyA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KS5wcm9taXNlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRoZW46IGZ1bmN0aW9uIChvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCwgb25Qcm9ncmVzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1heERlcHRoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHJlc29sdmUoZGVwdGgsIGRlZmVycmVkLCBoYW5kbGVyLCBzcGVjaWFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzLCBhcmdzID0gYXJndW1lbnRzLCBtaWdodFRocm93ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJldHVybmVkLCB0aGVuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogUHJvbWlzZXMvQSsgc2VjdGlvbiAyLjMuMy4zLjNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTU5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZ25vcmUgZG91YmxlLXJlc29sdXRpb24gYXR0ZW1wdHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXB0aCA8IG1heERlcHRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuZWQgPSBoYW5kbGVyLmFwcGx5KHRoYXQsIGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogUHJvbWlzZXMvQSsgc2VjdGlvbiAyLjMuMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNDhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXR1cm5lZCA9PT0gZGVmZXJyZWQucHJvbWlzZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlRoZW5hYmxlIHNlbGYtcmVzb2x1dGlvblwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb25zIDIuMy4zLjEsIDMuNVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNTRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTc1XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXRyaWV2ZSBgdGhlbmAgb25seSBvbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGVuID0gcmV0dXJuZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy40XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNjRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IGNoZWNrIG9iamVjdHMgYW5kIGZ1bmN0aW9ucyBmb3IgdGhlbmFiaWxpdHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodHlwZW9mIHJldHVybmVkID09PSBcIm9iamVjdFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiByZXR1cm5lZCA9PT0gXCJmdW5jdGlvblwiKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybmVkLnRoZW47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBIYW5kbGUgYSByZXR1cm5lZCB0aGVuYWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24odGhlbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTcGVjaWFsIHByb2Nlc3NvcnMgKG5vdGlmeSkganVzdCB3YWl0IGZvciByZXNvbHV0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNwZWNpYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlbi5jYWxsKHJldHVybmVkLCByZXNvbHZlKG1heERlcHRoLCBkZWZlcnJlZCwgSWRlbnRpdHksIHNwZWNpYWwpLCByZXNvbHZlKG1heERlcHRoLCBkZWZlcnJlZCwgVGhyb3dlciwgc3BlY2lhbCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBOb3JtYWwgcHJvY2Vzc29ycyAocmVzb2x2ZSkgYWxzbyBob29rIGludG8gcHJvZ3Jlc3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uLmFuZCBkaXNyZWdhcmQgb2xkZXIgcmVzb2x1dGlvbiB2YWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4RGVwdGgrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlbi5jYWxsKHJldHVybmVkLCByZXNvbHZlKG1heERlcHRoLCBkZWZlcnJlZCwgSWRlbnRpdHksIHNwZWNpYWwpLCByZXNvbHZlKG1heERlcHRoLCBkZWZlcnJlZCwgVGhyb3dlciwgc3BlY2lhbCksIHJlc29sdmUobWF4RGVwdGgsIGRlZmVycmVkLCBJZGVudGl0eSwgZGVmZXJyZWQubm90aWZ5V2l0aCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBIYW5kbGUgYWxsIG90aGVyIHJldHVybmVkIHZhbHVlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT25seSBzdWJzdGl0dXRlIGhhbmRsZXJzIHBhc3Mgb24gY29udGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFuZCBtdWx0aXBsZSB2YWx1ZXMgKG5vbi1zcGVjIGJlaGF2aW9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYW5kbGVyICE9PSBJZGVudGl0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGF0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzID0gW3JldHVybmVkXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUHJvY2VzcyB0aGUgdmFsdWUocylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEZWZhdWx0IHByb2Nlc3MgaXMgcmVzb2x2ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzcGVjaWFsIHx8IGRlZmVycmVkLnJlc29sdmVXaXRoKSh0aGF0LCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgbm9ybWFsIHByb2Nlc3NvcnMgKHJlc29sdmUpIGNhdGNoIGFuZCByZWplY3QgZXhjZXB0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzID0gc3BlY2lhbCA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaWdodFRocm93IDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaWdodFRocm93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqUXVlcnkuRGVmZXJyZWQuZXhjZXB0aW9uSG9vaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LkRlZmVycmVkLmV4Y2VwdGlvbkhvb2soZSwgcHJvY2Vzcy5lcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogUHJvbWlzZXMvQSsgc2VjdGlvbiAyLjMuMy4zLjQuMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC02MVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZ25vcmUgcG9zdC1yZXNvbHV0aW9uIGV4Y2VwdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlcHRoICsgMSA+PSBtYXhEZXB0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT25seSBzdWJzdGl0dXRlIGhhbmRsZXJzIHBhc3Mgb24gY29udGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW5kIG11bHRpcGxlIHZhbHVlcyAobm9uLXNwZWMgYmVoYXZpb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFuZGxlciAhPT0gVGhyb3dlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJncyA9IFtlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdFdpdGgodGhhdCwgYXJncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy4zLjMuMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC01N1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZS1yZXNvbHZlIHByb21pc2VzIGltbWVkaWF0ZWx5IHRvIGRvZGdlIGZhbHNlIHJlamVjdGlvbiBmcm9tXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN1YnNlcXVlbnQgZXJyb3JzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXB0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2VzcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2FsbCBhbiBvcHRpb25hbCBob29rIHRvIHJlY29yZCB0aGUgZXJyb3IsIGluIGNhc2Ugb2YgZXhjZXB0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzaW5jZSBpdCdzIG90aGVyd2lzZSBsb3N0IHdoZW4gZXhlY3V0aW9uIGdvZXMgYXN5bmNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqUXVlcnkuRGVmZXJyZWQuZ2V0RXJyb3JIb29rKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzcy5lcnJvciA9IGpRdWVyeS5EZWZlcnJlZC5nZXRFcnJvckhvb2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgZGVwcmVjYXRlZCBhbGlhcyBvZiB0aGUgYWJvdmUuIFdoaWxlIHRoZSBuYW1lIHN1Z2dlc3RzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJuaW5nIHRoZSBzdGFjaywgbm90IGFuIGVycm9yIGluc3RhbmNlLCBqUXVlcnkganVzdCBwYXNzZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpdCBkaXJlY3RseSB0byBgY29uc29sZS53YXJuYCBzbyBib3RoIHdpbGwgd29yazsgYW4gaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBqdXN0IGJldHRlciBjb29wZXJhdGVzIHdpdGggc291cmNlIG1hcHMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChqUXVlcnkuRGVmZXJyZWQuZ2V0U3RhY2tIb29rKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzcy5lcnJvciA9IGpRdWVyeS5EZWZlcnJlZC5nZXRTdGFja0hvb2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KHByb2Nlc3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBqUXVlcnkuRGVmZXJyZWQoZnVuY3Rpb24gKG5ld0RlZmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHJvZ3Jlc3NfaGFuZGxlcnMuYWRkKCAuLi4gKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR1cGxlc1swXVszXS5hZGQocmVzb2x2ZSgwLCBuZXdEZWZlciwgaXNGdW5jdGlvbihvblByb2dyZXNzKSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uUHJvZ3Jlc3MgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJZGVudGl0eSwgbmV3RGVmZXIubm90aWZ5V2l0aCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZ1bGZpbGxlZF9oYW5kbGVycy5hZGQoIC4uLiApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHVwbGVzWzFdWzNdLmFkZChyZXNvbHZlKDAsIG5ld0RlZmVyLCBpc0Z1bmN0aW9uKG9uRnVsZmlsbGVkKSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRnVsZmlsbGVkIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSWRlbnRpdHkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZWplY3RlZF9oYW5kbGVycy5hZGQoIC4uLiApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHVwbGVzWzJdWzNdLmFkZChyZXNvbHZlKDAsIG5ld0RlZmVyLCBpc0Z1bmN0aW9uKG9uUmVqZWN0ZWQpID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25SZWplY3RlZCA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRocm93ZXIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLnByb21pc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgLy8gR2V0IGEgcHJvbWlzZSBmb3IgdGhpcyBkZWZlcnJlZFxuICAgICAgICAgICAgICAgICAgICAvLyBJZiBvYmogaXMgcHJvdmlkZWQsIHRoZSBwcm9taXNlIGFzcGVjdCBpcyBhZGRlZCB0byB0aGUgb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgIHByb21pc2U6IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmogIT0gbnVsbCA/IGpRdWVyeS5leHRlbmQob2JqLCBwcm9taXNlKSA6IHByb21pc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCBkZWZlcnJlZCA9IHt9O1xuICAgICAgICAgICAgICAgIC8vIEFkZCBsaXN0LXNwZWNpZmljIG1ldGhvZHNcbiAgICAgICAgICAgICAgICBqUXVlcnkuZWFjaCh0dXBsZXMsIGZ1bmN0aW9uIChpLCB0dXBsZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdCA9IHR1cGxlWzJdLCBzdGF0ZVN0cmluZyA9IHR1cGxlWzVdO1xuICAgICAgICAgICAgICAgICAgICAvLyBwcm9taXNlLnByb2dyZXNzID0gbGlzdC5hZGRcbiAgICAgICAgICAgICAgICAgICAgLy8gcHJvbWlzZS5kb25lID0gbGlzdC5hZGRcbiAgICAgICAgICAgICAgICAgICAgLy8gcHJvbWlzZS5mYWlsID0gbGlzdC5hZGRcbiAgICAgICAgICAgICAgICAgICAgcHJvbWlzZVt0dXBsZVsxXV0gPSBsaXN0LmFkZDtcbiAgICAgICAgICAgICAgICAgICAgLy8gSGFuZGxlIHN0YXRlXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZVN0cmluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdC5hZGQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0YXRlID0gXCJyZXNvbHZlZFwiIChpLmUuLCBmdWxmaWxsZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3RhdGUgPSBcInJlamVjdGVkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IHN0YXRlU3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZWplY3RlZF9jYWxsYmFja3MuZGlzYWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZnVsZmlsbGVkX2NhbGxiYWNrcy5kaXNhYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICB0dXBsZXNbMyAtIGldWzJdLmRpc2FibGUsIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVqZWN0ZWRfaGFuZGxlcnMuZGlzYWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZnVsZmlsbGVkX2hhbmRsZXJzLmRpc2FibGVcbiAgICAgICAgICAgICAgICAgICAgICAgIHR1cGxlc1szIC0gaV1bM10uZGlzYWJsZSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBwcm9ncmVzc19jYWxsYmFja3MubG9ja1xuICAgICAgICAgICAgICAgICAgICAgICAgdHVwbGVzWzBdWzJdLmxvY2ssIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHJvZ3Jlc3NfaGFuZGxlcnMubG9ja1xuICAgICAgICAgICAgICAgICAgICAgICAgdHVwbGVzWzBdWzNdLmxvY2spO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIHByb2dyZXNzX2hhbmRsZXJzLmZpcmVcbiAgICAgICAgICAgICAgICAgICAgLy8gZnVsZmlsbGVkX2hhbmRsZXJzLmZpcmVcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVqZWN0ZWRfaGFuZGxlcnMuZmlyZVxuICAgICAgICAgICAgICAgICAgICBsaXN0LmFkZCh0dXBsZVszXS5maXJlKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZGVmZXJyZWQubm90aWZ5ID0gZnVuY3Rpb24oKSB7IGRlZmVycmVkLm5vdGlmeVdpdGgoLi4uKSB9XG4gICAgICAgICAgICAgICAgICAgIC8vIGRlZmVycmVkLnJlc29sdmUgPSBmdW5jdGlvbigpIHsgZGVmZXJyZWQucmVzb2x2ZVdpdGgoLi4uKSB9XG4gICAgICAgICAgICAgICAgICAgIC8vIGRlZmVycmVkLnJlamVjdCA9IGZ1bmN0aW9uKCkgeyBkZWZlcnJlZC5yZWplY3RXaXRoKC4uLikgfVxuICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZFt0dXBsZVswXV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZFt0dXBsZVswXSArIFwiV2l0aFwiXSh0aGlzID09PSBkZWZlcnJlZCA/IHVuZGVmaW5lZCA6IHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZGVmZXJyZWQubm90aWZ5V2l0aCA9IGxpc3QuZmlyZVdpdGhcbiAgICAgICAgICAgICAgICAgICAgLy8gZGVmZXJyZWQucmVzb2x2ZVdpdGggPSBsaXN0LmZpcmVXaXRoXG4gICAgICAgICAgICAgICAgICAgIC8vIGRlZmVycmVkLnJlamVjdFdpdGggPSBsaXN0LmZpcmVXaXRoXG4gICAgICAgICAgICAgICAgICAgIGRlZmVycmVkW3R1cGxlWzBdICsgXCJXaXRoXCJdID0gbGlzdC5maXJlV2l0aDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyBNYWtlIHRoZSBkZWZlcnJlZCBhIHByb21pc2VcbiAgICAgICAgICAgICAgICBwcm9taXNlLnByb21pc2UoZGVmZXJyZWQpO1xuICAgICAgICAgICAgICAgIC8vIENhbGwgZ2l2ZW4gZnVuYyBpZiBhbnlcbiAgICAgICAgICAgICAgICBpZiAoZnVuYykge1xuICAgICAgICAgICAgICAgICAgICBmdW5jLmNhbGwoZGVmZXJyZWQsIGRlZmVycmVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQWxsIGRvbmUhXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIERlZmVycmVkIGhlbHBlclxuICAgICAgICAgICAgd2hlbjogZnVuY3Rpb24gKHNpbmdsZVZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdmFyIFxuICAgICAgICAgICAgICAgIC8vIGNvdW50IG9mIHVuY29tcGxldGVkIHN1Ym9yZGluYXRlc1xuICAgICAgICAgICAgICAgIHJlbWFpbmluZyA9IGFyZ3VtZW50cy5sZW5ndGgsIFxuICAgICAgICAgICAgICAgIC8vIGNvdW50IG9mIHVucHJvY2Vzc2VkIGFyZ3VtZW50c1xuICAgICAgICAgICAgICAgIGkgPSByZW1haW5pbmcsIFxuICAgICAgICAgICAgICAgIC8vIHN1Ym9yZGluYXRlIGZ1bGZpbGxtZW50IGRhdGFcbiAgICAgICAgICAgICAgICByZXNvbHZlQ29udGV4dHMgPSBBcnJheShpKSwgcmVzb2x2ZVZhbHVlcyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzKSwgXG4gICAgICAgICAgICAgICAgLy8gdGhlIHByaW1hcnkgRGVmZXJyZWRcbiAgICAgICAgICAgICAgICBwcmltYXJ5ID0galF1ZXJ5LkRlZmVycmVkKCksIFxuICAgICAgICAgICAgICAgIC8vIHN1Ym9yZGluYXRlIGNhbGxiYWNrIGZhY3RvcnlcbiAgICAgICAgICAgICAgICB1cGRhdGVGdW5jID0gZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUNvbnRleHRzW2ldID0gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVWYWx1ZXNbaV0gPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IHNsaWNlLmNhbGwoYXJndW1lbnRzKSA6IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoLS1yZW1haW5pbmcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbWFyeS5yZXNvbHZlV2l0aChyZXNvbHZlQ29udGV4dHMsIHJlc29sdmVWYWx1ZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgLy8gU2luZ2xlLSBhbmQgZW1wdHkgYXJndW1lbnRzIGFyZSBhZG9wdGVkIGxpa2UgUHJvbWlzZS5yZXNvbHZlXG4gICAgICAgICAgICAgICAgaWYgKHJlbWFpbmluZyA8PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkb3B0VmFsdWUoc2luZ2xlVmFsdWUsIHByaW1hcnkuZG9uZSh1cGRhdGVGdW5jKGkpKS5yZXNvbHZlLCBwcmltYXJ5LnJlamVjdCwgIXJlbWFpbmluZyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFVzZSAudGhlbigpIHRvIHVud3JhcCBzZWNvbmRhcnkgdGhlbmFibGVzIChjZi4gZ2gtMzAwMClcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByaW1hcnkuc3RhdGUoKSA9PT0gXCJwZW5kaW5nXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRnVuY3Rpb24ocmVzb2x2ZVZhbHVlc1tpXSAmJiByZXNvbHZlVmFsdWVzW2ldLnRoZW4pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJpbWFyeS50aGVuKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gTXVsdGlwbGUgYXJndW1lbnRzIGFyZSBhZ2dyZWdhdGVkIGxpa2UgUHJvbWlzZS5hbGwgYXJyYXkgZWxlbWVudHNcbiAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkb3B0VmFsdWUocmVzb2x2ZVZhbHVlc1tpXSwgdXBkYXRlRnVuYyhpKSwgcHJpbWFyeS5yZWplY3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcHJpbWFyeS5wcm9taXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBUaGVzZSB1c3VhbGx5IGluZGljYXRlIGEgcHJvZ3JhbW1lciBtaXN0YWtlIGR1cmluZyBkZXZlbG9wbWVudCxcbiAgICAgICAgLy8gd2FybiBhYm91dCB0aGVtIEFTQVAgcmF0aGVyIHRoYW4gc3dhbGxvd2luZyB0aGVtIGJ5IGRlZmF1bHQuXG4gICAgICAgIHZhciByZXJyb3JOYW1lcyA9IC9eKEV2YWx8SW50ZXJuYWx8UmFuZ2V8UmVmZXJlbmNlfFN5bnRheHxUeXBlfFVSSSlFcnJvciQvO1xuICAgICAgICAvLyBJZiBgalF1ZXJ5LkRlZmVycmVkLmdldEVycm9ySG9va2AgaXMgZGVmaW5lZCwgYGFzeW5jRXJyb3JgIGlzIGFuIGVycm9yXG4gICAgICAgIC8vIGNhcHR1cmVkIGJlZm9yZSB0aGUgYXN5bmMgYmFycmllciB0byBnZXQgdGhlIG9yaWdpbmFsIGVycm9yIGNhdXNlXG4gICAgICAgIC8vIHdoaWNoIG1heSBvdGhlcndpc2UgYmUgaGlkZGVuLlxuICAgICAgICBqUXVlcnkuRGVmZXJyZWQuZXhjZXB0aW9uSG9vayA9IGZ1bmN0aW9uIChlcnJvciwgYXN5bmNFcnJvcikge1xuICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgOCAtIDkgb25seVxuICAgICAgICAgICAgLy8gQ29uc29sZSBleGlzdHMgd2hlbiBkZXYgdG9vbHMgYXJlIG9wZW4sIHdoaWNoIGNhbiBoYXBwZW4gYXQgYW55IHRpbWVcbiAgICAgICAgICAgIGlmICh3aW5kb3cuY29uc29sZSAmJiB3aW5kb3cuY29uc29sZS53YXJuICYmIGVycm9yICYmIHJlcnJvck5hbWVzLnRlc3QoZXJyb3IubmFtZSkpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS53YXJuKFwialF1ZXJ5LkRlZmVycmVkIGV4Y2VwdGlvbjogXCIgKyBlcnJvci5tZXNzYWdlLCBlcnJvci5zdGFjaywgYXN5bmNFcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGpRdWVyeS5yZWFkeUV4Y2VwdGlvbiA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIFRoZSBkZWZlcnJlZCB1c2VkIG9uIERPTSByZWFkeVxuICAgICAgICB2YXIgcmVhZHlMaXN0ID0galF1ZXJ5LkRlZmVycmVkKCk7XG4gICAgICAgIGpRdWVyeS5mbi5yZWFkeSA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgICAgICAgcmVhZHlMaXN0XG4gICAgICAgICAgICAgICAgLnRoZW4oZm4pXG4gICAgICAgICAgICAgICAgLy8gV3JhcCBqUXVlcnkucmVhZHlFeGNlcHRpb24gaW4gYSBmdW5jdGlvbiBzbyB0aGF0IHRoZSBsb29rdXBcbiAgICAgICAgICAgICAgICAvLyBoYXBwZW5zIGF0IHRoZSB0aW1lIG9mIGVycm9yIGhhbmRsaW5nIGluc3RlYWQgb2YgY2FsbGJhY2tcbiAgICAgICAgICAgICAgICAvLyByZWdpc3RyYXRpb24uXG4gICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGpRdWVyeS5yZWFkeUV4Y2VwdGlvbihlcnJvcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICBqUXVlcnkuZXh0ZW5kKHtcbiAgICAgICAgICAgIC8vIElzIHRoZSBET00gcmVhZHkgdG8gYmUgdXNlZD8gU2V0IHRvIHRydWUgb25jZSBpdCBvY2N1cnMuXG4gICAgICAgICAgICBpc1JlYWR5OiBmYWxzZSxcbiAgICAgICAgICAgIC8vIEEgY291bnRlciB0byB0cmFjayBob3cgbWFueSBpdGVtcyB0byB3YWl0IGZvciBiZWZvcmVcbiAgICAgICAgICAgIC8vIHRoZSByZWFkeSBldmVudCBmaXJlcy4gU2VlIHRyYWMtNjc4MVxuICAgICAgICAgICAgcmVhZHlXYWl0OiAxLFxuICAgICAgICAgICAgLy8gSGFuZGxlIHdoZW4gdGhlIERPTSBpcyByZWFkeVxuICAgICAgICAgICAgcmVhZHk6IGZ1bmN0aW9uICh3YWl0KSB7XG4gICAgICAgICAgICAgICAgLy8gQWJvcnQgaWYgdGhlcmUgYXJlIHBlbmRpbmcgaG9sZHMgb3Igd2UncmUgYWxyZWFkeSByZWFkeVxuICAgICAgICAgICAgICAgIGlmICh3YWl0ID09PSB0cnVlID8gLS1qUXVlcnkucmVhZHlXYWl0IDogalF1ZXJ5LmlzUmVhZHkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBSZW1lbWJlciB0aGF0IHRoZSBET00gaXMgcmVhZHlcbiAgICAgICAgICAgICAgICBqUXVlcnkuaXNSZWFkeSA9IHRydWU7XG4gICAgICAgICAgICAgICAgLy8gSWYgYSBub3JtYWwgRE9NIFJlYWR5IGV2ZW50IGZpcmVkLCBkZWNyZW1lbnQsIGFuZCB3YWl0IGlmIG5lZWQgYmVcbiAgICAgICAgICAgICAgICBpZiAod2FpdCAhPT0gdHJ1ZSAmJiAtLWpRdWVyeS5yZWFkeVdhaXQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlcmUgYXJlIGZ1bmN0aW9ucyBib3VuZCwgdG8gZXhlY3V0ZVxuICAgICAgICAgICAgICAgIHJlYWR5TGlzdC5yZXNvbHZlV2l0aChkb2N1bWVudCwgW2pRdWVyeV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgalF1ZXJ5LnJlYWR5LnRoZW4gPSByZWFkeUxpc3QudGhlbjtcbiAgICAgICAgLy8gVGhlIHJlYWR5IGV2ZW50IGhhbmRsZXIgYW5kIHNlbGYgY2xlYW51cCBtZXRob2RcbiAgICAgICAgZnVuY3Rpb24gY29tcGxldGVkKCkge1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgY29tcGxldGVkKTtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibG9hZFwiLCBjb21wbGV0ZWQpO1xuICAgICAgICAgICAgalF1ZXJ5LnJlYWR5KCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2F0Y2ggY2FzZXMgd2hlcmUgJChkb2N1bWVudCkucmVhZHkoKSBpcyBjYWxsZWRcbiAgICAgICAgLy8gYWZ0ZXIgdGhlIGJyb3dzZXIgZXZlbnQgaGFzIGFscmVhZHkgb2NjdXJyZWQuXG4gICAgICAgIC8vIFN1cHBvcnQ6IElFIDw9OSAtIDEwIG9ubHlcbiAgICAgICAgLy8gT2xkZXIgSUUgc29tZXRpbWVzIHNpZ25hbHMgXCJpbnRlcmFjdGl2ZVwiIHRvbyBzb29uXG4gICAgICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSBcImNvbXBsZXRlXCIgfHxcbiAgICAgICAgICAgIChkb2N1bWVudC5yZWFkeVN0YXRlICE9PSBcImxvYWRpbmdcIiAmJiAhZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsKSkge1xuICAgICAgICAgICAgLy8gSGFuZGxlIGl0IGFzeW5jaHJvbm91c2x5IHRvIGFsbG93IHNjcmlwdHMgdGhlIG9wcG9ydHVuaXR5IHRvIGRlbGF5IHJlYWR5XG4gICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChqUXVlcnkucmVhZHkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gVXNlIHRoZSBoYW5keSBldmVudCBjYWxsYmFja1xuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgY29tcGxldGVkKTtcbiAgICAgICAgICAgIC8vIEEgZmFsbGJhY2sgdG8gd2luZG93Lm9ubG9hZCwgdGhhdCB3aWxsIGFsd2F5cyB3b3JrXG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgY29tcGxldGVkKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBNdWx0aWZ1bmN0aW9uYWwgbWV0aG9kIHRvIGdldCBhbmQgc2V0IHZhbHVlcyBvZiBhIGNvbGxlY3Rpb25cbiAgICAgICAgLy8gVGhlIHZhbHVlL3MgY2FuIG9wdGlvbmFsbHkgYmUgZXhlY3V0ZWQgaWYgaXQncyBhIGZ1bmN0aW9uXG4gICAgICAgIHZhciBhY2Nlc3MgPSBmdW5jdGlvbiAoZWxlbXMsIGZuLCBrZXksIHZhbHVlLCBjaGFpbmFibGUsIGVtcHR5R2V0LCByYXcpIHtcbiAgICAgICAgICAgIHZhciBpID0gMCwgbGVuID0gZWxlbXMubGVuZ3RoLCBidWxrID0ga2V5ID09IG51bGw7XG4gICAgICAgICAgICAvLyBTZXRzIG1hbnkgdmFsdWVzXG4gICAgICAgICAgICBpZiAodG9UeXBlKGtleSkgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICBjaGFpbmFibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGZvciAoaSBpbiBrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgYWNjZXNzKGVsZW1zLCBmbiwgaSwga2V5W2ldLCB0cnVlLCBlbXB0eUdldCwgcmF3KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gU2V0cyBvbmUgdmFsdWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjaGFpbmFibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmICghaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmF3ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGJ1bGspIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQnVsayBvcGVyYXRpb25zIHJ1biBhZ2FpbnN0IHRoZSBlbnRpcmUgc2V0XG4gICAgICAgICAgICAgICAgICAgIGlmIChyYXcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZuLmNhbGwoZWxlbXMsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZuID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uLmV4Y2VwdCB3aGVuIGV4ZWN1dGluZyBmdW5jdGlvbiB2YWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1bGsgPSBmbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZuID0gZnVuY3Rpb24gKGVsZW0sIF9rZXksIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJ1bGsuY2FsbChqUXVlcnkoZWxlbSksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGZuKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZuKGVsZW1zW2ldLCBrZXksIHJhdyA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLmNhbGwoZWxlbXNbaV0sIGksIGZuKGVsZW1zW2ldLCBrZXkpKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2hhaW5hYmxlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gR2V0c1xuICAgICAgICAgICAgaWYgKGJ1bGspIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm4uY2FsbChlbGVtcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbGVuID8gZm4oZWxlbXNbMF0sIGtleSkgOiBlbXB0eUdldDtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gTWF0Y2hlcyBkYXNoZWQgc3RyaW5nIGZvciBjYW1lbGl6aW5nXG4gICAgICAgIHZhciBybXNQcmVmaXggPSAvXi1tcy0vLCByZGFzaEFscGhhID0gLy0oW2Etel0pL2c7XG4gICAgICAgIC8vIFVzZWQgYnkgY2FtZWxDYXNlIGFzIGNhbGxiYWNrIHRvIHJlcGxhY2UoKVxuICAgICAgICBmdW5jdGlvbiBmY2FtZWxDYXNlKF9hbGwsIGxldHRlcikge1xuICAgICAgICAgICAgcmV0dXJuIGxldHRlci50b1VwcGVyQ2FzZSgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIENvbnZlcnQgZGFzaGVkIHRvIGNhbWVsQ2FzZTsgdXNlZCBieSB0aGUgY3NzIGFuZCBkYXRhIG1vZHVsZXNcbiAgICAgICAgLy8gU3VwcG9ydDogSUUgPD05IC0gMTEsIEVkZ2UgMTIgLSAxNVxuICAgICAgICAvLyBNaWNyb3NvZnQgZm9yZ290IHRvIGh1bXAgdGhlaXIgdmVuZG9yIHByZWZpeCAodHJhYy05NTcyKVxuICAgICAgICBmdW5jdGlvbiBjYW1lbENhc2Uoc3RyaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2Uocm1zUHJlZml4LCBcIm1zLVwiKS5yZXBsYWNlKHJkYXNoQWxwaGEsIGZjYW1lbENhc2UpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhY2NlcHREYXRhID0gZnVuY3Rpb24gKG93bmVyKSB7XG4gICAgICAgICAgICAvLyBBY2NlcHRzIG9ubHk6XG4gICAgICAgICAgICAvLyAgLSBOb2RlXG4gICAgICAgICAgICAvLyAgICAtIE5vZGUuRUxFTUVOVF9OT0RFXG4gICAgICAgICAgICAvLyAgICAtIE5vZGUuRE9DVU1FTlRfTk9ERVxuICAgICAgICAgICAgLy8gIC0gT2JqZWN0XG4gICAgICAgICAgICAvLyAgICAtIEFueVxuICAgICAgICAgICAgcmV0dXJuIG93bmVyLm5vZGVUeXBlID09PSAxIHx8IG93bmVyLm5vZGVUeXBlID09PSA5IHx8ICEoK293bmVyLm5vZGVUeXBlKTtcbiAgICAgICAgfTtcbiAgICAgICAgZnVuY3Rpb24gRGF0YSgpIHtcbiAgICAgICAgICAgIHRoaXMuZXhwYW5kbyA9IGpRdWVyeS5leHBhbmRvICsgRGF0YS51aWQrKztcbiAgICAgICAgfVxuICAgICAgICBEYXRhLnVpZCA9IDE7XG4gICAgICAgIERhdGEucHJvdG90eXBlID0ge1xuICAgICAgICAgICAgY2FjaGU6IGZ1bmN0aW9uIChvd25lcikge1xuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBvd25lciBvYmplY3QgYWxyZWFkeSBoYXMgYSBjYWNoZVxuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IG93bmVyW3RoaXMuZXhwYW5kb107XG4gICAgICAgICAgICAgICAgLy8gSWYgbm90LCBjcmVhdGUgb25lXG4gICAgICAgICAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSBjYW4gYWNjZXB0IGRhdGEgZm9yIG5vbi1lbGVtZW50IG5vZGVzIGluIG1vZGVybiBicm93c2VycyxcbiAgICAgICAgICAgICAgICAgICAgLy8gYnV0IHdlIHNob3VsZCBub3QsIHNlZSB0cmFjLTgzMzUuXG4gICAgICAgICAgICAgICAgICAgIC8vIEFsd2F5cyByZXR1cm4gYW4gZW1wdHkgb2JqZWN0LlxuICAgICAgICAgICAgICAgICAgICBpZiAoYWNjZXB0RGF0YShvd25lcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIGl0IGlzIGEgbm9kZSB1bmxpa2VseSB0byBiZSBzdHJpbmdpZnktZWQgb3IgbG9vcGVkIG92ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHVzZSBwbGFpbiBhc3NpZ25tZW50XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3duZXIubm9kZVR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvd25lclt0aGlzLmV4cGFuZG9dID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIHNlY3VyZSBpdCBpbiBhIG5vbi1lbnVtZXJhYmxlIHByb3BlcnR5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uZmlndXJhYmxlIG11c3QgYmUgdHJ1ZSB0byBhbGxvdyB0aGUgcHJvcGVydHkgdG8gYmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBkZWxldGVkIHdoZW4gZGF0YSBpcyByZW1vdmVkXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob3duZXIsIHRoaXMuZXhwYW5kbywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChvd25lciwgZGF0YSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJvcCwgY2FjaGUgPSB0aGlzLmNhY2hlKG93bmVyKTtcbiAgICAgICAgICAgICAgICAvLyBIYW5kbGU6IFsgb3duZXIsIGtleSwgdmFsdWUgXSBhcmdzXG4gICAgICAgICAgICAgICAgLy8gQWx3YXlzIHVzZSBjYW1lbENhc2Uga2V5IChnaC0yMjU3KVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICBjYWNoZVtjYW1lbENhc2UoZGF0YSldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZTogWyBvd25lciwgeyBwcm9wZXJ0aWVzIH0gXSBhcmdzXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBDb3B5IHRoZSBwcm9wZXJ0aWVzIG9uZS1ieS1vbmUgdG8gdGhlIGNhY2hlIG9iamVjdFxuICAgICAgICAgICAgICAgICAgICBmb3IgKHByb3AgaW4gZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVbY2FtZWxDYXNlKHByb3ApXSA9IGRhdGFbcHJvcF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhY2hlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKG93bmVyLCBrZXkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ga2V5ID09PSB1bmRlZmluZWQgP1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhY2hlKG93bmVyKSA6XG4gICAgICAgICAgICAgICAgICAgIC8vIEFsd2F5cyB1c2UgY2FtZWxDYXNlIGtleSAoZ2gtMjI1NylcbiAgICAgICAgICAgICAgICAgICAgb3duZXJbdGhpcy5leHBhbmRvXSAmJiBvd25lclt0aGlzLmV4cGFuZG9dW2NhbWVsQ2FzZShrZXkpXTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhY2Nlc3M6IGZ1bmN0aW9uIChvd25lciwga2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIC8vIEluIGNhc2VzIHdoZXJlIGVpdGhlcjpcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vICAgMS4gTm8ga2V5IHdhcyBzcGVjaWZpZWRcbiAgICAgICAgICAgICAgICAvLyAgIDIuIEEgc3RyaW5nIGtleSB3YXMgc3BlY2lmaWVkLCBidXQgbm8gdmFsdWUgcHJvdmlkZWRcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vIFRha2UgdGhlIFwicmVhZFwiIHBhdGggYW5kIGFsbG93IHRoZSBnZXQgbWV0aG9kIHRvIGRldGVybWluZVxuICAgICAgICAgICAgICAgIC8vIHdoaWNoIHZhbHVlIHRvIHJldHVybiwgcmVzcGVjdGl2ZWx5IGVpdGhlcjpcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vICAgMS4gVGhlIGVudGlyZSBjYWNoZSBvYmplY3RcbiAgICAgICAgICAgICAgICAvLyAgIDIuIFRoZSBkYXRhIHN0b3JlZCBhdCB0aGUga2V5XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgICAgICAgICAgKChrZXkgJiYgdHlwZW9mIGtleSA9PT0gXCJzdHJpbmdcIikgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KG93bmVyLCBrZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBXaGVuIHRoZSBrZXkgaXMgbm90IGEgc3RyaW5nLCBvciBib3RoIGEga2V5IGFuZCB2YWx1ZVxuICAgICAgICAgICAgICAgIC8vIGFyZSBzcGVjaWZpZWQsIHNldCBvciBleHRlbmQgKGV4aXN0aW5nIG9iamVjdHMpIHdpdGggZWl0aGVyOlxuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gICAxLiBBbiBvYmplY3Qgb2YgcHJvcGVydGllc1xuICAgICAgICAgICAgICAgIC8vICAgMi4gQSBrZXkgYW5kIHZhbHVlXG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICB0aGlzLnNldChvd25lciwga2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgLy8gU2luY2UgdGhlIFwic2V0XCIgcGF0aCBjYW4gaGF2ZSB0d28gcG9zc2libGUgZW50cnkgcG9pbnRzXG4gICAgICAgICAgICAgICAgLy8gcmV0dXJuIHRoZSBleHBlY3RlZCBkYXRhIGJhc2VkIG9uIHdoaWNoIHBhdGggd2FzIHRha2VuWypdXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWQgPyB2YWx1ZSA6IGtleTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZW1vdmU6IGZ1bmN0aW9uIChvd25lciwga2V5KSB7XG4gICAgICAgICAgICAgICAgdmFyIGksIGNhY2hlID0gb3duZXJbdGhpcy5leHBhbmRvXTtcbiAgICAgICAgICAgICAgICBpZiAoY2FjaGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChrZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0IGFycmF5IG9yIHNwYWNlIHNlcGFyYXRlZCBzdHJpbmcgb2Yga2V5c1xuICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBrZXkgaXMgYW4gYXJyYXkgb2Yga2V5cy4uLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgYWx3YXlzIHNldCBjYW1lbENhc2Uga2V5cywgc28gcmVtb3ZlIHRoYXQuXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBrZXkubWFwKGNhbWVsQ2FzZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBjYW1lbENhc2Uoa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIGEga2V5IHdpdGggdGhlIHNwYWNlcyBleGlzdHMsIHVzZSBpdC5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgY3JlYXRlIGFuIGFycmF5IGJ5IG1hdGNoaW5nIG5vbi13aGl0ZXNwYWNlXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBrZXkgaW4gY2FjaGUgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtrZXldIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoa2V5Lm1hdGNoKHJub3RodG1sd2hpdGUpIHx8IFtdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpID0ga2V5Lmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGNhY2hlW2tleVtpXV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSBleHBhbmRvIGlmIHRoZXJlJ3Mgbm8gbW9yZSBkYXRhXG4gICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkIHx8IGpRdWVyeS5pc0VtcHR5T2JqZWN0KGNhY2hlKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBDaHJvbWUgPD0zNSAtIDQ1XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlYmtpdCAmIEJsaW5rIHBlcmZvcm1hbmNlIHN1ZmZlcnMgd2hlbiBkZWxldGluZyBwcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgICAgIC8vIGZyb20gRE9NIG5vZGVzLCBzbyBzZXQgdG8gdW5kZWZpbmVkIGluc3RlYWRcbiAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9Mzc4NjA3IChidWcgcmVzdHJpY3RlZClcbiAgICAgICAgICAgICAgICAgICAgaWYgKG93bmVyLm5vZGVUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvd25lclt0aGlzLmV4cGFuZG9dID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG93bmVyW3RoaXMuZXhwYW5kb107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaGFzRGF0YTogZnVuY3Rpb24gKG93bmVyKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNhY2hlID0gb3duZXJbdGhpcy5leHBhbmRvXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGUgIT09IHVuZGVmaW5lZCAmJiAhalF1ZXJ5LmlzRW1wdHlPYmplY3QoY2FjaGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB2YXIgZGF0YVByaXYgPSBuZXcgRGF0YSgpO1xuICAgICAgICB2YXIgZGF0YVVzZXIgPSBuZXcgRGF0YSgpO1xuICAgICAgICAvL1x0SW1wbGVtZW50YXRpb24gU3VtbWFyeVxuICAgICAgICAvL1xuICAgICAgICAvL1x0MS4gRW5mb3JjZSBBUEkgc3VyZmFjZSBhbmQgc2VtYW50aWMgY29tcGF0aWJpbGl0eSB3aXRoIDEuOS54IGJyYW5jaFxuICAgICAgICAvL1x0Mi4gSW1wcm92ZSB0aGUgbW9kdWxlJ3MgbWFpbnRhaW5hYmlsaXR5IGJ5IHJlZHVjaW5nIHRoZSBzdG9yYWdlXG4gICAgICAgIC8vXHRcdHBhdGhzIHRvIGEgc2luZ2xlIG1lY2hhbmlzbS5cbiAgICAgICAgLy9cdDMuIFVzZSB0aGUgc2FtZSBzaW5nbGUgbWVjaGFuaXNtIHRvIHN1cHBvcnQgXCJwcml2YXRlXCIgYW5kIFwidXNlclwiIGRhdGEuXG4gICAgICAgIC8vXHQ0LiBfTmV2ZXJfIGV4cG9zZSBcInByaXZhdGVcIiBkYXRhIHRvIHVzZXIgY29kZSAoVE9ETzogRHJvcCBfZGF0YSwgX3JlbW92ZURhdGEpXG4gICAgICAgIC8vXHQ1LiBBdm9pZCBleHBvc2luZyBpbXBsZW1lbnRhdGlvbiBkZXRhaWxzIG9uIHVzZXIgb2JqZWN0cyAoZWcuIGV4cGFuZG8gcHJvcGVydGllcylcbiAgICAgICAgLy9cdDYuIFByb3ZpZGUgYSBjbGVhciBwYXRoIGZvciBpbXBsZW1lbnRhdGlvbiB1cGdyYWRlIHRvIFdlYWtNYXAgaW4gMjAxNFxuICAgICAgICB2YXIgcmJyYWNlID0gL14oPzpcXHtbXFx3XFxXXSpcXH18XFxbW1xcd1xcV10qXFxdKSQvLCBybXVsdGlEYXNoID0gL1tBLVpdL2c7XG4gICAgICAgIGZ1bmN0aW9uIGdldERhdGEoZGF0YSkge1xuICAgICAgICAgICAgaWYgKGRhdGEgPT09IFwidHJ1ZVwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YSA9PT0gXCJmYWxzZVwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRhdGEgPT09IFwibnVsbFwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBPbmx5IGNvbnZlcnQgdG8gYSBudW1iZXIgaWYgaXQgZG9lc24ndCBjaGFuZ2UgdGhlIHN0cmluZ1xuICAgICAgICAgICAgaWYgKGRhdGEgPT09ICtkYXRhICsgXCJcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiArZGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyYnJhY2UudGVzdChkYXRhKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gZGF0YUF0dHIoZWxlbSwga2V5LCBkYXRhKSB7XG4gICAgICAgICAgICB2YXIgbmFtZTtcbiAgICAgICAgICAgIC8vIElmIG5vdGhpbmcgd2FzIGZvdW5kIGludGVybmFsbHksIHRyeSB0byBmZXRjaCBhbnlcbiAgICAgICAgICAgIC8vIGRhdGEgZnJvbSB0aGUgSFRNTDUgZGF0YS0qIGF0dHJpYnV0ZVxuICAgICAgICAgICAgaWYgKGRhdGEgPT09IHVuZGVmaW5lZCAmJiBlbGVtLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgICAgICAgICAgbmFtZSA9IFwiZGF0YS1cIiArIGtleS5yZXBsYWNlKHJtdWx0aURhc2gsIFwiLSQmXCIpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgZGF0YSA9IGVsZW0uZ2V0QXR0cmlidXRlKG5hbWUpO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IGdldERhdGEoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfVxuICAgICAgICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgd2Ugc2V0IHRoZSBkYXRhIHNvIGl0IGlzbid0IGNoYW5nZWQgbGF0ZXJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVVzZXIuc2V0KGVsZW0sIGtleSwgZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkYXRhID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9XG4gICAgICAgIGpRdWVyeS5leHRlbmQoe1xuICAgICAgICAgICAgaGFzRGF0YTogZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YVVzZXIuaGFzRGF0YShlbGVtKSB8fCBkYXRhUHJpdi5oYXNEYXRhKGVsZW0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRhdGE6IGZ1bmN0aW9uIChlbGVtLCBuYW1lLCBkYXRhKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGFVc2VyLmFjY2VzcyhlbGVtLCBuYW1lLCBkYXRhKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZW1vdmVEYXRhOiBmdW5jdGlvbiAoZWxlbSwgbmFtZSkge1xuICAgICAgICAgICAgICAgIGRhdGFVc2VyLnJlbW92ZShlbGVtLCBuYW1lKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBUT0RPOiBOb3cgdGhhdCBhbGwgY2FsbHMgdG8gX2RhdGEgYW5kIF9yZW1vdmVEYXRhIGhhdmUgYmVlbiByZXBsYWNlZFxuICAgICAgICAgICAgLy8gd2l0aCBkaXJlY3QgY2FsbHMgdG8gZGF0YVByaXYgbWV0aG9kcywgdGhlc2UgY2FuIGJlIGRlcHJlY2F0ZWQuXG4gICAgICAgICAgICBfZGF0YTogZnVuY3Rpb24gKGVsZW0sIG5hbWUsIGRhdGEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YVByaXYuYWNjZXNzKGVsZW0sIG5hbWUsIGRhdGEpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9yZW1vdmVEYXRhOiBmdW5jdGlvbiAoZWxlbSwgbmFtZSkge1xuICAgICAgICAgICAgICAgIGRhdGFQcml2LnJlbW92ZShlbGVtLCBuYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGpRdWVyeS5mbi5leHRlbmQoe1xuICAgICAgICAgICAgZGF0YTogZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgaSwgbmFtZSwgZGF0YSwgZWxlbSA9IHRoaXNbMF0sIGF0dHJzID0gZWxlbSAmJiBlbGVtLmF0dHJpYnV0ZXM7XG4gICAgICAgICAgICAgICAgLy8gR2V0cyBhbGwgdmFsdWVzXG4gICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IGRhdGFVc2VyLmdldChlbGVtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtLm5vZGVUeXBlID09PSAxICYmICFkYXRhUHJpdi5nZXQoZWxlbSwgXCJoYXNEYXRhQXR0cnNcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gYXR0cnMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgMTEgb25seVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgYXR0cnMgZWxlbWVudHMgY2FuIGJlIG51bGwgKHRyYWMtMTQ4OTQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRyc1tpXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSA9IGF0dHJzW2ldLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmFtZS5pbmRleE9mKFwiZGF0YS1cIikgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lID0gY2FtZWxDYXNlKG5hbWUuc2xpY2UoNSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFBdHRyKGVsZW0sIG5hbWUsIGRhdGFbbmFtZV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFQcml2LnNldChlbGVtLCBcImhhc0RhdGFBdHRyc1wiLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gU2V0cyBtdWx0aXBsZSB2YWx1ZXNcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGtleSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFVc2VyLnNldCh0aGlzLCBrZXkpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjY2Vzcyh0aGlzLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGE7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBjYWxsaW5nIGpRdWVyeSBvYmplY3QgKGVsZW1lbnQgbWF0Y2hlcykgaXMgbm90IGVtcHR5XG4gICAgICAgICAgICAgICAgICAgIC8vIChhbmQgdGhlcmVmb3JlIGhhcyBhbiBlbGVtZW50IGFwcGVhcnMgYXQgdGhpc1sgMCBdKSBhbmQgdGhlXG4gICAgICAgICAgICAgICAgICAgIC8vIGB2YWx1ZWAgcGFyYW1ldGVyIHdhcyBub3QgdW5kZWZpbmVkLiBBbiBlbXB0eSBqUXVlcnkgb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgIC8vIHdpbGwgcmVzdWx0IGluIGB1bmRlZmluZWRgIGZvciBlbGVtID0gdGhpc1sgMCBdIHdoaWNoIHdpbGxcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFuIGF0dGVtcHQgdG8gcmVhZCBhIGRhdGEgY2FjaGUgaXMgbWFkZS5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW0gJiYgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXR0ZW1wdCB0byBnZXQgZGF0YSBmcm9tIHRoZSBjYWNoZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGtleSB3aWxsIGFsd2F5cyBiZSBjYW1lbENhc2VkIGluIERhdGFcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBkYXRhVXNlci5nZXQoZWxlbSwga2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEF0dGVtcHQgdG8gXCJkaXNjb3ZlclwiIHRoZSBkYXRhIGluXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBIVE1MNSBjdXN0b20gZGF0YS0qIGF0dHJzXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gZGF0YUF0dHIoZWxlbSwga2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIHRyaWVkIHJlYWxseSBoYXJkLCBidXQgdGhlIGRhdGEgZG9lc24ndCBleGlzdC5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBTZXQgdGhlIGRhdGEuLi5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGFsd2F5cyBzdG9yZSB0aGUgY2FtZWxDYXNlZCBrZXlcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFVc2VyLnNldCh0aGlzLCBrZXksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSwgbnVsbCwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxLCBudWxsLCB0cnVlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZW1vdmVEYXRhOiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFVc2VyLnJlbW92ZSh0aGlzLCBrZXkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgalF1ZXJ5LmV4dGVuZCh7XG4gICAgICAgICAgICBxdWV1ZTogZnVuY3Rpb24gKGVsZW0sIHR5cGUsIGRhdGEpIHtcbiAgICAgICAgICAgICAgICB2YXIgcXVldWU7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9ICh0eXBlIHx8IFwiZnhcIikgKyBcInF1ZXVlXCI7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlID0gZGF0YVByaXYuZ2V0KGVsZW0sIHR5cGUpO1xuICAgICAgICAgICAgICAgICAgICAvLyBTcGVlZCB1cCBkZXF1ZXVlIGJ5IGdldHRpbmcgb3V0IHF1aWNrbHkgaWYgdGhpcyBpcyBqdXN0IGEgbG9va3VwXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXF1ZXVlIHx8IEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWV1ZSA9IGRhdGFQcml2LmFjY2VzcyhlbGVtLCB0eXBlLCBqUXVlcnkubWFrZUFycmF5KGRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2goZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHF1ZXVlIHx8IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZXF1ZXVlOiBmdW5jdGlvbiAoZWxlbSwgdHlwZSkge1xuICAgICAgICAgICAgICAgIHR5cGUgPSB0eXBlIHx8IFwiZnhcIjtcbiAgICAgICAgICAgICAgICB2YXIgcXVldWUgPSBqUXVlcnkucXVldWUoZWxlbSwgdHlwZSksIHN0YXJ0TGVuZ3RoID0gcXVldWUubGVuZ3RoLCBmbiA9IHF1ZXVlLnNoaWZ0KCksIGhvb2tzID0galF1ZXJ5Ll9xdWV1ZUhvb2tzKGVsZW0sIHR5cGUpLCBuZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBqUXVlcnkuZGVxdWV1ZShlbGVtLCB0eXBlKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBmeCBxdWV1ZSBpcyBkZXF1ZXVlZCwgYWx3YXlzIHJlbW92ZSB0aGUgcHJvZ3Jlc3Mgc2VudGluZWxcbiAgICAgICAgICAgICAgICBpZiAoZm4gPT09IFwiaW5wcm9ncmVzc1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIGZuID0gcXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRMZW5ndGgtLTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGZuKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZCBhIHByb2dyZXNzIHNlbnRpbmVsIHRvIHByZXZlbnQgdGhlIGZ4IHF1ZXVlIGZyb20gYmVpbmdcbiAgICAgICAgICAgICAgICAgICAgLy8gYXV0b21hdGljYWxseSBkZXF1ZXVlZFxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gXCJmeFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBxdWV1ZS51bnNoaWZ0KFwiaW5wcm9ncmVzc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBDbGVhciB1cCB0aGUgbGFzdCBxdWV1ZSBzdG9wIGZ1bmN0aW9uXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBob29rcy5zdG9wO1xuICAgICAgICAgICAgICAgICAgICBmbi5jYWxsKGVsZW0sIG5leHQsIGhvb2tzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFzdGFydExlbmd0aCAmJiBob29rcykge1xuICAgICAgICAgICAgICAgICAgICBob29rcy5lbXB0eS5maXJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIE5vdCBwdWJsaWMgLSBnZW5lcmF0ZSBhIHF1ZXVlSG9va3Mgb2JqZWN0LCBvciByZXR1cm4gdGhlIGN1cnJlbnQgb25lXG4gICAgICAgICAgICBfcXVldWVIb29rczogZnVuY3Rpb24gKGVsZW0sIHR5cGUpIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gdHlwZSArIFwicXVldWVIb29rc1wiO1xuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhUHJpdi5nZXQoZWxlbSwga2V5KSB8fCBkYXRhUHJpdi5hY2Nlc3MoZWxlbSwga2V5LCB7XG4gICAgICAgICAgICAgICAgICAgIGVtcHR5OiBqUXVlcnkuQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIikuYWRkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFQcml2LnJlbW92ZShlbGVtLCBbdHlwZSArIFwicXVldWVcIiwga2V5XSk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBqUXVlcnkuZm4uZXh0ZW5kKHtcbiAgICAgICAgICAgIHF1ZXVlOiBmdW5jdGlvbiAodHlwZSwgZGF0YSkge1xuICAgICAgICAgICAgICAgIHZhciBzZXR0ZXIgPSAyO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdHlwZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICBkYXRhID0gdHlwZTtcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9IFwiZnhcIjtcbiAgICAgICAgICAgICAgICAgICAgc2V0dGVyLS07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgc2V0dGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBqUXVlcnkucXVldWUodGhpc1swXSwgdHlwZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhID09PSB1bmRlZmluZWQgP1xuICAgICAgICAgICAgICAgICAgICB0aGlzIDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBxdWV1ZSA9IGpRdWVyeS5xdWV1ZSh0aGlzLCB0eXBlLCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVuc3VyZSBhIGhvb2tzIGZvciB0aGlzIHF1ZXVlXG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuX3F1ZXVlSG9va3ModGhpcywgdHlwZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gXCJmeFwiICYmIHF1ZXVlWzBdICE9PSBcImlucHJvZ3Jlc3NcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5kZXF1ZXVlKHRoaXMsIHR5cGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZXF1ZXVlOiBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBqUXVlcnkuZGVxdWV1ZSh0aGlzLCB0eXBlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjbGVhclF1ZXVlOiBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnF1ZXVlKHR5cGUgfHwgXCJmeFwiLCBbXSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gR2V0IGEgcHJvbWlzZSByZXNvbHZlZCB3aGVuIHF1ZXVlcyBvZiBhIGNlcnRhaW4gdHlwZVxuICAgICAgICAgICAgLy8gYXJlIGVtcHRpZWQgKGZ4IGlzIHRoZSB0eXBlIGJ5IGRlZmF1bHQpXG4gICAgICAgICAgICBwcm9taXNlOiBmdW5jdGlvbiAodHlwZSwgb2JqKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRtcCwgY291bnQgPSAxLCBkZWZlciA9IGpRdWVyeS5EZWZlcnJlZCgpLCBlbGVtZW50cyA9IHRoaXMsIGkgPSB0aGlzLmxlbmd0aCwgcmVzb2x2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoLS1jb3VudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVyLnJlc29sdmVXaXRoKGVsZW1lbnRzLCBbZWxlbWVudHNdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0eXBlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iaiA9IHR5cGU7XG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHR5cGUgPSB0eXBlIHx8IFwiZnhcIjtcbiAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgIHRtcCA9IGRhdGFQcml2LmdldChlbGVtZW50c1tpXSwgdHlwZSArIFwicXVldWVIb29rc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRtcCAmJiB0bXAuZW1wdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICB0bXAuZW1wdHkuYWRkKHJlc29sdmUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVmZXIucHJvbWlzZShvYmopO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIHBudW0gPSAoL1srLV0/KD86XFxkKlxcLnwpXFxkKyg/OltlRV1bKy1dP1xcZCt8KS8pLnNvdXJjZTtcbiAgICAgICAgdmFyIHJjc3NOdW0gPSBuZXcgUmVnRXhwKFwiXig/OihbKy1dKT18KShcIiArIHBudW0gKyBcIikoW2EteiVdKikkXCIsIFwiaVwiKTtcbiAgICAgICAgdmFyIGNzc0V4cGFuZCA9IFtcIlRvcFwiLCBcIlJpZ2h0XCIsIFwiQm90dG9tXCIsIFwiTGVmdFwiXTtcbiAgICAgICAgdmFyIGRvY3VtZW50RWxlbWVudCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgdmFyIGlzQXR0YWNoZWQgPSBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgcmV0dXJuIGpRdWVyeS5jb250YWlucyhlbGVtLm93bmVyRG9jdW1lbnQsIGVsZW0pO1xuICAgICAgICB9LCBjb21wb3NlZCA9IHsgY29tcG9zZWQ6IHRydWUgfTtcbiAgICAgICAgLy8gU3VwcG9ydDogSUUgOSAtIDExKywgRWRnZSAxMiAtIDE4KywgaU9TIDEwLjAgLSAxMC4yIG9ubHlcbiAgICAgICAgLy8gQ2hlY2sgYXR0YWNobWVudCBhY3Jvc3Mgc2hhZG93IERPTSBib3VuZGFyaWVzIHdoZW4gcG9zc2libGUgKGdoLTM1MDQpXG4gICAgICAgIC8vIFN1cHBvcnQ6IGlPUyAxMC4wLTEwLjIgb25seVxuICAgICAgICAvLyBFYXJseSBpT1MgMTAgdmVyc2lvbnMgc3VwcG9ydCBgYXR0YWNoU2hhZG93YCBidXQgbm90IGBnZXRSb290Tm9kZWAsXG4gICAgICAgIC8vIGxlYWRpbmcgdG8gZXJyb3JzLiBXZSBuZWVkIHRvIGNoZWNrIGZvciBgZ2V0Um9vdE5vZGVgLlxuICAgICAgICBpZiAoZG9jdW1lbnRFbGVtZW50LmdldFJvb3ROb2RlKSB7XG4gICAgICAgICAgICBpc0F0dGFjaGVkID0gZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4galF1ZXJ5LmNvbnRhaW5zKGVsZW0ub3duZXJEb2N1bWVudCwgZWxlbSkgfHxcbiAgICAgICAgICAgICAgICAgICAgZWxlbS5nZXRSb290Tm9kZShjb21wb3NlZCkgPT09IGVsZW0ub3duZXJEb2N1bWVudDtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGlzSGlkZGVuV2l0aGluVHJlZSA9IGZ1bmN0aW9uIChlbGVtLCBlbCkge1xuICAgICAgICAgICAgLy8gaXNIaWRkZW5XaXRoaW5UcmVlIG1pZ2h0IGJlIGNhbGxlZCBmcm9tIGpRdWVyeSNmaWx0ZXIgZnVuY3Rpb247XG4gICAgICAgICAgICAvLyBpbiB0aGF0IGNhc2UsIGVsZW1lbnQgd2lsbCBiZSBzZWNvbmQgYXJndW1lbnRcbiAgICAgICAgICAgIGVsZW0gPSBlbCB8fCBlbGVtO1xuICAgICAgICAgICAgLy8gSW5saW5lIHN0eWxlIHRydW1wcyBhbGxcbiAgICAgICAgICAgIHJldHVybiBlbGVtLnN0eWxlLmRpc3BsYXkgPT09IFwibm9uZVwiIHx8XG4gICAgICAgICAgICAgICAgZWxlbS5zdHlsZS5kaXNwbGF5ID09PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgY2hlY2sgY29tcHV0ZWQgc3R5bGVcbiAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogRmlyZWZveCA8PTQzIC0gNDVcbiAgICAgICAgICAgICAgICAgICAgLy8gRGlzY29ubmVjdGVkIGVsZW1lbnRzIGNhbiBoYXZlIGNvbXB1dGVkIGRpc3BsYXk6IG5vbmUsIHNvIGZpcnN0IGNvbmZpcm0gdGhhdCBlbGVtIGlzXG4gICAgICAgICAgICAgICAgICAgIC8vIGluIHRoZSBkb2N1bWVudC5cbiAgICAgICAgICAgICAgICAgICAgaXNBdHRhY2hlZChlbGVtKSAmJlxuICAgICAgICAgICAgICAgICAgICBqUXVlcnkuY3NzKGVsZW0sIFwiZGlzcGxheVwiKSA9PT0gXCJub25lXCI7XG4gICAgICAgIH07XG4gICAgICAgIGZ1bmN0aW9uIGFkanVzdENTUyhlbGVtLCBwcm9wLCB2YWx1ZVBhcnRzLCB0d2Vlbikge1xuICAgICAgICAgICAgdmFyIGFkanVzdGVkLCBzY2FsZSwgbWF4SXRlcmF0aW9ucyA9IDIwLCBjdXJyZW50VmFsdWUgPSB0d2VlbiA/XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHdlZW4uY3VyKCk7XG4gICAgICAgICAgICAgICAgfSA6XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4galF1ZXJ5LmNzcyhlbGVtLCBwcm9wLCBcIlwiKTtcbiAgICAgICAgICAgICAgICB9LCBpbml0aWFsID0gY3VycmVudFZhbHVlKCksIHVuaXQgPSB2YWx1ZVBhcnRzICYmIHZhbHVlUGFydHNbM10gfHwgKGpRdWVyeS5jc3NOdW1iZXJbcHJvcF0gPyBcIlwiIDogXCJweFwiKSwgXG4gICAgICAgICAgICAvLyBTdGFydGluZyB2YWx1ZSBjb21wdXRhdGlvbiBpcyByZXF1aXJlZCBmb3IgcG90ZW50aWFsIHVuaXQgbWlzbWF0Y2hlc1xuICAgICAgICAgICAgaW5pdGlhbEluVW5pdCA9IGVsZW0ubm9kZVR5cGUgJiZcbiAgICAgICAgICAgICAgICAoalF1ZXJ5LmNzc051bWJlcltwcm9wXSB8fCB1bml0ICE9PSBcInB4XCIgJiYgK2luaXRpYWwpICYmXG4gICAgICAgICAgICAgICAgcmNzc051bS5leGVjKGpRdWVyeS5jc3MoZWxlbSwgcHJvcCkpO1xuICAgICAgICAgICAgaWYgKGluaXRpYWxJblVuaXQgJiYgaW5pdGlhbEluVW5pdFszXSAhPT0gdW5pdCkge1xuICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IEZpcmVmb3ggPD01NFxuICAgICAgICAgICAgICAgIC8vIEhhbHZlIHRoZSBpdGVyYXRpb24gdGFyZ2V0IHZhbHVlIHRvIHByZXZlbnQgaW50ZXJmZXJlbmNlIGZyb20gQ1NTIHVwcGVyIGJvdW5kcyAoZ2gtMjE0NClcbiAgICAgICAgICAgICAgICBpbml0aWFsID0gaW5pdGlhbCAvIDI7XG4gICAgICAgICAgICAgICAgLy8gVHJ1c3QgdW5pdHMgcmVwb3J0ZWQgYnkgalF1ZXJ5LmNzc1xuICAgICAgICAgICAgICAgIHVuaXQgPSB1bml0IHx8IGluaXRpYWxJblVuaXRbM107XG4gICAgICAgICAgICAgICAgLy8gSXRlcmF0aXZlbHkgYXBwcm94aW1hdGUgZnJvbSBhIG5vbnplcm8gc3RhcnRpbmcgcG9pbnRcbiAgICAgICAgICAgICAgICBpbml0aWFsSW5Vbml0ID0gK2luaXRpYWwgfHwgMTtcbiAgICAgICAgICAgICAgICB3aGlsZSAobWF4SXRlcmF0aW9ucy0tKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEV2YWx1YXRlIGFuZCB1cGRhdGUgb3VyIGJlc3QgZ3Vlc3MgKGRvdWJsaW5nIGd1ZXNzZXMgdGhhdCB6ZXJvIG91dCkuXG4gICAgICAgICAgICAgICAgICAgIC8vIEZpbmlzaCBpZiB0aGUgc2NhbGUgZXF1YWxzIG9yIGNyb3NzZXMgMSAobWFraW5nIHRoZSBvbGQqbmV3IHByb2R1Y3Qgbm9uLXBvc2l0aXZlKS5cbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LnN0eWxlKGVsZW0sIHByb3AsIGluaXRpYWxJblVuaXQgKyB1bml0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCgxIC0gc2NhbGUpICogKDEgLSAoc2NhbGUgPSBjdXJyZW50VmFsdWUoKSAvIGluaXRpYWwgfHwgMC41KSkgPD0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF4SXRlcmF0aW9ucyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbEluVW5pdCA9IGluaXRpYWxJblVuaXQgLyBzY2FsZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW5pdGlhbEluVW5pdCA9IGluaXRpYWxJblVuaXQgKiAyO1xuICAgICAgICAgICAgICAgIGpRdWVyeS5zdHlsZShlbGVtLCBwcm9wLCBpbml0aWFsSW5Vbml0ICsgdW5pdCk7XG4gICAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHdlIHVwZGF0ZSB0aGUgdHdlZW4gcHJvcGVydGllcyBsYXRlciBvblxuICAgICAgICAgICAgICAgIHZhbHVlUGFydHMgPSB2YWx1ZVBhcnRzIHx8IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbHVlUGFydHMpIHtcbiAgICAgICAgICAgICAgICBpbml0aWFsSW5Vbml0ID0gK2luaXRpYWxJblVuaXQgfHwgK2luaXRpYWwgfHwgMDtcbiAgICAgICAgICAgICAgICAvLyBBcHBseSByZWxhdGl2ZSBvZmZzZXQgKCs9Ly09KSBpZiBzcGVjaWZpZWRcbiAgICAgICAgICAgICAgICBhZGp1c3RlZCA9IHZhbHVlUGFydHNbMV0gP1xuICAgICAgICAgICAgICAgICAgICBpbml0aWFsSW5Vbml0ICsgKHZhbHVlUGFydHNbMV0gKyAxKSAqIHZhbHVlUGFydHNbMl0gOlxuICAgICAgICAgICAgICAgICAgICArdmFsdWVQYXJ0c1syXTtcbiAgICAgICAgICAgICAgICBpZiAodHdlZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgdHdlZW4udW5pdCA9IHVuaXQ7XG4gICAgICAgICAgICAgICAgICAgIHR3ZWVuLnN0YXJ0ID0gaW5pdGlhbEluVW5pdDtcbiAgICAgICAgICAgICAgICAgICAgdHdlZW4uZW5kID0gYWRqdXN0ZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFkanVzdGVkO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkZWZhdWx0RGlzcGxheU1hcCA9IHt9O1xuICAgICAgICBmdW5jdGlvbiBnZXREZWZhdWx0RGlzcGxheShlbGVtKSB7XG4gICAgICAgICAgICB2YXIgdGVtcCwgZG9jID0gZWxlbS5vd25lckRvY3VtZW50LCBub2RlTmFtZSA9IGVsZW0ubm9kZU5hbWUsIGRpc3BsYXkgPSBkZWZhdWx0RGlzcGxheU1hcFtub2RlTmFtZV07XG4gICAgICAgICAgICBpZiAoZGlzcGxheSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkaXNwbGF5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGVtcCA9IGRvYy5ib2R5LmFwcGVuZENoaWxkKGRvYy5jcmVhdGVFbGVtZW50KG5vZGVOYW1lKSk7XG4gICAgICAgICAgICBkaXNwbGF5ID0galF1ZXJ5LmNzcyh0ZW1wLCBcImRpc3BsYXlcIik7XG4gICAgICAgICAgICB0ZW1wLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGVtcCk7XG4gICAgICAgICAgICBpZiAoZGlzcGxheSA9PT0gXCJub25lXCIpIHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVmYXVsdERpc3BsYXlNYXBbbm9kZU5hbWVdID0gZGlzcGxheTtcbiAgICAgICAgICAgIHJldHVybiBkaXNwbGF5O1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHNob3dIaWRlKGVsZW1lbnRzLCBzaG93KSB7XG4gICAgICAgICAgICB2YXIgZGlzcGxheSwgZWxlbSwgdmFsdWVzID0gW10sIGluZGV4ID0gMCwgbGVuZ3RoID0gZWxlbWVudHMubGVuZ3RoO1xuICAgICAgICAgICAgLy8gRGV0ZXJtaW5lIG5ldyBkaXNwbGF5IHZhbHVlIGZvciBlbGVtZW50cyB0aGF0IG5lZWQgdG8gY2hhbmdlXG4gICAgICAgICAgICBmb3IgKDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICBlbGVtID0gZWxlbWVudHNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmICghZWxlbS5zdHlsZSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGlzcGxheSA9IGVsZW0uc3R5bGUuZGlzcGxheTtcbiAgICAgICAgICAgICAgICBpZiAoc2hvdykge1xuICAgICAgICAgICAgICAgICAgICAvLyBTaW5jZSB3ZSBmb3JjZSB2aXNpYmlsaXR5IHVwb24gY2FzY2FkZS1oaWRkZW4gZWxlbWVudHMsIGFuIGltbWVkaWF0ZSAoYW5kIHNsb3cpXG4gICAgICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlzIHJlcXVpcmVkIGluIHRoaXMgZmlyc3QgbG9vcCB1bmxlc3Mgd2UgaGF2ZSBhIG5vbmVtcHR5IGRpc3BsYXkgdmFsdWUgKGVpdGhlclxuICAgICAgICAgICAgICAgICAgICAvLyBpbmxpbmUgb3IgYWJvdXQtdG8tYmUtcmVzdG9yZWQpXG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXNwbGF5ID09PSBcIm5vbmVcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzW2luZGV4XSA9IGRhdGFQcml2LmdldChlbGVtLCBcImRpc3BsYXlcIikgfHwgbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdmFsdWVzW2luZGV4XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0uc3R5bGUuZGlzcGxheSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW0uc3R5bGUuZGlzcGxheSA9PT0gXCJcIiAmJiBpc0hpZGRlbldpdGhpblRyZWUoZWxlbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlc1tpbmRleF0gPSBnZXREZWZhdWx0RGlzcGxheShlbGVtKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpc3BsYXkgIT09IFwibm9uZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXNbaW5kZXhdID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZW1lbWJlciB3aGF0IHdlJ3JlIG92ZXJ3cml0aW5nXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhUHJpdi5zZXQoZWxlbSwgXCJkaXNwbGF5XCIsIGRpc3BsYXkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2V0IHRoZSBkaXNwbGF5IG9mIHRoZSBlbGVtZW50cyBpbiBhIHNlY29uZCBsb29wIHRvIGF2b2lkIGNvbnN0YW50IHJlZmxvd1xuICAgICAgICAgICAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlc1tpbmRleF0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50c1tpbmRleF0uc3R5bGUuZGlzcGxheSA9IHZhbHVlc1tpbmRleF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnRzO1xuICAgICAgICB9XG4gICAgICAgIGpRdWVyeS5mbi5leHRlbmQoe1xuICAgICAgICAgICAgc2hvdzogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzaG93SGlkZSh0aGlzLCB0cnVlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBoaWRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNob3dIaWRlKHRoaXMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRvZ2dsZTogZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlID8gdGhpcy5zaG93KCkgOiB0aGlzLmhpZGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0hpZGRlbldpdGhpblRyZWUodGhpcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeSh0aGlzKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkodGhpcykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgcmNoZWNrYWJsZVR5cGUgPSAoL14oPzpjaGVja2JveHxyYWRpbykkL2kpO1xuICAgICAgICB2YXIgcnRhZ05hbWUgPSAoLzwoW2Etel1bXlxcL1xcMD5cXHgyMFxcdFxcclxcblxcZl0qKS9pKTtcbiAgICAgICAgdmFyIHJzY3JpcHRUeXBlID0gKC9eJHxebW9kdWxlJHxcXC8oPzpqYXZhfGVjbWEpc2NyaXB0L2kpO1xuICAgICAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLCBkaXYgPSBmcmFnbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKSwgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICAgICAgICAvLyBTdXBwb3J0OiBBbmRyb2lkIDQuMCAtIDQuMyBvbmx5XG4gICAgICAgICAgICAvLyBDaGVjayBzdGF0ZSBsb3N0IGlmIHRoZSBuYW1lIGlzIHNldCAodHJhYy0xMTIxNylcbiAgICAgICAgICAgIC8vIFN1cHBvcnQ6IFdpbmRvd3MgV2ViIEFwcHMgKFdXQSlcbiAgICAgICAgICAgIC8vIGBuYW1lYCBhbmQgYHR5cGVgIG11c3QgdXNlIC5zZXRBdHRyaWJ1dGUgZm9yIFdXQSAodHJhYy0xNDkwMSlcbiAgICAgICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJyYWRpb1wiKTtcbiAgICAgICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZShcImNoZWNrZWRcIiwgXCJjaGVja2VkXCIpO1xuICAgICAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKFwibmFtZVwiLCBcInRcIik7XG4gICAgICAgICAgICBkaXYuYXBwZW5kQ2hpbGQoaW5wdXQpO1xuICAgICAgICAgICAgLy8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMSBvbmx5XG4gICAgICAgICAgICAvLyBPbGRlciBXZWJLaXQgZG9lc24ndCBjbG9uZSBjaGVja2VkIHN0YXRlIGNvcnJlY3RseSBpbiBmcmFnbWVudHNcbiAgICAgICAgICAgIHN1cHBvcnQuY2hlY2tDbG9uZSA9IGRpdi5jbG9uZU5vZGUodHJ1ZSkuY2xvbmVOb2RlKHRydWUpLmxhc3RDaGlsZC5jaGVja2VkO1xuICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGV4dGFyZWEgKGFuZCBjaGVja2JveCkgZGVmYXVsdFZhbHVlIGlzIHByb3Blcmx5IGNsb25lZFxuICAgICAgICAgICAgZGl2LmlubmVySFRNTCA9IFwiPHRleHRhcmVhPng8L3RleHRhcmVhPlwiO1xuICAgICAgICAgICAgc3VwcG9ydC5ub0Nsb25lQ2hlY2tlZCA9ICEhZGl2LmNsb25lTm9kZSh0cnVlKS5sYXN0Q2hpbGQuZGVmYXVsdFZhbHVlO1xuICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgPD05IG9ubHlcbiAgICAgICAgICAgIC8vIElFIDw9OSByZXBsYWNlcyA8b3B0aW9uPiB0YWdzIHdpdGggdGhlaXIgY29udGVudHMgd2hlbiBpbnNlcnRlZCBvdXRzaWRlIG9mXG4gICAgICAgICAgICAvLyB0aGUgc2VsZWN0IGVsZW1lbnQuXG4gICAgICAgICAgICBkaXYuaW5uZXJIVE1MID0gXCI8b3B0aW9uPjwvb3B0aW9uPlwiO1xuICAgICAgICAgICAgc3VwcG9ydC5vcHRpb24gPSAhIWRpdi5sYXN0Q2hpbGQ7XG4gICAgICAgIH0pKCk7XG4gICAgICAgIC8vIFdlIGhhdmUgdG8gY2xvc2UgdGhlc2UgdGFncyB0byBzdXBwb3J0IFhIVE1MICh0cmFjLTEzMjAwKVxuICAgICAgICB2YXIgd3JhcE1hcCA9IHtcbiAgICAgICAgICAgIC8vIFhIVE1MIHBhcnNlcnMgZG8gbm90IG1hZ2ljYWxseSBpbnNlcnQgZWxlbWVudHMgaW4gdGhlXG4gICAgICAgICAgICAvLyBzYW1lIHdheSB0aGF0IHRhZyBzb3VwIHBhcnNlcnMgZG8uIFNvIHdlIGNhbm5vdCBzaG9ydGVuXG4gICAgICAgICAgICAvLyB0aGlzIGJ5IG9taXR0aW5nIDx0Ym9keT4gb3Igb3RoZXIgcmVxdWlyZWQgZWxlbWVudHMuXG4gICAgICAgICAgICB0aGVhZDogWzEsIFwiPHRhYmxlPlwiLCBcIjwvdGFibGU+XCJdLFxuICAgICAgICAgICAgY29sOiBbMiwgXCI8dGFibGU+PGNvbGdyb3VwPlwiLCBcIjwvY29sZ3JvdXA+PC90YWJsZT5cIl0sXG4gICAgICAgICAgICB0cjogWzIsIFwiPHRhYmxlPjx0Ym9keT5cIiwgXCI8L3Rib2R5PjwvdGFibGU+XCJdLFxuICAgICAgICAgICAgdGQ6IFszLCBcIjx0YWJsZT48dGJvZHk+PHRyPlwiLCBcIjwvdHI+PC90Ym9keT48L3RhYmxlPlwiXSxcbiAgICAgICAgICAgIF9kZWZhdWx0OiBbMCwgXCJcIiwgXCJcIl1cbiAgICAgICAgfTtcbiAgICAgICAgd3JhcE1hcC50Ym9keSA9IHdyYXBNYXAudGZvb3QgPSB3cmFwTWFwLmNvbGdyb3VwID0gd3JhcE1hcC5jYXB0aW9uID0gd3JhcE1hcC50aGVhZDtcbiAgICAgICAgd3JhcE1hcC50aCA9IHdyYXBNYXAudGQ7XG4gICAgICAgIC8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG4gICAgICAgIGlmICghc3VwcG9ydC5vcHRpb24pIHtcbiAgICAgICAgICAgIHdyYXBNYXAub3B0Z3JvdXAgPSB3cmFwTWFwLm9wdGlvbiA9IFsxLCBcIjxzZWxlY3QgbXVsdGlwbGU9J211bHRpcGxlJz5cIiwgXCI8L3NlbGVjdD5cIl07XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gZ2V0QWxsKGNvbnRleHQsIHRhZykge1xuICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgPD05IC0gMTEgb25seVxuICAgICAgICAgICAgLy8gVXNlIHR5cGVvZiB0byBhdm9pZCB6ZXJvLWFyZ3VtZW50IG1ldGhvZCBpbnZvY2F0aW9uIG9uIGhvc3Qgb2JqZWN0cyAodHJhYy0xNTE1MSlcbiAgICAgICAgICAgIHZhciByZXQ7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICByZXQgPSBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKHRhZyB8fCBcIipcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgcmV0ID0gY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKHRhZyB8fCBcIipcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXQgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0YWcgPT09IHVuZGVmaW5lZCB8fCB0YWcgJiYgbm9kZU5hbWUoY29udGV4dCwgdGFnKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBqUXVlcnkubWVyZ2UoW2NvbnRleHRdLCByZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgfVxuICAgICAgICAvLyBNYXJrIHNjcmlwdHMgYXMgaGF2aW5nIGFscmVhZHkgYmVlbiBldmFsdWF0ZWRcbiAgICAgICAgZnVuY3Rpb24gc2V0R2xvYmFsRXZhbChlbGVtcywgcmVmRWxlbWVudHMpIHtcbiAgICAgICAgICAgIHZhciBpID0gMCwgbCA9IGVsZW1zLmxlbmd0aDtcbiAgICAgICAgICAgIGZvciAoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZGF0YVByaXYuc2V0KGVsZW1zW2ldLCBcImdsb2JhbEV2YWxcIiwgIXJlZkVsZW1lbnRzIHx8IGRhdGFQcml2LmdldChyZWZFbGVtZW50c1tpXSwgXCJnbG9iYWxFdmFsXCIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgcmh0bWwgPSAvPHwmIz9cXHcrOy87XG4gICAgICAgIGZ1bmN0aW9uIGJ1aWxkRnJhZ21lbnQoZWxlbXMsIGNvbnRleHQsIHNjcmlwdHMsIHNlbGVjdGlvbiwgaWdub3JlZCkge1xuICAgICAgICAgICAgdmFyIGVsZW0sIHRtcCwgdGFnLCB3cmFwLCBhdHRhY2hlZCwgaiwgZnJhZ21lbnQgPSBjb250ZXh0LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSwgbm9kZXMgPSBbXSwgaSA9IDAsIGwgPSBlbGVtcy5sZW5ndGg7XG4gICAgICAgICAgICBmb3IgKDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICAgIGVsZW0gPSBlbGVtc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbSB8fCBlbGVtID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZCBub2RlcyBkaXJlY3RseVxuICAgICAgICAgICAgICAgICAgICBpZiAodG9UeXBlKGVsZW0pID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHksIFBoYW50b21KUyAxIG9ubHlcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Mgb24gYW5jaWVudCBXZWJLaXRcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5tZXJnZShub2RlcywgZWxlbS5ub2RlVHlwZSA/IFtlbGVtXSA6IGVsZW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29udmVydCBub24taHRtbCBpbnRvIGEgdGV4dCBub2RlXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoIXJodG1sLnRlc3QoZWxlbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVzLnB1c2goY29udGV4dC5jcmVhdGVUZXh0Tm9kZShlbGVtKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IGh0bWwgaW50byBET00gbm9kZXNcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRtcCA9IHRtcCB8fCBmcmFnbWVudC5hcHBlbmRDaGlsZChjb250ZXh0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRGVzZXJpYWxpemUgYSBzdGFuZGFyZCByZXByZXNlbnRhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgdGFnID0gKHJ0YWdOYW1lLmV4ZWMoZWxlbSkgfHwgW1wiXCIsIFwiXCJdKVsxXS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgd3JhcCA9IHdyYXBNYXBbdGFnXSB8fCB3cmFwTWFwLl9kZWZhdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgdG1wLmlubmVySFRNTCA9IHdyYXBbMV0gKyBqUXVlcnkuaHRtbFByZWZpbHRlcihlbGVtKSArIHdyYXBbMl07XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEZXNjZW5kIHRocm91Z2ggd3JhcHBlcnMgdG8gdGhlIHJpZ2h0IGNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIGogPSB3cmFwWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGotLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcCA9IHRtcC5sYXN0Q2hpbGQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHksIFBoYW50b21KUyAxIG9ubHlcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Mgb24gYW5jaWVudCBXZWJLaXRcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5tZXJnZShub2RlcywgdG1wLmNoaWxkTm9kZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVtZW1iZXIgdGhlIHRvcC1sZXZlbCBjb250YWluZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRtcCA9IGZyYWdtZW50LmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBFbnN1cmUgdGhlIGNyZWF0ZWQgbm9kZXMgYXJlIG9ycGhhbmVkICh0cmFjLTEyMzkyKVxuICAgICAgICAgICAgICAgICAgICAgICAgdG1wLnRleHRDb250ZW50ID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFJlbW92ZSB3cmFwcGVyIGZyb20gZnJhZ21lbnRcbiAgICAgICAgICAgIGZyYWdtZW50LnRleHRDb250ZW50ID0gXCJcIjtcbiAgICAgICAgICAgIGkgPSAwO1xuICAgICAgICAgICAgd2hpbGUgKChlbGVtID0gbm9kZXNbaSsrXSkpIHtcbiAgICAgICAgICAgICAgICAvLyBTa2lwIGVsZW1lbnRzIGFscmVhZHkgaW4gdGhlIGNvbnRleHQgY29sbGVjdGlvbiAodHJhYy00MDg3KVxuICAgICAgICAgICAgICAgIGlmIChzZWxlY3Rpb24gJiYgalF1ZXJ5LmluQXJyYXkoZWxlbSwgc2VsZWN0aW9uKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpZ25vcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZ25vcmVkLnB1c2goZWxlbSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGF0dGFjaGVkID0gaXNBdHRhY2hlZChlbGVtKTtcbiAgICAgICAgICAgICAgICAvLyBBcHBlbmQgdG8gZnJhZ21lbnRcbiAgICAgICAgICAgICAgICB0bXAgPSBnZXRBbGwoZnJhZ21lbnQuYXBwZW5kQ2hpbGQoZWxlbSksIFwic2NyaXB0XCIpO1xuICAgICAgICAgICAgICAgIC8vIFByZXNlcnZlIHNjcmlwdCBldmFsdWF0aW9uIGhpc3RvcnlcbiAgICAgICAgICAgICAgICBpZiAoYXR0YWNoZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0R2xvYmFsRXZhbCh0bXApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBDYXB0dXJlIGV4ZWN1dGFibGVzXG4gICAgICAgICAgICAgICAgaWYgKHNjcmlwdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgaiA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICgoZWxlbSA9IHRtcFtqKytdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJzY3JpcHRUeXBlLnRlc3QoZWxlbS50eXBlIHx8IFwiXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NyaXB0cy5wdXNoKGVsZW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZyYWdtZW50O1xuICAgICAgICB9XG4gICAgICAgIHZhciBydHlwZW5hbWVzcGFjZSA9IC9eKFteLl0qKSg/OlxcLiguKyl8KS87XG4gICAgICAgIGZ1bmN0aW9uIHJldHVyblRydWUoKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiByZXR1cm5GYWxzZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBvbihlbGVtLCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuLCBvbmUpIHtcbiAgICAgICAgICAgIHZhciBvcmlnRm4sIHR5cGU7XG4gICAgICAgICAgICAvLyBUeXBlcyBjYW4gYmUgYSBtYXAgb2YgdHlwZXMvaGFuZGxlcnNcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdHlwZXMgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICAvLyAoIHR5cGVzLU9iamVjdCwgc2VsZWN0b3IsIGRhdGEgKVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc2VsZWN0b3IgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gKCB0eXBlcy1PYmplY3QsIGRhdGEgKVxuICAgICAgICAgICAgICAgICAgICBkYXRhID0gZGF0YSB8fCBzZWxlY3RvcjtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3IgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAodHlwZSBpbiB0eXBlcykge1xuICAgICAgICAgICAgICAgICAgICBvbihlbGVtLCB0eXBlLCBzZWxlY3RvciwgZGF0YSwgdHlwZXNbdHlwZV0sIG9uZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBlbGVtO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRhdGEgPT0gbnVsbCAmJiBmbiA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gKCB0eXBlcywgZm4gKVxuICAgICAgICAgICAgICAgIGZuID0gc2VsZWN0b3I7XG4gICAgICAgICAgICAgICAgZGF0YSA9IHNlbGVjdG9yID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZm4gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc2VsZWN0b3IgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gKCB0eXBlcywgc2VsZWN0b3IsIGZuIClcbiAgICAgICAgICAgICAgICAgICAgZm4gPSBkYXRhO1xuICAgICAgICAgICAgICAgICAgICBkYXRhID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gKCB0eXBlcywgZGF0YSwgZm4gKVxuICAgICAgICAgICAgICAgICAgICBmbiA9IGRhdGE7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSBzZWxlY3RvcjtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3IgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZuID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGZuID0gcmV0dXJuRmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghZm4pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvbmUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICBvcmlnRm4gPSBmbjtcbiAgICAgICAgICAgICAgICBmbiA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBDYW4gdXNlIGFuIGVtcHR5IHNldCwgc2luY2UgZXZlbnQgY29udGFpbnMgdGhlIGluZm9cbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KCkub2ZmKGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9yaWdGbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgLy8gVXNlIHNhbWUgZ3VpZCBzbyBjYWxsZXIgY2FuIHJlbW92ZSB1c2luZyBvcmlnRm5cbiAgICAgICAgICAgICAgICBmbi5ndWlkID0gb3JpZ0ZuLmd1aWQgfHwgKG9yaWdGbi5ndWlkID0galF1ZXJ5Lmd1aWQrKyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZWxlbS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBqUXVlcnkuZXZlbnQuYWRkKHRoaXMsIHR5cGVzLCBmbiwgZGF0YSwgc2VsZWN0b3IpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLypcbiAgICAgICAgKiBIZWxwZXIgZnVuY3Rpb25zIGZvciBtYW5hZ2luZyBldmVudHMgLS0gbm90IHBhcnQgb2YgdGhlIHB1YmxpYyBpbnRlcmZhY2UuXG4gICAgICAgICogUHJvcHMgdG8gRGVhbiBFZHdhcmRzJyBhZGRFdmVudCBsaWJyYXJ5IGZvciBtYW55IG9mIHRoZSBpZGVhcy5cbiAgICAgICAgKi9cbiAgICAgICAgalF1ZXJ5LmV2ZW50ID0ge1xuICAgICAgICAgICAgZ2xvYmFsOiB7fSxcbiAgICAgICAgICAgIGFkZDogZnVuY3Rpb24gKGVsZW0sIHR5cGVzLCBoYW5kbGVyLCBkYXRhLCBzZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgIHZhciBoYW5kbGVPYmpJbiwgZXZlbnRIYW5kbGUsIHRtcCwgZXZlbnRzLCB0LCBoYW5kbGVPYmosIHNwZWNpYWwsIGhhbmRsZXJzLCB0eXBlLCBuYW1lc3BhY2VzLCBvcmlnVHlwZSwgZWxlbURhdGEgPSBkYXRhUHJpdi5nZXQoZWxlbSk7XG4gICAgICAgICAgICAgICAgLy8gT25seSBhdHRhY2ggZXZlbnRzIHRvIG9iamVjdHMgdGhhdCBhY2NlcHQgZGF0YVxuICAgICAgICAgICAgICAgIGlmICghYWNjZXB0RGF0YShlbGVtKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIENhbGxlciBjYW4gcGFzcyBpbiBhbiBvYmplY3Qgb2YgY3VzdG9tIGRhdGEgaW4gbGlldSBvZiB0aGUgaGFuZGxlclxuICAgICAgICAgICAgICAgIGlmIChoYW5kbGVyLmhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlT2JqSW4gPSBoYW5kbGVyO1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyID0gaGFuZGxlT2JqSW4uaGFuZGxlcjtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3IgPSBoYW5kbGVPYmpJbi5zZWxlY3RvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gRW5zdXJlIHRoYXQgaW52YWxpZCBzZWxlY3RvcnMgdGhyb3cgZXhjZXB0aW9ucyBhdCBhdHRhY2ggdGltZVxuICAgICAgICAgICAgICAgIC8vIEV2YWx1YXRlIGFnYWluc3QgZG9jdW1lbnRFbGVtZW50IGluIGNhc2UgZWxlbSBpcyBhIG5vbi1lbGVtZW50IG5vZGUgKGUuZy4sIGRvY3VtZW50KVxuICAgICAgICAgICAgICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgICAgICBqUXVlcnkuZmluZC5tYXRjaGVzU2VsZWN0b3IoZG9jdW1lbnRFbGVtZW50LCBzZWxlY3Rvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGF0IHRoZSBoYW5kbGVyIGhhcyBhIHVuaXF1ZSBJRCwgdXNlZCB0byBmaW5kL3JlbW92ZSBpdCBsYXRlclxuICAgICAgICAgICAgICAgIGlmICghaGFuZGxlci5ndWlkKSB7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXIuZ3VpZCA9IGpRdWVyeS5ndWlkKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEluaXQgdGhlIGVsZW1lbnQncyBldmVudCBzdHJ1Y3R1cmUgYW5kIG1haW4gaGFuZGxlciwgaWYgdGhpcyBpcyB0aGUgZmlyc3RcbiAgICAgICAgICAgICAgICBpZiAoIShldmVudHMgPSBlbGVtRGF0YS5ldmVudHMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50cyA9IGVsZW1EYXRhLmV2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghKGV2ZW50SGFuZGxlID0gZWxlbURhdGEuaGFuZGxlKSkge1xuICAgICAgICAgICAgICAgICAgICBldmVudEhhbmRsZSA9IGVsZW1EYXRhLmhhbmRsZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEaXNjYXJkIHRoZSBzZWNvbmQgZXZlbnQgb2YgYSBqUXVlcnkuZXZlbnQudHJpZ2dlcigpIGFuZFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2hlbiBhbiBldmVudCBpcyBjYWxsZWQgYWZ0ZXIgYSBwYWdlIGhhcyB1bmxvYWRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBqUXVlcnkgIT09IFwidW5kZWZpbmVkXCIgJiYgalF1ZXJ5LmV2ZW50LnRyaWdnZXJlZCAhPT0gZS50eXBlID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuZXZlbnQuZGlzcGF0Y2guYXBwbHkoZWxlbSwgYXJndW1lbnRzKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIG11bHRpcGxlIGV2ZW50cyBzZXBhcmF0ZWQgYnkgYSBzcGFjZVxuICAgICAgICAgICAgICAgIHR5cGVzID0gKHR5cGVzIHx8IFwiXCIpLm1hdGNoKHJub3RodG1sd2hpdGUpIHx8IFtcIlwiXTtcbiAgICAgICAgICAgICAgICB0ID0gdHlwZXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHdoaWxlICh0LS0pIHtcbiAgICAgICAgICAgICAgICAgICAgdG1wID0gcnR5cGVuYW1lc3BhY2UuZXhlYyh0eXBlc1t0XSkgfHwgW107XG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSBvcmlnVHlwZSA9IHRtcFsxXTtcbiAgICAgICAgICAgICAgICAgICAgbmFtZXNwYWNlcyA9ICh0bXBbMl0gfHwgXCJcIikuc3BsaXQoXCIuXCIpLnNvcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlcmUgKm11c3QqIGJlIGEgdHlwZSwgbm8gYXR0YWNoaW5nIG5hbWVzcGFjZS1vbmx5IGhhbmRsZXJzXG4gICAgICAgICAgICAgICAgICAgIGlmICghdHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgZXZlbnQgY2hhbmdlcyBpdHMgdHlwZSwgdXNlIHRoZSBzcGVjaWFsIGV2ZW50IGhhbmRsZXJzIGZvciB0aGUgY2hhbmdlZCB0eXBlXG4gICAgICAgICAgICAgICAgICAgIHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFt0eXBlXSB8fCB7fTtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgc2VsZWN0b3IgZGVmaW5lZCwgZGV0ZXJtaW5lIHNwZWNpYWwgZXZlbnQgYXBpIHR5cGUsIG90aGVyd2lzZSBnaXZlbiB0eXBlXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSAoc2VsZWN0b3IgPyBzcGVjaWFsLmRlbGVnYXRlVHlwZSA6IHNwZWNpYWwuYmluZFR5cGUpIHx8IHR5cGU7XG4gICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBzcGVjaWFsIGJhc2VkIG9uIG5ld2x5IHJlc2V0IHR5cGVcbiAgICAgICAgICAgICAgICAgICAgc3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsW3R5cGVdIHx8IHt9O1xuICAgICAgICAgICAgICAgICAgICAvLyBoYW5kbGVPYmogaXMgcGFzc2VkIHRvIGFsbCBldmVudCBoYW5kbGVyc1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVPYmogPSBqUXVlcnkuZXh0ZW5kKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmlnVHlwZTogb3JpZ1R5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlcjogaGFuZGxlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGd1aWQ6IGhhbmRsZXIuZ3VpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiBzZWxlY3RvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIG5lZWRzQ29udGV4dDogc2VsZWN0b3IgJiYgalF1ZXJ5LmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LnRlc3Qoc2VsZWN0b3IpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZXNwYWNlOiBuYW1lc3BhY2VzLmpvaW4oXCIuXCIpXG4gICAgICAgICAgICAgICAgICAgIH0sIGhhbmRsZU9iakluKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gSW5pdCB0aGUgZXZlbnQgaGFuZGxlciBxdWV1ZSBpZiB3ZSdyZSB0aGUgZmlyc3RcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoaGFuZGxlcnMgPSBldmVudHNbdHlwZV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVycyA9IGV2ZW50c1t0eXBlXSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlcnMuZGVsZWdhdGVDb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IHVzZSBhZGRFdmVudExpc3RlbmVyIGlmIHRoZSBzcGVjaWFsIGV2ZW50cyBoYW5kbGVyIHJldHVybnMgZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc3BlY2lhbC5zZXR1cCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwZWNpYWwuc2V0dXAuY2FsbChlbGVtLCBkYXRhLCBuYW1lc3BhY2VzLCBldmVudEhhbmRsZSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW0uYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgZXZlbnRIYW5kbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoc3BlY2lhbC5hZGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwZWNpYWwuYWRkLmNhbGwoZWxlbSwgaGFuZGxlT2JqKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaGFuZGxlT2JqLmhhbmRsZXIuZ3VpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZU9iai5oYW5kbGVyLmd1aWQgPSBoYW5kbGVyLmd1aWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHRvIHRoZSBlbGVtZW50J3MgaGFuZGxlciBsaXN0LCBkZWxlZ2F0ZXMgaW4gZnJvbnRcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVycy5zcGxpY2UoaGFuZGxlcnMuZGVsZWdhdGVDb3VudCsrLCAwLCBoYW5kbGVPYmopO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlcnMucHVzaChoYW5kbGVPYmopO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIEtlZXAgdHJhY2sgb2Ygd2hpY2ggZXZlbnRzIGhhdmUgZXZlciBiZWVuIHVzZWQsIGZvciBldmVudCBvcHRpbWl6YXRpb25cbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmV2ZW50Lmdsb2JhbFt0eXBlXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIERldGFjaCBhbiBldmVudCBvciBzZXQgb2YgZXZlbnRzIGZyb20gYW4gZWxlbWVudFxuICAgICAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbiAoZWxlbSwgdHlwZXMsIGhhbmRsZXIsIHNlbGVjdG9yLCBtYXBwZWRUeXBlcykge1xuICAgICAgICAgICAgICAgIHZhciBqLCBvcmlnQ291bnQsIHRtcCwgZXZlbnRzLCB0LCBoYW5kbGVPYmosIHNwZWNpYWwsIGhhbmRsZXJzLCB0eXBlLCBuYW1lc3BhY2VzLCBvcmlnVHlwZSwgZWxlbURhdGEgPSBkYXRhUHJpdi5oYXNEYXRhKGVsZW0pICYmIGRhdGFQcml2LmdldChlbGVtKTtcbiAgICAgICAgICAgICAgICBpZiAoIWVsZW1EYXRhIHx8ICEoZXZlbnRzID0gZWxlbURhdGEuZXZlbnRzKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIE9uY2UgZm9yIGVhY2ggdHlwZS5uYW1lc3BhY2UgaW4gdHlwZXM7IHR5cGUgbWF5IGJlIG9taXR0ZWRcbiAgICAgICAgICAgICAgICB0eXBlcyA9ICh0eXBlcyB8fCBcIlwiKS5tYXRjaChybm90aHRtbHdoaXRlKSB8fCBbXCJcIl07XG4gICAgICAgICAgICAgICAgdCA9IHR5cGVzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB3aGlsZSAodC0tKSB7XG4gICAgICAgICAgICAgICAgICAgIHRtcCA9IHJ0eXBlbmFtZXNwYWNlLmV4ZWModHlwZXNbdF0pIHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICB0eXBlID0gb3JpZ1R5cGUgPSB0bXBbMV07XG4gICAgICAgICAgICAgICAgICAgIG5hbWVzcGFjZXMgPSAodG1wWzJdIHx8IFwiXCIpLnNwbGl0KFwiLlwiKS5zb3J0KCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFVuYmluZCBhbGwgZXZlbnRzIChvbiB0aGlzIG5hbWVzcGFjZSwgaWYgcHJvdmlkZWQpIGZvciB0aGUgZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICBpZiAoIXR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodHlwZSBpbiBldmVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuZXZlbnQucmVtb3ZlKGVsZW0sIHR5cGUgKyB0eXBlc1t0XSwgaGFuZGxlciwgc2VsZWN0b3IsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsW3R5cGVdIHx8IHt9O1xuICAgICAgICAgICAgICAgICAgICB0eXBlID0gKHNlbGVjdG9yID8gc3BlY2lhbC5kZWxlZ2F0ZVR5cGUgOiBzcGVjaWFsLmJpbmRUeXBlKSB8fCB0eXBlO1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVycyA9IGV2ZW50c1t0eXBlXSB8fCBbXTtcbiAgICAgICAgICAgICAgICAgICAgdG1wID0gdG1wWzJdICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgUmVnRXhwKFwiKF58XFxcXC4pXCIgKyBuYW1lc3BhY2VzLmpvaW4oXCJcXFxcLig/Oi4qXFxcXC58KVwiKSArIFwiKFxcXFwufCQpXCIpO1xuICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgbWF0Y2hpbmcgZXZlbnRzXG4gICAgICAgICAgICAgICAgICAgIG9yaWdDb3VudCA9IGogPSBoYW5kbGVycy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChqLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZU9iaiA9IGhhbmRsZXJzW2pdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChtYXBwZWRUeXBlcyB8fCBvcmlnVHlwZSA9PT0gaGFuZGxlT2JqLm9yaWdUeXBlKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICghaGFuZGxlciB8fCBoYW5kbGVyLmd1aWQgPT09IGhhbmRsZU9iai5ndWlkKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICghdG1wIHx8IHRtcC50ZXN0KGhhbmRsZU9iai5uYW1lc3BhY2UpKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICghc2VsZWN0b3IgfHwgc2VsZWN0b3IgPT09IGhhbmRsZU9iai5zZWxlY3RvciB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RvciA9PT0gXCIqKlwiICYmIGhhbmRsZU9iai5zZWxlY3RvcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVycy5zcGxpY2UoaiwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhhbmRsZU9iai5zZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVycy5kZWxlZ2F0ZUNvdW50LS07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcGVjaWFsLnJlbW92ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGVjaWFsLnJlbW92ZS5jYWxsKGVsZW0sIGhhbmRsZU9iaik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBnZW5lcmljIGV2ZW50IGhhbmRsZXIgaWYgd2UgcmVtb3ZlZCBzb21ldGhpbmcgYW5kIG5vIG1vcmUgaGFuZGxlcnMgZXhpc3RcbiAgICAgICAgICAgICAgICAgICAgLy8gKGF2b2lkcyBwb3RlbnRpYWwgZm9yIGVuZGxlc3MgcmVjdXJzaW9uIGR1cmluZyByZW1vdmFsIG9mIHNwZWNpYWwgZXZlbnQgaGFuZGxlcnMpXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcmlnQ291bnQgJiYgIWhhbmRsZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzcGVjaWFsLnRlYXJkb3duIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3BlY2lhbC50ZWFyZG93bi5jYWxsKGVsZW0sIG5hbWVzcGFjZXMsIGVsZW1EYXRhLmhhbmRsZSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LnJlbW92ZUV2ZW50KGVsZW0sIHR5cGUsIGVsZW1EYXRhLmhhbmRsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZXZlbnRzW3R5cGVdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBkYXRhIGFuZCB0aGUgZXhwYW5kbyBpZiBpdCdzIG5vIGxvbmdlciB1c2VkXG4gICAgICAgICAgICAgICAgaWYgKGpRdWVyeS5pc0VtcHR5T2JqZWN0KGV2ZW50cykpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YVByaXYucmVtb3ZlKGVsZW0sIFwiaGFuZGxlIGV2ZW50c1wiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGlzcGF0Y2g6IGZ1bmN0aW9uIChuYXRpdmVFdmVudCkge1xuICAgICAgICAgICAgICAgIHZhciBpLCBqLCByZXQsIG1hdGNoZWQsIGhhbmRsZU9iaiwgaGFuZGxlclF1ZXVlLCBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpLCBcbiAgICAgICAgICAgICAgICAvLyBNYWtlIGEgd3JpdGFibGUgalF1ZXJ5LkV2ZW50IGZyb20gdGhlIG5hdGl2ZSBldmVudCBvYmplY3RcbiAgICAgICAgICAgICAgICBldmVudCA9IGpRdWVyeS5ldmVudC5maXgobmF0aXZlRXZlbnQpLCBoYW5kbGVycyA9IChkYXRhUHJpdi5nZXQodGhpcywgXCJldmVudHNcIikgfHwgT2JqZWN0LmNyZWF0ZShudWxsKSlbZXZlbnQudHlwZV0gfHwgW10sIHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFtldmVudC50eXBlXSB8fCB7fTtcbiAgICAgICAgICAgICAgICAvLyBVc2UgdGhlIGZpeC1lZCBqUXVlcnkuRXZlbnQgcmF0aGVyIHRoYW4gdGhlIChyZWFkLW9ubHkpIG5hdGl2ZSBldmVudFxuICAgICAgICAgICAgICAgIGFyZ3NbMF0gPSBldmVudDtcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGV2ZW50LmRlbGVnYXRlVGFyZ2V0ID0gdGhpcztcbiAgICAgICAgICAgICAgICAvLyBDYWxsIHRoZSBwcmVEaXNwYXRjaCBob29rIGZvciB0aGUgbWFwcGVkIHR5cGUsIGFuZCBsZXQgaXQgYmFpbCBpZiBkZXNpcmVkXG4gICAgICAgICAgICAgICAgaWYgKHNwZWNpYWwucHJlRGlzcGF0Y2ggJiYgc3BlY2lhbC5wcmVEaXNwYXRjaC5jYWxsKHRoaXMsIGV2ZW50KSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBEZXRlcm1pbmUgaGFuZGxlcnNcbiAgICAgICAgICAgICAgICBoYW5kbGVyUXVldWUgPSBqUXVlcnkuZXZlbnQuaGFuZGxlcnMuY2FsbCh0aGlzLCBldmVudCwgaGFuZGxlcnMpO1xuICAgICAgICAgICAgICAgIC8vIFJ1biBkZWxlZ2F0ZXMgZmlyc3Q7IHRoZXkgbWF5IHdhbnQgdG8gc3RvcCBwcm9wYWdhdGlvbiBiZW5lYXRoIHVzXG4gICAgICAgICAgICAgICAgaSA9IDA7XG4gICAgICAgICAgICAgICAgd2hpbGUgKChtYXRjaGVkID0gaGFuZGxlclF1ZXVlW2krK10pICYmICFldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQgPSBtYXRjaGVkLmVsZW07XG4gICAgICAgICAgICAgICAgICAgIGogPSAwO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKGhhbmRsZU9iaiA9IG1hdGNoZWQuaGFuZGxlcnNbaisrXSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICFldmVudC5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgZXZlbnQgaXMgbmFtZXNwYWNlZCwgdGhlbiBlYWNoIGhhbmRsZXIgaXMgb25seSBpbnZva2VkIGlmIGl0IGlzXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzcGVjaWFsbHkgdW5pdmVyc2FsIG9yIGl0cyBuYW1lc3BhY2VzIGFyZSBhIHN1cGVyc2V0IG9mIHRoZSBldmVudCdzLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFldmVudC5ybmFtZXNwYWNlIHx8IGhhbmRsZU9iai5uYW1lc3BhY2UgPT09IGZhbHNlIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQucm5hbWVzcGFjZS50ZXN0KGhhbmRsZU9iai5uYW1lc3BhY2UpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuaGFuZGxlT2JqID0gaGFuZGxlT2JqO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LmRhdGEgPSBoYW5kbGVPYmouZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXQgPSAoKGpRdWVyeS5ldmVudC5zcGVjaWFsW2hhbmRsZU9iai5vcmlnVHlwZV0gfHwge30pLmhhbmRsZSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVPYmouaGFuZGxlcikuYXBwbHkobWF0Y2hlZC5lbGVtLCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmV0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChldmVudC5yZXN1bHQgPSByZXQpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIENhbGwgdGhlIHBvc3REaXNwYXRjaCBob29rIGZvciB0aGUgbWFwcGVkIHR5cGVcbiAgICAgICAgICAgICAgICBpZiAoc3BlY2lhbC5wb3N0RGlzcGF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgc3BlY2lhbC5wb3N0RGlzcGF0Y2guY2FsbCh0aGlzLCBldmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBldmVudC5yZXN1bHQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaGFuZGxlcnM6IGZ1bmN0aW9uIChldmVudCwgaGFuZGxlcnMpIHtcbiAgICAgICAgICAgICAgICB2YXIgaSwgaGFuZGxlT2JqLCBzZWwsIG1hdGNoZWRIYW5kbGVycywgbWF0Y2hlZFNlbGVjdG9ycywgaGFuZGxlclF1ZXVlID0gW10sIGRlbGVnYXRlQ291bnQgPSBoYW5kbGVycy5kZWxlZ2F0ZUNvdW50LCBjdXIgPSBldmVudC50YXJnZXQ7XG4gICAgICAgICAgICAgICAgLy8gRmluZCBkZWxlZ2F0ZSBoYW5kbGVyc1xuICAgICAgICAgICAgICAgIGlmIChkZWxlZ2F0ZUNvdW50ICYmXG4gICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDw9OVxuICAgICAgICAgICAgICAgICAgICAvLyBCbGFjay1ob2xlIFNWRyA8dXNlPiBpbnN0YW5jZSB0cmVlcyAodHJhYy0xMzE4MClcbiAgICAgICAgICAgICAgICAgICAgY3VyLm5vZGVUeXBlICYmXG4gICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IEZpcmVmb3ggPD00MlxuICAgICAgICAgICAgICAgICAgICAvLyBTdXBwcmVzcyBzcGVjLXZpb2xhdGluZyBjbGlja3MgaW5kaWNhdGluZyBhIG5vbi1wcmltYXJ5IHBvaW50ZXIgYnV0dG9uICh0cmFjLTM4NjEpXG4gICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMy1FdmVudHMvI2V2ZW50LXR5cGUtY2xpY2tcbiAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgMTEgb25seVxuICAgICAgICAgICAgICAgICAgICAvLyAuLi5idXQgbm90IGFycm93IGtleSBcImNsaWNrc1wiIG9mIHJhZGlvIGlucHV0cywgd2hpY2ggY2FuIGhhdmUgYGJ1dHRvbmAgLTEgKGdoLTIzNDMpXG4gICAgICAgICAgICAgICAgICAgICEoZXZlbnQudHlwZSA9PT0gXCJjbGlja1wiICYmIGV2ZW50LmJ1dHRvbiA+PSAxKSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKDsgY3VyICE9PSB0aGlzOyBjdXIgPSBjdXIucGFyZW50Tm9kZSB8fCB0aGlzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEb24ndCBjaGVjayBub24tZWxlbWVudHMgKHRyYWMtMTMyMDgpXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEb24ndCBwcm9jZXNzIGNsaWNrcyBvbiBkaXNhYmxlZCBlbGVtZW50cyAodHJhYy02OTExLCB0cmFjLTgxNjUsIHRyYWMtMTEzODIsIHRyYWMtMTE3NjQpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyLm5vZGVUeXBlID09PSAxICYmICEoZXZlbnQudHlwZSA9PT0gXCJjbGlja1wiICYmIGN1ci5kaXNhYmxlZCA9PT0gdHJ1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVkSGFuZGxlcnMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVkU2VsZWN0b3JzID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGRlbGVnYXRlQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVPYmogPSBoYW5kbGVyc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRG9uJ3QgY29uZmxpY3Qgd2l0aCBPYmplY3QucHJvdG90eXBlIHByb3BlcnRpZXMgKHRyYWMtMTMyMDMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbCA9IGhhbmRsZU9iai5zZWxlY3RvciArIFwiIFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hlZFNlbGVjdG9yc1tzZWxdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZWRTZWxlY3RvcnNbc2VsXSA9IGhhbmRsZU9iai5uZWVkc0NvbnRleHQgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeShzZWwsIHRoaXMpLmluZGV4KGN1cikgPiAtMSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmZpbmQoc2VsLCB0aGlzLCBudWxsLCBbY3VyXSkubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaGVkU2VsZWN0b3JzW3NlbF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZWRIYW5kbGVycy5wdXNoKGhhbmRsZU9iaik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoZWRIYW5kbGVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlclF1ZXVlLnB1c2goeyBlbGVtOiBjdXIsIGhhbmRsZXJzOiBtYXRjaGVkSGFuZGxlcnMgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUgcmVtYWluaW5nIChkaXJlY3RseS1ib3VuZCkgaGFuZGxlcnNcbiAgICAgICAgICAgICAgICBjdXIgPSB0aGlzO1xuICAgICAgICAgICAgICAgIGlmIChkZWxlZ2F0ZUNvdW50IDwgaGFuZGxlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXJRdWV1ZS5wdXNoKHsgZWxlbTogY3VyLCBoYW5kbGVyczogaGFuZGxlcnMuc2xpY2UoZGVsZWdhdGVDb3VudCkgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBoYW5kbGVyUXVldWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYWRkUHJvcDogZnVuY3Rpb24gKG5hbWUsIGhvb2spIHtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoalF1ZXJ5LkV2ZW50LnByb3RvdHlwZSwgbmFtZSwge1xuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGdldDogaXNGdW5jdGlvbihob29rKSA/XG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3JpZ2luYWxFdmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaG9vayh0aGlzLm9yaWdpbmFsRXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gOlxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9yaWdpbmFsRXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub3JpZ2luYWxFdmVudFtuYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIG5hbWUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZml4OiBmdW5jdGlvbiAob3JpZ2luYWxFdmVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbEV2ZW50W2pRdWVyeS5leHBhbmRvXSA/XG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQgOlxuICAgICAgICAgICAgICAgICAgICBuZXcgalF1ZXJ5LkV2ZW50KG9yaWdpbmFsRXZlbnQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNwZWNpYWw6IHtcbiAgICAgICAgICAgICAgICBsb2FkOiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFByZXZlbnQgdHJpZ2dlcmVkIGltYWdlLmxvYWQgZXZlbnRzIGZyb20gYnViYmxpbmcgdG8gd2luZG93LmxvYWRcbiAgICAgICAgICAgICAgICAgICAgbm9CdWJibGU6IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNsaWNrOiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFV0aWxpemUgbmF0aXZlIGV2ZW50IHRvIGVuc3VyZSBjb3JyZWN0IHN0YXRlIGZvciBjaGVja2FibGUgaW5wdXRzXG4gICAgICAgICAgICAgICAgICAgIHNldHVwOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRm9yIG11dHVhbCBjb21wcmVzc2liaWxpdHkgd2l0aCBfZGVmYXVsdCwgcmVwbGFjZSBgdGhpc2AgYWNjZXNzIHdpdGggYSBsb2NhbCB2YXIuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBgfHwgZGF0YWAgaXMgZGVhZCBjb2RlIG1lYW50IG9ubHkgdG8gcHJlc2VydmUgdGhlIHZhcmlhYmxlIHRocm91Z2ggbWluaWZpY2F0aW9uLlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVsID0gdGhpcyB8fCBkYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2xhaW0gdGhlIGZpcnN0IGhhbmRsZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyY2hlY2thYmxlVHlwZS50ZXN0KGVsLnR5cGUpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWwuY2xpY2sgJiYgbm9kZU5hbWUoZWwsIFwiaW5wdXRcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBkYXRhUHJpdi5zZXQoIGVsLCBcImNsaWNrXCIsIC4uLiApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZXJhZ2VOYXRpdmUoZWwsIFwiY2xpY2tcIiwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXR1cm4gZmFsc2UgdG8gYWxsb3cgbm9ybWFsIHByb2Nlc3NpbmcgaW4gdGhlIGNhbGxlclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRm9yIG11dHVhbCBjb21wcmVzc2liaWxpdHkgd2l0aCBfZGVmYXVsdCwgcmVwbGFjZSBgdGhpc2AgYWNjZXNzIHdpdGggYSBsb2NhbCB2YXIuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBgfHwgZGF0YWAgaXMgZGVhZCBjb2RlIG1lYW50IG9ubHkgdG8gcHJlc2VydmUgdGhlIHZhcmlhYmxlIHRocm91Z2ggbWluaWZpY2F0aW9uLlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVsID0gdGhpcyB8fCBkYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRm9yY2Ugc2V0dXAgYmVmb3JlIHRyaWdnZXJpbmcgYSBjbGlja1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJjaGVja2FibGVUeXBlLnRlc3QoZWwudHlwZSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbC5jbGljayAmJiBub2RlTmFtZShlbCwgXCJpbnB1dFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldmVyYWdlTmF0aXZlKGVsLCBcImNsaWNrXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmV0dXJuIG5vbi1mYWxzZSB0byBhbGxvdyBub3JtYWwgZXZlbnQtcGF0aCBwcm9wYWdhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIC8vIEZvciBjcm9zcy1icm93c2VyIGNvbnNpc3RlbmN5LCBzdXBwcmVzcyBuYXRpdmUgLmNsaWNrKCkgb24gbGlua3NcbiAgICAgICAgICAgICAgICAgICAgLy8gQWxzbyBwcmV2ZW50IGl0IGlmIHdlJ3JlIGN1cnJlbnRseSBpbnNpZGUgYSBsZXZlcmFnZWQgbmF0aXZlLWV2ZW50IHN0YWNrXG4gICAgICAgICAgICAgICAgICAgIF9kZWZhdWx0OiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmNoZWNrYWJsZVR5cGUudGVzdCh0YXJnZXQudHlwZSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQuY2xpY2sgJiYgbm9kZU5hbWUodGFyZ2V0LCBcImlucHV0XCIpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVByaXYuZ2V0KHRhcmdldCwgXCJjbGlja1wiKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVOYW1lKHRhcmdldCwgXCJhXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBiZWZvcmV1bmxvYWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgcG9zdERpc3BhdGNoOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IEZpcmVmb3ggMjArXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGaXJlZm94IGRvZXNuJ3QgYWxlcnQgaWYgdGhlIHJldHVyblZhbHVlIGZpZWxkIGlzIG5vdCBzZXQuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQucmVzdWx0ICE9PSB1bmRlZmluZWQgJiYgZXZlbnQub3JpZ2luYWxFdmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50Lm9yaWdpbmFsRXZlbnQucmV0dXJuVmFsdWUgPSBldmVudC5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8vIEVuc3VyZSB0aGUgcHJlc2VuY2Ugb2YgYW4gZXZlbnQgbGlzdGVuZXIgdGhhdCBoYW5kbGVzIG1hbnVhbGx5LXRyaWdnZXJlZFxuICAgICAgICAvLyBzeW50aGV0aWMgZXZlbnRzIGJ5IGludGVycnVwdGluZyBwcm9ncmVzcyB1bnRpbCByZWludm9rZWQgaW4gcmVzcG9uc2UgdG9cbiAgICAgICAgLy8gKm5hdGl2ZSogZXZlbnRzIHRoYXQgaXQgZmlyZXMgZGlyZWN0bHksIGVuc3VyaW5nIHRoYXQgc3RhdGUgY2hhbmdlcyBoYXZlXG4gICAgICAgIC8vIGFscmVhZHkgb2NjdXJyZWQgYmVmb3JlIG90aGVyIGxpc3RlbmVycyBhcmUgaW52b2tlZC5cbiAgICAgICAgZnVuY3Rpb24gbGV2ZXJhZ2VOYXRpdmUoZWwsIHR5cGUsIGlzU2V0dXApIHtcbiAgICAgICAgICAgIC8vIE1pc3NpbmcgYGlzU2V0dXBgIGluZGljYXRlcyBhIHRyaWdnZXIgY2FsbCwgd2hpY2ggbXVzdCBmb3JjZSBzZXR1cCB0aHJvdWdoIGpRdWVyeS5ldmVudC5hZGRcbiAgICAgICAgICAgIGlmICghaXNTZXR1cCkge1xuICAgICAgICAgICAgICAgIGlmIChkYXRhUHJpdi5nZXQoZWwsIHR5cGUpID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmV2ZW50LmFkZChlbCwgdHlwZSwgcmV0dXJuVHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFJlZ2lzdGVyIHRoZSBjb250cm9sbGVyIGFzIGEgc3BlY2lhbCB1bml2ZXJzYWwgaGFuZGxlciBmb3IgYWxsIGV2ZW50IG5hbWVzcGFjZXNcbiAgICAgICAgICAgIGRhdGFQcml2LnNldChlbCwgdHlwZSwgZmFsc2UpO1xuICAgICAgICAgICAgalF1ZXJ5LmV2ZW50LmFkZChlbCwgdHlwZSwge1xuICAgICAgICAgICAgICAgIG5hbWVzcGFjZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgaGFuZGxlcjogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQsIHNhdmVkID0gZGF0YVByaXYuZ2V0KHRoaXMsIHR5cGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoKGV2ZW50LmlzVHJpZ2dlciAmIDEpICYmIHRoaXNbdHlwZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEludGVycnVwdCBwcm9jZXNzaW5nIG9mIHRoZSBvdXRlciBzeW50aGV0aWMgLnRyaWdnZXIoKWVkIGV2ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNhdmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RvcmUgYXJndW1lbnRzIGZvciB1c2Ugd2hlbiBoYW5kbGluZyB0aGUgaW5uZXIgbmF0aXZlIGV2ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlcmUgd2lsbCBhbHdheXMgYmUgYXQgbGVhc3Qgb25lIGFyZ3VtZW50IChhbiBldmVudCBvYmplY3QpLCBzbyB0aGlzIGFycmF5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2lsbCBub3QgYmUgY29uZnVzZWQgd2l0aCBhIGxlZnRvdmVyIGNhcHR1cmUgb2JqZWN0LlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVkID0gc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFQcml2LnNldCh0aGlzLCB0eXBlLCBzYXZlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVHJpZ2dlciB0aGUgbmF0aXZlIGV2ZW50IGFuZCBjYXB0dXJlIGl0cyByZXN1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzW3R5cGVdKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZGF0YVByaXYuZ2V0KHRoaXMsIHR5cGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFQcml2LnNldCh0aGlzLCB0eXBlLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNhdmVkICE9PSByZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2FuY2VsIHRoZSBvdXRlciBzeW50aGV0aWMgZXZlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgYW4gaW5uZXIgc3ludGhldGljIGV2ZW50IGZvciBhbiBldmVudCB3aXRoIGEgYnViYmxpbmcgc3Vycm9nYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gKGZvY3VzIG9yIGJsdXIpLCBhc3N1bWUgdGhhdCB0aGUgc3Vycm9nYXRlIGFscmVhZHkgcHJvcGFnYXRlZCBmcm9tIHRyaWdnZXJpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgbmF0aXZlIGV2ZW50IGFuZCBwcmV2ZW50IHRoYXQgZnJvbSBoYXBwZW5pbmcgYWdhaW4gaGVyZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIHRlY2huaWNhbGx5IGdldHMgdGhlIG9yZGVyaW5nIHdyb25nIHcuci50LiB0byBgLnRyaWdnZXIoKWAgKGluIHdoaWNoIHRoZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJ1YmJsaW5nIHN1cnJvZ2F0ZSBwcm9wYWdhdGVzICphZnRlciogdGhlIG5vbi1idWJibGluZyBiYXNlKSwgYnV0IHRoYXQgc2VlbXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBsZXNzIGJhZCB0aGFuIGR1cGxpY2F0aW9uLlxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoKGpRdWVyeS5ldmVudC5zcGVjaWFsW3R5cGVdIHx8IHt9KS5kZWxlZ2F0ZVR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgYSBuYXRpdmUgZXZlbnQgdHJpZ2dlcmVkIGFib3ZlLCBldmVyeXRoaW5nIGlzIG5vdyBpbiBvcmRlclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmlyZSBhbiBpbm5lciBzeW50aGV0aWMgZXZlbnQgd2l0aCB0aGUgb3JpZ2luYWwgYXJndW1lbnRzXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2F2ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uLmFuZCBjYXB0dXJlIHRoZSByZXN1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFQcml2LnNldCh0aGlzLCB0eXBlLCBqUXVlcnkuZXZlbnQudHJpZ2dlcihzYXZlZFswXSwgc2F2ZWQuc2xpY2UoMSksIHRoaXMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFib3J0IGhhbmRsaW5nIG9mIHRoZSBuYXRpdmUgZXZlbnQgYnkgYWxsIGpRdWVyeSBoYW5kbGVycyB3aGlsZSBhbGxvd2luZ1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbmF0aXZlIGhhbmRsZXJzIG9uIHRoZSBzYW1lIGVsZW1lbnQgdG8gcnVuLiBPbiB0YXJnZXQsIHRoaXMgaXMgYWNoaWV2ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJ5IHN0b3BwaW5nIGltbWVkaWF0ZSBwcm9wYWdhdGlvbiBqdXN0IG9uIHRoZSBqUXVlcnkgZXZlbnQuIEhvd2V2ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgbmF0aXZlIGV2ZW50IGlzIHJlLXdyYXBwZWQgYnkgYSBqUXVlcnkgb25lIG9uIGVhY2ggbGV2ZWwgb2YgdGhlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBwcm9wYWdhdGlvbiBzbyB0aGUgb25seSB3YXkgdG8gc3RvcCBpdCBmb3IgalF1ZXJ5IGlzIHRvIHN0b3AgaXQgZm9yXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBldmVyeW9uZSB2aWEgbmF0aXZlIGBzdG9wUHJvcGFnYXRpb24oKWAuIFRoaXMgaXMgbm90IGEgcHJvYmxlbSBmb3JcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZvY3VzL2JsdXIgd2hpY2ggZG9uJ3QgYnViYmxlLCBidXQgaXQgZG9lcyBhbHNvIHN0b3AgY2xpY2sgb24gY2hlY2tib3hlc1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW5kIHJhZGlvcy4gV2UgYWNjZXB0IHRoaXMgbGltaXRhdGlvbi5cbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPSByZXR1cm5UcnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgalF1ZXJ5LnJlbW92ZUV2ZW50ID0gZnVuY3Rpb24gKGVsZW0sIHR5cGUsIGhhbmRsZSkge1xuICAgICAgICAgICAgLy8gVGhpcyBcImlmXCIgaXMgbmVlZGVkIGZvciBwbGFpbiBvYmplY3RzXG4gICAgICAgICAgICBpZiAoZWxlbS5yZW1vdmVFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgZWxlbS5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGpRdWVyeS5FdmVudCA9IGZ1bmN0aW9uIChzcmMsIHByb3BzKSB7XG4gICAgICAgICAgICAvLyBBbGxvdyBpbnN0YW50aWF0aW9uIHdpdGhvdXQgdGhlICduZXcnIGtleXdvcmRcbiAgICAgICAgICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBqUXVlcnkuRXZlbnQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBqUXVlcnkuRXZlbnQoc3JjLCBwcm9wcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBFdmVudCBvYmplY3RcbiAgICAgICAgICAgIGlmIChzcmMgJiYgc3JjLnR5cGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbmFsRXZlbnQgPSBzcmM7XG4gICAgICAgICAgICAgICAgdGhpcy50eXBlID0gc3JjLnR5cGU7XG4gICAgICAgICAgICAgICAgLy8gRXZlbnRzIGJ1YmJsaW5nIHVwIHRoZSBkb2N1bWVudCBtYXkgaGF2ZSBiZWVuIG1hcmtlZCBhcyBwcmV2ZW50ZWRcbiAgICAgICAgICAgICAgICAvLyBieSBhIGhhbmRsZXIgbG93ZXIgZG93biB0aGUgdHJlZTsgcmVmbGVjdCB0aGUgY29ycmVjdCB2YWx1ZS5cbiAgICAgICAgICAgICAgICB0aGlzLmlzRGVmYXVsdFByZXZlbnRlZCA9IHNyYy5kZWZhdWx0UHJldmVudGVkIHx8XG4gICAgICAgICAgICAgICAgICAgIHNyYy5kZWZhdWx0UHJldmVudGVkID09PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD0yLjMgb25seVxuICAgICAgICAgICAgICAgICAgICAgICAgc3JjLnJldHVyblZhbHVlID09PSBmYWxzZSA/XG4gICAgICAgICAgICAgICAgICAgIHJldHVyblRydWUgOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm5GYWxzZTtcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgdGFyZ2V0IHByb3BlcnRpZXNcbiAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBTYWZhcmkgPD02IC0gNyBvbmx5XG4gICAgICAgICAgICAgICAgLy8gVGFyZ2V0IHNob3VsZCBub3QgYmUgYSB0ZXh0IG5vZGUgKHRyYWMtNTA0LCB0cmFjLTEzMTQzKVxuICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gKHNyYy50YXJnZXQgJiYgc3JjLnRhcmdldC5ub2RlVHlwZSA9PT0gMykgP1xuICAgICAgICAgICAgICAgICAgICBzcmMudGFyZ2V0LnBhcmVudE5vZGUgOlxuICAgICAgICAgICAgICAgICAgICBzcmMudGFyZ2V0O1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFRhcmdldCA9IHNyYy5jdXJyZW50VGFyZ2V0O1xuICAgICAgICAgICAgICAgIHRoaXMucmVsYXRlZFRhcmdldCA9IHNyYy5yZWxhdGVkVGFyZ2V0O1xuICAgICAgICAgICAgICAgIC8vIEV2ZW50IHR5cGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IHNyYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFB1dCBleHBsaWNpdGx5IHByb3ZpZGVkIHByb3BlcnRpZXMgb250byB0aGUgZXZlbnQgb2JqZWN0XG4gICAgICAgICAgICBpZiAocHJvcHMpIHtcbiAgICAgICAgICAgICAgICBqUXVlcnkuZXh0ZW5kKHRoaXMsIHByb3BzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIHRpbWVzdGFtcCBpZiBpbmNvbWluZyBldmVudCBkb2Vzbid0IGhhdmUgb25lXG4gICAgICAgICAgICB0aGlzLnRpbWVTdGFtcCA9IHNyYyAmJiBzcmMudGltZVN0YW1wIHx8IERhdGUubm93KCk7XG4gICAgICAgICAgICAvLyBNYXJrIGl0IGFzIGZpeGVkXG4gICAgICAgICAgICB0aGlzW2pRdWVyeS5leHBhbmRvXSA9IHRydWU7XG4gICAgICAgIH07XG4gICAgICAgIC8vIGpRdWVyeS5FdmVudCBpcyBiYXNlZCBvbiBET00zIEV2ZW50cyBhcyBzcGVjaWZpZWQgYnkgdGhlIEVDTUFTY3JpcHQgTGFuZ3VhZ2UgQmluZGluZ1xuICAgICAgICAvLyBodHRwczovL3d3dy53My5vcmcvVFIvMjAwMy9XRC1ET00tTGV2ZWwtMy1FdmVudHMtMjAwMzAzMzEvZWNtYS1zY3JpcHQtYmluZGluZy5odG1sXG4gICAgICAgIGpRdWVyeS5FdmVudC5wcm90b3R5cGUgPSB7XG4gICAgICAgICAgICBjb25zdHJ1Y3RvcjogalF1ZXJ5LkV2ZW50LFxuICAgICAgICAgICAgaXNEZWZhdWx0UHJldmVudGVkOiByZXR1cm5GYWxzZSxcbiAgICAgICAgICAgIGlzUHJvcGFnYXRpb25TdG9wcGVkOiByZXR1cm5GYWxzZSxcbiAgICAgICAgICAgIGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOiByZXR1cm5GYWxzZSxcbiAgICAgICAgICAgIGlzU2ltdWxhdGVkOiBmYWxzZSxcbiAgICAgICAgICAgIHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGUgPSB0aGlzLm9yaWdpbmFsRXZlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSByZXR1cm5UcnVlO1xuICAgICAgICAgICAgICAgIGlmIChlICYmICF0aGlzLmlzU2ltdWxhdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3RvcFByb3BhZ2F0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGUgPSB0aGlzLm9yaWdpbmFsRXZlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZCA9IHJldHVyblRydWU7XG4gICAgICAgICAgICAgICAgaWYgKGUgJiYgIXRoaXMuaXNTaW11bGF0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGUgPSB0aGlzLm9yaWdpbmFsRXZlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9IHJldHVyblRydWU7XG4gICAgICAgICAgICAgICAgaWYgKGUgJiYgIXRoaXMuaXNTaW11bGF0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLy8gSW5jbHVkZXMgYWxsIGNvbW1vbiBldmVudCBwcm9wcyBpbmNsdWRpbmcgS2V5RXZlbnQgYW5kIE1vdXNlRXZlbnQgc3BlY2lmaWMgcHJvcHNcbiAgICAgICAgalF1ZXJ5LmVhY2goe1xuICAgICAgICAgICAgYWx0S2V5OiB0cnVlLFxuICAgICAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgICAgIGNhbmNlbGFibGU6IHRydWUsXG4gICAgICAgICAgICBjaGFuZ2VkVG91Y2hlczogdHJ1ZSxcbiAgICAgICAgICAgIGN0cmxLZXk6IHRydWUsXG4gICAgICAgICAgICBkZXRhaWw6IHRydWUsXG4gICAgICAgICAgICBldmVudFBoYXNlOiB0cnVlLFxuICAgICAgICAgICAgbWV0YUtleTogdHJ1ZSxcbiAgICAgICAgICAgIHBhZ2VYOiB0cnVlLFxuICAgICAgICAgICAgcGFnZVk6IHRydWUsXG4gICAgICAgICAgICBzaGlmdEtleTogdHJ1ZSxcbiAgICAgICAgICAgIHZpZXc6IHRydWUsXG4gICAgICAgICAgICBcImNoYXJcIjogdHJ1ZSxcbiAgICAgICAgICAgIGNvZGU6IHRydWUsXG4gICAgICAgICAgICBjaGFyQ29kZTogdHJ1ZSxcbiAgICAgICAgICAgIGtleTogdHJ1ZSxcbiAgICAgICAgICAgIGtleUNvZGU6IHRydWUsXG4gICAgICAgICAgICBidXR0b246IHRydWUsXG4gICAgICAgICAgICBidXR0b25zOiB0cnVlLFxuICAgICAgICAgICAgY2xpZW50WDogdHJ1ZSxcbiAgICAgICAgICAgIGNsaWVudFk6IHRydWUsXG4gICAgICAgICAgICBvZmZzZXRYOiB0cnVlLFxuICAgICAgICAgICAgb2Zmc2V0WTogdHJ1ZSxcbiAgICAgICAgICAgIHBvaW50ZXJJZDogdHJ1ZSxcbiAgICAgICAgICAgIHBvaW50ZXJUeXBlOiB0cnVlLFxuICAgICAgICAgICAgc2NyZWVuWDogdHJ1ZSxcbiAgICAgICAgICAgIHNjcmVlblk6IHRydWUsXG4gICAgICAgICAgICB0YXJnZXRUb3VjaGVzOiB0cnVlLFxuICAgICAgICAgICAgdG9FbGVtZW50OiB0cnVlLFxuICAgICAgICAgICAgdG91Y2hlczogdHJ1ZSxcbiAgICAgICAgICAgIHdoaWNoOiB0cnVlXG4gICAgICAgIH0sIGpRdWVyeS5ldmVudC5hZGRQcm9wKTtcbiAgICAgICAgalF1ZXJ5LmVhY2goeyBmb2N1czogXCJmb2N1c2luXCIsIGJsdXI6IFwiZm9jdXNvdXRcIiB9LCBmdW5jdGlvbiAodHlwZSwgZGVsZWdhdGVUeXBlKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBmb2N1c01hcHBlZEhhbmRsZXIobmF0aXZlRXZlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuZG9jdW1lbnRNb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDExK1xuICAgICAgICAgICAgICAgICAgICAvLyBBdHRhY2ggYSBzaW5nbGUgZm9jdXNpbi9mb2N1c291dCBoYW5kbGVyIG9uIHRoZSBkb2N1bWVudCB3aGlsZSBzb21lb25lIHdhbnRzXG4gICAgICAgICAgICAgICAgICAgIC8vIGZvY3VzL2JsdXIuIFRoaXMgaXMgYmVjYXVzZSB0aGUgZm9ybWVyIGFyZSBzeW5jaHJvbm91cyBpbiBJRSB3aGlsZSB0aGUgbGF0dGVyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFyZSBhc3luYy4gSW4gb3RoZXIgYnJvd3NlcnMsIGFsbCB0aG9zZSBoYW5kbGVycyBhcmUgaW52b2tlZCBzeW5jaHJvbm91c2x5LlxuICAgICAgICAgICAgICAgICAgICAvLyBgaGFuZGxlYCBmcm9tIHByaXZhdGUgZGF0YSB3b3VsZCBhbHJlYWR5IHdyYXAgdGhlIGV2ZW50LCBidXQgd2UgbmVlZFxuICAgICAgICAgICAgICAgICAgICAvLyB0byBjaGFuZ2UgdGhlIGB0eXBlYCBoZXJlLlxuICAgICAgICAgICAgICAgICAgICB2YXIgaGFuZGxlID0gZGF0YVByaXYuZ2V0KHRoaXMsIFwiaGFuZGxlXCIpLCBldmVudCA9IGpRdWVyeS5ldmVudC5maXgobmF0aXZlRXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICBldmVudC50eXBlID0gbmF0aXZlRXZlbnQudHlwZSA9PT0gXCJmb2N1c2luXCIgPyBcImZvY3VzXCIgOiBcImJsdXJcIjtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQuaXNTaW11bGF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAvLyBGaXJzdCwgaGFuZGxlIGZvY3VzaW4vZm9jdXNvdXRcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlKG5hdGl2ZUV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gLi4udGhlbiwgaGFuZGxlIGZvY3VzL2JsdXJcbiAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgLy8gZm9jdXMvYmx1ciBkb24ndCBidWJibGUgd2hpbGUgZm9jdXNpbi9mb2N1c291dCBkbzsgc2ltdWxhdGUgdGhlIGZvcm1lciBieSBvbmx5XG4gICAgICAgICAgICAgICAgICAgIC8vIGludm9raW5nIHRoZSBoYW5kbGVyIGF0IHRoZSBsb3dlciBsZXZlbC5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gZXZlbnQuY3VycmVudFRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHNldHVwIHBhcnQgY2FsbHMgYGxldmVyYWdlTmF0aXZlYCwgd2hpY2gsIGluIHR1cm4sIGNhbGxzXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBgalF1ZXJ5LmV2ZW50LmFkZGAsIHNvIGV2ZW50IGhhbmRsZSB3aWxsIGFscmVhZHkgaGF2ZSBiZWVuIHNldFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYnkgdGhpcyBwb2ludC5cbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZShldmVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEZvciBub24tSUUgYnJvd3NlcnMsIGF0dGFjaCBhIHNpbmdsZSBjYXB0dXJpbmcgaGFuZGxlciBvbiB0aGUgZG9jdW1lbnRcbiAgICAgICAgICAgICAgICAgICAgLy8gd2hpbGUgc29tZW9uZSB3YW50cyBmb2N1c2luL2ZvY3Vzb3V0LlxuICAgICAgICAgICAgICAgICAgICBqUXVlcnkuZXZlbnQuc2ltdWxhdGUoZGVsZWdhdGVUeXBlLCBuYXRpdmVFdmVudC50YXJnZXQsIGpRdWVyeS5ldmVudC5maXgobmF0aXZlRXZlbnQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBqUXVlcnkuZXZlbnQuc3BlY2lhbFt0eXBlXSA9IHtcbiAgICAgICAgICAgICAgICAvLyBVdGlsaXplIG5hdGl2ZSBldmVudCBpZiBwb3NzaWJsZSBzbyBibHVyL2ZvY3VzIHNlcXVlbmNlIGlzIGNvcnJlY3RcbiAgICAgICAgICAgICAgICBzZXR1cDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXR0YWNoZXM7XG4gICAgICAgICAgICAgICAgICAgIC8vIENsYWltIHRoZSBmaXJzdCBoYW5kbGVyXG4gICAgICAgICAgICAgICAgICAgIC8vIGRhdGFQcml2LnNldCggdGhpcywgXCJmb2N1c1wiLCAuLi4gKVxuICAgICAgICAgICAgICAgICAgICAvLyBkYXRhUHJpdi5zZXQoIHRoaXMsIFwiYmx1clwiLCAuLi4gKVxuICAgICAgICAgICAgICAgICAgICBsZXZlcmFnZU5hdGl2ZSh0aGlzLCB0eXBlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmRvY3VtZW50TW9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgOSAtIDExK1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgdXNlIHRoZSBzYW1lIG5hdGl2ZSBoYW5kbGVyIGZvciBmb2N1c2luICYgZm9jdXMgKGFuZCBmb2N1c291dCAmIGJsdXIpXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzbyB3ZSBuZWVkIHRvIGNvb3JkaW5hdGUgc2V0dXAgJiB0ZWFyZG93biBwYXJ0cyBiZXR3ZWVuIHRob3NlIGV2ZW50cy5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVzZSBgZGVsZWdhdGVUeXBlYCBhcyB0aGUga2V5IGFzIGB0eXBlYCBpcyBhbHJlYWR5IHVzZWQgYnkgYGxldmVyYWdlTmF0aXZlYC5cbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dGFjaGVzID0gZGF0YVByaXYuZ2V0KHRoaXMsIGRlbGVnYXRlVHlwZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWF0dGFjaGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKGRlbGVnYXRlVHlwZSwgZm9jdXNNYXBwZWRIYW5kbGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFQcml2LnNldCh0aGlzLCBkZWxlZ2F0ZVR5cGUsIChhdHRhY2hlcyB8fCAwKSArIDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmV0dXJuIGZhbHNlIHRvIGFsbG93IG5vcm1hbCBwcm9jZXNzaW5nIGluIHRoZSBjYWxsZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdHJpZ2dlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBGb3JjZSBzZXR1cCBiZWZvcmUgdHJpZ2dlclxuICAgICAgICAgICAgICAgICAgICBsZXZlcmFnZU5hdGl2ZSh0aGlzLCB0eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmV0dXJuIG5vbi1mYWxzZSB0byBhbGxvdyBub3JtYWwgZXZlbnQtcGF0aCBwcm9wYWdhdGlvblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRlYXJkb3duOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhdHRhY2hlcztcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmRvY3VtZW50TW9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXR0YWNoZXMgPSBkYXRhUHJpdi5nZXQodGhpcywgZGVsZWdhdGVUeXBlKSAtIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWF0dGFjaGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKGRlbGVnYXRlVHlwZSwgZm9jdXNNYXBwZWRIYW5kbGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhUHJpdi5yZW1vdmUodGhpcywgZGVsZWdhdGVUeXBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFQcml2LnNldCh0aGlzLCBkZWxlZ2F0ZVR5cGUsIGF0dGFjaGVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJldHVybiBmYWxzZSB0byBpbmRpY2F0ZSBzdGFuZGFyZCB0ZWFyZG93biBzaG91bGQgYmUgYXBwbGllZFxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvLyBTdXBwcmVzcyBuYXRpdmUgZm9jdXMgb3IgYmx1ciBpZiB3ZSdyZSBjdXJyZW50bHkgaW5zaWRlXG4gICAgICAgICAgICAgICAgLy8gYSBsZXZlcmFnZWQgbmF0aXZlLWV2ZW50IHN0YWNrXG4gICAgICAgICAgICAgICAgX2RlZmF1bHQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YVByaXYuZ2V0KGV2ZW50LnRhcmdldCwgdHlwZSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBkZWxlZ2F0ZVR5cGU6IGRlbGVnYXRlVHlwZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIFN1cHBvcnQ6IEZpcmVmb3ggPD00NFxuICAgICAgICAgICAgLy8gRmlyZWZveCBkb2Vzbid0IGhhdmUgZm9jdXMoaW4gfCBvdXQpIGV2ZW50c1xuICAgICAgICAgICAgLy8gUmVsYXRlZCB0aWNrZXQgLSBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD02ODc3ODdcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBTdXBwb3J0OiBDaHJvbWUgPD00OCAtIDQ5LCBTYWZhcmkgPD05LjAgLSA5LjFcbiAgICAgICAgICAgIC8vIGZvY3VzKGluIHwgb3V0KSBldmVudHMgZmlyZSBhZnRlciBmb2N1cyAmIGJsdXIgZXZlbnRzLFxuICAgICAgICAgICAgLy8gd2hpY2ggaXMgc3BlYyB2aW9sYXRpb24gLSBodHRwOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMy1FdmVudHMvI2V2ZW50cy1mb2N1c2V2ZW50LWV2ZW50LW9yZGVyXG4gICAgICAgICAgICAvLyBSZWxhdGVkIHRpY2tldCAtIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTQ0OTg1N1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDkgLSAxMStcbiAgICAgICAgICAgIC8vIFRvIHByZXNlcnZlIHJlbGF0aXZlIGZvY3VzaW4vZm9jdXMgJiBmb2N1c291dC9ibHVyIGV2ZW50IG9yZGVyIGd1YXJhbnRlZWQgb24gdGhlIDMueCBicmFuY2gsXG4gICAgICAgICAgICAvLyBhdHRhY2ggYSBzaW5nbGUgaGFuZGxlciBmb3IgYm90aCBldmVudHMgaW4gSUUuXG4gICAgICAgICAgICBqUXVlcnkuZXZlbnQuc3BlY2lhbFtkZWxlZ2F0ZVR5cGVdID0ge1xuICAgICAgICAgICAgICAgIHNldHVwOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZTogcmVndWxhciBub2RlcyAodmlhIGB0aGlzLm93bmVyRG9jdW1lbnRgKSwgd2luZG93XG4gICAgICAgICAgICAgICAgICAgIC8vICh2aWEgYHRoaXMuZG9jdW1lbnRgKSAmIGRvY3VtZW50ICh2aWEgYHRoaXNgKS5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGRvYyA9IHRoaXMub3duZXJEb2N1bWVudCB8fCB0aGlzLmRvY3VtZW50IHx8IHRoaXMsIGRhdGFIb2xkZXIgPSBkb2N1bWVudC5kb2N1bWVudE1vZGUgPyB0aGlzIDogZG9jLCBhdHRhY2hlcyA9IGRhdGFQcml2LmdldChkYXRhSG9sZGVyLCBkZWxlZ2F0ZVR5cGUpO1xuICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA5IC0gMTErXG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIHVzZSB0aGUgc2FtZSBuYXRpdmUgaGFuZGxlciBmb3IgZm9jdXNpbiAmIGZvY3VzIChhbmQgZm9jdXNvdXQgJiBibHVyKVxuICAgICAgICAgICAgICAgICAgICAvLyBzbyB3ZSBuZWVkIHRvIGNvb3JkaW5hdGUgc2V0dXAgJiB0ZWFyZG93biBwYXJ0cyBiZXR3ZWVuIHRob3NlIGV2ZW50cy5cbiAgICAgICAgICAgICAgICAgICAgLy8gVXNlIGBkZWxlZ2F0ZVR5cGVgIGFzIHRoZSBrZXkgYXMgYHR5cGVgIGlzIGFscmVhZHkgdXNlZCBieSBgbGV2ZXJhZ2VOYXRpdmVgLlxuICAgICAgICAgICAgICAgICAgICBpZiAoIWF0dGFjaGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuZG9jdW1lbnRNb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKGRlbGVnYXRlVHlwZSwgZm9jdXNNYXBwZWRIYW5kbGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGZvY3VzTWFwcGVkSGFuZGxlciwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZGF0YVByaXYuc2V0KGRhdGFIb2xkZXIsIGRlbGVnYXRlVHlwZSwgKGF0dGFjaGVzIHx8IDApICsgMSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0ZWFyZG93bjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZG9jID0gdGhpcy5vd25lckRvY3VtZW50IHx8IHRoaXMuZG9jdW1lbnQgfHwgdGhpcywgZGF0YUhvbGRlciA9IGRvY3VtZW50LmRvY3VtZW50TW9kZSA/IHRoaXMgOiBkb2MsIGF0dGFjaGVzID0gZGF0YVByaXYuZ2V0KGRhdGFIb2xkZXIsIGRlbGVnYXRlVHlwZSkgLSAxO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWF0dGFjaGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuZG9jdW1lbnRNb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKGRlbGVnYXRlVHlwZSwgZm9jdXNNYXBwZWRIYW5kbGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGZvY3VzTWFwcGVkSGFuZGxlciwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhUHJpdi5yZW1vdmUoZGF0YUhvbGRlciwgZGVsZWdhdGVUeXBlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFQcml2LnNldChkYXRhSG9sZGVyLCBkZWxlZ2F0ZVR5cGUsIGF0dGFjaGVzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBDcmVhdGUgbW91c2VlbnRlci9sZWF2ZSBldmVudHMgdXNpbmcgbW91c2VvdmVyL291dCBhbmQgZXZlbnQtdGltZSBjaGVja3NcbiAgICAgICAgLy8gc28gdGhhdCBldmVudCBkZWxlZ2F0aW9uIHdvcmtzIGluIGpRdWVyeS5cbiAgICAgICAgLy8gRG8gdGhlIHNhbWUgZm9yIHBvaW50ZXJlbnRlci9wb2ludGVybGVhdmUgYW5kIHBvaW50ZXJvdmVyL3BvaW50ZXJvdXRcbiAgICAgICAgLy9cbiAgICAgICAgLy8gU3VwcG9ydDogU2FmYXJpIDcgb25seVxuICAgICAgICAvLyBTYWZhcmkgc2VuZHMgbW91c2VlbnRlciB0b28gb2Z0ZW47IHNlZTpcbiAgICAgICAgLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NDcwMjU4XG4gICAgICAgIC8vIGZvciB0aGUgZGVzY3JpcHRpb24gb2YgdGhlIGJ1ZyAoaXQgZXhpc3RlZCBpbiBvbGRlciBDaHJvbWUgdmVyc2lvbnMgYXMgd2VsbCkuXG4gICAgICAgIGpRdWVyeS5lYWNoKHtcbiAgICAgICAgICAgIG1vdXNlZW50ZXI6IFwibW91c2VvdmVyXCIsXG4gICAgICAgICAgICBtb3VzZWxlYXZlOiBcIm1vdXNlb3V0XCIsXG4gICAgICAgICAgICBwb2ludGVyZW50ZXI6IFwicG9pbnRlcm92ZXJcIixcbiAgICAgICAgICAgIHBvaW50ZXJsZWF2ZTogXCJwb2ludGVyb3V0XCJcbiAgICAgICAgfSwgZnVuY3Rpb24gKG9yaWcsIGZpeCkge1xuICAgICAgICAgICAgalF1ZXJ5LmV2ZW50LnNwZWNpYWxbb3JpZ10gPSB7XG4gICAgICAgICAgICAgICAgZGVsZWdhdGVUeXBlOiBmaXgsXG4gICAgICAgICAgICAgICAgYmluZFR5cGU6IGZpeCxcbiAgICAgICAgICAgICAgICBoYW5kbGU6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmV0LCB0YXJnZXQgPSB0aGlzLCByZWxhdGVkID0gZXZlbnQucmVsYXRlZFRhcmdldCwgaGFuZGxlT2JqID0gZXZlbnQuaGFuZGxlT2JqO1xuICAgICAgICAgICAgICAgICAgICAvLyBGb3IgbW91c2VlbnRlci9sZWF2ZSBjYWxsIHRoZSBoYW5kbGVyIGlmIHJlbGF0ZWQgaXMgb3V0c2lkZSB0aGUgdGFyZ2V0LlxuICAgICAgICAgICAgICAgICAgICAvLyBOQjogTm8gcmVsYXRlZFRhcmdldCBpZiB0aGUgbW91c2UgbGVmdC9lbnRlcmVkIHRoZSBicm93c2VyIHdpbmRvd1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXJlbGF0ZWQgfHwgKHJlbGF0ZWQgIT09IHRhcmdldCAmJiAhalF1ZXJ5LmNvbnRhaW5zKHRhcmdldCwgcmVsYXRlZCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudC50eXBlID0gaGFuZGxlT2JqLm9yaWdUeXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0gaGFuZGxlT2JqLmhhbmRsZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnR5cGUgPSBmaXg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgalF1ZXJ5LmZuLmV4dGVuZCh7XG4gICAgICAgICAgICBvbjogZnVuY3Rpb24gKHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb24odGhpcywgdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25lOiBmdW5jdGlvbiAodHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBvbih0aGlzLCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuLCAxKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvZmY6IGZ1bmN0aW9uICh0eXBlcywgc2VsZWN0b3IsIGZuKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhhbmRsZU9iaiwgdHlwZTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZXMgJiYgdHlwZXMucHJldmVudERlZmF1bHQgJiYgdHlwZXMuaGFuZGxlT2JqKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICggZXZlbnQgKSAgZGlzcGF0Y2hlZCBqUXVlcnkuRXZlbnRcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlT2JqID0gdHlwZXMuaGFuZGxlT2JqO1xuICAgICAgICAgICAgICAgICAgICBqUXVlcnkodHlwZXMuZGVsZWdhdGVUYXJnZXQpLm9mZihoYW5kbGVPYmoubmFtZXNwYWNlID9cbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZU9iai5vcmlnVHlwZSArIFwiLlwiICsgaGFuZGxlT2JqLm5hbWVzcGFjZSA6XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVPYmoub3JpZ1R5cGUsIGhhbmRsZU9iai5zZWxlY3RvciwgaGFuZGxlT2JqLmhhbmRsZXIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0eXBlcyA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgICAgICAvLyAoIHR5cGVzLW9iamVjdCBbLCBzZWxlY3Rvcl0gKVxuICAgICAgICAgICAgICAgICAgICBmb3IgKHR5cGUgaW4gdHlwZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub2ZmKHR5cGUsIHNlbGVjdG9yLCB0eXBlc1t0eXBlXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RvciA9PT0gZmFsc2UgfHwgdHlwZW9mIHNlbGVjdG9yID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gKCB0eXBlcyBbLCBmbl0gKVxuICAgICAgICAgICAgICAgICAgICBmbiA9IHNlbGVjdG9yO1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGZuID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBmbiA9IHJldHVybkZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmV2ZW50LnJlbW92ZSh0aGlzLCB0eXBlcywgZm4sIHNlbGVjdG9yKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBcbiAgICAgICAgLy8gU3VwcG9ydDogSUUgPD0xMCAtIDExLCBFZGdlIDEyIC0gMTMgb25seVxuICAgICAgICAvLyBJbiBJRS9FZGdlIHVzaW5nIHJlZ2V4IGdyb3VwcyBoZXJlIGNhdXNlcyBzZXZlcmUgc2xvd2Rvd25zLlxuICAgICAgICAvLyBTZWUgaHR0cHM6Ly9jb25uZWN0Lm1pY3Jvc29mdC5jb20vSUUvZmVlZGJhY2svZGV0YWlscy8xNzM2NTEyL1xuICAgICAgICBybm9Jbm5lcmh0bWwgPSAvPHNjcmlwdHw8c3R5bGV8PGxpbmsvaSwgXG4gICAgICAgIC8vIGNoZWNrZWQ9XCJjaGVja2VkXCIgb3IgY2hlY2tlZFxuICAgICAgICByY2hlY2tlZCA9IC9jaGVja2VkXFxzKig/OltePV18PVxccyouY2hlY2tlZC4pL2ksIHJjbGVhblNjcmlwdCA9IC9eXFxzKjwhXFxbQ0RBVEFcXFt8XFxdXFxdPlxccyokL2c7XG4gICAgICAgIC8vIFByZWZlciBhIHRib2R5IG92ZXIgaXRzIHBhcmVudCB0YWJsZSBmb3IgY29udGFpbmluZyBuZXcgcm93c1xuICAgICAgICBmdW5jdGlvbiBtYW5pcHVsYXRpb25UYXJnZXQoZWxlbSwgY29udGVudCkge1xuICAgICAgICAgICAgaWYgKG5vZGVOYW1lKGVsZW0sIFwidGFibGVcIikgJiZcbiAgICAgICAgICAgICAgICBub2RlTmFtZShjb250ZW50Lm5vZGVUeXBlICE9PSAxMSA/IGNvbnRlbnQgOiBjb250ZW50LmZpcnN0Q2hpbGQsIFwidHJcIikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4galF1ZXJ5KGVsZW0pLmNoaWxkcmVuKFwidGJvZHlcIilbMF0gfHwgZWxlbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBlbGVtO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlcGxhY2UvcmVzdG9yZSB0aGUgdHlwZSBhdHRyaWJ1dGUgb2Ygc2NyaXB0IGVsZW1lbnRzIGZvciBzYWZlIERPTSBtYW5pcHVsYXRpb25cbiAgICAgICAgZnVuY3Rpb24gZGlzYWJsZVNjcmlwdChlbGVtKSB7XG4gICAgICAgICAgICBlbGVtLnR5cGUgPSAoZWxlbS5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpICE9PSBudWxsKSArIFwiL1wiICsgZWxlbS50eXBlO1xuICAgICAgICAgICAgcmV0dXJuIGVsZW07XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gcmVzdG9yZVNjcmlwdChlbGVtKSB7XG4gICAgICAgICAgICBpZiAoKGVsZW0udHlwZSB8fCBcIlwiKS5zbGljZSgwLCA1KSA9PT0gXCJ0cnVlL1wiKSB7XG4gICAgICAgICAgICAgICAgZWxlbS50eXBlID0gZWxlbS50eXBlLnNsaWNlKDUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZWxlbS5yZW1vdmVBdHRyaWJ1dGUoXCJ0eXBlXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGVsZW07XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gY2xvbmVDb3B5RXZlbnQoc3JjLCBkZXN0KSB7XG4gICAgICAgICAgICB2YXIgaSwgbCwgdHlwZSwgcGRhdGFPbGQsIHVkYXRhT2xkLCB1ZGF0YUN1ciwgZXZlbnRzO1xuICAgICAgICAgICAgaWYgKGRlc3Qubm9kZVR5cGUgIT09IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAxLiBDb3B5IHByaXZhdGUgZGF0YTogZXZlbnRzLCBoYW5kbGVycywgZXRjLlxuICAgICAgICAgICAgaWYgKGRhdGFQcml2Lmhhc0RhdGEoc3JjKSkge1xuICAgICAgICAgICAgICAgIHBkYXRhT2xkID0gZGF0YVByaXYuZ2V0KHNyYyk7XG4gICAgICAgICAgICAgICAgZXZlbnRzID0gcGRhdGFPbGQuZXZlbnRzO1xuICAgICAgICAgICAgICAgIGlmIChldmVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YVByaXYucmVtb3ZlKGRlc3QsIFwiaGFuZGxlIGV2ZW50c1wiKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh0eXBlIGluIGV2ZW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMCwgbCA9IGV2ZW50c1t0eXBlXS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuZXZlbnQuYWRkKGRlc3QsIHR5cGUsIGV2ZW50c1t0eXBlXVtpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAyLiBDb3B5IHVzZXIgZGF0YVxuICAgICAgICAgICAgaWYgKGRhdGFVc2VyLmhhc0RhdGEoc3JjKSkge1xuICAgICAgICAgICAgICAgIHVkYXRhT2xkID0gZGF0YVVzZXIuYWNjZXNzKHNyYyk7XG4gICAgICAgICAgICAgICAgdWRhdGFDdXIgPSBqUXVlcnkuZXh0ZW5kKHt9LCB1ZGF0YU9sZCk7XG4gICAgICAgICAgICAgICAgZGF0YVVzZXIuc2V0KGRlc3QsIHVkYXRhQ3VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBGaXggSUUgYnVncywgc2VlIHN1cHBvcnQgdGVzdHNcbiAgICAgICAgZnVuY3Rpb24gZml4SW5wdXQoc3JjLCBkZXN0KSB7XG4gICAgICAgICAgICB2YXIgbm9kZU5hbWUgPSBkZXN0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAvLyBGYWlscyB0byBwZXJzaXN0IHRoZSBjaGVja2VkIHN0YXRlIG9mIGEgY2xvbmVkIGNoZWNrYm94IG9yIHJhZGlvIGJ1dHRvbi5cbiAgICAgICAgICAgIGlmIChub2RlTmFtZSA9PT0gXCJpbnB1dFwiICYmIHJjaGVja2FibGVUeXBlLnRlc3Qoc3JjLnR5cGUpKSB7XG4gICAgICAgICAgICAgICAgZGVzdC5jaGVja2VkID0gc3JjLmNoZWNrZWQ7XG4gICAgICAgICAgICAgICAgLy8gRmFpbHMgdG8gcmV0dXJuIHRoZSBzZWxlY3RlZCBvcHRpb24gdG8gdGhlIGRlZmF1bHQgc2VsZWN0ZWQgc3RhdGUgd2hlbiBjbG9uaW5nIG9wdGlvbnNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG5vZGVOYW1lID09PSBcImlucHV0XCIgfHwgbm9kZU5hbWUgPT09IFwidGV4dGFyZWFcIikge1xuICAgICAgICAgICAgICAgIGRlc3QuZGVmYXVsdFZhbHVlID0gc3JjLmRlZmF1bHRWYWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBkb21NYW5pcChjb2xsZWN0aW9uLCBhcmdzLCBjYWxsYmFjaywgaWdub3JlZCkge1xuICAgICAgICAgICAgLy8gRmxhdHRlbiBhbnkgbmVzdGVkIGFycmF5c1xuICAgICAgICAgICAgYXJncyA9IGZsYXQoYXJncyk7XG4gICAgICAgICAgICB2YXIgZnJhZ21lbnQsIGZpcnN0LCBzY3JpcHRzLCBoYXNTY3JpcHRzLCBub2RlLCBkb2MsIGkgPSAwLCBsID0gY29sbGVjdGlvbi5sZW5ndGgsIGlOb0Nsb25lID0gbCAtIDEsIHZhbHVlID0gYXJnc1swXSwgdmFsdWVJc0Z1bmN0aW9uID0gaXNGdW5jdGlvbih2YWx1ZSk7XG4gICAgICAgICAgICAvLyBXZSBjYW4ndCBjbG9uZU5vZGUgZnJhZ21lbnRzIHRoYXQgY29udGFpbiBjaGVja2VkLCBpbiBXZWJLaXRcbiAgICAgICAgICAgIGlmICh2YWx1ZUlzRnVuY3Rpb24gfHxcbiAgICAgICAgICAgICAgICAobCA+IDEgJiYgdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmXG4gICAgICAgICAgICAgICAgICAgICFzdXBwb3J0LmNoZWNrQ2xvbmUgJiYgcmNoZWNrZWQudGVzdCh2YWx1ZSkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb24uZWFjaChmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGYgPSBjb2xsZWN0aW9uLmVxKGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlSXNGdW5jdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJnc1swXSA9IHZhbHVlLmNhbGwodGhpcywgaW5kZXgsIHNlbGYuaHRtbCgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBkb21NYW5pcChzZWxmLCBhcmdzLCBjYWxsYmFjaywgaWdub3JlZCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobCkge1xuICAgICAgICAgICAgICAgIGZyYWdtZW50ID0gYnVpbGRGcmFnbWVudChhcmdzLCBjb2xsZWN0aW9uWzBdLm93bmVyRG9jdW1lbnQsIGZhbHNlLCBjb2xsZWN0aW9uLCBpZ25vcmVkKTtcbiAgICAgICAgICAgICAgICBmaXJzdCA9IGZyYWdtZW50LmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICAgICAgaWYgKGZyYWdtZW50LmNoaWxkTm9kZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGZyYWdtZW50ID0gZmlyc3Q7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFJlcXVpcmUgZWl0aGVyIG5ldyBjb250ZW50IG9yIGFuIGludGVyZXN0IGluIGlnbm9yZWQgZWxlbWVudHMgdG8gaW52b2tlIHRoZSBjYWxsYmFja1xuICAgICAgICAgICAgICAgIGlmIChmaXJzdCB8fCBpZ25vcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjcmlwdHMgPSBqUXVlcnkubWFwKGdldEFsbChmcmFnbWVudCwgXCJzY3JpcHRcIiksIGRpc2FibGVTY3JpcHQpO1xuICAgICAgICAgICAgICAgICAgICBoYXNTY3JpcHRzID0gc2NyaXB0cy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIC8vIFVzZSB0aGUgb3JpZ2luYWwgZnJhZ21lbnQgZm9yIHRoZSBsYXN0IGl0ZW1cbiAgICAgICAgICAgICAgICAgICAgLy8gaW5zdGVhZCBvZiB0aGUgZmlyc3QgYmVjYXVzZSBpdCBjYW4gZW5kIHVwXG4gICAgICAgICAgICAgICAgICAgIC8vIGJlaW5nIGVtcHRpZWQgaW5jb3JyZWN0bHkgaW4gY2VydGFpbiBzaXR1YXRpb25zICh0cmFjLTgwNzApLlxuICAgICAgICAgICAgICAgICAgICBmb3IgKDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IGZyYWdtZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT09IGlOb0Nsb25lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IGpRdWVyeS5jbG9uZShub2RlLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBLZWVwIHJlZmVyZW5jZXMgdG8gY2xvbmVkIHNjcmlwdHMgZm9yIGxhdGVyIHJlc3RvcmF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhhc1NjcmlwdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Mgb24gYW5jaWVudCBXZWJLaXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5Lm1lcmdlKHNjcmlwdHMsIGdldEFsbChub2RlLCBcInNjcmlwdFwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbChjb2xsZWN0aW9uW2ldLCBub2RlLCBpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoaGFzU2NyaXB0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9jID0gc2NyaXB0c1tzY3JpcHRzLmxlbmd0aCAtIDFdLm93bmVyRG9jdW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZS1lbmFibGUgc2NyaXB0c1xuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5Lm1hcChzY3JpcHRzLCByZXN0b3JlU2NyaXB0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEV2YWx1YXRlIGV4ZWN1dGFibGUgc2NyaXB0cyBvbiBmaXJzdCBkb2N1bWVudCBpbnNlcnRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBoYXNTY3JpcHRzOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlID0gc2NyaXB0c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocnNjcmlwdFR5cGUudGVzdChub2RlLnR5cGUgfHwgXCJcIikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIWRhdGFQcml2LmFjY2Vzcyhub2RlLCBcImdsb2JhbEV2YWxcIikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmNvbnRhaW5zKGRvYywgbm9kZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUuc3JjICYmIChub2RlLnR5cGUgfHwgXCJcIikudG9Mb3dlckNhc2UoKSAhPT0gXCJtb2R1bGVcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT3B0aW9uYWwgQUpBWCBkZXBlbmRlbmN5LCBidXQgd29uJ3QgcnVuIHNjcmlwdHMgaWYgbm90IHByZXNlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqUXVlcnkuX2V2YWxVcmwgJiYgIW5vZGUubm9Nb2R1bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuX2V2YWxVcmwobm9kZS5zcmMsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9uY2U6IG5vZGUubm9uY2UgfHwgbm9kZS5nZXRBdHRyaWJ1dGUoXCJub25jZVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGRvYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVbndyYXAgYSBDREFUQSBzZWN0aW9uIGNvbnRhaW5pbmcgc2NyaXB0IGNvbnRlbnRzLiBUaGlzIHNob3VsZG4ndCBiZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbmVlZGVkIGFzIGluIFhNTCBkb2N1bWVudHMgdGhleSdyZSBhbHJlYWR5IG5vdCB2aXNpYmxlIHdoZW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGluc3BlY3RpbmcgZWxlbWVudCBjb250ZW50cyBhbmQgaW4gSFRNTCBkb2N1bWVudHMgdGhleSBoYXZlIG5vXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBtZWFuaW5nIGJ1dCB3ZSdyZSBwcmVzZXJ2aW5nIHRoYXQgbG9naWMgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyB3aWxsIGJlIHJlbW92ZWQgY29tcGxldGVseSBpbiA0LjAuIFNlZSBnaC00OTA0LlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRE9NRXZhbChub2RlLnRleHRDb250ZW50LnJlcGxhY2UocmNsZWFuU2NyaXB0LCBcIlwiKSwgbm9kZSwgZG9jKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb2xsZWN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZShlbGVtLCBzZWxlY3Rvciwga2VlcERhdGEpIHtcbiAgICAgICAgICAgIHZhciBub2RlLCBub2RlcyA9IHNlbGVjdG9yID8galF1ZXJ5LmZpbHRlcihzZWxlY3RvciwgZWxlbSkgOiBlbGVtLCBpID0gMDtcbiAgICAgICAgICAgIGZvciAoOyAobm9kZSA9IG5vZGVzW2ldKSAhPSBudWxsOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoIWtlZXBEYXRhICYmIG5vZGUubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmNsZWFuRGF0YShnZXRBbGwobm9kZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChrZWVwRGF0YSAmJiBpc0F0dGFjaGVkKG5vZGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRHbG9iYWxFdmFsKGdldEFsbChub2RlLCBcInNjcmlwdFwiKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBlbGVtO1xuICAgICAgICB9XG4gICAgICAgIGpRdWVyeS5leHRlbmQoe1xuICAgICAgICAgICAgaHRtbFByZWZpbHRlcjogZnVuY3Rpb24gKGh0bWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaHRtbDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjbG9uZTogZnVuY3Rpb24gKGVsZW0sIGRhdGFBbmRFdmVudHMsIGRlZXBEYXRhQW5kRXZlbnRzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGksIGwsIHNyY0VsZW1lbnRzLCBkZXN0RWxlbWVudHMsIGNsb25lID0gZWxlbS5jbG9uZU5vZGUodHJ1ZSksIGluUGFnZSA9IGlzQXR0YWNoZWQoZWxlbSk7XG4gICAgICAgICAgICAgICAgLy8gRml4IElFIGNsb25pbmcgaXNzdWVzXG4gICAgICAgICAgICAgICAgaWYgKCFzdXBwb3J0Lm5vQ2xvbmVDaGVja2VkICYmIChlbGVtLm5vZGVUeXBlID09PSAxIHx8IGVsZW0ubm9kZVR5cGUgPT09IDExKSAmJlxuICAgICAgICAgICAgICAgICAgICAhalF1ZXJ5LmlzWE1MRG9jKGVsZW0pKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIGVzY2hldyBqUXVlcnkjZmluZCBoZXJlIGZvciBwZXJmb3JtYW5jZSByZWFzb25zOlxuICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL2pzcGVyZi5jb20vZ2V0YWxsLXZzLXNpenpsZS8yXG4gICAgICAgICAgICAgICAgICAgIGRlc3RFbGVtZW50cyA9IGdldEFsbChjbG9uZSk7XG4gICAgICAgICAgICAgICAgICAgIHNyY0VsZW1lbnRzID0gZ2V0QWxsKGVsZW0pO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwLCBsID0gc3JjRWxlbWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaXhJbnB1dChzcmNFbGVtZW50c1tpXSwgZGVzdEVsZW1lbnRzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBDb3B5IHRoZSBldmVudHMgZnJvbSB0aGUgb3JpZ2luYWwgdG8gdGhlIGNsb25lXG4gICAgICAgICAgICAgICAgaWYgKGRhdGFBbmRFdmVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlZXBEYXRhQW5kRXZlbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzcmNFbGVtZW50cyA9IHNyY0VsZW1lbnRzIHx8IGdldEFsbChlbGVtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc3RFbGVtZW50cyA9IGRlc3RFbGVtZW50cyB8fCBnZXRBbGwoY2xvbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMCwgbCA9IHNyY0VsZW1lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lQ29weUV2ZW50KHNyY0VsZW1lbnRzW2ldLCBkZXN0RWxlbWVudHNbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xvbmVDb3B5RXZlbnQoZWxlbSwgY2xvbmUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFByZXNlcnZlIHNjcmlwdCBldmFsdWF0aW9uIGhpc3RvcnlcbiAgICAgICAgICAgICAgICBkZXN0RWxlbWVudHMgPSBnZXRBbGwoY2xvbmUsIFwic2NyaXB0XCIpO1xuICAgICAgICAgICAgICAgIGlmIChkZXN0RWxlbWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBzZXRHbG9iYWxFdmFsKGRlc3RFbGVtZW50cywgIWluUGFnZSAmJiBnZXRBbGwoZWxlbSwgXCJzY3JpcHRcIikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBSZXR1cm4gdGhlIGNsb25lZCBzZXRcbiAgICAgICAgICAgICAgICByZXR1cm4gY2xvbmU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2xlYW5EYXRhOiBmdW5jdGlvbiAoZWxlbXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSwgZWxlbSwgdHlwZSwgc3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsLCBpID0gMDtcbiAgICAgICAgICAgICAgICBmb3IgKDsgKGVsZW0gPSBlbGVtc1tpXSkgIT09IHVuZGVmaW5lZDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhY2NlcHREYXRhKGVsZW0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGRhdGEgPSBlbGVtW2RhdGFQcml2LmV4cGFuZG9dKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmV2ZW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHR5cGUgaW4gZGF0YS5ldmVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcGVjaWFsW3R5cGVdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmV2ZW50LnJlbW92ZShlbGVtLCB0eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIGEgc2hvcnRjdXQgdG8gYXZvaWQgalF1ZXJ5LmV2ZW50LnJlbW92ZSdzIG92ZXJoZWFkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkucmVtb3ZlRXZlbnQoZWxlbSwgdHlwZSwgZGF0YS5oYW5kbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IENocm9tZSA8PTM1IC0gNDUrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXNzaWduIHVuZGVmaW5lZCBpbnN0ZWFkIG9mIHVzaW5nIGRlbGV0ZSwgc2VlIERhdGEjcmVtb3ZlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbVtkYXRhUHJpdi5leHBhbmRvXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtW2RhdGFVc2VyLmV4cGFuZG9dKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogQ2hyb21lIDw9MzUgLSA0NStcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBc3NpZ24gdW5kZWZpbmVkIGluc3RlYWQgb2YgdXNpbmcgZGVsZXRlLCBzZWUgRGF0YSNyZW1vdmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtW2RhdGFVc2VyLmV4cGFuZG9dID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgalF1ZXJ5LmZuLmV4dGVuZCh7XG4gICAgICAgICAgICBkZXRhY2g6IGZ1bmN0aW9uIChzZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiByZW1vdmUodGhpcywgc2VsZWN0b3IsIHRydWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlbW92ZTogZnVuY3Rpb24gKHNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlbW92ZSh0aGlzLCBzZWxlY3Rvcik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGV4dDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjY2Vzcyh0aGlzLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgP1xuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LnRleHQodGhpcykgOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbXB0eSgpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm5vZGVUeXBlID09PSAxIHx8IHRoaXMubm9kZVR5cGUgPT09IDExIHx8IHRoaXMubm9kZVR5cGUgPT09IDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXh0Q29udGVudCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sIG51bGwsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhcHBlbmQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZG9tTWFuaXAodGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5ub2RlVHlwZSA9PT0gMSB8fCB0aGlzLm5vZGVUeXBlID09PSAxMSB8fCB0aGlzLm5vZGVUeXBlID09PSA5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0ID0gbWFuaXB1bGF0aW9uVGFyZ2V0KHRoaXMsIGVsZW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LmFwcGVuZENoaWxkKGVsZW0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcHJlcGVuZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkb21NYW5pcCh0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm5vZGVUeXBlID09PSAxIHx8IHRoaXMubm9kZVR5cGUgPT09IDExIHx8IHRoaXMubm9kZVR5cGUgPT09IDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXQgPSBtYW5pcHVsYXRpb25UYXJnZXQodGhpcywgZWxlbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQuaW5zZXJ0QmVmb3JlKGVsZW0sIHRhcmdldC5maXJzdENoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJlZm9yZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkb21NYW5pcCh0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZWxlbSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhZnRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkb21NYW5pcCh0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZWxlbSwgdGhpcy5uZXh0U2libGluZyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlbXB0eTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBlbGVtLCBpID0gMDtcbiAgICAgICAgICAgICAgICBmb3IgKDsgKGVsZW0gPSB0aGlzW2ldKSAhPSBudWxsOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW0ubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFByZXZlbnQgbWVtb3J5IGxlYWtzXG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuY2xlYW5EYXRhKGdldEFsbChlbGVtLCBmYWxzZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGFueSByZW1haW5pbmcgbm9kZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0udGV4dENvbnRlbnQgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNsb25lOiBmdW5jdGlvbiAoZGF0YUFuZEV2ZW50cywgZGVlcERhdGFBbmRFdmVudHMpIHtcbiAgICAgICAgICAgICAgICBkYXRhQW5kRXZlbnRzID0gZGF0YUFuZEV2ZW50cyA9PSBudWxsID8gZmFsc2UgOiBkYXRhQW5kRXZlbnRzO1xuICAgICAgICAgICAgICAgIGRlZXBEYXRhQW5kRXZlbnRzID0gZGVlcERhdGFBbmRFdmVudHMgPT0gbnVsbCA/IGRhdGFBbmRFdmVudHMgOiBkZWVwRGF0YUFuZEV2ZW50cztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4galF1ZXJ5LmNsb25lKHRoaXMsIGRhdGFBbmRFdmVudHMsIGRlZXBEYXRhQW5kRXZlbnRzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBodG1sOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjZXNzKHRoaXMsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbSA9IHRoaXNbMF0gfHwge30sIGkgPSAwLCBsID0gdGhpcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmIGVsZW0ubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtLmlubmVySFRNTDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBTZWUgaWYgd2UgY2FuIHRha2UgYSBzaG9ydGN1dCBhbmQganVzdCB1c2UgaW5uZXJIVE1MXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiYgIXJub0lubmVyaHRtbC50ZXN0KHZhbHVlKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgIXdyYXBNYXBbKHJ0YWdOYW1lLmV4ZWModmFsdWUpIHx8IFtcIlwiLCBcIlwiXSlbMV0udG9Mb3dlckNhc2UoKV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0galF1ZXJ5Lmh0bWxQcmVmaWx0ZXIodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtID0gdGhpc1tpXSB8fCB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGVsZW1lbnQgbm9kZXMgYW5kIHByZXZlbnQgbWVtb3J5IGxlYWtzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuY2xlYW5EYXRhKGdldEFsbChlbGVtLCBmYWxzZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5pbm5lckhUTUwgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB1c2luZyBpbm5lckhUTUwgdGhyb3dzIGFuIGV4Y2VwdGlvbiwgdXNlIHRoZSBmYWxsYmFjayBtZXRob2RcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7IH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbXB0eSgpLmFwcGVuZCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCBudWxsLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVwbGFjZVdpdGg6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgaWdub3JlZCA9IFtdO1xuICAgICAgICAgICAgICAgIC8vIE1ha2UgdGhlIGNoYW5nZXMsIHJlcGxhY2luZyBlYWNoIG5vbi1pZ25vcmVkIGNvbnRleHQgZWxlbWVudCB3aXRoIHRoZSBuZXcgY29udGVudFxuICAgICAgICAgICAgICAgIHJldHVybiBkb21NYW5pcCh0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudE5vZGU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChqUXVlcnkuaW5BcnJheSh0aGlzLCBpZ25vcmVkKSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5jbGVhbkRhdGEoZ2V0QWxsKHRoaXMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQucmVwbGFjZUNoaWxkKGVsZW0sIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIEZvcmNlIGNhbGxiYWNrIGludm9jYXRpb25cbiAgICAgICAgICAgICAgICB9LCBpZ25vcmVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGpRdWVyeS5lYWNoKHtcbiAgICAgICAgICAgIGFwcGVuZFRvOiBcImFwcGVuZFwiLFxuICAgICAgICAgICAgcHJlcGVuZFRvOiBcInByZXBlbmRcIixcbiAgICAgICAgICAgIGluc2VydEJlZm9yZTogXCJiZWZvcmVcIixcbiAgICAgICAgICAgIGluc2VydEFmdGVyOiBcImFmdGVyXCIsXG4gICAgICAgICAgICByZXBsYWNlQWxsOiBcInJlcGxhY2VXaXRoXCJcbiAgICAgICAgfSwgZnVuY3Rpb24gKG5hbWUsIG9yaWdpbmFsKSB7XG4gICAgICAgICAgICBqUXVlcnkuZm5bbmFtZV0gPSBmdW5jdGlvbiAoc2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICB2YXIgZWxlbXMsIHJldCA9IFtdLCBpbnNlcnQgPSBqUXVlcnkoc2VsZWN0b3IpLCBsYXN0ID0gaW5zZXJ0Lmxlbmd0aCAtIDEsIGkgPSAwO1xuICAgICAgICAgICAgICAgIGZvciAoOyBpIDw9IGxhc3Q7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBlbGVtcyA9IGkgPT09IGxhc3QgPyB0aGlzIDogdGhpcy5jbG9uZSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KGluc2VydFtpXSlbb3JpZ2luYWxdKGVsZW1zKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5XG4gICAgICAgICAgICAgICAgICAgIC8vIC5nZXQoKSBiZWNhdXNlIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Mgb24gYW5jaWVudCBXZWJLaXRcbiAgICAgICAgICAgICAgICAgICAgcHVzaC5hcHBseShyZXQsIGVsZW1zLmdldCgpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHVzaFN0YWNrKHJldCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIHJudW1ub25weCA9IG5ldyBSZWdFeHAoXCJeKFwiICsgcG51bSArIFwiKSg/IXB4KVthLXolXSskXCIsIFwiaVwiKTtcbiAgICAgICAgdmFyIHJjdXN0b21Qcm9wID0gL14tLS87XG4gICAgICAgIHZhciBnZXRTdHlsZXMgPSBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgPD0xMSBvbmx5LCBGaXJlZm94IDw9MzAgKHRyYWMtMTUwOTgsIHRyYWMtMTQxNTApXG4gICAgICAgICAgICAvLyBJRSB0aHJvd3Mgb24gZWxlbWVudHMgY3JlYXRlZCBpbiBwb3B1cHNcbiAgICAgICAgICAgIC8vIEZGIG1lYW53aGlsZSB0aHJvd3Mgb24gZnJhbWUgZWxlbWVudHMgdGhyb3VnaCBcImRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGVcIlxuICAgICAgICAgICAgdmFyIHZpZXcgPSBlbGVtLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7XG4gICAgICAgICAgICBpZiAoIXZpZXcgfHwgIXZpZXcub3BlbmVyKSB7XG4gICAgICAgICAgICAgICAgdmlldyA9IHdpbmRvdztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2aWV3LmdldENvbXB1dGVkU3R5bGUoZWxlbSk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBzd2FwID0gZnVuY3Rpb24gKGVsZW0sIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICB2YXIgcmV0LCBuYW1lLCBvbGQgPSB7fTtcbiAgICAgICAgICAgIC8vIFJlbWVtYmVyIHRoZSBvbGQgdmFsdWVzLCBhbmQgaW5zZXJ0IHRoZSBuZXcgb25lc1xuICAgICAgICAgICAgZm9yIChuYW1lIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBvbGRbbmFtZV0gPSBlbGVtLnN0eWxlW25hbWVdO1xuICAgICAgICAgICAgICAgIGVsZW0uc3R5bGVbbmFtZV0gPSBvcHRpb25zW25hbWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0ID0gY2FsbGJhY2suY2FsbChlbGVtKTtcbiAgICAgICAgICAgIC8vIFJldmVydCB0aGUgb2xkIHZhbHVlc1xuICAgICAgICAgICAgZm9yIChuYW1lIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBlbGVtLnN0eWxlW25hbWVdID0gb2xkW25hbWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHJib3hTdHlsZSA9IG5ldyBSZWdFeHAoY3NzRXhwYW5kLmpvaW4oXCJ8XCIpLCBcImlcIik7XG4gICAgICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBFeGVjdXRpbmcgYm90aCBwaXhlbFBvc2l0aW9uICYgYm94U2l6aW5nUmVsaWFibGUgdGVzdHMgcmVxdWlyZSBvbmx5IG9uZSBsYXlvdXRcbiAgICAgICAgICAgIC8vIHNvIHRoZXkncmUgZXhlY3V0ZWQgYXQgdGhlIHNhbWUgdGltZSB0byBzYXZlIHRoZSBzZWNvbmQgY29tcHV0YXRpb24uXG4gICAgICAgICAgICBmdW5jdGlvbiBjb21wdXRlU3R5bGVUZXN0cygpIHtcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIGEgc2luZ2xldG9uLCB3ZSBuZWVkIHRvIGV4ZWN1dGUgaXQgb25seSBvbmNlXG4gICAgICAgICAgICAgICAgaWYgKCFkaXYpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250YWluZXIuc3R5bGUuY3NzVGV4dCA9IFwicG9zaXRpb246YWJzb2x1dGU7bGVmdDotMTExMTFweDt3aWR0aDo2MHB4O1wiICtcbiAgICAgICAgICAgICAgICAgICAgXCJtYXJnaW4tdG9wOjFweDtwYWRkaW5nOjA7Ym9yZGVyOjBcIjtcbiAgICAgICAgICAgICAgICBkaXYuc3R5bGUuY3NzVGV4dCA9XG4gICAgICAgICAgICAgICAgICAgIFwicG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTpibG9jaztib3gtc2l6aW5nOmJvcmRlci1ib3g7b3ZlcmZsb3c6c2Nyb2xsO1wiICtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwibWFyZ2luOmF1dG87Ym9yZGVyOjFweDtwYWRkaW5nOjFweDtcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICBcIndpZHRoOjYwJTt0b3A6MSVcIjtcbiAgICAgICAgICAgICAgICBkb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoY29udGFpbmVyKS5hcHBlbmRDaGlsZChkaXYpO1xuICAgICAgICAgICAgICAgIHZhciBkaXZTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGRpdik7XG4gICAgICAgICAgICAgICAgcGl4ZWxQb3NpdGlvblZhbCA9IGRpdlN0eWxlLnRvcCAhPT0gXCIxJVwiO1xuICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IEFuZHJvaWQgNC4wIC0gNC4zIG9ubHksIEZpcmVmb3ggPD0zIC0gNDRcbiAgICAgICAgICAgICAgICByZWxpYWJsZU1hcmdpbkxlZnRWYWwgPSByb3VuZFBpeGVsTWVhc3VyZXMoZGl2U3R5bGUubWFyZ2luTGVmdCkgPT09IDEyO1xuICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IEFuZHJvaWQgNC4wIC0gNC4zIG9ubHksIFNhZmFyaSA8PTkuMSAtIDEwLjEsIGlPUyA8PTcuMCAtIDkuM1xuICAgICAgICAgICAgICAgIC8vIFNvbWUgc3R5bGVzIGNvbWUgYmFjayB3aXRoIHBlcmNlbnRhZ2UgdmFsdWVzLCBldmVuIHRob3VnaCB0aGV5IHNob3VsZG4ndFxuICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5yaWdodCA9IFwiNjAlXCI7XG4gICAgICAgICAgICAgICAgcGl4ZWxCb3hTdHlsZXNWYWwgPSByb3VuZFBpeGVsTWVhc3VyZXMoZGl2U3R5bGUucmlnaHQpID09PSAzNjtcbiAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA5IC0gMTEgb25seVxuICAgICAgICAgICAgICAgIC8vIERldGVjdCBtaXNyZXBvcnRpbmcgb2YgY29udGVudCBkaW1lbnNpb25zIGZvciBib3gtc2l6aW5nOmJvcmRlci1ib3ggZWxlbWVudHNcbiAgICAgICAgICAgICAgICBib3hTaXppbmdSZWxpYWJsZVZhbCA9IHJvdW5kUGl4ZWxNZWFzdXJlcyhkaXZTdHlsZS53aWR0aCkgPT09IDM2O1xuICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDkgb25seVxuICAgICAgICAgICAgICAgIC8vIERldGVjdCBvdmVyZmxvdzpzY3JvbGwgc2NyZXdpbmVzcyAoZ2gtMzY5OSlcbiAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBDaHJvbWUgPD02NFxuICAgICAgICAgICAgICAgIC8vIERvbid0IGdldCB0cmlja2VkIHdoZW4gem9vbSBhZmZlY3RzIG9mZnNldFdpZHRoIChnaC00MDI5KVxuICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICAgICAgICAgICAgICBzY3JvbGxib3hTaXplVmFsID0gcm91bmRQaXhlbE1lYXN1cmVzKGRpdi5vZmZzZXRXaWR0aCAvIDMpID09PSAxMjtcbiAgICAgICAgICAgICAgICBkb2N1bWVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoY29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICAvLyBOdWxsaWZ5IHRoZSBkaXYgc28gaXQgd291bGRuJ3QgYmUgc3RvcmVkIGluIHRoZSBtZW1vcnkgYW5kXG4gICAgICAgICAgICAgICAgLy8gaXQgd2lsbCBhbHNvIGJlIGEgc2lnbiB0aGF0IGNoZWNrcyBhbHJlYWR5IHBlcmZvcm1lZFxuICAgICAgICAgICAgICAgIGRpdiA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiByb3VuZFBpeGVsTWVhc3VyZXMobWVhc3VyZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKHBhcnNlRmxvYXQobWVhc3VyZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHBpeGVsUG9zaXRpb25WYWwsIGJveFNpemluZ1JlbGlhYmxlVmFsLCBzY3JvbGxib3hTaXplVmFsLCBwaXhlbEJveFN0eWxlc1ZhbCwgcmVsaWFibGVUckRpbWVuc2lvbnNWYWwsIHJlbGlhYmxlTWFyZ2luTGVmdFZhbCwgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSwgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgIC8vIEZpbmlzaCBlYXJseSBpbiBsaW1pdGVkIChub24tYnJvd3NlcikgZW52aXJvbm1lbnRzXG4gICAgICAgICAgICBpZiAoIWRpdi5zdHlsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExIG9ubHlcbiAgICAgICAgICAgIC8vIFN0eWxlIG9mIGNsb25lZCBlbGVtZW50IGFmZmVjdHMgc291cmNlIGVsZW1lbnQgY2xvbmVkICh0cmFjLTg5MDgpXG4gICAgICAgICAgICBkaXYuc3R5bGUuYmFja2dyb3VuZENsaXAgPSBcImNvbnRlbnQtYm94XCI7XG4gICAgICAgICAgICBkaXYuY2xvbmVOb2RlKHRydWUpLnN0eWxlLmJhY2tncm91bmRDbGlwID0gXCJcIjtcbiAgICAgICAgICAgIHN1cHBvcnQuY2xlYXJDbG9uZVN0eWxlID0gZGl2LnN0eWxlLmJhY2tncm91bmRDbGlwID09PSBcImNvbnRlbnQtYm94XCI7XG4gICAgICAgICAgICBqUXVlcnkuZXh0ZW5kKHN1cHBvcnQsIHtcbiAgICAgICAgICAgICAgICBib3hTaXppbmdSZWxpYWJsZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBjb21wdXRlU3R5bGVUZXN0cygpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYm94U2l6aW5nUmVsaWFibGVWYWw7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBwaXhlbEJveFN0eWxlczogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBjb21wdXRlU3R5bGVUZXN0cygpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGl4ZWxCb3hTdHlsZXNWYWw7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBwaXhlbFBvc2l0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXB1dGVTdHlsZVRlc3RzKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwaXhlbFBvc2l0aW9uVmFsO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVsaWFibGVNYXJnaW5MZWZ0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXB1dGVTdHlsZVRlc3RzKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWxpYWJsZU1hcmdpbkxlZnRWYWw7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzY3JvbGxib3hTaXplOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXB1dGVTdHlsZVRlc3RzKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzY3JvbGxib3hTaXplVmFsO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgOSAtIDExKywgRWRnZSAxNSAtIDE4K1xuICAgICAgICAgICAgICAgIC8vIElFL0VkZ2UgbWlzcmVwb3J0IGBnZXRDb21wdXRlZFN0eWxlYCBvZiB0YWJsZSByb3dzIHdpdGggd2lkdGgvaGVpZ2h0XG4gICAgICAgICAgICAgICAgLy8gc2V0IGluIENTUyB3aGlsZSBgb2Zmc2V0KmAgcHJvcGVydGllcyByZXBvcnQgY29ycmVjdCB2YWx1ZXMuXG4gICAgICAgICAgICAgICAgLy8gQmVoYXZpb3IgaW4gSUUgOSBpcyBtb3JlIHN1YnRsZSB0aGFuIGluIG5ld2VyIHZlcnNpb25zICYgaXQgcGFzc2VzXG4gICAgICAgICAgICAgICAgLy8gc29tZSB2ZXJzaW9ucyBvZiB0aGlzIHRlc3Q7IG1ha2Ugc3VyZSBub3QgdG8gbWFrZSBpdCBwYXNzIHRoZXJlIVxuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogRmlyZWZveCA3MCtcbiAgICAgICAgICAgICAgICAvLyBPbmx5IEZpcmVmb3ggaW5jbHVkZXMgYm9yZGVyIHdpZHRoc1xuICAgICAgICAgICAgICAgIC8vIGluIGNvbXB1dGVkIGRpbWVuc2lvbnMuIChnaC00NTI5KVxuICAgICAgICAgICAgICAgIHJlbGlhYmxlVHJEaW1lbnNpb25zOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YWJsZSwgdHIsIHRyQ2hpbGQsIHRyU3R5bGU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWxpYWJsZVRyRGltZW5zaW9uc1ZhbCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YWJsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJDaGlsZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YWJsZS5zdHlsZS5jc3NUZXh0ID0gXCJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi0xMTExMXB4O2JvcmRlci1jb2xsYXBzZTpzZXBhcmF0ZVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHIuc3R5bGUuY3NzVGV4dCA9IFwiYm94LXNpemluZzpjb250ZW50LWJveDtib3JkZXI6MXB4IHNvbGlkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBDaHJvbWUgODYrXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBIZWlnaHQgc2V0IHRocm91Z2ggY3NzVGV4dCBkb2VzIG5vdCBnZXQgYXBwbGllZC5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbXB1dGVkIGhlaWdodCB0aGVuIGNvbWVzIGJhY2sgYXMgMC5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRyLnN0eWxlLmhlaWdodCA9IFwiMXB4XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ckNoaWxkLnN0eWxlLmhlaWdodCA9IFwiOXB4XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBBbmRyb2lkIDggQ2hyb21lIDg2K1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW4gb3VyIGJvZHlCYWNrZ3JvdW5kLmh0bWwgaWZyYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZGlzcGxheSBmb3IgYWxsIGRpdiBlbGVtZW50cyBpcyBzZXQgdG8gXCJpbmxpbmVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdoaWNoIGNhdXNlcyBhIHByb2JsZW0gb25seSBpbiBBbmRyb2lkIDggQ2hyb21lIDg2LlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRW5zdXJpbmcgdGhlIGRpdiBpcyBgZGlzcGxheTogYmxvY2tgXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBnZXRzIGFyb3VuZCB0aGlzIGlzc3VlLlxuICAgICAgICAgICAgICAgICAgICAgICAgdHJDaGlsZC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnRFbGVtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZENoaWxkKHRhYmxlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmRDaGlsZCh0cilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kQ2hpbGQodHJDaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0clN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUodHIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVsaWFibGVUckRpbWVuc2lvbnNWYWwgPSAocGFyc2VJbnQodHJTdHlsZS5oZWlnaHQsIDEwKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VJbnQodHJTdHlsZS5ib3JkZXJUb3BXaWR0aCwgMTApICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZUludCh0clN0eWxlLmJvcmRlckJvdHRvbVdpZHRoLCAxMCkpID09PSB0ci5vZmZzZXRIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudEVsZW1lbnQucmVtb3ZlQ2hpbGQodGFibGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWxpYWJsZVRyRGltZW5zaW9uc1ZhbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSkoKTtcbiAgICAgICAgZnVuY3Rpb24gY3VyQ1NTKGVsZW0sIG5hbWUsIGNvbXB1dGVkKSB7XG4gICAgICAgICAgICB2YXIgd2lkdGgsIG1pbldpZHRoLCBtYXhXaWR0aCwgcmV0LCBpc0N1c3RvbVByb3AgPSByY3VzdG9tUHJvcC50ZXN0KG5hbWUpLCBcbiAgICAgICAgICAgIC8vIFN1cHBvcnQ6IEZpcmVmb3ggNTErXG4gICAgICAgICAgICAvLyBSZXRyaWV2aW5nIHN0eWxlIGJlZm9yZSBjb21wdXRlZCBzb21laG93XG4gICAgICAgICAgICAvLyBmaXhlcyBhbiBpc3N1ZSB3aXRoIGdldHRpbmcgd3JvbmcgdmFsdWVzXG4gICAgICAgICAgICAvLyBvbiBkZXRhY2hlZCBlbGVtZW50c1xuICAgICAgICAgICAgc3R5bGUgPSBlbGVtLnN0eWxlO1xuICAgICAgICAgICAgY29tcHV0ZWQgPSBjb21wdXRlZCB8fCBnZXRTdHlsZXMoZWxlbSk7XG4gICAgICAgICAgICAvLyBnZXRQcm9wZXJ0eVZhbHVlIGlzIG5lZWRlZCBmb3I6XG4gICAgICAgICAgICAvLyAgIC5jc3MoJ2ZpbHRlcicpIChJRSA5IG9ubHksIHRyYWMtMTI1MzcpXG4gICAgICAgICAgICAvLyAgIC5jc3MoJy0tY3VzdG9tUHJvcGVydHkpIChnaC0zMTQ0KVxuICAgICAgICAgICAgaWYgKGNvbXB1dGVkKSB7XG4gICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgPD05IC0gMTErXG4gICAgICAgICAgICAgICAgLy8gSUUgb25seSBzdXBwb3J0cyBgXCJmbG9hdFwiYCBpbiBgZ2V0UHJvcGVydHlWYWx1ZWA7IGluIGNvbXB1dGVkIHN0eWxlc1xuICAgICAgICAgICAgICAgIC8vIGl0J3Mgb25seSBhdmFpbGFibGUgYXMgYFwiY3NzRmxvYXRcImAuIFdlIG5vIGxvbmdlciBtb2RpZnkgcHJvcGVydGllc1xuICAgICAgICAgICAgICAgIC8vIHNlbnQgdG8gYC5jc3MoKWAgYXBhcnQgZnJvbSBjYW1lbENhc2luZywgc28gd2UgbmVlZCB0byBjaGVjayBib3RoLlxuICAgICAgICAgICAgICAgIC8vIE5vcm1hbGx5LCB0aGlzIHdvdWxkIGNyZWF0ZSBkaWZmZXJlbmNlIGluIGJlaGF2aW9yOiBpZlxuICAgICAgICAgICAgICAgIC8vIGBnZXRQcm9wZXJ0eVZhbHVlYCByZXR1cm5zIGFuIGVtcHR5IHN0cmluZywgdGhlIHZhbHVlIHJldHVybmVkXG4gICAgICAgICAgICAgICAgLy8gYnkgYC5jc3MoKWAgd291bGQgYmUgYHVuZGVmaW5lZGAuIFRoaXMgaXMgdXN1YWxseSB0aGUgY2FzZSBmb3JcbiAgICAgICAgICAgICAgICAvLyBkaXNjb25uZWN0ZWQgZWxlbWVudHMuIEhvd2V2ZXIsIGluIElFIGV2ZW4gZGlzY29ubmVjdGVkIGVsZW1lbnRzXG4gICAgICAgICAgICAgICAgLy8gd2l0aCBubyBzdHlsZXMgcmV0dXJuIGBcIm5vbmVcImAgZm9yIGBnZXRQcm9wZXJ0eVZhbHVlKCBcImZsb2F0XCIgKWBcbiAgICAgICAgICAgICAgICByZXQgPSBjb21wdXRlZC5nZXRQcm9wZXJ0eVZhbHVlKG5hbWUpIHx8IGNvbXB1dGVkW25hbWVdO1xuICAgICAgICAgICAgICAgIGlmIChpc0N1c3RvbVByb3AgJiYgcmV0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IEZpcmVmb3ggMTA1KywgQ2hyb21lIDw9MTA1K1xuICAgICAgICAgICAgICAgICAgICAvLyBTcGVjIHJlcXVpcmVzIHRyaW1taW5nIHdoaXRlc3BhY2UgZm9yIGN1c3RvbSBwcm9wZXJ0aWVzIChnaC00OTI2KS5cbiAgICAgICAgICAgICAgICAgICAgLy8gRmlyZWZveCBvbmx5IHRyaW1zIGxlYWRpbmcgd2hpdGVzcGFjZS4gQ2hyb21lIGp1c3QgY29sbGFwc2VzXG4gICAgICAgICAgICAgICAgICAgIC8vIGJvdGggbGVhZGluZyAmIHRyYWlsaW5nIHdoaXRlc3BhY2UgdG8gYSBzaW5nbGUgc3BhY2UuXG4gICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgIC8vIEZhbGwgYmFjayB0byBgdW5kZWZpbmVkYCBpZiBlbXB0eSBzdHJpbmcgcmV0dXJuZWQuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgY29sbGFwc2VzIGEgbWlzc2luZyBkZWZpbml0aW9uIHdpdGggcHJvcGVydHkgZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAvLyBhbmQgc2V0IHRvIGFuIGVtcHR5IHN0cmluZyBidXQgdGhlcmUncyBubyBzdGFuZGFyZCBBUElcbiAgICAgICAgICAgICAgICAgICAgLy8gYWxsb3dpbmcgdXMgdG8gZGlmZmVyZW50aWF0ZSB0aGVtIHdpdGhvdXQgYSBwZXJmb3JtYW5jZSBwZW5hbHR5XG4gICAgICAgICAgICAgICAgICAgIC8vIGFuZCByZXR1cm5pbmcgYHVuZGVmaW5lZGAgYWxpZ25zIHdpdGggb2xkZXIgalF1ZXJ5LlxuICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICAvLyBydHJpbUNTUyB0cmVhdHMgVSswMDBEIENBUlJJQUdFIFJFVFVSTiBhbmQgVSswMDBDIEZPUk0gRkVFRFxuICAgICAgICAgICAgICAgICAgICAvLyBhcyB3aGl0ZXNwYWNlIHdoaWxlIENTUyBkb2VzIG5vdCwgYnV0IHRoaXMgaXMgbm90IGEgcHJvYmxlbVxuICAgICAgICAgICAgICAgICAgICAvLyBiZWNhdXNlIENTUyBwcmVwcm9jZXNzaW5nIHJlcGxhY2VzIHRoZW0gd2l0aCBVKzAwMEEgTElORSBGRUVEXG4gICAgICAgICAgICAgICAgICAgIC8vICh3aGljaCAqaXMqIENTUyB3aGl0ZXNwYWNlKVxuICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL3d3dy53My5vcmcvVFIvY3NzLXN5bnRheC0zLyNpbnB1dC1wcmVwcm9jZXNzaW5nXG4gICAgICAgICAgICAgICAgICAgIHJldCA9IHJldC5yZXBsYWNlKHJ0cmltQ1NTLCBcIiQxXCIpIHx8IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJldCA9PT0gXCJcIiAmJiAhaXNBdHRhY2hlZChlbGVtKSkge1xuICAgICAgICAgICAgICAgICAgICByZXQgPSBqUXVlcnkuc3R5bGUoZWxlbSwgbmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEEgdHJpYnV0ZSB0byB0aGUgXCJhd2Vzb21lIGhhY2sgYnkgRGVhbiBFZHdhcmRzXCJcbiAgICAgICAgICAgICAgICAvLyBBbmRyb2lkIEJyb3dzZXIgcmV0dXJucyBwZXJjZW50YWdlIGZvciBzb21lIHZhbHVlcyxcbiAgICAgICAgICAgICAgICAvLyBidXQgd2lkdGggc2VlbXMgdG8gYmUgcmVsaWFibHkgcGl4ZWxzLlxuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgYWdhaW5zdCB0aGUgQ1NTT00gZHJhZnQgc3BlYzpcbiAgICAgICAgICAgICAgICAvLyBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvY3Nzb20vI3Jlc29sdmVkLXZhbHVlc1xuICAgICAgICAgICAgICAgIGlmICghc3VwcG9ydC5waXhlbEJveFN0eWxlcygpICYmIHJudW1ub25weC50ZXN0KHJldCkgJiYgcmJveFN0eWxlLnRlc3QobmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtZW1iZXIgdGhlIG9yaWdpbmFsIHZhbHVlc1xuICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IHN0eWxlLndpZHRoO1xuICAgICAgICAgICAgICAgICAgICBtaW5XaWR0aCA9IHN0eWxlLm1pbldpZHRoO1xuICAgICAgICAgICAgICAgICAgICBtYXhXaWR0aCA9IHN0eWxlLm1heFdpZHRoO1xuICAgICAgICAgICAgICAgICAgICAvLyBQdXQgaW4gdGhlIG5ldyB2YWx1ZXMgdG8gZ2V0IGEgY29tcHV0ZWQgdmFsdWUgb3V0XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlLm1pbldpZHRoID0gc3R5bGUubWF4V2lkdGggPSBzdHlsZS53aWR0aCA9IHJldDtcbiAgICAgICAgICAgICAgICAgICAgcmV0ID0gY29tcHV0ZWQud2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJldmVydCB0aGUgY2hhbmdlZCB2YWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUud2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUubWluV2lkdGggPSBtaW5XaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUubWF4V2lkdGggPSBtYXhXaWR0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmV0ICE9PSB1bmRlZmluZWQgP1xuICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExIG9ubHlcbiAgICAgICAgICAgICAgICAvLyBJRSByZXR1cm5zIHpJbmRleCB2YWx1ZSBhcyBhbiBpbnRlZ2VyLlxuICAgICAgICAgICAgICAgIHJldCArIFwiXCIgOlxuICAgICAgICAgICAgICAgIHJldDtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBhZGRHZXRIb29rSWYoY29uZGl0aW9uRm4sIGhvb2tGbikge1xuICAgICAgICAgICAgLy8gRGVmaW5lIHRoZSBob29rLCB3ZSdsbCBjaGVjayBvbiB0aGUgZmlyc3QgcnVuIGlmIGl0J3MgcmVhbGx5IG5lZWRlZC5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb25kaXRpb25GbigpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBIb29rIG5vdCBuZWVkZWQgKG9yIGl0J3Mgbm90IHBvc3NpYmxlIHRvIHVzZSBpdCBkdWVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRvIG1pc3NpbmcgZGVwZW5kZW5jeSksIHJlbW92ZSBpdC5cbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmdldDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBIb29rIG5lZWRlZDsgcmVkZWZpbmUgaXQgc28gdGhhdCB0aGUgc3VwcG9ydCB0ZXN0IGlzIG5vdCBleGVjdXRlZCBhZ2Fpbi5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICh0aGlzLmdldCA9IGhvb2tGbikuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHZhciBjc3NQcmVmaXhlcyA9IFtcIldlYmtpdFwiLCBcIk1velwiLCBcIm1zXCJdLCBlbXB0eVN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKS5zdHlsZSwgdmVuZG9yUHJvcHMgPSB7fTtcbiAgICAgICAgLy8gUmV0dXJuIGEgdmVuZG9yLXByZWZpeGVkIHByb3BlcnR5IG9yIHVuZGVmaW5lZFxuICAgICAgICBmdW5jdGlvbiB2ZW5kb3JQcm9wTmFtZShuYW1lKSB7XG4gICAgICAgICAgICAvLyBDaGVjayBmb3IgdmVuZG9yIHByZWZpeGVkIG5hbWVzXG4gICAgICAgICAgICB2YXIgY2FwTmFtZSA9IG5hbWVbMF0udG9VcHBlckNhc2UoKSArIG5hbWUuc2xpY2UoMSksIGkgPSBjc3NQcmVmaXhlcy5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICAgICAgbmFtZSA9IGNzc1ByZWZpeGVzW2ldICsgY2FwTmFtZTtcbiAgICAgICAgICAgICAgICBpZiAobmFtZSBpbiBlbXB0eVN0eWxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBSZXR1cm4gYSBwb3RlbnRpYWxseS1tYXBwZWQgalF1ZXJ5LmNzc1Byb3BzIG9yIHZlbmRvciBwcmVmaXhlZCBwcm9wZXJ0eVxuICAgICAgICBmdW5jdGlvbiBmaW5hbFByb3BOYW1lKG5hbWUpIHtcbiAgICAgICAgICAgIHZhciBmaW5hbCA9IGpRdWVyeS5jc3NQcm9wc1tuYW1lXSB8fCB2ZW5kb3JQcm9wc1tuYW1lXTtcbiAgICAgICAgICAgIGlmIChmaW5hbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmaW5hbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuYW1lIGluIGVtcHR5U3R5bGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2ZW5kb3JQcm9wc1tuYW1lXSA9IHZlbmRvclByb3BOYW1lKG5hbWUpIHx8IG5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIFxuICAgICAgICAvLyBTd2FwcGFibGUgaWYgZGlzcGxheSBpcyBub25lIG9yIHN0YXJ0cyB3aXRoIHRhYmxlXG4gICAgICAgIC8vIGV4Y2VwdCBcInRhYmxlXCIsIFwidGFibGUtY2VsbFwiLCBvciBcInRhYmxlLWNhcHRpb25cIlxuICAgICAgICAvLyBTZWUgaGVyZSBmb3IgZGlzcGxheSB2YWx1ZXM6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvQ1NTL2Rpc3BsYXlcbiAgICAgICAgcmRpc3BsYXlzd2FwID0gL14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLCBjc3NTaG93ID0geyBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLCB2aXNpYmlsaXR5OiBcImhpZGRlblwiLCBkaXNwbGF5OiBcImJsb2NrXCIgfSwgY3NzTm9ybWFsVHJhbnNmb3JtID0ge1xuICAgICAgICAgICAgbGV0dGVyU3BhY2luZzogXCIwXCIsXG4gICAgICAgICAgICBmb250V2VpZ2h0OiBcIjQwMFwiXG4gICAgICAgIH07XG4gICAgICAgIGZ1bmN0aW9uIHNldFBvc2l0aXZlTnVtYmVyKF9lbGVtLCB2YWx1ZSwgc3VidHJhY3QpIHtcbiAgICAgICAgICAgIC8vIEFueSByZWxhdGl2ZSAoKy8tKSB2YWx1ZXMgaGF2ZSBhbHJlYWR5IGJlZW5cbiAgICAgICAgICAgIC8vIG5vcm1hbGl6ZWQgYXQgdGhpcyBwb2ludFxuICAgICAgICAgICAgdmFyIG1hdGNoZXMgPSByY3NzTnVtLmV4ZWModmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIG1hdGNoZXMgP1xuICAgICAgICAgICAgICAgIC8vIEd1YXJkIGFnYWluc3QgdW5kZWZpbmVkIFwic3VidHJhY3RcIiwgZS5nLiwgd2hlbiB1c2VkIGFzIGluIGNzc0hvb2tzXG4gICAgICAgICAgICAgICAgTWF0aC5tYXgoMCwgbWF0Y2hlc1syXSAtIChzdWJ0cmFjdCB8fCAwKSkgKyAobWF0Y2hlc1szXSB8fCBcInB4XCIpIDpcbiAgICAgICAgICAgICAgICB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBib3hNb2RlbEFkanVzdG1lbnQoZWxlbSwgZGltZW5zaW9uLCBib3gsIGlzQm9yZGVyQm94LCBzdHlsZXMsIGNvbXB1dGVkVmFsKSB7XG4gICAgICAgICAgICB2YXIgaSA9IGRpbWVuc2lvbiA9PT0gXCJ3aWR0aFwiID8gMSA6IDAsIGV4dHJhID0gMCwgZGVsdGEgPSAwLCBtYXJnaW5EZWx0YSA9IDA7XG4gICAgICAgICAgICAvLyBBZGp1c3RtZW50IG1heSBub3QgYmUgbmVjZXNzYXJ5XG4gICAgICAgICAgICBpZiAoYm94ID09PSAoaXNCb3JkZXJCb3ggPyBcImJvcmRlclwiIDogXCJjb250ZW50XCIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKDsgaSA8IDQ7IGkgKz0gMikge1xuICAgICAgICAgICAgICAgIC8vIEJvdGggYm94IG1vZGVscyBleGNsdWRlIG1hcmdpblxuICAgICAgICAgICAgICAgIC8vIENvdW50IG1hcmdpbiBkZWx0YSBzZXBhcmF0ZWx5IHRvIG9ubHkgYWRkIGl0IGFmdGVyIHNjcm9sbCBndXR0ZXIgYWRqdXN0bWVudC5cbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIG5lZWRlZCB0byBtYWtlIG5lZ2F0aXZlIG1hcmdpbnMgd29yayB3aXRoIGBvdXRlckhlaWdodCggdHJ1ZSApYCAoZ2gtMzk4MikuXG4gICAgICAgICAgICAgICAgaWYgKGJveCA9PT0gXCJtYXJnaW5cIikge1xuICAgICAgICAgICAgICAgICAgICBtYXJnaW5EZWx0YSArPSBqUXVlcnkuY3NzKGVsZW0sIGJveCArIGNzc0V4cGFuZFtpXSwgdHJ1ZSwgc3R5bGVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gSWYgd2UgZ2V0IGhlcmUgd2l0aCBhIGNvbnRlbnQtYm94LCB3ZSdyZSBzZWVraW5nIFwicGFkZGluZ1wiIG9yIFwiYm9yZGVyXCIgb3IgXCJtYXJnaW5cIlxuICAgICAgICAgICAgICAgIGlmICghaXNCb3JkZXJCb3gpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHBhZGRpbmdcbiAgICAgICAgICAgICAgICAgICAgZGVsdGEgKz0galF1ZXJ5LmNzcyhlbGVtLCBcInBhZGRpbmdcIiArIGNzc0V4cGFuZFtpXSwgdHJ1ZSwgc3R5bGVzKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gRm9yIFwiYm9yZGVyXCIgb3IgXCJtYXJnaW5cIiwgYWRkIGJvcmRlclxuICAgICAgICAgICAgICAgICAgICBpZiAoYm94ICE9PSBcInBhZGRpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsdGEgKz0galF1ZXJ5LmNzcyhlbGVtLCBcImJvcmRlclwiICsgY3NzRXhwYW5kW2ldICsgXCJXaWR0aFwiLCB0cnVlLCBzdHlsZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQnV0IHN0aWxsIGtlZXAgdHJhY2sgb2YgaXQgb3RoZXJ3aXNlXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBleHRyYSArPSBqUXVlcnkuY3NzKGVsZW0sIFwiYm9yZGVyXCIgKyBjc3NFeHBhbmRbaV0gKyBcIldpZHRoXCIsIHRydWUsIHN0eWxlcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgd2UgZ2V0IGhlcmUgd2l0aCBhIGJvcmRlci1ib3ggKGNvbnRlbnQgKyBwYWRkaW5nICsgYm9yZGVyKSwgd2UncmUgc2Vla2luZyBcImNvbnRlbnRcIiBvclxuICAgICAgICAgICAgICAgICAgICAvLyBcInBhZGRpbmdcIiBvciBcIm1hcmdpblwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBGb3IgXCJjb250ZW50XCIsIHN1YnRyYWN0IHBhZGRpbmdcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJveCA9PT0gXCJjb250ZW50XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbHRhIC09IGpRdWVyeS5jc3MoZWxlbSwgXCJwYWRkaW5nXCIgKyBjc3NFeHBhbmRbaV0sIHRydWUsIHN0eWxlcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gRm9yIFwiY29udGVudFwiIG9yIFwicGFkZGluZ1wiLCBzdWJ0cmFjdCBib3JkZXJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJveCAhPT0gXCJtYXJnaW5cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsdGEgLT0galF1ZXJ5LmNzcyhlbGVtLCBcImJvcmRlclwiICsgY3NzRXhwYW5kW2ldICsgXCJXaWR0aFwiLCB0cnVlLCBzdHlsZXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQWNjb3VudCBmb3IgcG9zaXRpdmUgY29udGVudC1ib3ggc2Nyb2xsIGd1dHRlciB3aGVuIHJlcXVlc3RlZCBieSBwcm92aWRpbmcgY29tcHV0ZWRWYWxcbiAgICAgICAgICAgIGlmICghaXNCb3JkZXJCb3ggJiYgY29tcHV0ZWRWYWwgPj0gMCkge1xuICAgICAgICAgICAgICAgIC8vIG9mZnNldFdpZHRoL29mZnNldEhlaWdodCBpcyBhIHJvdW5kZWQgc3VtIG9mIGNvbnRlbnQsIHBhZGRpbmcsIHNjcm9sbCBndXR0ZXIsIGFuZCBib3JkZXJcbiAgICAgICAgICAgICAgICAvLyBBc3N1bWluZyBpbnRlZ2VyIHNjcm9sbCBndXR0ZXIsIHN1YnRyYWN0IHRoZSByZXN0IGFuZCByb3VuZCBkb3duXG4gICAgICAgICAgICAgICAgZGVsdGEgKz0gTWF0aC5tYXgoMCwgTWF0aC5jZWlsKGVsZW1bXCJvZmZzZXRcIiArIGRpbWVuc2lvblswXS50b1VwcGVyQ2FzZSgpICsgZGltZW5zaW9uLnNsaWNlKDEpXSAtXG4gICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkVmFsIC1cbiAgICAgICAgICAgICAgICAgICAgZGVsdGEgLVxuICAgICAgICAgICAgICAgICAgICBleHRyYSAtXG4gICAgICAgICAgICAgICAgICAgIDAuNVxuICAgICAgICAgICAgICAgIC8vIElmIG9mZnNldFdpZHRoL29mZnNldEhlaWdodCBpcyB1bmtub3duLCB0aGVuIHdlIGNhbid0IGRldGVybWluZSBjb250ZW50LWJveCBzY3JvbGwgZ3V0dGVyXG4gICAgICAgICAgICAgICAgLy8gVXNlIGFuIGV4cGxpY2l0IHplcm8gdG8gYXZvaWQgTmFOIChnaC0zOTY0KVxuICAgICAgICAgICAgICAgICkpIHx8IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGVsdGEgKyBtYXJnaW5EZWx0YTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBnZXRXaWR0aE9ySGVpZ2h0KGVsZW0sIGRpbWVuc2lvbiwgZXh0cmEpIHtcbiAgICAgICAgICAgIC8vIFN0YXJ0IHdpdGggY29tcHV0ZWQgc3R5bGVcbiAgICAgICAgICAgIHZhciBzdHlsZXMgPSBnZXRTdHlsZXMoZWxlbSksIFxuICAgICAgICAgICAgLy8gVG8gYXZvaWQgZm9yY2luZyBhIHJlZmxvdywgb25seSBmZXRjaCBib3hTaXppbmcgaWYgd2UgbmVlZCBpdCAoZ2gtNDMyMikuXG4gICAgICAgICAgICAvLyBGYWtlIGNvbnRlbnQtYm94IHVudGlsIHdlIGtub3cgaXQncyBuZWVkZWQgdG8ga25vdyB0aGUgdHJ1ZSB2YWx1ZS5cbiAgICAgICAgICAgIGJveFNpemluZ05lZWRlZCA9ICFzdXBwb3J0LmJveFNpemluZ1JlbGlhYmxlKCkgfHwgZXh0cmEsIGlzQm9yZGVyQm94ID0gYm94U2l6aW5nTmVlZGVkICYmXG4gICAgICAgICAgICAgICAgalF1ZXJ5LmNzcyhlbGVtLCBcImJveFNpemluZ1wiLCBmYWxzZSwgc3R5bGVzKSA9PT0gXCJib3JkZXItYm94XCIsIHZhbHVlSXNCb3JkZXJCb3ggPSBpc0JvcmRlckJveCwgdmFsID0gY3VyQ1NTKGVsZW0sIGRpbWVuc2lvbiwgc3R5bGVzKSwgb2Zmc2V0UHJvcCA9IFwib2Zmc2V0XCIgKyBkaW1lbnNpb25bMF0udG9VcHBlckNhc2UoKSArIGRpbWVuc2lvbi5zbGljZSgxKTtcbiAgICAgICAgICAgIC8vIFN1cHBvcnQ6IEZpcmVmb3ggPD01NFxuICAgICAgICAgICAgLy8gUmV0dXJuIGEgY29uZm91bmRpbmcgbm9uLXBpeGVsIHZhbHVlIG9yIGZlaWduIGlnbm9yYW5jZSwgYXMgYXBwcm9wcmlhdGUuXG4gICAgICAgICAgICBpZiAocm51bW5vbnB4LnRlc3QodmFsKSkge1xuICAgICAgICAgICAgICAgIGlmICghZXh0cmEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFsID0gXCJhdXRvXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA5IC0gMTEgb25seVxuICAgICAgICAgICAgLy8gVXNlIG9mZnNldFdpZHRoL29mZnNldEhlaWdodCBmb3Igd2hlbiBib3ggc2l6aW5nIGlzIHVucmVsaWFibGUuXG4gICAgICAgICAgICAvLyBJbiB0aG9zZSBjYXNlcywgdGhlIGNvbXB1dGVkIHZhbHVlIGNhbiBiZSB0cnVzdGVkIHRvIGJlIGJvcmRlci1ib3guXG4gICAgICAgICAgICBpZiAoKCFzdXBwb3J0LmJveFNpemluZ1JlbGlhYmxlKCkgJiYgaXNCb3JkZXJCb3ggfHxcbiAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSAxMCAtIDExKywgRWRnZSAxNSAtIDE4K1xuICAgICAgICAgICAgICAgIC8vIElFL0VkZ2UgbWlzcmVwb3J0IGBnZXRDb21wdXRlZFN0eWxlYCBvZiB0YWJsZSByb3dzIHdpdGggd2lkdGgvaGVpZ2h0XG4gICAgICAgICAgICAgICAgLy8gc2V0IGluIENTUyB3aGlsZSBgb2Zmc2V0KmAgcHJvcGVydGllcyByZXBvcnQgY29ycmVjdCB2YWx1ZXMuXG4gICAgICAgICAgICAgICAgLy8gSW50ZXJlc3RpbmdseSwgaW4gc29tZSBjYXNlcyBJRSA5IGRvZXNuJ3Qgc3VmZmVyIGZyb20gdGhpcyBpc3N1ZS5cbiAgICAgICAgICAgICAgICAhc3VwcG9ydC5yZWxpYWJsZVRyRGltZW5zaW9ucygpICYmIG5vZGVOYW1lKGVsZW0sIFwidHJcIikgfHxcbiAgICAgICAgICAgICAgICAvLyBGYWxsIGJhY2sgdG8gb2Zmc2V0V2lkdGgvb2Zmc2V0SGVpZ2h0IHdoZW4gdmFsdWUgaXMgXCJhdXRvXCJcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGhhcHBlbnMgZm9yIGlubGluZSBlbGVtZW50cyB3aXRoIG5vIGV4cGxpY2l0IHNldHRpbmcgKGdoLTM1NzEpXG4gICAgICAgICAgICAgICAgdmFsID09PSBcImF1dG9cIiB8fFxuICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjEgLSA0LjMgb25seVxuICAgICAgICAgICAgICAgIC8vIEFsc28gdXNlIG9mZnNldFdpZHRoL29mZnNldEhlaWdodCBmb3IgbWlzcmVwb3J0ZWQgaW5saW5lIGRpbWVuc2lvbnMgKGdoLTM2MDIpXG4gICAgICAgICAgICAgICAgIXBhcnNlRmxvYXQodmFsKSAmJiBqUXVlcnkuY3NzKGVsZW0sIFwiZGlzcGxheVwiLCBmYWxzZSwgc3R5bGVzKSA9PT0gXCJpbmxpbmVcIikgJiZcbiAgICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIGVsZW1lbnQgaXMgdmlzaWJsZSAmIGNvbm5lY3RlZFxuICAgICAgICAgICAgICAgIGVsZW0uZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBpc0JvcmRlckJveCA9IGpRdWVyeS5jc3MoZWxlbSwgXCJib3hTaXppbmdcIiwgZmFsc2UsIHN0eWxlcykgPT09IFwiYm9yZGVyLWJveFwiO1xuICAgICAgICAgICAgICAgIC8vIFdoZXJlIGF2YWlsYWJsZSwgb2Zmc2V0V2lkdGgvb2Zmc2V0SGVpZ2h0IGFwcHJveGltYXRlIGJvcmRlciBib3ggZGltZW5zaW9ucy5cbiAgICAgICAgICAgICAgICAvLyBXaGVyZSBub3QgYXZhaWxhYmxlIChlLmcuLCBTVkcpLCBhc3N1bWUgdW5yZWxpYWJsZSBib3gtc2l6aW5nIGFuZCBpbnRlcnByZXQgdGhlXG4gICAgICAgICAgICAgICAgLy8gcmV0cmlldmVkIHZhbHVlIGFzIGEgY29udGVudCBib3ggZGltZW5zaW9uLlxuICAgICAgICAgICAgICAgIHZhbHVlSXNCb3JkZXJCb3ggPSBvZmZzZXRQcm9wIGluIGVsZW07XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlSXNCb3JkZXJCb3gpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsID0gZWxlbVtvZmZzZXRQcm9wXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBOb3JtYWxpemUgXCJcIiBhbmQgYXV0b1xuICAgICAgICAgICAgdmFsID0gcGFyc2VGbG9hdCh2YWwpIHx8IDA7XG4gICAgICAgICAgICAvLyBBZGp1c3QgZm9yIHRoZSBlbGVtZW50J3MgYm94IG1vZGVsXG4gICAgICAgICAgICByZXR1cm4gKHZhbCArXG4gICAgICAgICAgICAgICAgYm94TW9kZWxBZGp1c3RtZW50KGVsZW0sIGRpbWVuc2lvbiwgZXh0cmEgfHwgKGlzQm9yZGVyQm94ID8gXCJib3JkZXJcIiA6IFwiY29udGVudFwiKSwgdmFsdWVJc0JvcmRlckJveCwgc3R5bGVzLCBcbiAgICAgICAgICAgICAgICAvLyBQcm92aWRlIHRoZSBjdXJyZW50IGNvbXB1dGVkIHNpemUgdG8gcmVxdWVzdCBzY3JvbGwgZ3V0dGVyIGNhbGN1bGF0aW9uIChnaC0zNTg5KVxuICAgICAgICAgICAgICAgIHZhbCkpICsgXCJweFwiO1xuICAgICAgICB9XG4gICAgICAgIGpRdWVyeS5leHRlbmQoe1xuICAgICAgICAgICAgLy8gQWRkIGluIHN0eWxlIHByb3BlcnR5IGhvb2tzIGZvciBvdmVycmlkaW5nIHRoZSBkZWZhdWx0XG4gICAgICAgICAgICAvLyBiZWhhdmlvciBvZiBnZXR0aW5nIGFuZCBzZXR0aW5nIGEgc3R5bGUgcHJvcGVydHlcbiAgICAgICAgICAgIGNzc0hvb2tzOiB7XG4gICAgICAgICAgICAgICAgb3BhY2l0eToge1xuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIChlbGVtLCBjb21wdXRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXB1dGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2Ugc2hvdWxkIGFsd2F5cyBnZXQgYSBudW1iZXIgYmFjayBmcm9tIG9wYWNpdHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmV0ID0gY3VyQ1NTKGVsZW0sIFwib3BhY2l0eVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0ID09PSBcIlwiID8gXCIxXCIgOiByZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gRG9uJ3QgYXV0b21hdGljYWxseSBhZGQgXCJweFwiIHRvIHRoZXNlIHBvc3NpYmx5LXVuaXRsZXNzIHByb3BlcnRpZXNcbiAgICAgICAgICAgIGNzc051bWJlcjoge1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50OiB0cnVlLFxuICAgICAgICAgICAgICAgIGFzcGVjdFJhdGlvOiB0cnVlLFxuICAgICAgICAgICAgICAgIGJvcmRlckltYWdlU2xpY2U6IHRydWUsXG4gICAgICAgICAgICAgICAgY29sdW1uQ291bnQ6IHRydWUsXG4gICAgICAgICAgICAgICAgZmxleEdyb3c6IHRydWUsXG4gICAgICAgICAgICAgICAgZmxleFNocmluazogdHJ1ZSxcbiAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiB0cnVlLFxuICAgICAgICAgICAgICAgIGdyaWRBcmVhOiB0cnVlLFxuICAgICAgICAgICAgICAgIGdyaWRDb2x1bW46IHRydWUsXG4gICAgICAgICAgICAgICAgZ3JpZENvbHVtbkVuZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBncmlkQ29sdW1uU3RhcnQ6IHRydWUsXG4gICAgICAgICAgICAgICAgZ3JpZFJvdzogdHJ1ZSxcbiAgICAgICAgICAgICAgICBncmlkUm93RW5kOiB0cnVlLFxuICAgICAgICAgICAgICAgIGdyaWRSb3dTdGFydDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsaW5lSGVpZ2h0OiB0cnVlLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IHRydWUsXG4gICAgICAgICAgICAgICAgb3JkZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgb3JwaGFuczogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzY2FsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB3aWRvd3M6IHRydWUsXG4gICAgICAgICAgICAgICAgekluZGV4OiB0cnVlLFxuICAgICAgICAgICAgICAgIHpvb206IHRydWUsXG4gICAgICAgICAgICAgICAgLy8gU1ZHLXJlbGF0ZWRcbiAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBmbG9vZE9wYWNpdHk6IHRydWUsXG4gICAgICAgICAgICAgICAgc3RvcE9wYWNpdHk6IHRydWUsXG4gICAgICAgICAgICAgICAgc3Ryb2tlTWl0ZXJsaW1pdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzdHJva2VPcGFjaXR5OiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gQWRkIGluIHByb3BlcnRpZXMgd2hvc2UgbmFtZXMgeW91IHdpc2ggdG8gZml4IGJlZm9yZVxuICAgICAgICAgICAgLy8gc2V0dGluZyBvciBnZXR0aW5nIHRoZSB2YWx1ZVxuICAgICAgICAgICAgY3NzUHJvcHM6IHt9LFxuICAgICAgICAgICAgLy8gR2V0IGFuZCBzZXQgdGhlIHN0eWxlIHByb3BlcnR5IG9uIGEgRE9NIE5vZGVcbiAgICAgICAgICAgIHN0eWxlOiBmdW5jdGlvbiAoZWxlbSwgbmFtZSwgdmFsdWUsIGV4dHJhKSB7XG4gICAgICAgICAgICAgICAgLy8gRG9uJ3Qgc2V0IHN0eWxlcyBvbiB0ZXh0IGFuZCBjb21tZW50IG5vZGVzXG4gICAgICAgICAgICAgICAgaWYgKCFlbGVtIHx8IGVsZW0ubm9kZVR5cGUgPT09IDMgfHwgZWxlbS5ub2RlVHlwZSA9PT0gOCB8fCAhZWxlbS5zdHlsZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGF0IHdlJ3JlIHdvcmtpbmcgd2l0aCB0aGUgcmlnaHQgbmFtZVxuICAgICAgICAgICAgICAgIHZhciByZXQsIHR5cGUsIGhvb2tzLCBvcmlnTmFtZSA9IGNhbWVsQ2FzZShuYW1lKSwgaXNDdXN0b21Qcm9wID0gcmN1c3RvbVByb3AudGVzdChuYW1lKSwgc3R5bGUgPSBlbGVtLnN0eWxlO1xuICAgICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGF0IHdlJ3JlIHdvcmtpbmcgd2l0aCB0aGUgcmlnaHQgbmFtZS4gV2UgZG9uJ3RcbiAgICAgICAgICAgICAgICAvLyB3YW50IHRvIHF1ZXJ5IHRoZSB2YWx1ZSBpZiBpdCBpcyBhIENTUyBjdXN0b20gcHJvcGVydHlcbiAgICAgICAgICAgICAgICAvLyBzaW5jZSB0aGV5IGFyZSB1c2VyLWRlZmluZWQuXG4gICAgICAgICAgICAgICAgaWYgKCFpc0N1c3RvbVByb3ApIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZSA9IGZpbmFsUHJvcE5hbWUob3JpZ05hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBHZXRzIGhvb2sgZm9yIHRoZSBwcmVmaXhlZCB2ZXJzaW9uLCB0aGVuIHVucHJlZml4ZWQgdmVyc2lvblxuICAgICAgICAgICAgICAgIGhvb2tzID0galF1ZXJ5LmNzc0hvb2tzW25hbWVdIHx8IGpRdWVyeS5jc3NIb29rc1tvcmlnTmFtZV07XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgd2UncmUgc2V0dGluZyBhIHZhbHVlXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ29udmVydCBcIis9XCIgb3IgXCItPVwiIHRvIHJlbGF0aXZlIG51bWJlcnMgKHRyYWMtNzM0NSlcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IFwic3RyaW5nXCIgJiYgKHJldCA9IHJjc3NOdW0uZXhlYyh2YWx1ZSkpICYmIHJldFsxXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBhZGp1c3RDU1MoZWxlbSwgbmFtZSwgcmV0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZpeGVzIGJ1ZyB0cmFjLTkyMzdcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgPSBcIm51bWJlclwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGF0IG51bGwgYW5kIE5hTiB2YWx1ZXMgYXJlbid0IHNldCAodHJhYy03MTE2KVxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCB2YWx1ZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBJZiBhIG51bWJlciB3YXMgcGFzc2VkIGluLCBhZGQgdGhlIHVuaXQgKGV4Y2VwdCBmb3IgY2VydGFpbiBDU1MgcHJvcGVydGllcylcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGlzQ3VzdG9tUHJvcCBjaGVjayBjYW4gYmUgcmVtb3ZlZCBpbiBqUXVlcnkgNC4wIHdoZW4gd2Ugb25seSBhdXRvLWFwcGVuZFxuICAgICAgICAgICAgICAgICAgICAvLyBcInB4XCIgdG8gYSBmZXcgaGFyZGNvZGVkIHZhbHVlcy5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IFwibnVtYmVyXCIgJiYgIWlzQ3VzdG9tUHJvcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgKz0gcmV0ICYmIHJldFszXSB8fCAoalF1ZXJ5LmNzc051bWJlcltvcmlnTmFtZV0gPyBcIlwiIDogXCJweFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBiYWNrZ3JvdW5kLSogcHJvcHMgYWZmZWN0IG9yaWdpbmFsIGNsb25lJ3MgdmFsdWVzXG4gICAgICAgICAgICAgICAgICAgIGlmICghc3VwcG9ydC5jbGVhckNsb25lU3R5bGUgJiYgdmFsdWUgPT09IFwiXCIgJiYgbmFtZS5pbmRleE9mKFwiYmFja2dyb3VuZFwiKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVbbmFtZV0gPSBcImluaGVyaXRcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBJZiBhIGhvb2sgd2FzIHByb3ZpZGVkLCB1c2UgdGhhdCB2YWx1ZSwgb3RoZXJ3aXNlIGp1c3Qgc2V0IHRoZSBzcGVjaWZpZWQgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFob29rcyB8fCAhKFwic2V0XCIgaW4gaG9va3MpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAodmFsdWUgPSBob29rcy5zZXQoZWxlbSwgdmFsdWUsIGV4dHJhKSkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQ3VzdG9tUHJvcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlLnNldFByb3BlcnR5KG5hbWUsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlW25hbWVdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIGEgaG9vayB3YXMgcHJvdmlkZWQgZ2V0IHRoZSBub24tY29tcHV0ZWQgdmFsdWUgZnJvbSB0aGVyZVxuICAgICAgICAgICAgICAgICAgICBpZiAoaG9va3MgJiYgXCJnZXRcIiBpbiBob29rcyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKHJldCA9IGhvb2tzLmdldChlbGVtLCBmYWxzZSwgZXh0cmEpKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSBqdXN0IGdldCB0aGUgdmFsdWUgZnJvbSB0aGUgc3R5bGUgb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdHlsZVtuYW1lXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY3NzOiBmdW5jdGlvbiAoZWxlbSwgbmFtZSwgZXh0cmEsIHN0eWxlcykge1xuICAgICAgICAgICAgICAgIHZhciB2YWwsIG51bSwgaG9va3MsIG9yaWdOYW1lID0gY2FtZWxDYXNlKG5hbWUpLCBpc0N1c3RvbVByb3AgPSByY3VzdG9tUHJvcC50ZXN0KG5hbWUpO1xuICAgICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGF0IHdlJ3JlIHdvcmtpbmcgd2l0aCB0aGUgcmlnaHQgbmFtZS4gV2UgZG9uJ3RcbiAgICAgICAgICAgICAgICAvLyB3YW50IHRvIG1vZGlmeSB0aGUgdmFsdWUgaWYgaXQgaXMgYSBDU1MgY3VzdG9tIHByb3BlcnR5XG4gICAgICAgICAgICAgICAgLy8gc2luY2UgdGhleSBhcmUgdXNlci1kZWZpbmVkLlxuICAgICAgICAgICAgICAgIGlmICghaXNDdXN0b21Qcm9wKSB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWUgPSBmaW5hbFByb3BOYW1lKG9yaWdOYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gVHJ5IHByZWZpeGVkIG5hbWUgZm9sbG93ZWQgYnkgdGhlIHVucHJlZml4ZWQgbmFtZVxuICAgICAgICAgICAgICAgIGhvb2tzID0galF1ZXJ5LmNzc0hvb2tzW25hbWVdIHx8IGpRdWVyeS5jc3NIb29rc1tvcmlnTmFtZV07XG4gICAgICAgICAgICAgICAgLy8gSWYgYSBob29rIHdhcyBwcm92aWRlZCBnZXQgdGhlIGNvbXB1dGVkIHZhbHVlIGZyb20gdGhlcmVcbiAgICAgICAgICAgICAgICBpZiAoaG9va3MgJiYgXCJnZXRcIiBpbiBob29rcykge1xuICAgICAgICAgICAgICAgICAgICB2YWwgPSBob29rcy5nZXQoZWxlbSwgdHJ1ZSwgZXh0cmEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2UsIGlmIGEgd2F5IHRvIGdldCB0aGUgY29tcHV0ZWQgdmFsdWUgZXhpc3RzLCB1c2UgdGhhdFxuICAgICAgICAgICAgICAgIGlmICh2YWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB2YWwgPSBjdXJDU1MoZWxlbSwgbmFtZSwgc3R5bGVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQ29udmVydCBcIm5vcm1hbFwiIHRvIGNvbXB1dGVkIHZhbHVlXG4gICAgICAgICAgICAgICAgaWYgKHZhbCA9PT0gXCJub3JtYWxcIiAmJiBuYW1lIGluIGNzc05vcm1hbFRyYW5zZm9ybSkge1xuICAgICAgICAgICAgICAgICAgICB2YWwgPSBjc3NOb3JtYWxUcmFuc2Zvcm1bbmFtZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIE1ha2UgbnVtZXJpYyBpZiBmb3JjZWQgb3IgYSBxdWFsaWZpZXIgd2FzIHByb3ZpZGVkIGFuZCB2YWwgbG9va3MgbnVtZXJpY1xuICAgICAgICAgICAgICAgIGlmIChleHRyYSA9PT0gXCJcIiB8fCBleHRyYSkge1xuICAgICAgICAgICAgICAgICAgICBudW0gPSBwYXJzZUZsb2F0KHZhbCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBleHRyYSA9PT0gdHJ1ZSB8fCBpc0Zpbml0ZShudW0pID8gbnVtIHx8IDAgOiB2YWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB2YWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBqUXVlcnkuZWFjaChbXCJoZWlnaHRcIiwgXCJ3aWR0aFwiXSwgZnVuY3Rpb24gKF9pLCBkaW1lbnNpb24pIHtcbiAgICAgICAgICAgIGpRdWVyeS5jc3NIb29rc1tkaW1lbnNpb25dID0ge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKGVsZW0sIGNvbXB1dGVkLCBleHRyYSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29tcHV0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENlcnRhaW4gZWxlbWVudHMgY2FuIGhhdmUgZGltZW5zaW9uIGluZm8gaWYgd2UgaW52aXNpYmx5IHNob3cgdGhlbVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYnV0IGl0IG11c3QgaGF2ZSBhIGN1cnJlbnQgZGlzcGxheSBzdHlsZSB0aGF0IHdvdWxkIGJlbmVmaXRcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZGlzcGxheXN3YXAudGVzdChqUXVlcnkuY3NzKGVsZW0sIFwiZGlzcGxheVwiKSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBTYWZhcmkgOCtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUYWJsZSBjb2x1bW5zIGluIFNhZmFyaSBoYXZlIG5vbi16ZXJvIG9mZnNldFdpZHRoICYgemVyb1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoIHVubGVzcyBkaXNwbGF5IGlzIGNoYW5nZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUnVubmluZyBnZXRCb3VuZGluZ0NsaWVudFJlY3Qgb24gYSBkaXNjb25uZWN0ZWQgbm9kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGluIElFIHRocm93cyBhbiBlcnJvci5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoIWVsZW0uZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGggfHwgIWVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGgpID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2FwKGVsZW0sIGNzc1Nob3csIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldFdpZHRoT3JIZWlnaHQoZWxlbSwgZGltZW5zaW9uLCBleHRyYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldFdpZHRoT3JIZWlnaHQoZWxlbSwgZGltZW5zaW9uLCBleHRyYSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGVsZW0sIHZhbHVlLCBleHRyYSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWF0Y2hlcywgc3R5bGVzID0gZ2V0U3R5bGVzKGVsZW0pLCBcbiAgICAgICAgICAgICAgICAgICAgLy8gT25seSByZWFkIHN0eWxlcy5wb3NpdGlvbiBpZiB0aGUgdGVzdCBoYXMgYSBjaGFuY2UgdG8gZmFpbFxuICAgICAgICAgICAgICAgICAgICAvLyB0byBhdm9pZCBmb3JjaW5nIGEgcmVmbG93LlxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxib3hTaXplQnVnZ3kgPSAhc3VwcG9ydC5zY3JvbGxib3hTaXplKCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlcy5wb3NpdGlvbiA9PT0gXCJhYnNvbHV0ZVwiLCBcbiAgICAgICAgICAgICAgICAgICAgLy8gVG8gYXZvaWQgZm9yY2luZyBhIHJlZmxvdywgb25seSBmZXRjaCBib3hTaXppbmcgaWYgd2UgbmVlZCBpdCAoZ2gtMzk5MSlcbiAgICAgICAgICAgICAgICAgICAgYm94U2l6aW5nTmVlZGVkID0gc2Nyb2xsYm94U2l6ZUJ1Z2d5IHx8IGV4dHJhLCBpc0JvcmRlckJveCA9IGJveFNpemluZ05lZWRlZCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmNzcyhlbGVtLCBcImJveFNpemluZ1wiLCBmYWxzZSwgc3R5bGVzKSA9PT0gXCJib3JkZXItYm94XCIsIHN1YnRyYWN0ID0gZXh0cmEgP1xuICAgICAgICAgICAgICAgICAgICAgICAgYm94TW9kZWxBZGp1c3RtZW50KGVsZW0sIGRpbWVuc2lvbiwgZXh0cmEsIGlzQm9yZGVyQm94LCBzdHlsZXMpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIDA7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFjY291bnQgZm9yIHVucmVsaWFibGUgYm9yZGVyLWJveCBkaW1lbnNpb25zIGJ5IGNvbXBhcmluZyBvZmZzZXQqIHRvIGNvbXB1dGVkIGFuZFxuICAgICAgICAgICAgICAgICAgICAvLyBmYWtpbmcgYSBjb250ZW50LWJveCB0byBnZXQgYm9yZGVyIGFuZCBwYWRkaW5nIChnaC0zNjk5KVxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNCb3JkZXJCb3ggJiYgc2Nyb2xsYm94U2l6ZUJ1Z2d5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJ0cmFjdCAtPSBNYXRoLmNlaWwoZWxlbVtcIm9mZnNldFwiICsgZGltZW5zaW9uWzBdLnRvVXBwZXJDYXNlKCkgKyBkaW1lbnNpb24uc2xpY2UoMSldIC1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZUZsb2F0KHN0eWxlc1tkaW1lbnNpb25dKSAtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm94TW9kZWxBZGp1c3RtZW50KGVsZW0sIGRpbWVuc2lvbiwgXCJib3JkZXJcIiwgZmFsc2UsIHN0eWxlcykgLVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAuNSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gQ29udmVydCB0byBwaXhlbHMgaWYgdmFsdWUgYWRqdXN0bWVudCBpcyBuZWVkZWRcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1YnRyYWN0ICYmIChtYXRjaGVzID0gcmNzc051bS5leGVjKHZhbHVlKSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIChtYXRjaGVzWzNdIHx8IFwicHhcIikgIT09IFwicHhcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5zdHlsZVtkaW1lbnNpb25dID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGpRdWVyeS5jc3MoZWxlbSwgZGltZW5zaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2V0UG9zaXRpdmVOdW1iZXIoZWxlbSwgdmFsdWUsIHN1YnRyYWN0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgalF1ZXJ5LmNzc0hvb2tzLm1hcmdpbkxlZnQgPSBhZGRHZXRIb29rSWYoc3VwcG9ydC5yZWxpYWJsZU1hcmdpbkxlZnQsIGZ1bmN0aW9uIChlbGVtLCBjb21wdXRlZCkge1xuICAgICAgICAgICAgaWYgKGNvbXB1dGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChwYXJzZUZsb2F0KGN1ckNTUyhlbGVtLCBcIm1hcmdpbkxlZnRcIikpIHx8XG4gICAgICAgICAgICAgICAgICAgIGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCAtXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2FwKGVsZW0sIHsgbWFyZ2luTGVmdDogMCB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKSArIFwicHhcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFRoZXNlIGhvb2tzIGFyZSB1c2VkIGJ5IGFuaW1hdGUgdG8gZXhwYW5kIHByb3BlcnRpZXNcbiAgICAgICAgalF1ZXJ5LmVhY2goe1xuICAgICAgICAgICAgbWFyZ2luOiBcIlwiLFxuICAgICAgICAgICAgcGFkZGluZzogXCJcIixcbiAgICAgICAgICAgIGJvcmRlcjogXCJXaWR0aFwiXG4gICAgICAgIH0sIGZ1bmN0aW9uIChwcmVmaXgsIHN1ZmZpeCkge1xuICAgICAgICAgICAgalF1ZXJ5LmNzc0hvb2tzW3ByZWZpeCArIHN1ZmZpeF0gPSB7XG4gICAgICAgICAgICAgICAgZXhwYW5kOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSAwLCBleHBhbmRlZCA9IHt9LCBcbiAgICAgICAgICAgICAgICAgICAgLy8gQXNzdW1lcyBhIHNpbmdsZSBudW1iZXIgaWYgbm90IGEgc3RyaW5nXG4gICAgICAgICAgICAgICAgICAgIHBhcnRzID0gdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiID8gdmFsdWUuc3BsaXQoXCIgXCIpIDogW3ZhbHVlXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICg7IGkgPCA0OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGFuZGVkW3ByZWZpeCArIGNzc0V4cGFuZFtpXSArIHN1ZmZpeF0gPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRzW2ldIHx8IHBhcnRzW2kgLSAyXSB8fCBwYXJ0c1swXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXhwYW5kZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChwcmVmaXggIT09IFwibWFyZ2luXCIpIHtcbiAgICAgICAgICAgICAgICBqUXVlcnkuY3NzSG9va3NbcHJlZml4ICsgc3VmZml4XS5zZXQgPSBzZXRQb3NpdGl2ZU51bWJlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGpRdWVyeS5mbi5leHRlbmQoe1xuICAgICAgICAgICAgY3NzOiBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjZXNzKHRoaXMsIGZ1bmN0aW9uIChlbGVtLCBuYW1lLCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3R5bGVzLCBsZW4sIG1hcCA9IHt9LCBpID0gMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlcyA9IGdldFN0eWxlcyhlbGVtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlbiA9IG5hbWUubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcFtuYW1lW2ldXSA9IGpRdWVyeS5jc3MoZWxlbSwgbmFtZVtpXSwgZmFsc2UsIHN0eWxlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWFwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkID9cbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5zdHlsZShlbGVtLCBuYW1lLCB2YWx1ZSkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmNzcyhlbGVtLCBuYW1lKTtcbiAgICAgICAgICAgICAgICB9LCBuYW1lLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCA+IDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgZnVuY3Rpb24gVHdlZW4oZWxlbSwgb3B0aW9ucywgcHJvcCwgZW5kLCBlYXNpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVHdlZW4ucHJvdG90eXBlLmluaXQoZWxlbSwgb3B0aW9ucywgcHJvcCwgZW5kLCBlYXNpbmcpO1xuICAgICAgICB9XG4gICAgICAgIGpRdWVyeS5Ud2VlbiA9IFR3ZWVuO1xuICAgICAgICBUd2Vlbi5wcm90b3R5cGUgPSB7XG4gICAgICAgICAgICBjb25zdHJ1Y3RvcjogVHdlZW4sXG4gICAgICAgICAgICBpbml0OiBmdW5jdGlvbiAoZWxlbSwgb3B0aW9ucywgcHJvcCwgZW5kLCBlYXNpbmcsIHVuaXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW0gPSBlbGVtO1xuICAgICAgICAgICAgICAgIHRoaXMucHJvcCA9IHByb3A7XG4gICAgICAgICAgICAgICAgdGhpcy5lYXNpbmcgPSBlYXNpbmcgfHwgalF1ZXJ5LmVhc2luZy5fZGVmYXVsdDtcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnQgPSB0aGlzLm5vdyA9IHRoaXMuY3VyKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbmQgPSBlbmQ7XG4gICAgICAgICAgICAgICAgdGhpcy51bml0ID0gdW5pdCB8fCAoalF1ZXJ5LmNzc051bWJlcltwcm9wXSA/IFwiXCIgOiBcInB4XCIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGN1cjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBob29rcyA9IFR3ZWVuLnByb3BIb29rc1t0aGlzLnByb3BdO1xuICAgICAgICAgICAgICAgIHJldHVybiBob29rcyAmJiBob29rcy5nZXQgP1xuICAgICAgICAgICAgICAgICAgICBob29rcy5nZXQodGhpcykgOlxuICAgICAgICAgICAgICAgICAgICBUd2Vlbi5wcm9wSG9va3MuX2RlZmF1bHQuZ2V0KHRoaXMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJ1bjogZnVuY3Rpb24gKHBlcmNlbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZWFzZWQsIGhvb2tzID0gVHdlZW4ucHJvcEhvb2tzW3RoaXMucHJvcF07XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5kdXJhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvcyA9IGVhc2VkID0galF1ZXJ5LmVhc2luZ1t0aGlzLmVhc2luZ10ocGVyY2VudCwgdGhpcy5vcHRpb25zLmR1cmF0aW9uICogcGVyY2VudCwgMCwgMSwgdGhpcy5vcHRpb25zLmR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9zID0gZWFzZWQgPSBwZXJjZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLm5vdyA9ICh0aGlzLmVuZCAtIHRoaXMuc3RhcnQpICogZWFzZWQgKyB0aGlzLnN0YXJ0O1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc3RlcCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMuc3RlcC5jYWxsKHRoaXMuZWxlbSwgdGhpcy5ub3csIHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaG9va3MgJiYgaG9va3Muc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGhvb2tzLnNldCh0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIFR3ZWVuLnByb3BIb29rcy5fZGVmYXVsdC5zZXQodGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBUd2Vlbi5wcm90b3R5cGUuaW5pdC5wcm90b3R5cGUgPSBUd2Vlbi5wcm90b3R5cGU7XG4gICAgICAgIFR3ZWVuLnByb3BIb29rcyA9IHtcbiAgICAgICAgICAgIF9kZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAodHdlZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgLy8gVXNlIGEgcHJvcGVydHkgb24gdGhlIGVsZW1lbnQgZGlyZWN0bHkgd2hlbiBpdCBpcyBub3QgYSBET00gZWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgLy8gb3Igd2hlbiB0aGVyZSBpcyBubyBtYXRjaGluZyBzdHlsZSBwcm9wZXJ0eSB0aGF0IGV4aXN0cy5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHR3ZWVuLmVsZW0ubm9kZVR5cGUgIT09IDEgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR3ZWVuLmVsZW1bdHdlZW4ucHJvcF0gIT0gbnVsbCAmJiB0d2Vlbi5lbGVtLnN0eWxlW3R3ZWVuLnByb3BdID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0d2Vlbi5lbGVtW3R3ZWVuLnByb3BdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFBhc3NpbmcgYW4gZW1wdHkgc3RyaW5nIGFzIGEgM3JkIHBhcmFtZXRlciB0byAuY3NzIHdpbGwgYXV0b21hdGljYWxseVxuICAgICAgICAgICAgICAgICAgICAvLyBhdHRlbXB0IGEgcGFyc2VGbG9hdCBhbmQgZmFsbGJhY2sgdG8gYSBzdHJpbmcgaWYgdGhlIHBhcnNlIGZhaWxzLlxuICAgICAgICAgICAgICAgICAgICAvLyBTaW1wbGUgdmFsdWVzIHN1Y2ggYXMgXCIxMHB4XCIgYXJlIHBhcnNlZCB0byBGbG9hdDtcbiAgICAgICAgICAgICAgICAgICAgLy8gY29tcGxleCB2YWx1ZXMgc3VjaCBhcyBcInJvdGF0ZSgxcmFkKVwiIGFyZSByZXR1cm5lZCBhcy1pcy5cbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0galF1ZXJ5LmNzcyh0d2Vlbi5lbGVtLCB0d2Vlbi5wcm9wLCBcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gRW1wdHkgc3RyaW5ncywgbnVsbCwgdW5kZWZpbmVkIGFuZCBcImF1dG9cIiBhcmUgY29udmVydGVkIHRvIDAuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhcmVzdWx0IHx8IHJlc3VsdCA9PT0gXCJhdXRvXCIgPyAwIDogcmVzdWx0O1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodHdlZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVXNlIHN0ZXAgaG9vayBmb3IgYmFjayBjb21wYXQuXG4gICAgICAgICAgICAgICAgICAgIC8vIFVzZSBjc3NIb29rIGlmIGl0cyB0aGVyZS5cbiAgICAgICAgICAgICAgICAgICAgLy8gVXNlIC5zdHlsZSBpZiBhdmFpbGFibGUgYW5kIHVzZSBwbGFpbiBwcm9wZXJ0aWVzIHdoZXJlIGF2YWlsYWJsZS5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGpRdWVyeS5meC5zdGVwW3R3ZWVuLnByb3BdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuZnguc3RlcFt0d2Vlbi5wcm9wXSh0d2Vlbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHdlZW4uZWxlbS5ub2RlVHlwZSA9PT0gMSAmJiAoalF1ZXJ5LmNzc0hvb2tzW3R3ZWVuLnByb3BdIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICB0d2Vlbi5lbGVtLnN0eWxlW2ZpbmFsUHJvcE5hbWUodHdlZW4ucHJvcCldICE9IG51bGwpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuc3R5bGUodHdlZW4uZWxlbSwgdHdlZW4ucHJvcCwgdHdlZW4ubm93ICsgdHdlZW4udW5pdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0d2Vlbi5lbGVtW3R3ZWVuLnByb3BdID0gdHdlZW4ubm93O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuICAgICAgICAvLyBQYW5pYyBiYXNlZCBhcHByb2FjaCB0byBzZXR0aW5nIHRoaW5ncyBvbiBkaXNjb25uZWN0ZWQgbm9kZXNcbiAgICAgICAgVHdlZW4ucHJvcEhvb2tzLnNjcm9sbFRvcCA9IFR3ZWVuLnByb3BIb29rcy5zY3JvbGxMZWZ0ID0ge1xuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodHdlZW4pIHtcbiAgICAgICAgICAgICAgICBpZiAodHdlZW4uZWxlbS5ub2RlVHlwZSAmJiB0d2Vlbi5lbGVtLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdHdlZW4uZWxlbVt0d2Vlbi5wcm9wXSA9IHR3ZWVuLm5vdztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGpRdWVyeS5lYXNpbmcgPSB7XG4gICAgICAgICAgICBsaW5lYXI6IGZ1bmN0aW9uIChwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHA7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3dpbmc6IGZ1bmN0aW9uIChwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDAuNSAtIE1hdGguY29zKHAgKiBNYXRoLlBJKSAvIDI7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2RlZmF1bHQ6IFwic3dpbmdcIlxuICAgICAgICB9O1xuICAgICAgICBqUXVlcnkuZnggPSBUd2Vlbi5wcm90b3R5cGUuaW5pdDtcbiAgICAgICAgLy8gQmFjayBjb21wYXQgPDEuOCBleHRlbnNpb24gcG9pbnRcbiAgICAgICAgalF1ZXJ5LmZ4LnN0ZXAgPSB7fTtcbiAgICAgICAgdmFyIGZ4Tm93LCBpblByb2dyZXNzLCByZnh0eXBlcyA9IC9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLywgcnJ1biA9IC9xdWV1ZUhvb2tzJC87XG4gICAgICAgIGZ1bmN0aW9uIHNjaGVkdWxlKCkge1xuICAgICAgICAgICAgaWYgKGluUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuaGlkZGVuID09PSBmYWxzZSAmJiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc2NoZWR1bGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoc2NoZWR1bGUsIGpRdWVyeS5meC5pbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGpRdWVyeS5meC50aWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gQW5pbWF0aW9ucyBjcmVhdGVkIHN5bmNocm9ub3VzbHkgd2lsbCBydW4gc3luY2hyb25vdXNseVxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVGeE5vdygpIHtcbiAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBmeE5vdyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIChmeE5vdyA9IERhdGUubm93KCkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEdlbmVyYXRlIHBhcmFtZXRlcnMgdG8gY3JlYXRlIGEgc3RhbmRhcmQgYW5pbWF0aW9uXG4gICAgICAgIGZ1bmN0aW9uIGdlbkZ4KHR5cGUsIGluY2x1ZGVXaWR0aCkge1xuICAgICAgICAgICAgdmFyIHdoaWNoLCBpID0gMCwgYXR0cnMgPSB7IGhlaWdodDogdHlwZSB9O1xuICAgICAgICAgICAgLy8gSWYgd2UgaW5jbHVkZSB3aWR0aCwgc3RlcCB2YWx1ZSBpcyAxIHRvIGRvIGFsbCBjc3NFeHBhbmQgdmFsdWVzLFxuICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIHN0ZXAgdmFsdWUgaXMgMiB0byBza2lwIG92ZXIgTGVmdCBhbmQgUmlnaHRcbiAgICAgICAgICAgIGluY2x1ZGVXaWR0aCA9IGluY2x1ZGVXaWR0aCA/IDEgOiAwO1xuICAgICAgICAgICAgZm9yICg7IGkgPCA0OyBpICs9IDIgLSBpbmNsdWRlV2lkdGgpIHtcbiAgICAgICAgICAgICAgICB3aGljaCA9IGNzc0V4cGFuZFtpXTtcbiAgICAgICAgICAgICAgICBhdHRyc1tcIm1hcmdpblwiICsgd2hpY2hdID0gYXR0cnNbXCJwYWRkaW5nXCIgKyB3aGljaF0gPSB0eXBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGluY2x1ZGVXaWR0aCkge1xuICAgICAgICAgICAgICAgIGF0dHJzLm9wYWNpdHkgPSBhdHRycy53aWR0aCA9IHR5cGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYXR0cnM7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlVHdlZW4odmFsdWUsIHByb3AsIGFuaW1hdGlvbikge1xuICAgICAgICAgICAgdmFyIHR3ZWVuLCBjb2xsZWN0aW9uID0gKEFuaW1hdGlvbi50d2VlbmVyc1twcm9wXSB8fCBbXSkuY29uY2F0KEFuaW1hdGlvbi50d2VlbmVyc1tcIipcIl0pLCBpbmRleCA9IDAsIGxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoO1xuICAgICAgICAgICAgZm9yICg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKCh0d2VlbiA9IGNvbGxlY3Rpb25baW5kZXhdLmNhbGwoYW5pbWF0aW9uLCBwcm9wLCB2YWx1ZSkpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlJ3JlIGRvbmUgd2l0aCB0aGlzIHByb3BlcnR5XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0d2VlbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gZGVmYXVsdFByZWZpbHRlcihlbGVtLCBwcm9wcywgb3B0cykge1xuICAgICAgICAgICAgdmFyIHByb3AsIHZhbHVlLCB0b2dnbGUsIGhvb2tzLCBvbGRmaXJlLCBwcm9wVHdlZW4sIHJlc3RvcmVEaXNwbGF5LCBkaXNwbGF5LCBpc0JveCA9IFwid2lkdGhcIiBpbiBwcm9wcyB8fCBcImhlaWdodFwiIGluIHByb3BzLCBhbmltID0gdGhpcywgb3JpZyA9IHt9LCBzdHlsZSA9IGVsZW0uc3R5bGUsIGhpZGRlbiA9IGVsZW0ubm9kZVR5cGUgJiYgaXNIaWRkZW5XaXRoaW5UcmVlKGVsZW0pLCBkYXRhU2hvdyA9IGRhdGFQcml2LmdldChlbGVtLCBcImZ4c2hvd1wiKTtcbiAgICAgICAgICAgIC8vIFF1ZXVlLXNraXBwaW5nIGFuaW1hdGlvbnMgaGlqYWNrIHRoZSBmeCBob29rc1xuICAgICAgICAgICAgaWYgKCFvcHRzLnF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgaG9va3MgPSBqUXVlcnkuX3F1ZXVlSG9va3MoZWxlbSwgXCJmeFwiKTtcbiAgICAgICAgICAgICAgICBpZiAoaG9va3MudW5xdWV1ZWQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBob29rcy51bnF1ZXVlZCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIG9sZGZpcmUgPSBob29rcy5lbXB0eS5maXJlO1xuICAgICAgICAgICAgICAgICAgICBob29rcy5lbXB0eS5maXJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFob29rcy51bnF1ZXVlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9sZGZpcmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaG9va3MudW5xdWV1ZWQrKztcbiAgICAgICAgICAgICAgICBhbmltLmFsd2F5cyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEVuc3VyZSB0aGUgY29tcGxldGUgaGFuZGxlciBpcyBjYWxsZWQgYmVmb3JlIHRoaXMgY29tcGxldGVzXG4gICAgICAgICAgICAgICAgICAgIGFuaW0uYWx3YXlzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvb2tzLnVucXVldWVkLS07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWpRdWVyeS5xdWV1ZShlbGVtLCBcImZ4XCIpLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvb2tzLmVtcHR5LmZpcmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBEZXRlY3Qgc2hvdy9oaWRlIGFuaW1hdGlvbnNcbiAgICAgICAgICAgIGZvciAocHJvcCBpbiBwcm9wcykge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gcHJvcHNbcHJvcF07XG4gICAgICAgICAgICAgICAgaWYgKHJmeHR5cGVzLnRlc3QodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBwcm9wc1twcm9wXTtcbiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlID0gdG9nZ2xlIHx8IHZhbHVlID09PSBcInRvZ2dsZVwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IChoaWRkZW4gPyBcImhpZGVcIiA6IFwic2hvd1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUHJldGVuZCB0byBiZSBoaWRkZW4gaWYgdGhpcyBpcyBhIFwic2hvd1wiIGFuZFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlcmUgaXMgc3RpbGwgZGF0YSBmcm9tIGEgc3RvcHBlZCBzaG93L2hpZGVcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJzaG93XCIgJiYgZGF0YVNob3cgJiYgZGF0YVNob3dbcHJvcF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZGRlbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWdub3JlIGFsbCBvdGhlciBuby1vcCBzaG93L2hpZGUgZGF0YVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgb3JpZ1twcm9wXSA9IGRhdGFTaG93ICYmIGRhdGFTaG93W3Byb3BdIHx8IGpRdWVyeS5zdHlsZShlbGVtLCBwcm9wKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBCYWlsIG91dCBpZiB0aGlzIGlzIGEgbm8tb3AgbGlrZSAuaGlkZSgpLmhpZGUoKVxuICAgICAgICAgICAgcHJvcFR3ZWVuID0gIWpRdWVyeS5pc0VtcHR5T2JqZWN0KHByb3BzKTtcbiAgICAgICAgICAgIGlmICghcHJvcFR3ZWVuICYmIGpRdWVyeS5pc0VtcHR5T2JqZWN0KG9yaWcpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUmVzdHJpY3QgXCJvdmVyZmxvd1wiIGFuZCBcImRpc3BsYXlcIiBzdHlsZXMgZHVyaW5nIGJveCBhbmltYXRpb25zXG4gICAgICAgICAgICBpZiAoaXNCb3ggJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExLCBFZGdlIDEyIC0gMTVcbiAgICAgICAgICAgICAgICAvLyBSZWNvcmQgYWxsIDMgb3ZlcmZsb3cgYXR0cmlidXRlcyBiZWNhdXNlIElFIGRvZXMgbm90IGluZmVyIHRoZSBzaG9ydGhhbmRcbiAgICAgICAgICAgICAgICAvLyBmcm9tIGlkZW50aWNhbGx5LXZhbHVlZCBvdmVyZmxvd1ggYW5kIG92ZXJmbG93WSBhbmQgRWRnZSBqdXN0IG1pcnJvcnNcbiAgICAgICAgICAgICAgICAvLyB0aGUgb3ZlcmZsb3dYIHZhbHVlIHRoZXJlLlxuICAgICAgICAgICAgICAgIG9wdHMub3ZlcmZsb3cgPSBbc3R5bGUub3ZlcmZsb3csIHN0eWxlLm92ZXJmbG93WCwgc3R5bGUub3ZlcmZsb3dZXTtcbiAgICAgICAgICAgICAgICAvLyBJZGVudGlmeSBhIGRpc3BsYXkgdHlwZSwgcHJlZmVycmluZyBvbGQgc2hvdy9oaWRlIGRhdGEgb3ZlciB0aGUgQ1NTIGNhc2NhZGVcbiAgICAgICAgICAgICAgICByZXN0b3JlRGlzcGxheSA9IGRhdGFTaG93ICYmIGRhdGFTaG93LmRpc3BsYXk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3RvcmVEaXNwbGF5ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdG9yZURpc3BsYXkgPSBkYXRhUHJpdi5nZXQoZWxlbSwgXCJkaXNwbGF5XCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkaXNwbGF5ID0galF1ZXJ5LmNzcyhlbGVtLCBcImRpc3BsYXlcIik7XG4gICAgICAgICAgICAgICAgaWYgKGRpc3BsYXkgPT09IFwibm9uZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN0b3JlRGlzcGxheSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheSA9IHJlc3RvcmVEaXNwbGF5O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gR2V0IG5vbmVtcHR5IHZhbHVlKHMpIGJ5IHRlbXBvcmFyaWx5IGZvcmNpbmcgdmlzaWJpbGl0eVxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0hpZGUoW2VsZW1dLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RvcmVEaXNwbGF5ID0gZWxlbS5zdHlsZS5kaXNwbGF5IHx8IHJlc3RvcmVEaXNwbGF5O1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheSA9IGpRdWVyeS5jc3MoZWxlbSwgXCJkaXNwbGF5XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0hpZGUoW2VsZW1dKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBBbmltYXRlIGlubGluZSBlbGVtZW50cyBhcyBpbmxpbmUtYmxvY2tcbiAgICAgICAgICAgICAgICBpZiAoZGlzcGxheSA9PT0gXCJpbmxpbmVcIiB8fCBkaXNwbGF5ID09PSBcImlubGluZS1ibG9ja1wiICYmIHJlc3RvcmVEaXNwbGF5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGpRdWVyeS5jc3MoZWxlbSwgXCJmbG9hdFwiKSA9PT0gXCJub25lXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlc3RvcmUgdGhlIG9yaWdpbmFsIGRpc3BsYXkgdmFsdWUgYXQgdGhlIGVuZCBvZiBwdXJlIHNob3cvaGlkZSBhbmltYXRpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXByb3BUd2Vlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW0uZG9uZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlLmRpc3BsYXkgPSByZXN0b3JlRGlzcGxheTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdG9yZURpc3BsYXkgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5ID0gc3R5bGUuZGlzcGxheTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdG9yZURpc3BsYXkgPSBkaXNwbGF5ID09PSBcIm5vbmVcIiA/IFwiXCIgOiBkaXNwbGF5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1ibG9ja1wiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdHMub3ZlcmZsb3cpIHtcbiAgICAgICAgICAgICAgICBzdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XG4gICAgICAgICAgICAgICAgYW5pbS5hbHdheXMoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBzdHlsZS5vdmVyZmxvdyA9IG9wdHMub3ZlcmZsb3dbMF07XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlLm92ZXJmbG93WCA9IG9wdHMub3ZlcmZsb3dbMV07XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlLm92ZXJmbG93WSA9IG9wdHMub3ZlcmZsb3dbMl07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJbXBsZW1lbnQgc2hvdy9oaWRlIGFuaW1hdGlvbnNcbiAgICAgICAgICAgIHByb3BUd2VlbiA9IGZhbHNlO1xuICAgICAgICAgICAgZm9yIChwcm9wIGluIG9yaWcpIHtcbiAgICAgICAgICAgICAgICAvLyBHZW5lcmFsIHNob3cvaGlkZSBzZXR1cCBmb3IgdGhpcyBlbGVtZW50IGFuaW1hdGlvblxuICAgICAgICAgICAgICAgIGlmICghcHJvcFR3ZWVuKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhU2hvdykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwiaGlkZGVuXCIgaW4gZGF0YVNob3cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWRkZW4gPSBkYXRhU2hvdy5oaWRkZW47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhU2hvdyA9IGRhdGFQcml2LmFjY2VzcyhlbGVtLCBcImZ4c2hvd1wiLCB7IGRpc3BsYXk6IHJlc3RvcmVEaXNwbGF5IH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFN0b3JlIGhpZGRlbi92aXNpYmxlIGZvciB0b2dnbGUgc28gYC5zdG9wKCkudG9nZ2xlKClgIFwicmV2ZXJzZXNcIlxuICAgICAgICAgICAgICAgICAgICBpZiAodG9nZ2xlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhU2hvdy5oaWRkZW4gPSAhaGlkZGVuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFNob3cgZWxlbWVudHMgYmVmb3JlIGFuaW1hdGluZyB0aGVtXG4gICAgICAgICAgICAgICAgICAgIGlmIChoaWRkZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dIaWRlKFtlbGVtXSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tbG9vcC1mdW5jICovXG4gICAgICAgICAgICAgICAgICAgIGFuaW0uZG9uZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLWxvb3AtZnVuYyAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGZpbmFsIHN0ZXAgb2YgYSBcImhpZGVcIiBhbmltYXRpb24gaXMgYWN0dWFsbHkgaGlkaW5nIHRoZSBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWhpZGRlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dIaWRlKFtlbGVtXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhUHJpdi5yZW1vdmUoZWxlbSwgXCJmeHNob3dcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHByb3AgaW4gb3JpZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5zdHlsZShlbGVtLCBwcm9wLCBvcmlnW3Byb3BdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFBlci1wcm9wZXJ0eSBzZXR1cFxuICAgICAgICAgICAgICAgIHByb3BUd2VlbiA9IGNyZWF0ZVR3ZWVuKGhpZGRlbiA/IGRhdGFTaG93W3Byb3BdIDogMCwgcHJvcCwgYW5pbSk7XG4gICAgICAgICAgICAgICAgaWYgKCEocHJvcCBpbiBkYXRhU2hvdykpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YVNob3dbcHJvcF0gPSBwcm9wVHdlZW4uc3RhcnQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChoaWRkZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BUd2Vlbi5lbmQgPSBwcm9wVHdlZW4uc3RhcnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wVHdlZW4uc3RhcnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHByb3BGaWx0ZXIocHJvcHMsIHNwZWNpYWxFYXNpbmcpIHtcbiAgICAgICAgICAgIHZhciBpbmRleCwgbmFtZSwgZWFzaW5nLCB2YWx1ZSwgaG9va3M7XG4gICAgICAgICAgICAvLyBjYW1lbENhc2UsIHNwZWNpYWxFYXNpbmcgYW5kIGV4cGFuZCBjc3NIb29rIHBhc3NcbiAgICAgICAgICAgIGZvciAoaW5kZXggaW4gcHJvcHMpIHtcbiAgICAgICAgICAgICAgICBuYW1lID0gY2FtZWxDYXNlKGluZGV4KTtcbiAgICAgICAgICAgICAgICBlYXNpbmcgPSBzcGVjaWFsRWFzaW5nW25hbWVdO1xuICAgICAgICAgICAgICAgIHZhbHVlID0gcHJvcHNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICBlYXNpbmcgPSB2YWx1ZVsxXTtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBwcm9wc1tpbmRleF0gPSB2YWx1ZVswXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ICE9PSBuYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb3BzW25hbWVdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBwcm9wc1tpbmRleF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGhvb2tzID0galF1ZXJ5LmNzc0hvb2tzW25hbWVdO1xuICAgICAgICAgICAgICAgIGlmIChob29rcyAmJiBcImV4cGFuZFwiIGluIGhvb2tzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gaG9va3MuZXhwYW5kKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHByb3BzW25hbWVdO1xuICAgICAgICAgICAgICAgICAgICAvLyBOb3QgcXVpdGUgJC5leHRlbmQsIHRoaXMgd29uJ3Qgb3ZlcndyaXRlIGV4aXN0aW5nIGtleXMuXG4gICAgICAgICAgICAgICAgICAgIC8vIFJldXNpbmcgJ2luZGV4JyBiZWNhdXNlIHdlIGhhdmUgdGhlIGNvcnJlY3QgXCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChpbmRleCBpbiB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoaW5kZXggaW4gcHJvcHMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHNbaW5kZXhdID0gdmFsdWVbaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwZWNpYWxFYXNpbmdbaW5kZXhdID0gZWFzaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzcGVjaWFsRWFzaW5nW25hbWVdID0gZWFzaW5nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBBbmltYXRpb24oZWxlbSwgcHJvcGVydGllcywgb3B0aW9ucykge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCwgc3RvcHBlZCwgaW5kZXggPSAwLCBsZW5ndGggPSBBbmltYXRpb24ucHJlZmlsdGVycy5sZW5ndGgsIGRlZmVycmVkID0galF1ZXJ5LkRlZmVycmVkKCkuYWx3YXlzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAvLyBEb24ndCBtYXRjaCBlbGVtIGluIHRoZSA6YW5pbWF0ZWQgc2VsZWN0b3JcbiAgICAgICAgICAgICAgICBkZWxldGUgdGljay5lbGVtO1xuICAgICAgICAgICAgfSksIHRpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0b3BwZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudFRpbWUgPSBmeE5vdyB8fCBjcmVhdGVGeE5vdygpLCByZW1haW5pbmcgPSBNYXRoLm1heCgwLCBhbmltYXRpb24uc3RhcnRUaW1lICsgYW5pbWF0aW9uLmR1cmF0aW9uIC0gY3VycmVudFRpbWUpLCBcbiAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBBbmRyb2lkIDIuMyBvbmx5XG4gICAgICAgICAgICAgICAgLy8gQXJjaGFpYyBjcmFzaCBidWcgd29uJ3QgYWxsb3cgdXMgdG8gdXNlIGAxIC0gKCAwLjUgfHwgMCApYCAodHJhYy0xMjQ5NylcbiAgICAgICAgICAgICAgICB0ZW1wID0gcmVtYWluaW5nIC8gYW5pbWF0aW9uLmR1cmF0aW9uIHx8IDAsIHBlcmNlbnQgPSAxIC0gdGVtcCwgaW5kZXggPSAwLCBsZW5ndGggPSBhbmltYXRpb24udHdlZW5zLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBmb3IgKDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uLnR3ZWVuc1tpbmRleF0ucnVuKHBlcmNlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWZlcnJlZC5ub3RpZnlXaXRoKGVsZW0sIFthbmltYXRpb24sIHBlcmNlbnQsIHJlbWFpbmluZ10pO1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZXJlJ3MgbW9yZSB0byBkbywgeWllbGRcbiAgICAgICAgICAgICAgICBpZiAocGVyY2VudCA8IDEgJiYgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZW1haW5pbmc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIElmIHRoaXMgd2FzIGFuIGVtcHR5IGFuaW1hdGlvbiwgc3ludGhlc2l6ZSBhIGZpbmFsIHByb2dyZXNzIG5vdGlmaWNhdGlvblxuICAgICAgICAgICAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLm5vdGlmeVdpdGgoZWxlbSwgW2FuaW1hdGlvbiwgMSwgMF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBSZXNvbHZlIHRoZSBhbmltYXRpb24gYW5kIHJlcG9ydCBpdHMgY29uY2x1c2lvblxuICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmVXaXRoKGVsZW0sIFthbmltYXRpb25dKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9LCBhbmltYXRpb24gPSBkZWZlcnJlZC5wcm9taXNlKHtcbiAgICAgICAgICAgICAgICBlbGVtOiBlbGVtLFxuICAgICAgICAgICAgICAgIHByb3BzOiBqUXVlcnkuZXh0ZW5kKHt9LCBwcm9wZXJ0aWVzKSxcbiAgICAgICAgICAgICAgICBvcHRzOiBqUXVlcnkuZXh0ZW5kKHRydWUsIHtcbiAgICAgICAgICAgICAgICAgICAgc3BlY2lhbEVhc2luZzoge30sXG4gICAgICAgICAgICAgICAgICAgIGVhc2luZzogalF1ZXJ5LmVhc2luZy5fZGVmYXVsdFxuICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMpLFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsUHJvcGVydGllczogcHJvcGVydGllcyxcbiAgICAgICAgICAgICAgICBvcmlnaW5hbE9wdGlvbnM6IG9wdGlvbnMsXG4gICAgICAgICAgICAgICAgc3RhcnRUaW1lOiBmeE5vdyB8fCBjcmVhdGVGeE5vdygpLFxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBvcHRpb25zLmR1cmF0aW9uLFxuICAgICAgICAgICAgICAgIHR3ZWVuczogW10sXG4gICAgICAgICAgICAgICAgY3JlYXRlVHdlZW46IGZ1bmN0aW9uIChwcm9wLCBlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHR3ZWVuID0galF1ZXJ5LlR3ZWVuKGVsZW0sIGFuaW1hdGlvbi5vcHRzLCBwcm9wLCBlbmQsIGFuaW1hdGlvbi5vcHRzLnNwZWNpYWxFYXNpbmdbcHJvcF0gfHwgYW5pbWF0aW9uLm9wdHMuZWFzaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uLnR3ZWVucy5wdXNoKHR3ZWVuKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR3ZWVuO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc3RvcDogZnVuY3Rpb24gKGdvdG9FbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gMCwgXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHdlIGFyZSBnb2luZyB0byB0aGUgZW5kLCB3ZSB3YW50IHRvIHJ1biBhbGwgdGhlIHR3ZWVuc1xuICAgICAgICAgICAgICAgICAgICAvLyBvdGhlcndpc2Ugd2Ugc2tpcCB0aGlzIHBhcnRcbiAgICAgICAgICAgICAgICAgICAgbGVuZ3RoID0gZ290b0VuZCA/IGFuaW1hdGlvbi50d2VlbnMubGVuZ3RoIDogMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0b3BwZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbi50d2VlbnNbaW5kZXhdLnJ1bigxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBSZXNvbHZlIHdoZW4gd2UgcGxheWVkIHRoZSBsYXN0IGZyYW1lOyBvdGhlcndpc2UsIHJlamVjdFxuICAgICAgICAgICAgICAgICAgICBpZiAoZ290b0VuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQubm90aWZ5V2l0aChlbGVtLCBbYW5pbWF0aW9uLCAxLCAwXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlV2l0aChlbGVtLCBbYW5pbWF0aW9uLCBnb3RvRW5kXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3RXaXRoKGVsZW0sIFthbmltYXRpb24sIGdvdG9FbmRdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSwgcHJvcHMgPSBhbmltYXRpb24ucHJvcHM7XG4gICAgICAgICAgICBwcm9wRmlsdGVyKHByb3BzLCBhbmltYXRpb24ub3B0cy5zcGVjaWFsRWFzaW5nKTtcbiAgICAgICAgICAgIGZvciAoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IEFuaW1hdGlvbi5wcmVmaWx0ZXJzW2luZGV4XS5jYWxsKGFuaW1hdGlvbiwgZWxlbSwgcHJvcHMsIGFuaW1hdGlvbi5vcHRzKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKHJlc3VsdC5zdG9wKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5Ll9xdWV1ZUhvb2tzKGFuaW1hdGlvbi5lbGVtLCBhbmltYXRpb24ub3B0cy5xdWV1ZSkuc3RvcCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0b3AuYmluZChyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgalF1ZXJ5Lm1hcChwcm9wcywgY3JlYXRlVHdlZW4sIGFuaW1hdGlvbik7XG4gICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihhbmltYXRpb24ub3B0cy5zdGFydCkpIHtcbiAgICAgICAgICAgICAgICBhbmltYXRpb24ub3B0cy5zdGFydC5jYWxsKGVsZW0sIGFuaW1hdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBBdHRhY2ggY2FsbGJhY2tzIGZyb20gb3B0aW9uc1xuICAgICAgICAgICAgYW5pbWF0aW9uXG4gICAgICAgICAgICAgICAgLnByb2dyZXNzKGFuaW1hdGlvbi5vcHRzLnByb2dyZXNzKVxuICAgICAgICAgICAgICAgIC5kb25lKGFuaW1hdGlvbi5vcHRzLmRvbmUsIGFuaW1hdGlvbi5vcHRzLmNvbXBsZXRlKVxuICAgICAgICAgICAgICAgIC5mYWlsKGFuaW1hdGlvbi5vcHRzLmZhaWwpXG4gICAgICAgICAgICAgICAgLmFsd2F5cyhhbmltYXRpb24ub3B0cy5hbHdheXMpO1xuICAgICAgICAgICAgalF1ZXJ5LmZ4LnRpbWVyKGpRdWVyeS5leHRlbmQodGljaywge1xuICAgICAgICAgICAgICAgIGVsZW06IGVsZW0sXG4gICAgICAgICAgICAgICAgYW5pbTogYW5pbWF0aW9uLFxuICAgICAgICAgICAgICAgIHF1ZXVlOiBhbmltYXRpb24ub3B0cy5xdWV1ZVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgcmV0dXJuIGFuaW1hdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBqUXVlcnkuQW5pbWF0aW9uID0galF1ZXJ5LmV4dGVuZChBbmltYXRpb24sIHtcbiAgICAgICAgICAgIHR3ZWVuZXJzOiB7XG4gICAgICAgICAgICAgICAgXCIqXCI6IFtmdW5jdGlvbiAocHJvcCwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0d2VlbiA9IHRoaXMuY3JlYXRlVHdlZW4ocHJvcCwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRqdXN0Q1NTKHR3ZWVuLmVsZW0sIHByb3AsIHJjc3NOdW0uZXhlYyh2YWx1ZSksIHR3ZWVuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0d2VlbjtcbiAgICAgICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0d2VlbmVyOiBmdW5jdGlvbiAocHJvcHMsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24ocHJvcHMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrID0gcHJvcHM7XG4gICAgICAgICAgICAgICAgICAgIHByb3BzID0gW1wiKlwiXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHByb3BzID0gcHJvcHMubWF0Y2gocm5vdGh0bWx3aGl0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBwcm9wLCBpbmRleCA9IDAsIGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBmb3IgKDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcCA9IHByb3BzW2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgQW5pbWF0aW9uLnR3ZWVuZXJzW3Byb3BdID0gQW5pbWF0aW9uLnR3ZWVuZXJzW3Byb3BdIHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICBBbmltYXRpb24udHdlZW5lcnNbcHJvcF0udW5zaGlmdChjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHByZWZpbHRlcnM6IFtkZWZhdWx0UHJlZmlsdGVyXSxcbiAgICAgICAgICAgIHByZWZpbHRlcjogZnVuY3Rpb24gKGNhbGxiYWNrLCBwcmVwZW5kKSB7XG4gICAgICAgICAgICAgICAgaWYgKHByZXBlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgQW5pbWF0aW9uLnByZWZpbHRlcnMudW5zaGlmdChjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBBbmltYXRpb24ucHJlZmlsdGVycy5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBqUXVlcnkuc3BlZWQgPSBmdW5jdGlvbiAoc3BlZWQsIGVhc2luZywgZm4pIHtcbiAgICAgICAgICAgIHZhciBvcHQgPSBzcGVlZCAmJiB0eXBlb2Ygc3BlZWQgPT09IFwib2JqZWN0XCIgPyBqUXVlcnkuZXh0ZW5kKHt9LCBzcGVlZCkgOiB7XG4gICAgICAgICAgICAgICAgY29tcGxldGU6IGZuIHx8ICFmbiAmJiBlYXNpbmcgfHxcbiAgICAgICAgICAgICAgICAgICAgaXNGdW5jdGlvbihzcGVlZCkgJiYgc3BlZWQsXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IHNwZWVkLFxuICAgICAgICAgICAgICAgIGVhc2luZzogZm4gJiYgZWFzaW5nIHx8IGVhc2luZyAmJiAhaXNGdW5jdGlvbihlYXNpbmcpICYmIGVhc2luZ1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIEdvIHRvIHRoZSBlbmQgc3RhdGUgaWYgZnggYXJlIG9mZlxuICAgICAgICAgICAgaWYgKGpRdWVyeS5meC5vZmYpIHtcbiAgICAgICAgICAgICAgICBvcHQuZHVyYXRpb24gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHQuZHVyYXRpb24gIT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdC5kdXJhdGlvbiBpbiBqUXVlcnkuZnguc3BlZWRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHQuZHVyYXRpb24gPSBqUXVlcnkuZnguc3BlZWRzW29wdC5kdXJhdGlvbl07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHQuZHVyYXRpb24gPSBqUXVlcnkuZnguc3BlZWRzLl9kZWZhdWx0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTm9ybWFsaXplIG9wdC5xdWV1ZSAtIHRydWUvdW5kZWZpbmVkL251bGwgLT4gXCJmeFwiXG4gICAgICAgICAgICBpZiAob3B0LnF1ZXVlID09IG51bGwgfHwgb3B0LnF1ZXVlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgb3B0LnF1ZXVlID0gXCJmeFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUXVldWVpbmdcbiAgICAgICAgICAgIG9wdC5vbGQgPSBvcHQuY29tcGxldGU7XG4gICAgICAgICAgICBvcHQuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24ob3B0Lm9sZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0Lm9sZC5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAob3B0LnF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeS5kZXF1ZXVlKHRoaXMsIG9wdC5xdWV1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBvcHQ7XG4gICAgICAgIH07XG4gICAgICAgIGpRdWVyeS5mbi5leHRlbmQoe1xuICAgICAgICAgICAgZmFkZVRvOiBmdW5jdGlvbiAoc3BlZWQsIHRvLCBlYXNpbmcsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgLy8gU2hvdyBhbnkgaGlkZGVuIGVsZW1lbnRzIGFmdGVyIHNldHRpbmcgb3BhY2l0eSB0byAwXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyKGlzSGlkZGVuV2l0aGluVHJlZSkuY3NzKFwib3BhY2l0eVwiLCAwKS5zaG93KClcbiAgICAgICAgICAgICAgICAgICAgLy8gQW5pbWF0ZSB0byB0aGUgdmFsdWUgc3BlY2lmaWVkXG4gICAgICAgICAgICAgICAgICAgIC5lbmQoKS5hbmltYXRlKHsgb3BhY2l0eTogdG8gfSwgc3BlZWQsIGVhc2luZywgY2FsbGJhY2spO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFuaW1hdGU6IGZ1bmN0aW9uIChwcm9wLCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHZhciBlbXB0eSA9IGpRdWVyeS5pc0VtcHR5T2JqZWN0KHByb3ApLCBvcHRhbGwgPSBqUXVlcnkuc3BlZWQoc3BlZWQsIGVhc2luZywgY2FsbGJhY2spLCBkb0FuaW1hdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gT3BlcmF0ZSBvbiBhIGNvcHkgb2YgcHJvcCBzbyBwZXItcHJvcGVydHkgZWFzaW5nIHdvbid0IGJlIGxvc3RcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFuaW0gPSBBbmltYXRpb24odGhpcywgalF1ZXJ5LmV4dGVuZCh7fSwgcHJvcCksIG9wdGFsbCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIEVtcHR5IGFuaW1hdGlvbnMsIG9yIGZpbmlzaGluZyByZXNvbHZlcyBpbW1lZGlhdGVseVxuICAgICAgICAgICAgICAgICAgICBpZiAoZW1wdHkgfHwgZGF0YVByaXYuZ2V0KHRoaXMsIFwiZmluaXNoXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltLnN0b3AodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGRvQW5pbWF0aW9uLmZpbmlzaCA9IGRvQW5pbWF0aW9uO1xuICAgICAgICAgICAgICAgIHJldHVybiBlbXB0eSB8fCBvcHRhbGwucXVldWUgPT09IGZhbHNlID9cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lYWNoKGRvQW5pbWF0aW9uKSA6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucXVldWUob3B0YWxsLnF1ZXVlLCBkb0FuaW1hdGlvbik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3RvcDogZnVuY3Rpb24gKHR5cGUsIGNsZWFyUXVldWUsIGdvdG9FbmQpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RvcFF1ZXVlID0gZnVuY3Rpb24gKGhvb2tzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdG9wID0gaG9va3Muc3RvcDtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGhvb2tzLnN0b3A7XG4gICAgICAgICAgICAgICAgICAgIHN0b3AoZ290b0VuZCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHR5cGUgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgZ290b0VuZCA9IGNsZWFyUXVldWU7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyUXVldWUgPSB0eXBlO1xuICAgICAgICAgICAgICAgICAgICB0eXBlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY2xlYXJRdWV1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnF1ZXVlKHR5cGUgfHwgXCJmeFwiLCBbXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGVxdWV1ZSA9IHRydWUsIGluZGV4ID0gdHlwZSAhPSBudWxsICYmIHR5cGUgKyBcInF1ZXVlSG9va3NcIiwgdGltZXJzID0galF1ZXJ5LnRpbWVycywgZGF0YSA9IGRhdGFQcml2LmdldCh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YVtpbmRleF0gJiYgZGF0YVtpbmRleF0uc3RvcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3BRdWV1ZShkYXRhW2luZGV4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGluZGV4IGluIGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YVtpbmRleF0gJiYgZGF0YVtpbmRleF0uc3RvcCAmJiBycnVuLnRlc3QoaW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3BRdWV1ZShkYXRhW2luZGV4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZvciAoaW5kZXggPSB0aW1lcnMubGVuZ3RoOyBpbmRleC0tOykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRpbWVyc1tpbmRleF0uZWxlbSA9PT0gdGhpcyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0eXBlID09IG51bGwgfHwgdGltZXJzW2luZGV4XS5xdWV1ZSA9PT0gdHlwZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lcnNbaW5kZXhdLmFuaW0uc3RvcChnb3RvRW5kKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXF1ZXVlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gU3RhcnQgdGhlIG5leHQgaW4gdGhlIHF1ZXVlIGlmIHRoZSBsYXN0IHN0ZXAgd2Fzbid0IGZvcmNlZC5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGltZXJzIGN1cnJlbnRseSB3aWxsIGNhbGwgdGhlaXIgY29tcGxldGUgY2FsbGJhY2tzLCB3aGljaFxuICAgICAgICAgICAgICAgICAgICAvLyB3aWxsIGRlcXVldWUgYnV0IG9ubHkgaWYgdGhleSB3ZXJlIGdvdG9FbmQuXG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXF1ZXVlIHx8ICFnb3RvRW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuZGVxdWV1ZSh0aGlzLCB0eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZpbmlzaDogZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9IHR5cGUgfHwgXCJmeFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4LCBkYXRhID0gZGF0YVByaXYuZ2V0KHRoaXMpLCBxdWV1ZSA9IGRhdGFbdHlwZSArIFwicXVldWVcIl0sIGhvb2tzID0gZGF0YVt0eXBlICsgXCJxdWV1ZUhvb2tzXCJdLCB0aW1lcnMgPSBqUXVlcnkudGltZXJzLCBsZW5ndGggPSBxdWV1ZSA/IHF1ZXVlLmxlbmd0aCA6IDA7XG4gICAgICAgICAgICAgICAgICAgIC8vIEVuYWJsZSBmaW5pc2hpbmcgZmxhZyBvbiBwcml2YXRlIGRhdGFcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5maW5pc2ggPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAvLyBFbXB0eSB0aGUgcXVldWUgZmlyc3RcbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LnF1ZXVlKHRoaXMsIHR5cGUsIFtdKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhvb2tzICYmIGhvb2tzLnN0b3ApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvb2tzLnN0b3AuY2FsbCh0aGlzLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBMb29rIGZvciBhbnkgYWN0aXZlIGFuaW1hdGlvbnMsIGFuZCBmaW5pc2ggdGhlbVxuICAgICAgICAgICAgICAgICAgICBmb3IgKGluZGV4ID0gdGltZXJzLmxlbmd0aDsgaW5kZXgtLTspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aW1lcnNbaW5kZXhdLmVsZW0gPT09IHRoaXMgJiYgdGltZXJzW2luZGV4XS5xdWV1ZSA9PT0gdHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVyc1tpbmRleF0uYW5pbS5zdG9wKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIExvb2sgZm9yIGFueSBhbmltYXRpb25zIGluIHRoZSBvbGQgcXVldWUgYW5kIGZpbmlzaCB0aGVtXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHF1ZXVlW2luZGV4XSAmJiBxdWV1ZVtpbmRleF0uZmluaXNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVldWVbaW5kZXhdLmZpbmlzaC5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFR1cm4gb2ZmIGZpbmlzaGluZyBmbGFnXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBkYXRhLmZpbmlzaDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGpRdWVyeS5lYWNoKFtcInRvZ2dsZVwiLCBcInNob3dcIiwgXCJoaWRlXCJdLCBmdW5jdGlvbiAoX2ksIG5hbWUpIHtcbiAgICAgICAgICAgIHZhciBjc3NGbiA9IGpRdWVyeS5mbltuYW1lXTtcbiAgICAgICAgICAgIGpRdWVyeS5mbltuYW1lXSA9IGZ1bmN0aW9uIChzcGVlZCwgZWFzaW5nLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHJldHVybiBzcGVlZCA9PSBudWxsIHx8IHR5cGVvZiBzcGVlZCA9PT0gXCJib29sZWFuXCIgP1xuICAgICAgICAgICAgICAgICAgICBjc3NGbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpIDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRlKGdlbkZ4KG5hbWUsIHRydWUpLCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gR2VuZXJhdGUgc2hvcnRjdXRzIGZvciBjdXN0b20gYW5pbWF0aW9uc1xuICAgICAgICBqUXVlcnkuZWFjaCh7XG4gICAgICAgICAgICBzbGlkZURvd246IGdlbkZ4KFwic2hvd1wiKSxcbiAgICAgICAgICAgIHNsaWRlVXA6IGdlbkZ4KFwiaGlkZVwiKSxcbiAgICAgICAgICAgIHNsaWRlVG9nZ2xlOiBnZW5GeChcInRvZ2dsZVwiKSxcbiAgICAgICAgICAgIGZhZGVJbjogeyBvcGFjaXR5OiBcInNob3dcIiB9LFxuICAgICAgICAgICAgZmFkZU91dDogeyBvcGFjaXR5OiBcImhpZGVcIiB9LFxuICAgICAgICAgICAgZmFkZVRvZ2dsZTogeyBvcGFjaXR5OiBcInRvZ2dsZVwiIH1cbiAgICAgICAgfSwgZnVuY3Rpb24gKG5hbWUsIHByb3BzKSB7XG4gICAgICAgICAgICBqUXVlcnkuZm5bbmFtZV0gPSBmdW5jdGlvbiAoc3BlZWQsIGVhc2luZywgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hbmltYXRlKHByb3BzLCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgalF1ZXJ5LnRpbWVycyA9IFtdO1xuICAgICAgICBqUXVlcnkuZngudGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB0aW1lciwgaSA9IDAsIHRpbWVycyA9IGpRdWVyeS50aW1lcnM7XG4gICAgICAgICAgICBmeE5vdyA9IERhdGUubm93KCk7XG4gICAgICAgICAgICBmb3IgKDsgaSA8IHRpbWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRpbWVyID0gdGltZXJzW2ldO1xuICAgICAgICAgICAgICAgIC8vIFJ1biB0aGUgdGltZXIgYW5kIHNhZmVseSByZW1vdmUgaXQgd2hlbiBkb25lIChhbGxvd2luZyBmb3IgZXh0ZXJuYWwgcmVtb3ZhbClcbiAgICAgICAgICAgICAgICBpZiAoIXRpbWVyKCkgJiYgdGltZXJzW2ldID09PSB0aW1lcikge1xuICAgICAgICAgICAgICAgICAgICB0aW1lcnMuc3BsaWNlKGktLSwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aW1lcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgalF1ZXJ5LmZ4LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ4Tm93ID0gdW5kZWZpbmVkO1xuICAgICAgICB9O1xuICAgICAgICBqUXVlcnkuZngudGltZXIgPSBmdW5jdGlvbiAodGltZXIpIHtcbiAgICAgICAgICAgIGpRdWVyeS50aW1lcnMucHVzaCh0aW1lcik7XG4gICAgICAgICAgICBqUXVlcnkuZnguc3RhcnQoKTtcbiAgICAgICAgfTtcbiAgICAgICAgalF1ZXJ5LmZ4LmludGVydmFsID0gMTM7XG4gICAgICAgIGpRdWVyeS5meC5zdGFydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChpblByb2dyZXNzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5Qcm9ncmVzcyA9IHRydWU7XG4gICAgICAgICAgICBzY2hlZHVsZSgpO1xuICAgICAgICB9O1xuICAgICAgICBqUXVlcnkuZnguc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGluUHJvZ3Jlc3MgPSBudWxsO1xuICAgICAgICB9O1xuICAgICAgICBqUXVlcnkuZnguc3BlZWRzID0ge1xuICAgICAgICAgICAgc2xvdzogNjAwLFxuICAgICAgICAgICAgZmFzdDogMjAwLFxuICAgICAgICAgICAgLy8gRGVmYXVsdCBzcGVlZFxuICAgICAgICAgICAgX2RlZmF1bHQ6IDQwMFxuICAgICAgICB9O1xuICAgICAgICAvLyBCYXNlZCBvZmYgb2YgdGhlIHBsdWdpbiBieSBDbGludCBIZWxmZXJzLCB3aXRoIHBlcm1pc3Npb24uXG4gICAgICAgIGpRdWVyeS5mbi5kZWxheSA9IGZ1bmN0aW9uICh0aW1lLCB0eXBlKSB7XG4gICAgICAgICAgICB0aW1lID0galF1ZXJ5LmZ4ID8galF1ZXJ5LmZ4LnNwZWVkc1t0aW1lXSB8fCB0aW1lIDogdGltZTtcbiAgICAgICAgICAgIHR5cGUgPSB0eXBlIHx8IFwiZnhcIjtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnF1ZXVlKHR5cGUsIGZ1bmN0aW9uIChuZXh0LCBob29rcykge1xuICAgICAgICAgICAgICAgIHZhciB0aW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQobmV4dCwgdGltZSk7XG4gICAgICAgICAgICAgICAgaG9va3Muc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiksIHNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIiksIG9wdCA9IHNlbGVjdC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpKTtcbiAgICAgICAgICAgIGlucHV0LnR5cGUgPSBcImNoZWNrYm94XCI7XG4gICAgICAgICAgICAvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4zIG9ubHlcbiAgICAgICAgICAgIC8vIERlZmF1bHQgdmFsdWUgZm9yIGEgY2hlY2tib3ggc2hvdWxkIGJlIFwib25cIlxuICAgICAgICAgICAgc3VwcG9ydC5jaGVja09uID0gaW5wdXQudmFsdWUgIT09IFwiXCI7XG4gICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHlcbiAgICAgICAgICAgIC8vIE11c3QgYWNjZXNzIHNlbGVjdGVkSW5kZXggdG8gbWFrZSBkZWZhdWx0IG9wdGlvbnMgc2VsZWN0XG4gICAgICAgICAgICBzdXBwb3J0Lm9wdFNlbGVjdGVkID0gb3B0LnNlbGVjdGVkO1xuICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG4gICAgICAgICAgICAvLyBBbiBpbnB1dCBsb3NlcyBpdHMgdmFsdWUgYWZ0ZXIgYmVjb21pbmcgYSByYWRpb1xuICAgICAgICAgICAgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICAgICAgICBpbnB1dC52YWx1ZSA9IFwidFwiO1xuICAgICAgICAgICAgaW5wdXQudHlwZSA9IFwicmFkaW9cIjtcbiAgICAgICAgICAgIHN1cHBvcnQucmFkaW9WYWx1ZSA9IGlucHV0LnZhbHVlID09PSBcInRcIjtcbiAgICAgICAgfSkoKTtcbiAgICAgICAgdmFyIGJvb2xIb29rLCBhdHRySGFuZGxlID0galF1ZXJ5LmV4cHIuYXR0ckhhbmRsZTtcbiAgICAgICAgalF1ZXJ5LmZuLmV4dGVuZCh7XG4gICAgICAgICAgICBhdHRyOiBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjZXNzKHRoaXMsIGpRdWVyeS5hdHRyLCBuYW1lLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCA+IDEpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlbW92ZUF0dHI6IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeS5yZW1vdmVBdHRyKHRoaXMsIG5hbWUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgalF1ZXJ5LmV4dGVuZCh7XG4gICAgICAgICAgICBhdHRyOiBmdW5jdGlvbiAoZWxlbSwgbmFtZSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmV0LCBob29rcywgblR5cGUgPSBlbGVtLm5vZGVUeXBlO1xuICAgICAgICAgICAgICAgIC8vIERvbid0IGdldC9zZXQgYXR0cmlidXRlcyBvbiB0ZXh0LCBjb21tZW50IGFuZCBhdHRyaWJ1dGUgbm9kZXNcbiAgICAgICAgICAgICAgICBpZiAoblR5cGUgPT09IDMgfHwgblR5cGUgPT09IDggfHwgblR5cGUgPT09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBGYWxsYmFjayB0byBwcm9wIHdoZW4gYXR0cmlidXRlcyBhcmUgbm90IHN1cHBvcnRlZFxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZWxlbS5nZXRBdHRyaWJ1dGUgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGpRdWVyeS5wcm9wKGVsZW0sIG5hbWUsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQXR0cmlidXRlIGhvb2tzIGFyZSBkZXRlcm1pbmVkIGJ5IHRoZSBsb3dlcmNhc2UgdmVyc2lvblxuICAgICAgICAgICAgICAgIC8vIEdyYWIgbmVjZXNzYXJ5IGhvb2sgaWYgb25lIGlzIGRlZmluZWRcbiAgICAgICAgICAgICAgICBpZiAoblR5cGUgIT09IDEgfHwgIWpRdWVyeS5pc1hNTERvYyhlbGVtKSkge1xuICAgICAgICAgICAgICAgICAgICBob29rcyA9IGpRdWVyeS5hdHRySG9va3NbbmFtZS50b0xvd2VyQ2FzZSgpXSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgKGpRdWVyeS5leHByLm1hdGNoLmJvb2wudGVzdChuYW1lKSA/IGJvb2xIb29rIDogdW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkucmVtb3ZlQXR0cihlbGVtLCBuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoaG9va3MgJiYgXCJzZXRcIiBpbiBob29rcyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKHJldCA9IGhvb2tzLnNldChlbGVtLCB2YWx1ZSwgbmFtZSkpICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUgKyBcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaG9va3MgJiYgXCJnZXRcIiBpbiBob29rcyAmJiAocmV0ID0gaG9va3MuZ2V0KGVsZW0sIG5hbWUpKSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXQgPSBqUXVlcnkuZmluZC5hdHRyKGVsZW0sIG5hbWUpO1xuICAgICAgICAgICAgICAgIC8vIE5vbi1leGlzdGVudCBhdHRyaWJ1dGVzIHJldHVybiBudWxsLCB3ZSBub3JtYWxpemUgdG8gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJldCA9PSBudWxsID8gdW5kZWZpbmVkIDogcmV0O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGF0dHJIb29rczoge1xuICAgICAgICAgICAgICAgIHR5cGU6IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoZWxlbSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc3VwcG9ydC5yYWRpb1ZhbHVlICYmIHZhbHVlID09PSBcInJhZGlvXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlTmFtZShlbGVtLCBcImlucHV0XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbCA9IGVsZW0udmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0udmFsdWUgPSB2YWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZW1vdmVBdHRyOiBmdW5jdGlvbiAoZWxlbSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSwgaSA9IDAsIFxuICAgICAgICAgICAgICAgIC8vIEF0dHJpYnV0ZSBuYW1lcyBjYW4gY29udGFpbiBub24tSFRNTCB3aGl0ZXNwYWNlIGNoYXJhY3RlcnNcbiAgICAgICAgICAgICAgICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeW50YXguaHRtbCNhdHRyaWJ1dGVzLTJcbiAgICAgICAgICAgICAgICBhdHRyTmFtZXMgPSB2YWx1ZSAmJiB2YWx1ZS5tYXRjaChybm90aHRtbHdoaXRlKTtcbiAgICAgICAgICAgICAgICBpZiAoYXR0ck5hbWVzICYmIGVsZW0ubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKChuYW1lID0gYXR0ck5hbWVzW2krK10pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIEhvb2tzIGZvciBib29sZWFuIGF0dHJpYnV0ZXNcbiAgICAgICAgYm9vbEhvb2sgPSB7XG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChlbGVtLCB2YWx1ZSwgbmFtZSkge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGJvb2xlYW4gYXR0cmlidXRlcyB3aGVuIHNldCB0byBmYWxzZVxuICAgICAgICAgICAgICAgICAgICBqUXVlcnkucmVtb3ZlQXR0cihlbGVtLCBuYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW0uc2V0QXR0cmlidXRlKG5hbWUsIG5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgalF1ZXJ5LmVhY2goalF1ZXJ5LmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goL1xcdysvZyksIGZ1bmN0aW9uIChfaSwgbmFtZSkge1xuICAgICAgICAgICAgdmFyIGdldHRlciA9IGF0dHJIYW5kbGVbbmFtZV0gfHwgalF1ZXJ5LmZpbmQuYXR0cjtcbiAgICAgICAgICAgIGF0dHJIYW5kbGVbbmFtZV0gPSBmdW5jdGlvbiAoZWxlbSwgbmFtZSwgaXNYTUwpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmV0LCBoYW5kbGUsIGxvd2VyY2FzZU5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFpc1hNTCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBBdm9pZCBhbiBpbmZpbml0ZSBsb29wIGJ5IHRlbXBvcmFyaWx5IHJlbW92aW5nIHRoaXMgZnVuY3Rpb24gZnJvbSB0aGUgZ2V0dGVyXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZSA9IGF0dHJIYW5kbGVbbG93ZXJjYXNlTmFtZV07XG4gICAgICAgICAgICAgICAgICAgIGF0dHJIYW5kbGVbbG93ZXJjYXNlTmFtZV0gPSByZXQ7XG4gICAgICAgICAgICAgICAgICAgIHJldCA9IGdldHRlcihlbGVtLCBuYW1lLCBpc1hNTCkgIT0gbnVsbCA/XG4gICAgICAgICAgICAgICAgICAgICAgICBsb3dlcmNhc2VOYW1lIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGF0dHJIYW5kbGVbbG93ZXJjYXNlTmFtZV0gPSBoYW5kbGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIHJmb2N1c2FibGUgPSAvXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLCByY2xpY2thYmxlID0gL14oPzphfGFyZWEpJC9pO1xuICAgICAgICBqUXVlcnkuZm4uZXh0ZW5kKHtcbiAgICAgICAgICAgIHByb3A6IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhY2Nlc3ModGhpcywgalF1ZXJ5LnByb3AsIG5hbWUsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoID4gMSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVtb3ZlUHJvcDogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXNbalF1ZXJ5LnByb3BGaXhbbmFtZV0gfHwgbmFtZV07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBqUXVlcnkuZXh0ZW5kKHtcbiAgICAgICAgICAgIHByb3A6IGZ1bmN0aW9uIChlbGVtLCBuYW1lLCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHZhciByZXQsIGhvb2tzLCBuVHlwZSA9IGVsZW0ubm9kZVR5cGU7XG4gICAgICAgICAgICAgICAgLy8gRG9uJ3QgZ2V0L3NldCBwcm9wZXJ0aWVzIG9uIHRleHQsIGNvbW1lbnQgYW5kIGF0dHJpYnV0ZSBub2Rlc1xuICAgICAgICAgICAgICAgIGlmIChuVHlwZSA9PT0gMyB8fCBuVHlwZSA9PT0gOCB8fCBuVHlwZSA9PT0gMikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChuVHlwZSAhPT0gMSB8fCAhalF1ZXJ5LmlzWE1MRG9jKGVsZW0pKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEZpeCBuYW1lIGFuZCBhdHRhY2ggaG9va3NcbiAgICAgICAgICAgICAgICAgICAgbmFtZSA9IGpRdWVyeS5wcm9wRml4W25hbWVdIHx8IG5hbWU7XG4gICAgICAgICAgICAgICAgICAgIGhvb2tzID0galF1ZXJ5LnByb3BIb29rc1tuYW1lXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhvb2tzICYmIFwic2V0XCIgaW4gaG9va3MgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIChyZXQgPSBob29rcy5zZXQoZWxlbSwgdmFsdWUsIG5hbWUpKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoZWxlbVtuYW1lXSA9IHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGhvb2tzICYmIFwiZ2V0XCIgaW4gaG9va3MgJiYgKHJldCA9IGhvb2tzLmdldChlbGVtLCBuYW1lKSkgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1bbmFtZV07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcHJvcEhvb2tzOiB7XG4gICAgICAgICAgICAgICAgdGFiSW5kZXg6IHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgPD05IC0gMTEgb25seVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZWxlbS50YWJJbmRleCBkb2Vzbid0IGFsd2F5cyByZXR1cm4gdGhlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb3JyZWN0IHZhbHVlIHdoZW4gaXQgaGFzbid0IGJlZW4gZXhwbGljaXRseSBzZXRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVzZSBwcm9wZXIgYXR0cmlidXRlIHJldHJpZXZhbCAodHJhYy0xMjA3MilcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YWJpbmRleCA9IGpRdWVyeS5maW5kLmF0dHIoZWxlbSwgXCJ0YWJpbmRleFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YWJpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUludCh0YWJpbmRleCwgMTApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJmb2N1c2FibGUudGVzdChlbGVtLm5vZGVOYW1lKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJjbGlja2FibGUudGVzdChlbGVtLm5vZGVOYW1lKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtLmhyZWYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwcm9wRml4OiB7XG4gICAgICAgICAgICAgICAgXCJmb3JcIjogXCJodG1sRm9yXCIsXG4gICAgICAgICAgICAgICAgXCJjbGFzc1wiOiBcImNsYXNzTmFtZVwiXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHlcbiAgICAgICAgLy8gQWNjZXNzaW5nIHRoZSBzZWxlY3RlZEluZGV4IHByb3BlcnR5XG4gICAgICAgIC8vIGZvcmNlcyB0aGUgYnJvd3NlciB0byByZXNwZWN0IHNldHRpbmcgc2VsZWN0ZWRcbiAgICAgICAgLy8gb24gdGhlIG9wdGlvblxuICAgICAgICAvLyBUaGUgZ2V0dGVyIGVuc3VyZXMgYSBkZWZhdWx0IG9wdGlvbiBpcyBzZWxlY3RlZFxuICAgICAgICAvLyB3aGVuIGluIGFuIG9wdGdyb3VwXG4gICAgICAgIC8vIGVzbGludCBydWxlIFwibm8tdW51c2VkLWV4cHJlc3Npb25zXCIgaXMgZGlzYWJsZWQgZm9yIHRoaXMgY29kZVxuICAgICAgICAvLyBzaW5jZSBpdCBjb25zaWRlcnMgc3VjaCBhY2Nlc3Npb25zIG5vb3BcbiAgICAgICAgaWYgKCFzdXBwb3J0Lm9wdFNlbGVjdGVkKSB7XG4gICAgICAgICAgICBqUXVlcnkucHJvcEhvb2tzLnNlbGVjdGVkID0ge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgLyogZXNsaW50IG5vLXVudXNlZC1leHByZXNzaW9uczogXCJvZmZcIiAqL1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50ICYmIHBhcmVudC5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICAvKiBlc2xpbnQgbm8tdW51c2VkLWV4cHJlc3Npb25zOiBcIm9mZlwiICovXG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudC5zZWxlY3RlZEluZGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudC5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgalF1ZXJ5LmVhY2goW1xuICAgICAgICAgICAgXCJ0YWJJbmRleFwiLFxuICAgICAgICAgICAgXCJyZWFkT25seVwiLFxuICAgICAgICAgICAgXCJtYXhMZW5ndGhcIixcbiAgICAgICAgICAgIFwiY2VsbFNwYWNpbmdcIixcbiAgICAgICAgICAgIFwiY2VsbFBhZGRpbmdcIixcbiAgICAgICAgICAgIFwicm93U3BhblwiLFxuICAgICAgICAgICAgXCJjb2xTcGFuXCIsXG4gICAgICAgICAgICBcInVzZU1hcFwiLFxuICAgICAgICAgICAgXCJmcmFtZUJvcmRlclwiLFxuICAgICAgICAgICAgXCJjb250ZW50RWRpdGFibGVcIlxuICAgICAgICBdLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBqUXVlcnkucHJvcEZpeFt0aGlzLnRvTG93ZXJDYXNlKCldID0gdGhpcztcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFN0cmlwIGFuZCBjb2xsYXBzZSB3aGl0ZXNwYWNlIGFjY29yZGluZyB0byBIVE1MIHNwZWNcbiAgICAgICAgLy8gaHR0cHM6Ly9pbmZyYS5zcGVjLndoYXR3Zy5vcmcvI3N0cmlwLWFuZC1jb2xsYXBzZS1hc2NpaS13aGl0ZXNwYWNlXG4gICAgICAgIGZ1bmN0aW9uIHN0cmlwQW5kQ29sbGFwc2UodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciB0b2tlbnMgPSB2YWx1ZS5tYXRjaChybm90aHRtbHdoaXRlKSB8fCBbXTtcbiAgICAgICAgICAgIHJldHVybiB0b2tlbnMuam9pbihcIiBcIik7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gZ2V0Q2xhc3MoZWxlbSkge1xuICAgICAgICAgICAgcmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlICYmIGVsZW0uZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikgfHwgXCJcIjtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBjbGFzc2VzVG9BcnJheSh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZS5tYXRjaChybm90aHRtbHdoaXRlKSB8fCBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICBqUXVlcnkuZm4uZXh0ZW5kKHtcbiAgICAgICAgICAgIGFkZENsYXNzOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2xhc3NOYW1lcywgY3VyLCBjdXJWYWx1ZSwgY2xhc3NOYW1lLCBpLCBmaW5hbFZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uIChqKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkodGhpcykuYWRkQ2xhc3ModmFsdWUuY2FsbCh0aGlzLCBqLCBnZXRDbGFzcyh0aGlzKSkpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lcyA9IGNsYXNzZXNUb0FycmF5KHZhbHVlKTtcbiAgICAgICAgICAgICAgICBpZiAoY2xhc3NOYW1lcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJWYWx1ZSA9IGdldENsYXNzKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VyID0gdGhpcy5ub2RlVHlwZSA9PT0gMSAmJiAoXCIgXCIgKyBzdHJpcEFuZENvbGxhcHNlKGN1clZhbHVlKSArIFwiIFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY2xhc3NOYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWUgPSBjbGFzc05hbWVzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyLmluZGV4T2YoXCIgXCIgKyBjbGFzc05hbWUgKyBcIiBcIikgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXIgKz0gY2xhc3NOYW1lICsgXCIgXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT25seSBhc3NpZ24gaWYgZGlmZmVyZW50IHRvIGF2b2lkIHVubmVlZGVkIHJlbmRlcmluZy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbFZhbHVlID0gc3RyaXBBbmRDb2xsYXBzZShjdXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJWYWx1ZSAhPT0gZmluYWxWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIGZpbmFsVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlbW92ZUNsYXNzOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2xhc3NOYW1lcywgY3VyLCBjdXJWYWx1ZSwgY2xhc3NOYW1lLCBpLCBmaW5hbFZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uIChqKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkodGhpcykucmVtb3ZlQ2xhc3ModmFsdWUuY2FsbCh0aGlzLCBqLCBnZXRDbGFzcyh0aGlzKSkpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmF0dHIoXCJjbGFzc1wiLCBcIlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lcyA9IGNsYXNzZXNUb0FycmF5KHZhbHVlKTtcbiAgICAgICAgICAgICAgICBpZiAoY2xhc3NOYW1lcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJWYWx1ZSA9IGdldENsYXNzKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBleHByZXNzaW9uIGlzIGhlcmUgZm9yIGJldHRlciBjb21wcmVzc2liaWxpdHkgKHNlZSBhZGRDbGFzcylcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ciA9IHRoaXMubm9kZVR5cGUgPT09IDEgJiYgKFwiIFwiICsgc3RyaXBBbmRDb2xsYXBzZShjdXJWYWx1ZSkgKyBcIiBcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGNsYXNzTmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gY2xhc3NOYW1lc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlICphbGwqIGluc3RhbmNlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoY3VyLmluZGV4T2YoXCIgXCIgKyBjbGFzc05hbWUgKyBcIiBcIikgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyID0gY3VyLnJlcGxhY2UoXCIgXCIgKyBjbGFzc05hbWUgKyBcIiBcIiwgXCIgXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgYXNzaWduIGlmIGRpZmZlcmVudCB0byBhdm9pZCB1bm5lZWRlZCByZW5kZXJpbmcuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxWYWx1ZSA9IHN0cmlwQW5kQ29sbGFwc2UoY3VyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyVmFsdWUgIT09IGZpbmFsVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBmaW5hbFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0b2dnbGVDbGFzczogZnVuY3Rpb24gKHZhbHVlLCBzdGF0ZVZhbCkge1xuICAgICAgICAgICAgICAgIHZhciBjbGFzc05hbWVzLCBjbGFzc05hbWUsIGksIHNlbGYsIHR5cGUgPSB0eXBlb2YgdmFsdWUsIGlzVmFsaWRWYWx1ZSA9IHR5cGUgPT09IFwic3RyaW5nXCIgfHwgQXJyYXkuaXNBcnJheSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeSh0aGlzKS50b2dnbGVDbGFzcyh2YWx1ZS5jYWxsKHRoaXMsIGksIGdldENsYXNzKHRoaXMpLCBzdGF0ZVZhbCksIHN0YXRlVmFsKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc3RhdGVWYWwgPT09IFwiYm9vbGVhblwiICYmIGlzVmFsaWRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGVWYWwgPyB0aGlzLmFkZENsYXNzKHZhbHVlKSA6IHRoaXMucmVtb3ZlQ2xhc3ModmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWVzID0gY2xhc3Nlc1RvQXJyYXkodmFsdWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNWYWxpZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUb2dnbGUgaW5kaXZpZHVhbCBjbGFzcyBuYW1lc1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZiA9IGpRdWVyeSh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBjbGFzc05hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gY2xhc3NOYW1lc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBlYWNoIGNsYXNzTmFtZSBnaXZlbiwgc3BhY2Ugc2VwYXJhdGVkIGxpc3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5oYXNDbGFzcyhjbGFzc05hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucmVtb3ZlQ2xhc3MoY2xhc3NOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuYWRkQ2xhc3MoY2xhc3NOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUb2dnbGUgd2hvbGUgY2xhc3MgbmFtZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgfHwgdHlwZSA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA9IGdldENsYXNzKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNsYXNzTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN0b3JlIGNsYXNzTmFtZSBpZiBzZXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhUHJpdi5zZXQodGhpcywgXCJfX2NsYXNzTmFtZV9fXCIsIGNsYXNzTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgZWxlbWVudCBoYXMgYSBjbGFzcyBuYW1lIG9yIGlmIHdlJ3JlIHBhc3NlZCBgZmFsc2VgLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlbiByZW1vdmUgdGhlIHdob2xlIGNsYXNzbmFtZSAoaWYgdGhlcmUgd2FzIG9uZSwgdGhlIGFib3ZlIHNhdmVkIGl0KS5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSBicmluZyBiYWNrIHdoYXRldmVyIHdhcyBwcmV2aW91c2x5IHNhdmVkIChpZiBhbnl0aGluZyksXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmYWxsaW5nIGJhY2sgdG8gdGhlIGVtcHR5IHN0cmluZyBpZiBub3RoaW5nIHdhcyBzdG9yZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zZXRBdHRyaWJ1dGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIGNsYXNzTmFtZSB8fCB2YWx1ZSA9PT0gZmFsc2UgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVByaXYuZ2V0KHRoaXMsIFwiX19jbGFzc05hbWVfX1wiKSB8fCBcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGhhc0NsYXNzOiBmdW5jdGlvbiAoc2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2xhc3NOYW1lLCBlbGVtLCBpID0gMDtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWUgPSBcIiBcIiArIHNlbGVjdG9yICsgXCIgXCI7XG4gICAgICAgICAgICAgICAgd2hpbGUgKChlbGVtID0gdGhpc1tpKytdKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbS5ub2RlVHlwZSA9PT0gMSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKFwiIFwiICsgc3RyaXBBbmRDb2xsYXBzZShnZXRDbGFzcyhlbGVtKSkgKyBcIiBcIikuaW5kZXhPZihjbGFzc05hbWUpID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBycmV0dXJuID0gL1xcci9nO1xuICAgICAgICBqUXVlcnkuZm4uZXh0ZW5kKHtcbiAgICAgICAgICAgIHZhbDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhvb2tzLCByZXQsIHZhbHVlSXNGdW5jdGlvbiwgZWxlbSA9IHRoaXNbMF07XG4gICAgICAgICAgICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBob29rcyA9IGpRdWVyeS52YWxIb29rc1tlbGVtLnR5cGVdIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LnZhbEhvb2tzW2VsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaG9va3MgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImdldFwiIGluIGhvb2tzICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHJldCA9IGhvb2tzLmdldChlbGVtLCBcInZhbHVlXCIpKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldCA9IGVsZW0udmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBIYW5kbGUgbW9zdCBjb21tb24gc3RyaW5nIGNhc2VzXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJldCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQucmVwbGFjZShycmV0dXJuLCBcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBjYXNlcyB3aGVyZSB2YWx1ZSBpcyBudWxsL3VuZGVmIG9yIG51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldCA9PSBudWxsID8gXCJcIiA6IHJldDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhbHVlSXNGdW5jdGlvbiA9IGlzRnVuY3Rpb24odmFsdWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubm9kZVR5cGUgIT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVJc0Z1bmN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSB2YWx1ZS5jYWxsKHRoaXMsIGksIGpRdWVyeSh0aGlzKS52YWwoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBUcmVhdCBudWxsL3VuZGVmaW5lZCBhcyBcIlwiOyBjb252ZXJ0IG51bWJlcnMgdG8gc3RyaW5nXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWwgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWwgKz0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KHZhbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IGpRdWVyeS5tYXAodmFsLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/IFwiXCIgOiB2YWx1ZSArIFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBob29rcyA9IGpRdWVyeS52YWxIb29rc1t0aGlzLnR5cGVdIHx8IGpRdWVyeS52YWxIb29rc1t0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldO1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiBzZXQgcmV0dXJucyB1bmRlZmluZWQsIGZhbGwgYmFjayB0byBub3JtYWwgc2V0dGluZ1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWhvb2tzIHx8ICEoXCJzZXRcIiBpbiBob29rcykgfHwgaG9va3Muc2V0KHRoaXMsIHZhbCwgXCJ2YWx1ZVwiKSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gdmFsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBqUXVlcnkuZXh0ZW5kKHtcbiAgICAgICAgICAgIHZhbEhvb2tzOiB7XG4gICAgICAgICAgICAgICAgb3B0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWwgPSBqUXVlcnkuZmluZC5hdHRyKGVsZW0sIFwidmFsdWVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsICE9IG51bGwgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgPD0xMCAtIDExIG9ubHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvcHRpb24udGV4dCB0aHJvd3MgZXhjZXB0aW9ucyAodHJhYy0xNDY4NiwgdHJhYy0xNDg1OClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdHJpcCBhbmQgY29sbGFwc2Ugd2hpdGVzcGFjZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvI3N0cmlwLWFuZC1jb2xsYXBzZS13aGl0ZXNwYWNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyaXBBbmRDb2xsYXBzZShqUXVlcnkudGV4dChlbGVtKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNlbGVjdDoge1xuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUsIG9wdGlvbiwgaSwgb3B0aW9ucyA9IGVsZW0ub3B0aW9ucywgaW5kZXggPSBlbGVtLnNlbGVjdGVkSW5kZXgsIG9uZSA9IGVsZW0udHlwZSA9PT0gXCJzZWxlY3Qtb25lXCIsIHZhbHVlcyA9IG9uZSA/IG51bGwgOiBbXSwgbWF4ID0gb25lID8gaW5kZXggKyAxIDogb3B0aW9ucy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IG1heDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBvbmUgPyBpbmRleCA6IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBMb29wIHRocm91Z2ggYWxsIHRoZSBzZWxlY3RlZCBvcHRpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKDsgaSA8IG1heDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uID0gb3B0aW9uc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElFOC05IGRvZXNuJ3QgdXBkYXRlIHNlbGVjdGVkIGFmdGVyIGZvcm0gcmVzZXQgKHRyYWMtMjU1MSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKG9wdGlvbi5zZWxlY3RlZCB8fCBpID09PSBpbmRleCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRG9uJ3QgcmV0dXJuIG9wdGlvbnMgdGhhdCBhcmUgZGlzYWJsZWQgb3IgaW4gYSBkaXNhYmxlZCBvcHRncm91cFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhb3B0aW9uLmRpc2FibGVkICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICghb3B0aW9uLnBhcmVudE5vZGUuZGlzYWJsZWQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICFub2RlTmFtZShvcHRpb24ucGFyZW50Tm9kZSwgXCJvcHRncm91cFwiKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gR2V0IHRoZSBzcGVjaWZpYyB2YWx1ZSBmb3IgdGhlIG9wdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGpRdWVyeShvcHRpb24pLnZhbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBkb24ndCBuZWVkIGFuIGFycmF5IGZvciBvbmUgc2VsZWN0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob25lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTXVsdGktU2VsZWN0cyByZXR1cm4gYW4gYXJyYXlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzLnB1c2godmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGVsZW0sIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3B0aW9uU2V0LCBvcHRpb24sIG9wdGlvbnMgPSBlbGVtLm9wdGlvbnMsIHZhbHVlcyA9IGpRdWVyeS5tYWtlQXJyYXkodmFsdWUpLCBpID0gb3B0aW9ucy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uID0gb3B0aW9uc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25kLWFzc2lnbiAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb24uc2VsZWN0ZWQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuaW5BcnJheShqUXVlcnkudmFsSG9va3Mub3B0aW9uLmdldChvcHRpb24pLCB2YWx1ZXMpID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uU2V0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1jb25kLWFzc2lnbiAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRm9yY2UgYnJvd3NlcnMgdG8gYmVoYXZlIGNvbnNpc3RlbnRseSB3aGVuIG5vbi1tYXRjaGluZyB2YWx1ZSBpcyBzZXRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghb3B0aW9uU2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5zZWxlY3RlZEluZGV4ID0gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gUmFkaW9zIGFuZCBjaGVja2JveGVzIGdldHRlci9zZXR0ZXJcbiAgICAgICAgalF1ZXJ5LmVhY2goW1wicmFkaW9cIiwgXCJjaGVja2JveFwiXSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgalF1ZXJ5LnZhbEhvb2tzW3RoaXNdID0ge1xuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGVsZW0sIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChlbGVtLmNoZWNrZWQgPSBqUXVlcnkuaW5BcnJheShqUXVlcnkoZWxlbSkudmFsKCksIHZhbHVlKSA+IC0xKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoIXN1cHBvcnQuY2hlY2tPbikge1xuICAgICAgICAgICAgICAgIGpRdWVyeS52YWxIb29rc1t0aGlzXS5nZXQgPSBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKSA9PT0gbnVsbCA/IFwib25cIiA6IGVsZW0udmFsdWU7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFJldHVybiBqUXVlcnkgZm9yIGF0dHJpYnV0ZXMtb25seSBpbmNsdXNpb25cbiAgICAgICAgdmFyIGxvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uO1xuICAgICAgICB2YXIgbm9uY2UgPSB7IGd1aWQ6IERhdGUubm93KCkgfTtcbiAgICAgICAgdmFyIHJxdWVyeSA9ICgvXFw/Lyk7XG4gICAgICAgIC8vIENyb3NzLWJyb3dzZXIgeG1sIHBhcnNpbmdcbiAgICAgICAgalF1ZXJ5LnBhcnNlWE1MID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIHZhciB4bWwsIHBhcnNlckVycm9yRWxlbTtcbiAgICAgICAgICAgIGlmICghZGF0YSB8fCB0eXBlb2YgZGF0YSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgOSAtIDExIG9ubHlcbiAgICAgICAgICAgIC8vIElFIHRocm93cyBvbiBwYXJzZUZyb21TdHJpbmcgd2l0aCBpbnZhbGlkIGlucHV0LlxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB4bWwgPSAobmV3IHdpbmRvdy5ET01QYXJzZXIoKSkucGFyc2VGcm9tU3RyaW5nKGRhdGEsIFwidGV4dC94bWxcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkgeyB9XG4gICAgICAgICAgICBwYXJzZXJFcnJvckVsZW0gPSB4bWwgJiYgeG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwicGFyc2VyZXJyb3JcIilbMF07XG4gICAgICAgICAgICBpZiAoIXhtbCB8fCBwYXJzZXJFcnJvckVsZW0pIHtcbiAgICAgICAgICAgICAgICBqUXVlcnkuZXJyb3IoXCJJbnZhbGlkIFhNTDogXCIgKyAocGFyc2VyRXJyb3JFbGVtID9cbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5Lm1hcChwYXJzZXJFcnJvckVsZW0uY2hpbGROb2RlcywgZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWwudGV4dENvbnRlbnQ7XG4gICAgICAgICAgICAgICAgICAgIH0pLmpvaW4oXCJcXG5cIikgOlxuICAgICAgICAgICAgICAgICAgICBkYXRhKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geG1sO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgcmZvY3VzTW9ycGggPSAvXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC8sIHN0b3BQcm9wYWdhdGlvbkNhbGxiYWNrID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH07XG4gICAgICAgIGpRdWVyeS5leHRlbmQoalF1ZXJ5LmV2ZW50LCB7XG4gICAgICAgICAgICB0cmlnZ2VyOiBmdW5jdGlvbiAoZXZlbnQsIGRhdGEsIGVsZW0sIG9ubHlIYW5kbGVycykge1xuICAgICAgICAgICAgICAgIHZhciBpLCBjdXIsIHRtcCwgYnViYmxlVHlwZSwgb250eXBlLCBoYW5kbGUsIHNwZWNpYWwsIGxhc3RFbGVtZW50LCBldmVudFBhdGggPSBbZWxlbSB8fCBkb2N1bWVudF0sIHR5cGUgPSBoYXNPd24uY2FsbChldmVudCwgXCJ0eXBlXCIpID8gZXZlbnQudHlwZSA6IGV2ZW50LCBuYW1lc3BhY2VzID0gaGFzT3duLmNhbGwoZXZlbnQsIFwibmFtZXNwYWNlXCIpID8gZXZlbnQubmFtZXNwYWNlLnNwbGl0KFwiLlwiKSA6IFtdO1xuICAgICAgICAgICAgICAgIGN1ciA9IGxhc3RFbGVtZW50ID0gdG1wID0gZWxlbSA9IGVsZW0gfHwgZG9jdW1lbnQ7XG4gICAgICAgICAgICAgICAgLy8gRG9uJ3QgZG8gZXZlbnRzIG9uIHRleHQgYW5kIGNvbW1lbnQgbm9kZXNcbiAgICAgICAgICAgICAgICBpZiAoZWxlbS5ub2RlVHlwZSA9PT0gMyB8fCBlbGVtLm5vZGVUeXBlID09PSA4KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZm9jdXMvYmx1ciBtb3JwaHMgdG8gZm9jdXNpbi9vdXQ7IGVuc3VyZSB3ZSdyZSBub3QgZmlyaW5nIHRoZW0gcmlnaHQgbm93XG4gICAgICAgICAgICAgICAgaWYgKHJmb2N1c01vcnBoLnRlc3QodHlwZSArIGpRdWVyeS5ldmVudC50cmlnZ2VyZWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGUuaW5kZXhPZihcIi5cIikgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBOYW1lc3BhY2VkIHRyaWdnZXI7IGNyZWF0ZSBhIHJlZ2V4cCB0byBtYXRjaCBldmVudCB0eXBlIGluIGhhbmRsZSgpXG4gICAgICAgICAgICAgICAgICAgIG5hbWVzcGFjZXMgPSB0eXBlLnNwbGl0KFwiLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9IG5hbWVzcGFjZXMuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgbmFtZXNwYWNlcy5zb3J0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9udHlwZSA9IHR5cGUuaW5kZXhPZihcIjpcIikgPCAwICYmIFwib25cIiArIHR5cGU7XG4gICAgICAgICAgICAgICAgLy8gQ2FsbGVyIGNhbiBwYXNzIGluIGEgalF1ZXJ5LkV2ZW50IG9iamVjdCwgT2JqZWN0LCBvciBqdXN0IGFuIGV2ZW50IHR5cGUgc3RyaW5nXG4gICAgICAgICAgICAgICAgZXZlbnQgPSBldmVudFtqUXVlcnkuZXhwYW5kb10gP1xuICAgICAgICAgICAgICAgICAgICBldmVudCA6XG4gICAgICAgICAgICAgICAgICAgIG5ldyBqUXVlcnkuRXZlbnQodHlwZSwgdHlwZW9mIGV2ZW50ID09PSBcIm9iamVjdFwiICYmIGV2ZW50KTtcbiAgICAgICAgICAgICAgICAvLyBUcmlnZ2VyIGJpdG1hc2s6ICYgMSBmb3IgbmF0aXZlIGhhbmRsZXJzOyAmIDIgZm9yIGpRdWVyeSAoYWx3YXlzIHRydWUpXG4gICAgICAgICAgICAgICAgZXZlbnQuaXNUcmlnZ2VyID0gb25seUhhbmRsZXJzID8gMiA6IDM7XG4gICAgICAgICAgICAgICAgZXZlbnQubmFtZXNwYWNlID0gbmFtZXNwYWNlcy5qb2luKFwiLlwiKTtcbiAgICAgICAgICAgICAgICBldmVudC5ybmFtZXNwYWNlID0gZXZlbnQubmFtZXNwYWNlID9cbiAgICAgICAgICAgICAgICAgICAgbmV3IFJlZ0V4cChcIihefFxcXFwuKVwiICsgbmFtZXNwYWNlcy5qb2luKFwiXFxcXC4oPzouKlxcXFwufClcIikgKyBcIihcXFxcLnwkKVwiKSA6XG4gICAgICAgICAgICAgICAgICAgIG51bGw7XG4gICAgICAgICAgICAgICAgLy8gQ2xlYW4gdXAgdGhlIGV2ZW50IGluIGNhc2UgaXQgaXMgYmVpbmcgcmV1c2VkXG4gICAgICAgICAgICAgICAgZXZlbnQucmVzdWx0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGlmICghZXZlbnQudGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnRhcmdldCA9IGVsZW07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIENsb25lIGFueSBpbmNvbWluZyBkYXRhIGFuZCBwcmVwZW5kIHRoZSBldmVudCwgY3JlYXRpbmcgdGhlIGhhbmRsZXIgYXJnIGxpc3RcbiAgICAgICAgICAgICAgICBkYXRhID0gZGF0YSA9PSBudWxsID9cbiAgICAgICAgICAgICAgICAgICAgW2V2ZW50XSA6XG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeS5tYWtlQXJyYXkoZGF0YSwgW2V2ZW50XSk7XG4gICAgICAgICAgICAgICAgLy8gQWxsb3cgc3BlY2lhbCBldmVudHMgdG8gZHJhdyBvdXRzaWRlIHRoZSBsaW5lc1xuICAgICAgICAgICAgICAgIHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFt0eXBlXSB8fCB7fTtcbiAgICAgICAgICAgICAgICBpZiAoIW9ubHlIYW5kbGVycyAmJiBzcGVjaWFsLnRyaWdnZXIgJiYgc3BlY2lhbC50cmlnZ2VyLmFwcGx5KGVsZW0sIGRhdGEpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIERldGVybWluZSBldmVudCBwcm9wYWdhdGlvbiBwYXRoIGluIGFkdmFuY2UsIHBlciBXM0MgZXZlbnRzIHNwZWMgKHRyYWMtOTk1MSlcbiAgICAgICAgICAgICAgICAvLyBCdWJibGUgdXAgdG8gZG9jdW1lbnQsIHRoZW4gdG8gd2luZG93OyB3YXRjaCBmb3IgYSBnbG9iYWwgb3duZXJEb2N1bWVudCB2YXIgKHRyYWMtOTcyNClcbiAgICAgICAgICAgICAgICBpZiAoIW9ubHlIYW5kbGVycyAmJiAhc3BlY2lhbC5ub0J1YmJsZSAmJiAhaXNXaW5kb3coZWxlbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgYnViYmxlVHlwZSA9IHNwZWNpYWwuZGVsZWdhdGVUeXBlIHx8IHR5cGU7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcmZvY3VzTW9ycGgudGVzdChidWJibGVUeXBlICsgdHlwZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ciA9IGN1ci5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZvciAoOyBjdXI7IGN1ciA9IGN1ci5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudFBhdGgucHVzaChjdXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdG1wID0gY3VyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgYWRkIHdpbmRvdyBpZiB3ZSBnb3QgdG8gZG9jdW1lbnQgKGUuZy4sIG5vdCBwbGFpbiBvYmogb3IgZGV0YWNoZWQgRE9NKVxuICAgICAgICAgICAgICAgICAgICBpZiAodG1wID09PSAoZWxlbS5vd25lckRvY3VtZW50IHx8IGRvY3VtZW50KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRQYXRoLnB1c2godG1wLmRlZmF1bHRWaWV3IHx8IHRtcC5wYXJlbnRXaW5kb3cgfHwgd2luZG93KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBGaXJlIGhhbmRsZXJzIG9uIHRoZSBldmVudCBwYXRoXG4gICAgICAgICAgICAgICAgaSA9IDA7XG4gICAgICAgICAgICAgICAgd2hpbGUgKChjdXIgPSBldmVudFBhdGhbaSsrXSkgJiYgIWV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFzdEVsZW1lbnQgPSBjdXI7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnR5cGUgPSBpID4gMSA/XG4gICAgICAgICAgICAgICAgICAgICAgICBidWJibGVUeXBlIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwZWNpYWwuYmluZFR5cGUgfHwgdHlwZTtcbiAgICAgICAgICAgICAgICAgICAgLy8galF1ZXJ5IGhhbmRsZXJcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlID0gKGRhdGFQcml2LmdldChjdXIsIFwiZXZlbnRzXCIpIHx8IE9iamVjdC5jcmVhdGUobnVsbCkpW2V2ZW50LnR5cGVdICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhUHJpdi5nZXQoY3VyLCBcImhhbmRsZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhbmRsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlLmFwcGx5KGN1ciwgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gTmF0aXZlIGhhbmRsZXJcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlID0gb250eXBlICYmIGN1cltvbnR5cGVdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaGFuZGxlICYmIGhhbmRsZS5hcHBseSAmJiBhY2NlcHREYXRhKGN1cikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnJlc3VsdCA9IGhhbmRsZS5hcHBseShjdXIsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LnJlc3VsdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGV2ZW50LnR5cGUgPSB0eXBlO1xuICAgICAgICAgICAgICAgIC8vIElmIG5vYm9keSBwcmV2ZW50ZWQgdGhlIGRlZmF1bHQgYWN0aW9uLCBkbyBpdCBub3dcbiAgICAgICAgICAgICAgICBpZiAoIW9ubHlIYW5kbGVycyAmJiAhZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCghc3BlY2lhbC5fZGVmYXVsdCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgc3BlY2lhbC5fZGVmYXVsdC5hcHBseShldmVudFBhdGgucG9wKCksIGRhdGEpID09PSBmYWxzZSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjY2VwdERhdGEoZWxlbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENhbGwgYSBuYXRpdmUgRE9NIG1ldGhvZCBvbiB0aGUgdGFyZ2V0IHdpdGggdGhlIHNhbWUgbmFtZSBhcyB0aGUgZXZlbnQuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEb24ndCBkbyBkZWZhdWx0IGFjdGlvbnMgb24gd2luZG93LCB0aGF0J3Mgd2hlcmUgZ2xvYmFsIHZhcmlhYmxlcyBiZSAodHJhYy02MTcwKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9udHlwZSAmJiBpc0Z1bmN0aW9uKGVsZW1bdHlwZV0pICYmICFpc1dpbmRvdyhlbGVtKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvbid0IHJlLXRyaWdnZXIgYW4gb25GT08gZXZlbnQgd2hlbiB3ZSBjYWxsIGl0cyBGT08oKSBtZXRob2RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXAgPSBlbGVtW29udHlwZV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRtcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtW29udHlwZV0gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IHJlLXRyaWdnZXJpbmcgb2YgdGhlIHNhbWUgZXZlbnQsIHNpbmNlIHdlIGFscmVhZHkgYnViYmxlZCBpdCBhYm92ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5ldmVudC50cmlnZ2VyZWQgPSB0eXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgc3RvcFByb3BhZ2F0aW9uQ2FsbGJhY2spO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtW3R5cGVdKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBzdG9wUHJvcGFnYXRpb25DYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5ldmVudC50cmlnZ2VyZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRtcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtW29udHlwZV0gPSB0bXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBldmVudC5yZXN1bHQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gUGlnZ3liYWNrIG9uIGEgZG9ub3IgZXZlbnQgdG8gc2ltdWxhdGUgYSBkaWZmZXJlbnQgb25lXG4gICAgICAgICAgICAvLyBVc2VkIG9ubHkgZm9yIGBmb2N1cyhpbiB8IG91dClgIGV2ZW50c1xuICAgICAgICAgICAgc2ltdWxhdGU6IGZ1bmN0aW9uICh0eXBlLCBlbGVtLCBldmVudCkge1xuICAgICAgICAgICAgICAgIHZhciBlID0galF1ZXJ5LmV4dGVuZChuZXcgalF1ZXJ5LkV2ZW50KCksIGV2ZW50LCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICAgICAgICAgIGlzU2ltdWxhdGVkOiB0cnVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgalF1ZXJ5LmV2ZW50LnRyaWdnZXIoZSwgbnVsbCwgZWxlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBqUXVlcnkuZm4uZXh0ZW5kKHtcbiAgICAgICAgICAgIHRyaWdnZXI6IGZ1bmN0aW9uICh0eXBlLCBkYXRhKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeS5ldmVudC50cmlnZ2VyKHR5cGUsIGRhdGEsIHRoaXMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRyaWdnZXJIYW5kbGVyOiBmdW5jdGlvbiAodHlwZSwgZGF0YSkge1xuICAgICAgICAgICAgICAgIHZhciBlbGVtID0gdGhpc1swXTtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4galF1ZXJ5LmV2ZW50LnRyaWdnZXIodHlwZSwgZGF0YSwgZWxlbSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIHJicmFja2V0ID0gL1xcW1xcXSQvLCByQ1JMRiA9IC9cXHI/XFxuL2csIHJzdWJtaXR0ZXJUeXBlcyA9IC9eKD86c3VibWl0fGJ1dHRvbnxpbWFnZXxyZXNldHxmaWxlKSQvaSwgcnN1Ym1pdHRhYmxlID0gL14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8a2V5Z2VuKS9pO1xuICAgICAgICBmdW5jdGlvbiBidWlsZFBhcmFtcyhwcmVmaXgsIG9iaiwgdHJhZGl0aW9uYWwsIGFkZCkge1xuICAgICAgICAgICAgdmFyIG5hbWU7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgICAgICAgICAgICAgLy8gU2VyaWFsaXplIGFycmF5IGl0ZW0uXG4gICAgICAgICAgICAgICAgalF1ZXJ5LmVhY2gob2JqLCBmdW5jdGlvbiAoaSwgdikge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHJhZGl0aW9uYWwgfHwgcmJyYWNrZXQudGVzdChwcmVmaXgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUcmVhdCBlYWNoIGFycmF5IGl0ZW0gYXMgYSBzY2FsYXIuXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGQocHJlZml4LCB2KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEl0ZW0gaXMgbm9uLXNjYWxhciAoYXJyYXkgb3Igb2JqZWN0KSwgZW5jb2RlIGl0cyBudW1lcmljIGluZGV4LlxuICAgICAgICAgICAgICAgICAgICAgICAgYnVpbGRQYXJhbXMocHJlZml4ICsgXCJbXCIgKyAodHlwZW9mIHYgPT09IFwib2JqZWN0XCIgJiYgdiAhPSBudWxsID8gaSA6IFwiXCIpICsgXCJdXCIsIHYsIHRyYWRpdGlvbmFsLCBhZGQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghdHJhZGl0aW9uYWwgJiYgdG9UeXBlKG9iaikgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICAvLyBTZXJpYWxpemUgb2JqZWN0IGl0ZW0uXG4gICAgICAgICAgICAgICAgZm9yIChuYW1lIGluIG9iaikge1xuICAgICAgICAgICAgICAgICAgICBidWlsZFBhcmFtcyhwcmVmaXggKyBcIltcIiArIG5hbWUgKyBcIl1cIiwgb2JqW25hbWVdLCB0cmFkaXRpb25hbCwgYWRkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBTZXJpYWxpemUgc2NhbGFyIGl0ZW0uXG4gICAgICAgICAgICAgICAgYWRkKHByZWZpeCwgb2JqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBTZXJpYWxpemUgYW4gYXJyYXkgb2YgZm9ybSBlbGVtZW50cyBvciBhIHNldCBvZlxuICAgICAgICAvLyBrZXkvdmFsdWVzIGludG8gYSBxdWVyeSBzdHJpbmdcbiAgICAgICAgalF1ZXJ5LnBhcmFtID0gZnVuY3Rpb24gKGEsIHRyYWRpdGlvbmFsKSB7XG4gICAgICAgICAgICB2YXIgcHJlZml4LCBzID0gW10sIGFkZCA9IGZ1bmN0aW9uIChrZXksIHZhbHVlT3JGdW5jdGlvbikge1xuICAgICAgICAgICAgICAgIC8vIElmIHZhbHVlIGlzIGEgZnVuY3Rpb24sIGludm9rZSBpdCBhbmQgdXNlIGl0cyByZXR1cm4gdmFsdWVcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBpc0Z1bmN0aW9uKHZhbHVlT3JGdW5jdGlvbikgP1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZU9yRnVuY3Rpb24oKSA6XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlT3JGdW5jdGlvbjtcbiAgICAgICAgICAgICAgICBzW3MubGVuZ3RoXSA9IGVuY29kZVVSSUNvbXBvbmVudChrZXkpICsgXCI9XCIgK1xuICAgICAgICAgICAgICAgICAgICBlbmNvZGVVUklDb21wb25lbnQodmFsdWUgPT0gbnVsbCA/IFwiXCIgOiB2YWx1ZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGEgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgYW4gYXJyYXkgd2FzIHBhc3NlZCBpbiwgYXNzdW1lIHRoYXQgaXQgaXMgYW4gYXJyYXkgb2YgZm9ybSBlbGVtZW50cy5cbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGEpIHx8IChhLmpxdWVyeSAmJiAhalF1ZXJ5LmlzUGxhaW5PYmplY3QoYSkpKSB7XG4gICAgICAgICAgICAgICAgLy8gU2VyaWFsaXplIHRoZSBmb3JtIGVsZW1lbnRzXG4gICAgICAgICAgICAgICAgalF1ZXJ5LmVhY2goYSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBhZGQodGhpcy5uYW1lLCB0aGlzLnZhbHVlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIElmIHRyYWRpdGlvbmFsLCBlbmNvZGUgdGhlIFwib2xkXCIgd2F5ICh0aGUgd2F5IDEuMy4yIG9yIG9sZGVyXG4gICAgICAgICAgICAgICAgLy8gZGlkIGl0KSwgb3RoZXJ3aXNlIGVuY29kZSBwYXJhbXMgcmVjdXJzaXZlbHkuXG4gICAgICAgICAgICAgICAgZm9yIChwcmVmaXggaW4gYSkge1xuICAgICAgICAgICAgICAgICAgICBidWlsZFBhcmFtcyhwcmVmaXgsIGFbcHJlZml4XSwgdHJhZGl0aW9uYWwsIGFkZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUmV0dXJuIHRoZSByZXN1bHRpbmcgc2VyaWFsaXphdGlvblxuICAgICAgICAgICAgcmV0dXJuIHMuam9pbihcIiZcIik7XG4gICAgICAgIH07XG4gICAgICAgIGpRdWVyeS5mbi5leHRlbmQoe1xuICAgICAgICAgICAgc2VyaWFsaXplOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGpRdWVyeS5wYXJhbSh0aGlzLnNlcmlhbGl6ZUFycmF5KCkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNlcmlhbGl6ZUFycmF5OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2FuIGFkZCBwcm9wSG9vayBmb3IgXCJlbGVtZW50c1wiIHRvIGZpbHRlciBvciBhZGQgZm9ybSBlbGVtZW50c1xuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbWVudHMgPSBqUXVlcnkucHJvcCh0aGlzLCBcImVsZW1lbnRzXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudHMgPyBqUXVlcnkubWFrZUFycmF5KGVsZW1lbnRzKSA6IHRoaXM7XG4gICAgICAgICAgICAgICAgfSkuZmlsdGVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHR5cGUgPSB0aGlzLnR5cGU7XG4gICAgICAgICAgICAgICAgICAgIC8vIFVzZSAuaXMoIFwiOmRpc2FibGVkXCIgKSBzbyB0aGF0IGZpZWxkc2V0W2Rpc2FibGVkXSB3b3Jrc1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5uYW1lICYmICFqUXVlcnkodGhpcykuaXMoXCI6ZGlzYWJsZWRcIikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHJzdWJtaXR0YWJsZS50ZXN0KHRoaXMubm9kZU5hbWUpICYmICFyc3VibWl0dGVyVHlwZXMudGVzdCh0eXBlKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMuY2hlY2tlZCB8fCAhcmNoZWNrYWJsZVR5cGUudGVzdCh0eXBlKSk7XG4gICAgICAgICAgICAgICAgfSkubWFwKGZ1bmN0aW9uIChfaSwgZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsID0galF1ZXJ5KHRoaXMpLnZhbCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBqUXVlcnkubWFwKHZhbCwgZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IG5hbWU6IGVsZW0ubmFtZSwgdmFsdWU6IHZhbC5yZXBsYWNlKHJDUkxGLCBcIlxcclxcblwiKSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgbmFtZTogZWxlbS5uYW1lLCB2YWx1ZTogdmFsLnJlcGxhY2UockNSTEYsIFwiXFxyXFxuXCIpIH07XG4gICAgICAgICAgICAgICAgfSkuZ2V0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgcjIwID0gLyUyMC9nLCByaGFzaCA9IC8jLiokLywgcmFudGlDYWNoZSA9IC8oWz8mXSlfPVteJl0qLywgcmhlYWRlcnMgPSAvXiguKj8pOlsgXFx0XSooW15cXHJcXG5dKikkL21nLCBcbiAgICAgICAgLy8gdHJhYy03NjUzLCB0cmFjLTgxMjUsIHRyYWMtODE1MjogbG9jYWwgcHJvdG9jb2wgZGV0ZWN0aW9uXG4gICAgICAgIHJsb2NhbFByb3RvY29sID0gL14oPzphYm91dHxhcHB8YXBwLXN0b3JhZ2V8ListZXh0ZW5zaW9ufGZpbGV8cmVzfHdpZGdldCk6JC8sIHJub0NvbnRlbnQgPSAvXig/OkdFVHxIRUFEKSQvLCBycHJvdG9jb2wgPSAvXlxcL1xcLy8sIFxuICAgICAgICAvKiBQcmVmaWx0ZXJzXG4gICAgICAgICogMSkgVGhleSBhcmUgdXNlZnVsIHRvIGludHJvZHVjZSBjdXN0b20gZGF0YVR5cGVzIChzZWUgYWpheC9qc29ucC5qcyBmb3IgYW4gZXhhbXBsZSlcbiAgICAgICAgKiAyKSBUaGVzZSBhcmUgY2FsbGVkOlxuICAgICAgICAqICAgIC0gQkVGT1JFIGFza2luZyBmb3IgYSB0cmFuc3BvcnRcbiAgICAgICAgKiAgICAtIEFGVEVSIHBhcmFtIHNlcmlhbGl6YXRpb24gKHMuZGF0YSBpcyBhIHN0cmluZyBpZiBzLnByb2Nlc3NEYXRhIGlzIHRydWUpXG4gICAgICAgICogMykga2V5IGlzIHRoZSBkYXRhVHlwZVxuICAgICAgICAqIDQpIHRoZSBjYXRjaGFsbCBzeW1ib2wgXCIqXCIgY2FuIGJlIHVzZWRcbiAgICAgICAgKiA1KSBleGVjdXRpb24gd2lsbCBzdGFydCB3aXRoIHRyYW5zcG9ydCBkYXRhVHlwZSBhbmQgVEhFTiBjb250aW51ZSBkb3duIHRvIFwiKlwiIGlmIG5lZWRlZFxuICAgICAgICAqL1xuICAgICAgICBwcmVmaWx0ZXJzID0ge30sIFxuICAgICAgICAvKiBUcmFuc3BvcnRzIGJpbmRpbmdzXG4gICAgICAgICogMSkga2V5IGlzIHRoZSBkYXRhVHlwZVxuICAgICAgICAqIDIpIHRoZSBjYXRjaGFsbCBzeW1ib2wgXCIqXCIgY2FuIGJlIHVzZWRcbiAgICAgICAgKiAzKSBzZWxlY3Rpb24gd2lsbCBzdGFydCB3aXRoIHRyYW5zcG9ydCBkYXRhVHlwZSBhbmQgVEhFTiBnbyB0byBcIipcIiBpZiBuZWVkZWRcbiAgICAgICAgKi9cbiAgICAgICAgdHJhbnNwb3J0cyA9IHt9LCBcbiAgICAgICAgLy8gQXZvaWQgY29tbWVudC1wcm9sb2cgY2hhciBzZXF1ZW5jZSAodHJhYy0xMDA5OCk7IG11c3QgYXBwZWFzZSBsaW50IGFuZCBldmFkZSBjb21wcmVzc2lvblxuICAgICAgICBhbGxUeXBlcyA9IFwiKi9cIi5jb25jYXQoXCIqXCIpLCBcbiAgICAgICAgLy8gQW5jaG9yIHRhZyBmb3IgcGFyc2luZyB0aGUgZG9jdW1lbnQgb3JpZ2luXG4gICAgICAgIG9yaWdpbkFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xuICAgICAgICBvcmlnaW5BbmNob3IuaHJlZiA9IGxvY2F0aW9uLmhyZWY7XG4gICAgICAgIC8vIEJhc2UgXCJjb25zdHJ1Y3RvclwiIGZvciBqUXVlcnkuYWpheFByZWZpbHRlciBhbmQgalF1ZXJ5LmFqYXhUcmFuc3BvcnRcbiAgICAgICAgZnVuY3Rpb24gYWRkVG9QcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKHN0cnVjdHVyZSkge1xuICAgICAgICAgICAgLy8gZGF0YVR5cGVFeHByZXNzaW9uIGlzIG9wdGlvbmFsIGFuZCBkZWZhdWx0cyB0byBcIipcIlxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChkYXRhVHlwZUV4cHJlc3Npb24sIGZ1bmMpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRhdGFUeXBlRXhwcmVzc2lvbiAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICBmdW5jID0gZGF0YVR5cGVFeHByZXNzaW9uO1xuICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZUV4cHJlc3Npb24gPSBcIipcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGRhdGFUeXBlLCBpID0gMCwgZGF0YVR5cGVzID0gZGF0YVR5cGVFeHByZXNzaW9uLnRvTG93ZXJDYXNlKCkubWF0Y2gocm5vdGh0bWx3aGl0ZSkgfHwgW107XG4gICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oZnVuYykpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRm9yIGVhY2ggZGF0YVR5cGUgaW4gdGhlIGRhdGFUeXBlRXhwcmVzc2lvblxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKGRhdGFUeXBlID0gZGF0YVR5cGVzW2krK10pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBQcmVwZW5kIGlmIHJlcXVlc3RlZFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFUeXBlWzBdID09PSBcIitcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlID0gZGF0YVR5cGUuc2xpY2UoMSkgfHwgXCIqXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHN0cnVjdHVyZVtkYXRhVHlwZV0gPSBzdHJ1Y3R1cmVbZGF0YVR5cGVdIHx8IFtdKS51bnNoaWZ0KGZ1bmMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSBhcHBlbmRcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzdHJ1Y3R1cmVbZGF0YVR5cGVdID0gc3RydWN0dXJlW2RhdGFUeXBlXSB8fCBbXSkucHVzaChmdW5jKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgLy8gQmFzZSBpbnNwZWN0aW9uIGZ1bmN0aW9uIGZvciBwcmVmaWx0ZXJzIGFuZCB0cmFuc3BvcnRzXG4gICAgICAgIGZ1bmN0aW9uIGluc3BlY3RQcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKHN0cnVjdHVyZSwgb3B0aW9ucywgb3JpZ2luYWxPcHRpb25zLCBqcVhIUikge1xuICAgICAgICAgICAgdmFyIGluc3BlY3RlZCA9IHt9LCBzZWVraW5nVHJhbnNwb3J0ID0gKHN0cnVjdHVyZSA9PT0gdHJhbnNwb3J0cyk7XG4gICAgICAgICAgICBmdW5jdGlvbiBpbnNwZWN0KGRhdGFUeXBlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkO1xuICAgICAgICAgICAgICAgIGluc3BlY3RlZFtkYXRhVHlwZV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIGpRdWVyeS5lYWNoKHN0cnVjdHVyZVtkYXRhVHlwZV0gfHwgW10sIGZ1bmN0aW9uIChfLCBwcmVmaWx0ZXJPckZhY3RvcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGFUeXBlT3JUcmFuc3BvcnQgPSBwcmVmaWx0ZXJPckZhY3Rvcnkob3B0aW9ucywgb3JpZ2luYWxPcHRpb25zLCBqcVhIUik7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YVR5cGVPclRyYW5zcG9ydCA9PT0gXCJzdHJpbmdcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgIXNlZWtpbmdUcmFuc3BvcnQgJiYgIWluc3BlY3RlZFtkYXRhVHlwZU9yVHJhbnNwb3J0XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhVHlwZXMudW5zaGlmdChkYXRhVHlwZU9yVHJhbnNwb3J0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3BlY3QoZGF0YVR5cGVPclRyYW5zcG9ydCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2Vla2luZ1RyYW5zcG9ydCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEoc2VsZWN0ZWQgPSBkYXRhVHlwZU9yVHJhbnNwb3J0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBzZWxlY3RlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpbnNwZWN0KG9wdGlvbnMuZGF0YVR5cGVzWzBdKSB8fCAhaW5zcGVjdGVkW1wiKlwiXSAmJiBpbnNwZWN0KFwiKlwiKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBIHNwZWNpYWwgZXh0ZW5kIGZvciBhamF4IG9wdGlvbnNcbiAgICAgICAgLy8gdGhhdCB0YWtlcyBcImZsYXRcIiBvcHRpb25zIChub3QgdG8gYmUgZGVlcCBleHRlbmRlZClcbiAgICAgICAgLy8gRml4ZXMgdHJhYy05ODg3XG4gICAgICAgIGZ1bmN0aW9uIGFqYXhFeHRlbmQodGFyZ2V0LCBzcmMpIHtcbiAgICAgICAgICAgIHZhciBrZXksIGRlZXAsIGZsYXRPcHRpb25zID0galF1ZXJ5LmFqYXhTZXR0aW5ncy5mbGF0T3B0aW9ucyB8fCB7fTtcbiAgICAgICAgICAgIGZvciAoa2V5IGluIHNyYykge1xuICAgICAgICAgICAgICAgIGlmIChzcmNba2V5XSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIChmbGF0T3B0aW9uc1trZXldID8gdGFyZ2V0IDogKGRlZXAgfHwgKGRlZXAgPSB7fSkpKVtrZXldID0gc3JjW2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRlZXApIHtcbiAgICAgICAgICAgICAgICBqUXVlcnkuZXh0ZW5kKHRydWUsIHRhcmdldCwgZGVlcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgICB9XG4gICAgICAgIC8qIEhhbmRsZXMgcmVzcG9uc2VzIHRvIGFuIGFqYXggcmVxdWVzdDpcbiAgICAgICAgKiAtIGZpbmRzIHRoZSByaWdodCBkYXRhVHlwZSAobWVkaWF0ZXMgYmV0d2VlbiBjb250ZW50LXR5cGUgYW5kIGV4cGVjdGVkIGRhdGFUeXBlKVxuICAgICAgICAqIC0gcmV0dXJucyB0aGUgY29ycmVzcG9uZGluZyByZXNwb25zZVxuICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBhamF4SGFuZGxlUmVzcG9uc2VzKHMsIGpxWEhSLCByZXNwb25zZXMpIHtcbiAgICAgICAgICAgIHZhciBjdCwgdHlwZSwgZmluYWxEYXRhVHlwZSwgZmlyc3REYXRhVHlwZSwgY29udGVudHMgPSBzLmNvbnRlbnRzLCBkYXRhVHlwZXMgPSBzLmRhdGFUeXBlcztcbiAgICAgICAgICAgIC8vIFJlbW92ZSBhdXRvIGRhdGFUeXBlIGFuZCBnZXQgY29udGVudC10eXBlIGluIHRoZSBwcm9jZXNzXG4gICAgICAgICAgICB3aGlsZSAoZGF0YVR5cGVzWzBdID09PSBcIipcIikge1xuICAgICAgICAgICAgICAgIGRhdGFUeXBlcy5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIGlmIChjdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0ID0gcy5taW1lVHlwZSB8fCBqcVhIUi5nZXRSZXNwb25zZUhlYWRlcihcIkNvbnRlbnQtVHlwZVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBDaGVjayBpZiB3ZSdyZSBkZWFsaW5nIHdpdGggYSBrbm93biBjb250ZW50LXR5cGVcbiAgICAgICAgICAgIGlmIChjdCkge1xuICAgICAgICAgICAgICAgIGZvciAodHlwZSBpbiBjb250ZW50cykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudHNbdHlwZV0gJiYgY29udGVudHNbdHlwZV0udGVzdChjdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlcy51bnNoaWZ0KHR5cGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBDaGVjayB0byBzZWUgaWYgd2UgaGF2ZSBhIHJlc3BvbnNlIGZvciB0aGUgZXhwZWN0ZWQgZGF0YVR5cGVcbiAgICAgICAgICAgIGlmIChkYXRhVHlwZXNbMF0gaW4gcmVzcG9uc2VzKSB7XG4gICAgICAgICAgICAgICAgZmluYWxEYXRhVHlwZSA9IGRhdGFUeXBlc1swXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFRyeSBjb252ZXJ0aWJsZSBkYXRhVHlwZXNcbiAgICAgICAgICAgICAgICBmb3IgKHR5cGUgaW4gcmVzcG9uc2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZGF0YVR5cGVzWzBdIHx8IHMuY29udmVydGVyc1t0eXBlICsgXCIgXCIgKyBkYXRhVHlwZXNbMF1dKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaW5hbERhdGFUeXBlID0gdHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghZmlyc3REYXRhVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3REYXRhVHlwZSA9IHR5cGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gT3IganVzdCB1c2UgZmlyc3Qgb25lXG4gICAgICAgICAgICAgICAgZmluYWxEYXRhVHlwZSA9IGZpbmFsRGF0YVR5cGUgfHwgZmlyc3REYXRhVHlwZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIHdlIGZvdW5kIGEgZGF0YVR5cGVcbiAgICAgICAgICAgIC8vIFdlIGFkZCB0aGUgZGF0YVR5cGUgdG8gdGhlIGxpc3QgaWYgbmVlZGVkXG4gICAgICAgICAgICAvLyBhbmQgcmV0dXJuIHRoZSBjb3JyZXNwb25kaW5nIHJlc3BvbnNlXG4gICAgICAgICAgICBpZiAoZmluYWxEYXRhVHlwZSkge1xuICAgICAgICAgICAgICAgIGlmIChmaW5hbERhdGFUeXBlICE9PSBkYXRhVHlwZXNbMF0pIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGVzLnVuc2hpZnQoZmluYWxEYXRhVHlwZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZXNbZmluYWxEYXRhVHlwZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyogQ2hhaW4gY29udmVyc2lvbnMgZ2l2ZW4gdGhlIHJlcXVlc3QgYW5kIHRoZSBvcmlnaW5hbCByZXNwb25zZVxuICAgICAgICAqIEFsc28gc2V0cyB0aGUgcmVzcG9uc2VYWFggZmllbGRzIG9uIHRoZSBqcVhIUiBpbnN0YW5jZVxuICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBhamF4Q29udmVydChzLCByZXNwb25zZSwganFYSFIsIGlzU3VjY2Vzcykge1xuICAgICAgICAgICAgdmFyIGNvbnYyLCBjdXJyZW50LCBjb252LCB0bXAsIHByZXYsIGNvbnZlcnRlcnMgPSB7fSwgXG4gICAgICAgICAgICAvLyBXb3JrIHdpdGggYSBjb3B5IG9mIGRhdGFUeXBlcyBpbiBjYXNlIHdlIG5lZWQgdG8gbW9kaWZ5IGl0IGZvciBjb252ZXJzaW9uXG4gICAgICAgICAgICBkYXRhVHlwZXMgPSBzLmRhdGFUeXBlcy5zbGljZSgpO1xuICAgICAgICAgICAgLy8gQ3JlYXRlIGNvbnZlcnRlcnMgbWFwIHdpdGggbG93ZXJjYXNlZCBrZXlzXG4gICAgICAgICAgICBpZiAoZGF0YVR5cGVzWzFdKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb252IGluIHMuY29udmVydGVycykge1xuICAgICAgICAgICAgICAgICAgICBjb252ZXJ0ZXJzW2NvbnYudG9Mb3dlckNhc2UoKV0gPSBzLmNvbnZlcnRlcnNbY29udl07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudCA9IGRhdGFUeXBlcy5zaGlmdCgpO1xuICAgICAgICAgICAgLy8gQ29udmVydCB0byBlYWNoIHNlcXVlbnRpYWwgZGF0YVR5cGVcbiAgICAgICAgICAgIHdoaWxlIChjdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKHMucmVzcG9uc2VGaWVsZHNbY3VycmVudF0pIHtcbiAgICAgICAgICAgICAgICAgICAganFYSFJbcy5yZXNwb25zZUZpZWxkc1tjdXJyZW50XV0gPSByZXNwb25zZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQXBwbHkgdGhlIGRhdGFGaWx0ZXIgaWYgcHJvdmlkZWRcbiAgICAgICAgICAgICAgICBpZiAoIXByZXYgJiYgaXNTdWNjZXNzICYmIHMuZGF0YUZpbHRlcikge1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IHMuZGF0YUZpbHRlcihyZXNwb25zZSwgcy5kYXRhVHlwZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHByZXYgPSBjdXJyZW50O1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBkYXRhVHlwZXMuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGVyZSdzIG9ubHkgd29yayB0byBkbyBpZiBjdXJyZW50IGRhdGFUeXBlIGlzIG5vbi1hdXRvXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50ID09PSBcIipcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IHJlc3BvbnNlIGlmIHByZXYgZGF0YVR5cGUgaXMgbm9uLWF1dG8gYW5kIGRpZmZlcnMgZnJvbSBjdXJyZW50XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocHJldiAhPT0gXCIqXCIgJiYgcHJldiAhPT0gY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2VlayBhIGRpcmVjdCBjb252ZXJ0ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnYgPSBjb252ZXJ0ZXJzW3ByZXYgKyBcIiBcIiArIGN1cnJlbnRdIHx8IGNvbnZlcnRlcnNbXCIqIFwiICsgY3VycmVudF07XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBub25lIGZvdW5kLCBzZWVrIGEgcGFpclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjb252KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb252MiBpbiBjb252ZXJ0ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIGNvbnYyIG91dHB1dHMgY3VycmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXAgPSBjb252Mi5zcGxpdChcIiBcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0bXBbMV0gPT09IGN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHByZXYgY2FuIGJlIGNvbnZlcnRlZCB0byBhY2NlcHRlZCBpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udiA9IGNvbnZlcnRlcnNbcHJldiArIFwiIFwiICsgdG1wWzBdXSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnZlcnRlcnNbXCIqIFwiICsgdG1wWzBdXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb252KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29uZGVuc2UgZXF1aXZhbGVuY2UgY29udmVydGVyc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb252ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnYgPSBjb252ZXJ0ZXJzW2NvbnYyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCBpbnNlcnQgdGhlIGludGVybWVkaWF0ZSBkYXRhVHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChjb252ZXJ0ZXJzW2NvbnYyXSAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gdG1wWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZXMudW5zaGlmdCh0bXBbMV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFwcGx5IGNvbnZlcnRlciAoaWYgbm90IGFuIGVxdWl2YWxlbmNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnYgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVbmxlc3MgZXJyb3JzIGFyZSBhbGxvd2VkIHRvIGJ1YmJsZSwgY2F0Y2ggYW5kIHJldHVybiB0aGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnYgJiYgcy50aHJvd3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBjb252KHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IGNvbnYocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlOiBcInBhcnNlcmVycm9yXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGNvbnYgPyBlIDogXCJObyBjb252ZXJzaW9uIGZyb20gXCIgKyBwcmV2ICsgXCIgdG8gXCIgKyBjdXJyZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgc3RhdGU6IFwic3VjY2Vzc1wiLCBkYXRhOiByZXNwb25zZSB9O1xuICAgICAgICB9XG4gICAgICAgIGpRdWVyeS5leHRlbmQoe1xuICAgICAgICAgICAgLy8gQ291bnRlciBmb3IgaG9sZGluZyB0aGUgbnVtYmVyIG9mIGFjdGl2ZSBxdWVyaWVzXG4gICAgICAgICAgICBhY3RpdmU6IDAsXG4gICAgICAgICAgICAvLyBMYXN0LU1vZGlmaWVkIGhlYWRlciBjYWNoZSBmb3IgbmV4dCByZXF1ZXN0XG4gICAgICAgICAgICBsYXN0TW9kaWZpZWQ6IHt9LFxuICAgICAgICAgICAgZXRhZzoge30sXG4gICAgICAgICAgICBhamF4U2V0dGluZ3M6IHtcbiAgICAgICAgICAgICAgICB1cmw6IGxvY2F0aW9uLmhyZWYsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJHRVRcIixcbiAgICAgICAgICAgICAgICBpc0xvY2FsOiBybG9jYWxQcm90b2NvbC50ZXN0KGxvY2F0aW9uLnByb3RvY29sKSxcbiAgICAgICAgICAgICAgICBnbG9iYWw6IHRydWUsXG4gICAgICAgICAgICAgICAgcHJvY2Vzc0RhdGE6IHRydWUsXG4gICAgICAgICAgICAgICAgYXN5bmM6IHRydWUsXG4gICAgICAgICAgICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04XCIsXG4gICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICB0aW1lb3V0OiAwLFxuICAgICAgICAgICAgICAgIGRhdGE6IG51bGwsXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6IG51bGwsXG4gICAgICAgICAgICAgICAgdXNlcm5hbWU6IG51bGwsXG4gICAgICAgICAgICAgICAgcGFzc3dvcmQ6IG51bGwsXG4gICAgICAgICAgICAgICAgY2FjaGU6IG51bGwsXG4gICAgICAgICAgICAgICAgdGhyb3dzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0cmFkaXRpb25hbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge30sXG4gICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBhY2NlcHRzOiB7XG4gICAgICAgICAgICAgICAgICAgIFwiKlwiOiBhbGxUeXBlcyxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogXCJ0ZXh0L3BsYWluXCIsXG4gICAgICAgICAgICAgICAgICAgIGh0bWw6IFwidGV4dC9odG1sXCIsXG4gICAgICAgICAgICAgICAgICAgIHhtbDogXCJhcHBsaWNhdGlvbi94bWwsIHRleHQveG1sXCIsXG4gICAgICAgICAgICAgICAgICAgIGpzb246IFwiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNvbnRlbnRzOiB7XG4gICAgICAgICAgICAgICAgICAgIHhtbDogL1xcYnhtbFxcYi8sXG4gICAgICAgICAgICAgICAgICAgIGh0bWw6IC9cXGJodG1sLyxcbiAgICAgICAgICAgICAgICAgICAganNvbjogL1xcYmpzb25cXGIvXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZXNwb25zZUZpZWxkczoge1xuICAgICAgICAgICAgICAgICAgICB4bWw6IFwicmVzcG9uc2VYTUxcIixcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogXCJyZXNwb25zZVRleHRcIixcbiAgICAgICAgICAgICAgICAgICAganNvbjogXCJyZXNwb25zZUpTT05cIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLy8gRGF0YSBjb252ZXJ0ZXJzXG4gICAgICAgICAgICAgICAgLy8gS2V5cyBzZXBhcmF0ZSBzb3VyY2UgKG9yIGNhdGNoYWxsIFwiKlwiKSBhbmQgZGVzdGluYXRpb24gdHlwZXMgd2l0aCBhIHNpbmdsZSBzcGFjZVxuICAgICAgICAgICAgICAgIGNvbnZlcnRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ29udmVydCBhbnl0aGluZyB0byB0ZXh0XG4gICAgICAgICAgICAgICAgICAgIFwiKiB0ZXh0XCI6IFN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgLy8gVGV4dCB0byBodG1sICh0cnVlID0gbm8gdHJhbnNmb3JtYXRpb24pXG4gICAgICAgICAgICAgICAgICAgIFwidGV4dCBodG1sXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIC8vIEV2YWx1YXRlIHRleHQgYXMgYSBqc29uIGV4cHJlc3Npb25cbiAgICAgICAgICAgICAgICAgICAgXCJ0ZXh0IGpzb25cIjogSlNPTi5wYXJzZSxcbiAgICAgICAgICAgICAgICAgICAgLy8gUGFyc2UgdGV4dCBhcyB4bWxcbiAgICAgICAgICAgICAgICAgICAgXCJ0ZXh0IHhtbFwiOiBqUXVlcnkucGFyc2VYTUxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC8vIEZvciBvcHRpb25zIHRoYXQgc2hvdWxkbid0IGJlIGRlZXAgZXh0ZW5kZWQ6XG4gICAgICAgICAgICAgICAgLy8geW91IGNhbiBhZGQgeW91ciBvd24gY3VzdG9tIG9wdGlvbnMgaGVyZSBpZlxuICAgICAgICAgICAgICAgIC8vIGFuZCB3aGVuIHlvdSBjcmVhdGUgb25lIHRoYXQgc2hvdWxkbid0IGJlXG4gICAgICAgICAgICAgICAgLy8gZGVlcCBleHRlbmRlZCAoc2VlIGFqYXhFeHRlbmQpXG4gICAgICAgICAgICAgICAgZmxhdE9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0OiB0cnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIENyZWF0ZXMgYSBmdWxsIGZsZWRnZWQgc2V0dGluZ3Mgb2JqZWN0IGludG8gdGFyZ2V0XG4gICAgICAgICAgICAvLyB3aXRoIGJvdGggYWpheFNldHRpbmdzIGFuZCBzZXR0aW5ncyBmaWVsZHMuXG4gICAgICAgICAgICAvLyBJZiB0YXJnZXQgaXMgb21pdHRlZCwgd3JpdGVzIGludG8gYWpheFNldHRpbmdzLlxuICAgICAgICAgICAgYWpheFNldHVwOiBmdW5jdGlvbiAodGFyZ2V0LCBzZXR0aW5ncykge1xuICAgICAgICAgICAgICAgIHJldHVybiBzZXR0aW5ncyA/XG4gICAgICAgICAgICAgICAgICAgIC8vIEJ1aWxkaW5nIGEgc2V0dGluZ3Mgb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgIGFqYXhFeHRlbmQoYWpheEV4dGVuZCh0YXJnZXQsIGpRdWVyeS5hamF4U2V0dGluZ3MpLCBzZXR0aW5ncykgOlxuICAgICAgICAgICAgICAgICAgICAvLyBFeHRlbmRpbmcgYWpheFNldHRpbmdzXG4gICAgICAgICAgICAgICAgICAgIGFqYXhFeHRlbmQoalF1ZXJ5LmFqYXhTZXR0aW5ncywgdGFyZ2V0KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhamF4UHJlZmlsdGVyOiBhZGRUb1ByZWZpbHRlcnNPclRyYW5zcG9ydHMocHJlZmlsdGVycyksXG4gICAgICAgICAgICBhamF4VHJhbnNwb3J0OiBhZGRUb1ByZWZpbHRlcnNPclRyYW5zcG9ydHModHJhbnNwb3J0cyksXG4gICAgICAgICAgICAvLyBNYWluIG1ldGhvZFxuICAgICAgICAgICAgYWpheDogZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xuICAgICAgICAgICAgICAgIC8vIElmIHVybCBpcyBhbiBvYmplY3QsIHNpbXVsYXRlIHByZS0xLjUgc2lnbmF0dXJlXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB1cmwgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IHVybDtcbiAgICAgICAgICAgICAgICAgICAgdXJsID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBGb3JjZSBvcHRpb25zIHRvIGJlIGFuIG9iamVjdFxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICAgICAgICAgIHZhciB0cmFuc3BvcnQsIFxuICAgICAgICAgICAgICAgIC8vIFVSTCB3aXRob3V0IGFudGktY2FjaGUgcGFyYW1cbiAgICAgICAgICAgICAgICBjYWNoZVVSTCwgXG4gICAgICAgICAgICAgICAgLy8gUmVzcG9uc2UgaGVhZGVyc1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlSGVhZGVyc1N0cmluZywgcmVzcG9uc2VIZWFkZXJzLCBcbiAgICAgICAgICAgICAgICAvLyB0aW1lb3V0IGhhbmRsZVxuICAgICAgICAgICAgICAgIHRpbWVvdXRUaW1lciwgXG4gICAgICAgICAgICAgICAgLy8gVXJsIGNsZWFudXAgdmFyXG4gICAgICAgICAgICAgICAgdXJsQW5jaG9yLCBcbiAgICAgICAgICAgICAgICAvLyBSZXF1ZXN0IHN0YXRlIChiZWNvbWVzIGZhbHNlIHVwb24gc2VuZCBhbmQgdHJ1ZSB1cG9uIGNvbXBsZXRpb24pXG4gICAgICAgICAgICAgICAgY29tcGxldGVkLCBcbiAgICAgICAgICAgICAgICAvLyBUbyBrbm93IGlmIGdsb2JhbCBldmVudHMgYXJlIHRvIGJlIGRpc3BhdGNoZWRcbiAgICAgICAgICAgICAgICBmaXJlR2xvYmFscywgXG4gICAgICAgICAgICAgICAgLy8gTG9vcCB2YXJpYWJsZVxuICAgICAgICAgICAgICAgIGksIFxuICAgICAgICAgICAgICAgIC8vIHVuY2FjaGVkIHBhcnQgb2YgdGhlIHVybFxuICAgICAgICAgICAgICAgIHVuY2FjaGVkLCBcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgdGhlIGZpbmFsIG9wdGlvbnMgb2JqZWN0XG4gICAgICAgICAgICAgICAgcyA9IGpRdWVyeS5hamF4U2V0dXAoe30sIG9wdGlvbnMpLCBcbiAgICAgICAgICAgICAgICAvLyBDYWxsYmFja3MgY29udGV4dFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrQ29udGV4dCA9IHMuY29udGV4dCB8fCBzLCBcbiAgICAgICAgICAgICAgICAvLyBDb250ZXh0IGZvciBnbG9iYWwgZXZlbnRzIGlzIGNhbGxiYWNrQ29udGV4dCBpZiBpdCBpcyBhIERPTSBub2RlIG9yIGpRdWVyeSBjb2xsZWN0aW9uXG4gICAgICAgICAgICAgICAgZ2xvYmFsRXZlbnRDb250ZXh0ID0gcy5jb250ZXh0ICYmXG4gICAgICAgICAgICAgICAgICAgIChjYWxsYmFja0NvbnRleHQubm9kZVR5cGUgfHwgY2FsbGJhY2tDb250ZXh0LmpxdWVyeSkgP1xuICAgICAgICAgICAgICAgICAgICBqUXVlcnkoY2FsbGJhY2tDb250ZXh0KSA6XG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeS5ldmVudCwgXG4gICAgICAgICAgICAgICAgLy8gRGVmZXJyZWRzXG4gICAgICAgICAgICAgICAgZGVmZXJyZWQgPSBqUXVlcnkuRGVmZXJyZWQoKSwgY29tcGxldGVEZWZlcnJlZCA9IGpRdWVyeS5DYWxsYmFja3MoXCJvbmNlIG1lbW9yeVwiKSwgXG4gICAgICAgICAgICAgICAgLy8gU3RhdHVzLWRlcGVuZGVudCBjYWxsYmFja3NcbiAgICAgICAgICAgICAgICBzdGF0dXNDb2RlID0gcy5zdGF0dXNDb2RlIHx8IHt9LCBcbiAgICAgICAgICAgICAgICAvLyBIZWFkZXJzICh0aGV5IGFyZSBzZW50IGFsbCBhdCBvbmNlKVxuICAgICAgICAgICAgICAgIHJlcXVlc3RIZWFkZXJzID0ge30sIHJlcXVlc3RIZWFkZXJzTmFtZXMgPSB7fSwgXG4gICAgICAgICAgICAgICAgLy8gRGVmYXVsdCBhYm9ydCBtZXNzYWdlXG4gICAgICAgICAgICAgICAgc3RyQWJvcnQgPSBcImNhbmNlbGVkXCIsIFxuICAgICAgICAgICAgICAgIC8vIEZha2UgeGhyXG4gICAgICAgICAgICAgICAganFYSFIgPSB7XG4gICAgICAgICAgICAgICAgICAgIHJlYWR5U3RhdGU6IDAsXG4gICAgICAgICAgICAgICAgICAgIC8vIEJ1aWxkcyBoZWFkZXJzIGhhc2h0YWJsZSBpZiBuZWVkZWRcbiAgICAgICAgICAgICAgICAgICAgZ2V0UmVzcG9uc2VIZWFkZXI6IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtYXRjaDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb21wbGV0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlSGVhZGVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZUhlYWRlcnMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKChtYXRjaCA9IHJoZWFkZXJzLmV4ZWMocmVzcG9uc2VIZWFkZXJzU3RyaW5nKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlSGVhZGVyc1ttYXRjaFsxXS50b0xvd2VyQ2FzZSgpICsgXCIgXCJdID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocmVzcG9uc2VIZWFkZXJzW21hdGNoWzFdLnRvTG93ZXJDYXNlKCkgKyBcIiBcIl0gfHwgW10pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jb25jYXQobWF0Y2hbMl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoID0gcmVzcG9uc2VIZWFkZXJzW2tleS50b0xvd2VyQ2FzZSgpICsgXCIgXCJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoID09IG51bGwgPyBudWxsIDogbWF0Y2guam9pbihcIiwgXCIpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAvLyBSYXcgc3RyaW5nXG4gICAgICAgICAgICAgICAgICAgIGdldEFsbFJlc3BvbnNlSGVhZGVyczogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBsZXRlZCA/IHJlc3BvbnNlSGVhZGVyc1N0cmluZyA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIC8vIENhY2hlcyB0aGUgaGVhZGVyXG4gICAgICAgICAgICAgICAgICAgIHNldFJlcXVlc3RIZWFkZXI6IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBsZXRlZCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSA9IHJlcXVlc3RIZWFkZXJzTmFtZXNbbmFtZS50b0xvd2VyQ2FzZSgpXSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RIZWFkZXJzTmFtZXNbbmFtZS50b0xvd2VyQ2FzZSgpXSB8fCBuYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RIZWFkZXJzW25hbWVdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgLy8gT3ZlcnJpZGVzIHJlc3BvbnNlIGNvbnRlbnQtdHlwZSBoZWFkZXJcbiAgICAgICAgICAgICAgICAgICAgb3ZlcnJpZGVNaW1lVHlwZTogZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb21wbGV0ZWQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMubWltZVR5cGUgPSB0eXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIC8vIFN0YXR1cy1kZXBlbmRlbnQgY2FsbGJhY2tzXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1c0NvZGU6IGZ1bmN0aW9uIChtYXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb21wbGV0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXhlY3V0ZSB0aGUgYXBwcm9wcmlhdGUgY2FsbGJhY2tzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpxWEhSLmFsd2F5cyhtYXBbanFYSFIuc3RhdHVzXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBMYXp5LWFkZCB0aGUgbmV3IGNhbGxiYWNrcyBpbiBhIHdheSB0aGF0IHByZXNlcnZlcyBvbGQgb25lc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvZGUgaW4gbWFwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNDb2RlW2NvZGVdID0gW3N0YXR1c0NvZGVbY29kZV0sIG1hcFtjb2RlXV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2FuY2VsIHRoZSByZXF1ZXN0XG4gICAgICAgICAgICAgICAgICAgIGFib3J0OiBmdW5jdGlvbiAoc3RhdHVzVGV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbmFsVGV4dCA9IHN0YXR1c1RleHQgfHwgc3RyQWJvcnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJhbnNwb3J0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNwb3J0LmFib3J0KGZpbmFsVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBkb25lKDAsIGZpbmFsVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgLy8gQXR0YWNoIGRlZmVycmVkc1xuICAgICAgICAgICAgICAgIGRlZmVycmVkLnByb21pc2UoanFYSFIpO1xuICAgICAgICAgICAgICAgIC8vIEFkZCBwcm90b2NvbCBpZiBub3QgcHJvdmlkZWQgKHByZWZpbHRlcnMgbWlnaHQgZXhwZWN0IGl0KVxuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBmYWxzeSB1cmwgaW4gdGhlIHNldHRpbmdzIG9iamVjdCAodHJhYy0xMDA5MzogY29uc2lzdGVuY3kgd2l0aCBvbGQgc2lnbmF0dXJlKVxuICAgICAgICAgICAgICAgIC8vIFdlIGFsc28gdXNlIHRoZSB1cmwgcGFyYW1ldGVyIGlmIGF2YWlsYWJsZVxuICAgICAgICAgICAgICAgIHMudXJsID0gKCh1cmwgfHwgcy51cmwgfHwgbG9jYXRpb24uaHJlZikgKyBcIlwiKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZShycHJvdG9jb2wsIGxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiKTtcbiAgICAgICAgICAgICAgICAvLyBBbGlhcyBtZXRob2Qgb3B0aW9uIHRvIHR5cGUgYXMgcGVyIHRpY2tldCB0cmFjLTEyMDA0XG4gICAgICAgICAgICAgICAgcy50eXBlID0gb3B0aW9ucy5tZXRob2QgfHwgb3B0aW9ucy50eXBlIHx8IHMubWV0aG9kIHx8IHMudHlwZTtcbiAgICAgICAgICAgICAgICAvLyBFeHRyYWN0IGRhdGFUeXBlcyBsaXN0XG4gICAgICAgICAgICAgICAgcy5kYXRhVHlwZXMgPSAocy5kYXRhVHlwZSB8fCBcIipcIikudG9Mb3dlckNhc2UoKS5tYXRjaChybm90aHRtbHdoaXRlKSB8fCBbXCJcIl07XG4gICAgICAgICAgICAgICAgLy8gQSBjcm9zcy1kb21haW4gcmVxdWVzdCBpcyBpbiBvcmRlciB3aGVuIHRoZSBvcmlnaW4gZG9lc24ndCBtYXRjaCB0aGUgY3VycmVudCBvcmlnaW4uXG4gICAgICAgICAgICAgICAgaWYgKHMuY3Jvc3NEb21haW4gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB1cmxBbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgPD04IC0gMTEsIEVkZ2UgMTIgLSAxNVxuICAgICAgICAgICAgICAgICAgICAvLyBJRSB0aHJvd3MgZXhjZXB0aW9uIG9uIGFjY2Vzc2luZyB0aGUgaHJlZiBwcm9wZXJ0eSBpZiB1cmwgaXMgbWFsZm9ybWVkLFxuICAgICAgICAgICAgICAgICAgICAvLyBlLmcuIGh0dHA6Ly9leGFtcGxlLmNvbTo4MHgvXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cmxBbmNob3IuaHJlZiA9IHMudXJsO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgPD04IC0gMTEgb25seVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQW5jaG9yJ3MgaG9zdCBwcm9wZXJ0eSBpc24ndCBjb3JyZWN0bHkgc2V0IHdoZW4gcy51cmwgaXMgcmVsYXRpdmVcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybEFuY2hvci5ocmVmID0gdXJsQW5jaG9yLmhyZWY7XG4gICAgICAgICAgICAgICAgICAgICAgICBzLmNyb3NzRG9tYWluID0gb3JpZ2luQW5jaG9yLnByb3RvY29sICsgXCIvL1wiICsgb3JpZ2luQW5jaG9yLmhvc3QgIT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsQW5jaG9yLnByb3RvY29sICsgXCIvL1wiICsgdXJsQW5jaG9yLmhvc3Q7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZXJlIGlzIGFuIGVycm9yIHBhcnNpbmcgdGhlIFVSTCwgYXNzdW1lIGl0IGlzIGNyb3NzRG9tYWluLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXQgY2FuIGJlIHJlamVjdGVkIGJ5IHRoZSB0cmFuc3BvcnQgaWYgaXQgaXMgaW52YWxpZFxuICAgICAgICAgICAgICAgICAgICAgICAgcy5jcm9zc0RvbWFpbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQ29udmVydCBkYXRhIGlmIG5vdCBhbHJlYWR5IGEgc3RyaW5nXG4gICAgICAgICAgICAgICAgaWYgKHMuZGF0YSAmJiBzLnByb2Nlc3NEYXRhICYmIHR5cGVvZiBzLmRhdGEgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcy5kYXRhID0galF1ZXJ5LnBhcmFtKHMuZGF0YSwgcy50cmFkaXRpb25hbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEFwcGx5IHByZWZpbHRlcnNcbiAgICAgICAgICAgICAgICBpbnNwZWN0UHJlZmlsdGVyc09yVHJhbnNwb3J0cyhwcmVmaWx0ZXJzLCBzLCBvcHRpb25zLCBqcVhIUik7XG4gICAgICAgICAgICAgICAgLy8gSWYgcmVxdWVzdCB3YXMgYWJvcnRlZCBpbnNpZGUgYSBwcmVmaWx0ZXIsIHN0b3AgdGhlcmVcbiAgICAgICAgICAgICAgICBpZiAoY29tcGxldGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBqcVhIUjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gV2UgY2FuIGZpcmUgZ2xvYmFsIGV2ZW50cyBhcyBvZiBub3cgaWYgYXNrZWQgdG9cbiAgICAgICAgICAgICAgICAvLyBEb24ndCBmaXJlIGV2ZW50cyBpZiBqUXVlcnkuZXZlbnQgaXMgdW5kZWZpbmVkIGluIGFuIEFNRC11c2FnZSBzY2VuYXJpbyAodHJhYy0xNTExOClcbiAgICAgICAgICAgICAgICBmaXJlR2xvYmFscyA9IGpRdWVyeS5ldmVudCAmJiBzLmdsb2JhbDtcbiAgICAgICAgICAgICAgICAvLyBXYXRjaCBmb3IgYSBuZXcgc2V0IG9mIHJlcXVlc3RzXG4gICAgICAgICAgICAgICAgaWYgKGZpcmVHbG9iYWxzICYmIGpRdWVyeS5hY3RpdmUrKyA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBqUXVlcnkuZXZlbnQudHJpZ2dlcihcImFqYXhTdGFydFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gVXBwZXJjYXNlIHRoZSB0eXBlXG4gICAgICAgICAgICAgICAgcy50eXBlID0gcy50eXBlLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgLy8gRGV0ZXJtaW5lIGlmIHJlcXVlc3QgaGFzIGNvbnRlbnRcbiAgICAgICAgICAgICAgICBzLmhhc0NvbnRlbnQgPSAhcm5vQ29udGVudC50ZXN0KHMudHlwZSk7XG4gICAgICAgICAgICAgICAgLy8gU2F2ZSB0aGUgVVJMIGluIGNhc2Ugd2UncmUgdG95aW5nIHdpdGggdGhlIElmLU1vZGlmaWVkLVNpbmNlXG4gICAgICAgICAgICAgICAgLy8gYW5kL29yIElmLU5vbmUtTWF0Y2ggaGVhZGVyIGxhdGVyIG9uXG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGhhc2ggdG8gc2ltcGxpZnkgdXJsIG1hbmlwdWxhdGlvblxuICAgICAgICAgICAgICAgIGNhY2hlVVJMID0gcy51cmwucmVwbGFjZShyaGFzaCwgXCJcIik7XG4gICAgICAgICAgICAgICAgLy8gTW9yZSBvcHRpb25zIGhhbmRsaW5nIGZvciByZXF1ZXN0cyB3aXRoIG5vIGNvbnRlbnRcbiAgICAgICAgICAgICAgICBpZiAoIXMuaGFzQ29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBSZW1lbWJlciB0aGUgaGFzaCBzbyB3ZSBjYW4gcHV0IGl0IGJhY2tcbiAgICAgICAgICAgICAgICAgICAgdW5jYWNoZWQgPSBzLnVybC5zbGljZShjYWNoZVVSTC5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiBkYXRhIGlzIGF2YWlsYWJsZSBhbmQgc2hvdWxkIGJlIHByb2Nlc3NlZCwgYXBwZW5kIGRhdGEgdG8gdXJsXG4gICAgICAgICAgICAgICAgICAgIGlmIChzLmRhdGEgJiYgKHMucHJvY2Vzc0RhdGEgfHwgdHlwZW9mIHMuZGF0YSA9PT0gXCJzdHJpbmdcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlVVJMICs9IChycXVlcnkudGVzdChjYWNoZVVSTCkgPyBcIiZcIiA6IFwiP1wiKSArIHMuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRyYWMtOTY4MjogcmVtb3ZlIGRhdGEgc28gdGhhdCBpdCdzIG5vdCB1c2VkIGluIGFuIGV2ZW50dWFsIHJldHJ5XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgcy5kYXRhO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZCBvciB1cGRhdGUgYW50aS1jYWNoZSBwYXJhbSBpZiBuZWVkZWRcbiAgICAgICAgICAgICAgICAgICAgaWYgKHMuY2FjaGUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWNoZVVSTCA9IGNhY2hlVVJMLnJlcGxhY2UocmFudGlDYWNoZSwgXCIkMVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVuY2FjaGVkID0gKHJxdWVyeS50ZXN0KGNhY2hlVVJMKSA/IFwiJlwiIDogXCI/XCIpICsgXCJfPVwiICsgKG5vbmNlLmd1aWQrKykgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuY2FjaGVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFB1dCBoYXNoIGFuZCBhbnRpLWNhY2hlIG9uIHRoZSBVUkwgdGhhdCB3aWxsIGJlIHJlcXVlc3RlZCAoZ2gtMTczMilcbiAgICAgICAgICAgICAgICAgICAgcy51cmwgPSBjYWNoZVVSTCArIHVuY2FjaGVkO1xuICAgICAgICAgICAgICAgICAgICAvLyBDaGFuZ2UgJyUyMCcgdG8gJysnIGlmIHRoaXMgaXMgZW5jb2RlZCBmb3JtIGJvZHkgY29udGVudCAoZ2gtMjY1OClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocy5kYXRhICYmIHMucHJvY2Vzc0RhdGEgJiZcbiAgICAgICAgICAgICAgICAgICAgKHMuY29udGVudFR5cGUgfHwgXCJcIikuaW5kZXhPZihcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBzLmRhdGEgPSBzLmRhdGEucmVwbGFjZShyMjAsIFwiK1wiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gU2V0IHRoZSBJZi1Nb2RpZmllZC1TaW5jZSBhbmQvb3IgSWYtTm9uZS1NYXRjaCBoZWFkZXIsIGlmIGluIGlmTW9kaWZpZWQgbW9kZS5cbiAgICAgICAgICAgICAgICBpZiAocy5pZk1vZGlmaWVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChqUXVlcnkubGFzdE1vZGlmaWVkW2NhY2hlVVJMXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAganFYSFIuc2V0UmVxdWVzdEhlYWRlcihcIklmLU1vZGlmaWVkLVNpbmNlXCIsIGpRdWVyeS5sYXN0TW9kaWZpZWRbY2FjaGVVUkxdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoalF1ZXJ5LmV0YWdbY2FjaGVVUkxdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKFwiSWYtTm9uZS1NYXRjaFwiLCBqUXVlcnkuZXRhZ1tjYWNoZVVSTF0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgY29ycmVjdCBoZWFkZXIsIGlmIGRhdGEgaXMgYmVpbmcgc2VudFxuICAgICAgICAgICAgICAgIGlmIChzLmRhdGEgJiYgcy5oYXNDb250ZW50ICYmIHMuY29udGVudFR5cGUgIT09IGZhbHNlIHx8IG9wdGlvbnMuY29udGVudFR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAganFYSFIuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiLCBzLmNvbnRlbnRUeXBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gU2V0IHRoZSBBY2NlcHRzIGhlYWRlciBmb3IgdGhlIHNlcnZlciwgZGVwZW5kaW5nIG9uIHRoZSBkYXRhVHlwZVxuICAgICAgICAgICAgICAgIGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoXCJBY2NlcHRcIiwgcy5kYXRhVHlwZXNbMF0gJiYgcy5hY2NlcHRzW3MuZGF0YVR5cGVzWzBdXSA/XG4gICAgICAgICAgICAgICAgICAgIHMuYWNjZXB0c1tzLmRhdGFUeXBlc1swXV0gK1xuICAgICAgICAgICAgICAgICAgICAgICAgKHMuZGF0YVR5cGVzWzBdICE9PSBcIipcIiA/IFwiLCBcIiArIGFsbFR5cGVzICsgXCI7IHE9MC4wMVwiIDogXCJcIikgOlxuICAgICAgICAgICAgICAgICAgICBzLmFjY2VwdHNbXCIqXCJdKTtcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgaGVhZGVycyBvcHRpb25cbiAgICAgICAgICAgICAgICBmb3IgKGkgaW4gcy5oZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoaSwgcy5oZWFkZXJzW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQWxsb3cgY3VzdG9tIGhlYWRlcnMvbWltZXR5cGVzIGFuZCBlYXJseSBhYm9ydFxuICAgICAgICAgICAgICAgIGlmIChzLmJlZm9yZVNlbmQgJiZcbiAgICAgICAgICAgICAgICAgICAgKHMuYmVmb3JlU2VuZC5jYWxsKGNhbGxiYWNrQ29udGV4dCwganFYSFIsIHMpID09PSBmYWxzZSB8fCBjb21wbGV0ZWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFib3J0IGlmIG5vdCBkb25lIGFscmVhZHkgYW5kIHJldHVyblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ganFYSFIuYWJvcnQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQWJvcnRpbmcgaXMgbm8gbG9uZ2VyIGEgY2FuY2VsbGF0aW9uXG4gICAgICAgICAgICAgICAgc3RyQWJvcnQgPSBcImFib3J0XCI7XG4gICAgICAgICAgICAgICAgLy8gSW5zdGFsbCBjYWxsYmFja3Mgb24gZGVmZXJyZWRzXG4gICAgICAgICAgICAgICAgY29tcGxldGVEZWZlcnJlZC5hZGQocy5jb21wbGV0ZSk7XG4gICAgICAgICAgICAgICAganFYSFIuZG9uZShzLnN1Y2Nlc3MpO1xuICAgICAgICAgICAgICAgIGpxWEhSLmZhaWwocy5lcnJvcik7XG4gICAgICAgICAgICAgICAgLy8gR2V0IHRyYW5zcG9ydFxuICAgICAgICAgICAgICAgIHRyYW5zcG9ydCA9IGluc3BlY3RQcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKHRyYW5zcG9ydHMsIHMsIG9wdGlvbnMsIGpxWEhSKTtcbiAgICAgICAgICAgICAgICAvLyBJZiBubyB0cmFuc3BvcnQsIHdlIGF1dG8tYWJvcnRcbiAgICAgICAgICAgICAgICBpZiAoIXRyYW5zcG9ydCkge1xuICAgICAgICAgICAgICAgICAgICBkb25lKC0xLCBcIk5vIFRyYW5zcG9ydFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGpxWEhSLnJlYWR5U3RhdGUgPSAxO1xuICAgICAgICAgICAgICAgICAgICAvLyBTZW5kIGdsb2JhbCBldmVudFxuICAgICAgICAgICAgICAgICAgICBpZiAoZmlyZUdsb2JhbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsb2JhbEV2ZW50Q29udGV4dC50cmlnZ2VyKFwiYWpheFNlbmRcIiwgW2pxWEhSLCBzXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgcmVxdWVzdCB3YXMgYWJvcnRlZCBpbnNpZGUgYWpheFNlbmQsIHN0b3AgdGhlcmVcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBsZXRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGpxWEhSO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFRpbWVvdXRcbiAgICAgICAgICAgICAgICAgICAgaWYgKHMuYXN5bmMgJiYgcy50aW1lb3V0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dFRpbWVyID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpxWEhSLmFib3J0KFwidGltZW91dFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHMudGltZW91dCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNwb3J0LnNlbmQocmVxdWVzdEhlYWRlcnMsIGRvbmUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXRocm93IHBvc3QtY29tcGxldGlvbiBleGNlcHRpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29tcGxldGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFByb3BhZ2F0ZSBvdGhlcnMgYXMgcmVzdWx0c1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9uZSgtMSwgZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQ2FsbGJhY2sgZm9yIHdoZW4gZXZlcnl0aGluZyBpcyBkb25lXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gZG9uZShzdGF0dXMsIG5hdGl2ZVN0YXR1c1RleHQsIHJlc3BvbnNlcywgaGVhZGVycykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaXNTdWNjZXNzLCBzdWNjZXNzLCBlcnJvciwgcmVzcG9uc2UsIG1vZGlmaWVkLCBzdGF0dXNUZXh0ID0gbmF0aXZlU3RhdHVzVGV4dDtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWdub3JlIHJlcGVhdCBpbnZvY2F0aW9uc1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29tcGxldGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYXIgdGltZW91dCBpZiBpdCBleGlzdHNcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRpbWVvdXRUaW1lcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aW1lb3V0VGltZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIERlcmVmZXJlbmNlIHRyYW5zcG9ydCBmb3IgZWFybHkgZ2FyYmFnZSBjb2xsZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgIC8vIChubyBtYXR0ZXIgaG93IGxvbmcgdGhlIGpxWEhSIG9iamVjdCB3aWxsIGJlIHVzZWQpXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zcG9ydCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2FjaGUgcmVzcG9uc2UgaGVhZGVyc1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZUhlYWRlcnNTdHJpbmcgPSBoZWFkZXJzIHx8IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNldCByZWFkeVN0YXRlXG4gICAgICAgICAgICAgICAgICAgIGpxWEhSLnJlYWR5U3RhdGUgPSBzdGF0dXMgPiAwID8gNCA6IDA7XG4gICAgICAgICAgICAgICAgICAgIC8vIERldGVybWluZSBpZiBzdWNjZXNzZnVsXG4gICAgICAgICAgICAgICAgICAgIGlzU3VjY2VzcyA9IHN0YXR1cyA+PSAyMDAgJiYgc3RhdHVzIDwgMzAwIHx8IHN0YXR1cyA9PT0gMzA0O1xuICAgICAgICAgICAgICAgICAgICAvLyBHZXQgcmVzcG9uc2UgZGF0YVxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2VzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IGFqYXhIYW5kbGVSZXNwb25zZXMocywganFYSFIsIHJlc3BvbnNlcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gVXNlIGEgbm9vcCBjb252ZXJ0ZXIgZm9yIG1pc3Npbmcgc2NyaXB0IGJ1dCBub3QgaWYganNvbnBcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1N1Y2Nlc3MgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5pbkFycmF5KFwic2NyaXB0XCIsIHMuZGF0YVR5cGVzKSA+IC0xICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuaW5BcnJheShcImpzb25cIiwgcy5kYXRhVHlwZXMpIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcy5jb252ZXJ0ZXJzW1widGV4dCBzY3JpcHRcIl0gPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gQ29udmVydCBubyBtYXR0ZXIgd2hhdCAodGhhdCB3YXkgcmVzcG9uc2VYWFggZmllbGRzIGFyZSBhbHdheXMgc2V0KVxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IGFqYXhDb252ZXJ0KHMsIHJlc3BvbnNlLCBqcVhIUiwgaXNTdWNjZXNzKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgc3VjY2Vzc2Z1bCwgaGFuZGxlIHR5cGUgY2hhaW5pbmdcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzU3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0IHRoZSBJZi1Nb2RpZmllZC1TaW5jZSBhbmQvb3IgSWYtTm9uZS1NYXRjaCBoZWFkZXIsIGlmIGluIGlmTW9kaWZpZWQgbW9kZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzLmlmTW9kaWZpZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RpZmllZCA9IGpxWEhSLmdldFJlc3BvbnNlSGVhZGVyKFwiTGFzdC1Nb2RpZmllZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobW9kaWZpZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5Lmxhc3RNb2RpZmllZFtjYWNoZVVSTF0gPSBtb2RpZmllZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kaWZpZWQgPSBqcVhIUi5nZXRSZXNwb25zZUhlYWRlcihcImV0YWdcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGlmaWVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5ldGFnW2NhY2hlVVJMXSA9IG1vZGlmaWVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIG5vIGNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0dXMgPT09IDIwNCB8fCBzLnR5cGUgPT09IFwiSEVBRFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzVGV4dCA9IFwibm9jb250ZW50XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgbm90IG1vZGlmaWVkXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzdGF0dXMgPT09IDMwNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c1RleHQgPSBcIm5vdG1vZGlmaWVkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZSBkYXRhLCBsZXQncyBjb252ZXJ0IGl0XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNUZXh0ID0gcmVzcG9uc2Uuc3RhdGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzcyA9IHJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IgPSByZXNwb25zZS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1N1Y2Nlc3MgPSAhZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBFeHRyYWN0IGVycm9yIGZyb20gc3RhdHVzVGV4dCBhbmQgbm9ybWFsaXplIGZvciBub24tYWJvcnRzXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvciA9IHN0YXR1c1RleHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdHVzIHx8ICFzdGF0dXNUZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzVGV4dCA9IFwiZXJyb3JcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdHVzIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXMgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBTZXQgZGF0YSBmb3IgdGhlIGZha2UgeGhyIG9iamVjdFxuICAgICAgICAgICAgICAgICAgICBqcVhIUi5zdGF0dXMgPSBzdGF0dXM7XG4gICAgICAgICAgICAgICAgICAgIGpxWEhSLnN0YXR1c1RleHQgPSAobmF0aXZlU3RhdHVzVGV4dCB8fCBzdGF0dXNUZXh0KSArIFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIC8vIFN1Y2Nlc3MvRXJyb3JcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzU3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZVdpdGgoY2FsbGJhY2tDb250ZXh0LCBbc3VjY2Vzcywgc3RhdHVzVGV4dCwganFYSFJdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdFdpdGgoY2FsbGJhY2tDb250ZXh0LCBbanFYSFIsIHN0YXR1c1RleHQsIGVycm9yXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gU3RhdHVzLWRlcGVuZGVudCBjYWxsYmFja3NcbiAgICAgICAgICAgICAgICAgICAganFYSFIuc3RhdHVzQ29kZShzdGF0dXNDb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzQ29kZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpcmVHbG9iYWxzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnbG9iYWxFdmVudENvbnRleHQudHJpZ2dlcihpc1N1Y2Nlc3MgPyBcImFqYXhTdWNjZXNzXCIgOiBcImFqYXhFcnJvclwiLCBbanFYSFIsIHMsIGlzU3VjY2VzcyA/IHN1Y2Nlc3MgOiBlcnJvcl0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIENvbXBsZXRlXG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlRGVmZXJyZWQuZmlyZVdpdGgoY2FsbGJhY2tDb250ZXh0LCBbanFYSFIsIHN0YXR1c1RleHRdKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpcmVHbG9iYWxzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnbG9iYWxFdmVudENvbnRleHQudHJpZ2dlcihcImFqYXhDb21wbGV0ZVwiLCBbanFYSFIsIHNdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSB0aGUgZ2xvYmFsIEFKQVggY291bnRlclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoLS1qUXVlcnkuYWN0aXZlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5ldmVudC50cmlnZ2VyKFwiYWpheFN0b3BcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGpxWEhSO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldEpTT046IGZ1bmN0aW9uICh1cmwsIGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGpRdWVyeS5nZXQodXJsLCBkYXRhLCBjYWxsYmFjaywgXCJqc29uXCIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldFNjcmlwdDogZnVuY3Rpb24gKHVybCwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICByZXR1cm4galF1ZXJ5LmdldCh1cmwsIHVuZGVmaW5lZCwgY2FsbGJhY2ssIFwic2NyaXB0XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgalF1ZXJ5LmVhY2goW1wiZ2V0XCIsIFwicG9zdFwiXSwgZnVuY3Rpb24gKF9pLCBtZXRob2QpIHtcbiAgICAgICAgICAgIGpRdWVyeVttZXRob2RdID0gZnVuY3Rpb24gKHVybCwgZGF0YSwgY2FsbGJhY2ssIHR5cGUpIHtcbiAgICAgICAgICAgICAgICAvLyBTaGlmdCBhcmd1bWVudHMgaWYgZGF0YSBhcmd1bWVudCB3YXMgb21pdHRlZFxuICAgICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSB0eXBlIHx8IGNhbGxiYWNrO1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayA9IGRhdGE7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFRoZSB1cmwgY2FuIGJlIGFuIG9wdGlvbnMgb2JqZWN0ICh3aGljaCB0aGVuIG11c3QgaGF2ZSAudXJsKVxuICAgICAgICAgICAgICAgIHJldHVybiBqUXVlcnkuYWpheChqUXVlcnkuZXh0ZW5kKHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IG1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6IHR5cGUsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGNhbGxiYWNrXG4gICAgICAgICAgICAgICAgfSwgalF1ZXJ5LmlzUGxhaW5PYmplY3QodXJsKSAmJiB1cmwpKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICBqUXVlcnkuYWpheFByZWZpbHRlcihmdW5jdGlvbiAocykge1xuICAgICAgICAgICAgdmFyIGk7XG4gICAgICAgICAgICBmb3IgKGkgaW4gcy5oZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGkudG9Mb3dlckNhc2UoKSA9PT0gXCJjb250ZW50LXR5cGVcIikge1xuICAgICAgICAgICAgICAgICAgICBzLmNvbnRlbnRUeXBlID0gcy5oZWFkZXJzW2ldIHx8IFwiXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgalF1ZXJ5Ll9ldmFsVXJsID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucywgZG9jKSB7XG4gICAgICAgICAgICByZXR1cm4galF1ZXJ5LmFqYXgoe1xuICAgICAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgICAgIC8vIE1ha2UgdGhpcyBleHBsaWNpdCwgc2luY2UgdXNlciBjYW4gb3ZlcnJpZGUgdGhpcyB0aHJvdWdoIGFqYXhTZXR1cCAodHJhYy0xMTI2NClcbiAgICAgICAgICAgICAgICB0eXBlOiBcIkdFVFwiLFxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcInNjcmlwdFwiLFxuICAgICAgICAgICAgICAgIGNhY2hlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGFzeW5jOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBnbG9iYWw6IGZhbHNlLFxuICAgICAgICAgICAgICAgIC8vIE9ubHkgZXZhbHVhdGUgdGhlIHJlc3BvbnNlIGlmIGl0IGlzIHN1Y2Nlc3NmdWwgKGdoLTQxMjYpXG4gICAgICAgICAgICAgICAgLy8gZGF0YUZpbHRlciBpcyBub3QgaW52b2tlZCBmb3IgZmFpbHVyZSByZXNwb25zZXMsIHNvIHVzaW5nIGl0IGluc3RlYWRcbiAgICAgICAgICAgICAgICAvLyBvZiB0aGUgZGVmYXVsdCBjb252ZXJ0ZXIgaXMga2x1ZGd5IGJ1dCBpdCB3b3Jrcy5cbiAgICAgICAgICAgICAgICBjb252ZXJ0ZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgIFwidGV4dCBzY3JpcHRcIjogZnVuY3Rpb24gKCkgeyB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBkYXRhRmlsdGVyOiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5Lmdsb2JhbEV2YWwocmVzcG9uc2UsIG9wdGlvbnMsIGRvYyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGpRdWVyeS5mbi5leHRlbmQoe1xuICAgICAgICAgICAgd3JhcEFsbDogZnVuY3Rpb24gKGh0bWwpIHtcbiAgICAgICAgICAgICAgICB2YXIgd3JhcDtcbiAgICAgICAgICAgICAgICBpZiAodGhpc1swXSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihodG1sKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbCA9IGh0bWwuY2FsbCh0aGlzWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgZWxlbWVudHMgdG8gd3JhcCB0aGUgdGFyZ2V0IGFyb3VuZFxuICAgICAgICAgICAgICAgICAgICB3cmFwID0galF1ZXJ5KGh0bWwsIHRoaXNbMF0ub3duZXJEb2N1bWVudCkuZXEoMCkuY2xvbmUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzWzBdLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyYXAuaW5zZXJ0QmVmb3JlKHRoaXNbMF0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHdyYXAubWFwKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbGVtID0gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChlbGVtLmZpcnN0RWxlbWVudENoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbSA9IGVsZW0uZmlyc3RFbGVtZW50Q2hpbGQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbTtcbiAgICAgICAgICAgICAgICAgICAgfSkuYXBwZW5kKHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB3cmFwSW5uZXI6IGZ1bmN0aW9uIChodG1sKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oaHRtbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KHRoaXMpLndyYXBJbm5lcihodG1sLmNhbGwodGhpcywgaSkpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzZWxmID0galF1ZXJ5KHRoaXMpLCBjb250ZW50cyA9IHNlbGYuY29udGVudHMoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudHMud3JhcEFsbChodG1sKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuYXBwZW5kKGh0bWwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgd3JhcDogZnVuY3Rpb24gKGh0bWwpIHtcbiAgICAgICAgICAgICAgICB2YXIgaHRtbElzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uKGh0bWwpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KHRoaXMpLndyYXBBbGwoaHRtbElzRnVuY3Rpb24gPyBodG1sLmNhbGwodGhpcywgaSkgOiBodG1sKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1bndyYXA6IGZ1bmN0aW9uIChzZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50KHNlbGVjdG9yKS5ub3QoXCJib2R5XCIpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBqUXVlcnkodGhpcykucmVwbGFjZVdpdGgodGhpcy5jaGlsZE5vZGVzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGpRdWVyeS5leHByLnBzZXVkb3MuaGlkZGVuID0gZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgIHJldHVybiAhalF1ZXJ5LmV4cHIucHNldWRvcy52aXNpYmxlKGVsZW0pO1xuICAgICAgICB9O1xuICAgICAgICBqUXVlcnkuZXhwci5wc2V1ZG9zLnZpc2libGUgPSBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgcmV0dXJuICEhKGVsZW0ub2Zmc2V0V2lkdGggfHwgZWxlbS5vZmZzZXRIZWlnaHQgfHwgZWxlbS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCk7XG4gICAgICAgIH07XG4gICAgICAgIGpRdWVyeS5hamF4U2V0dGluZ3MueGhyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfVxuICAgICAgICB9O1xuICAgICAgICB2YXIgeGhyU3VjY2Vzc1N0YXR1cyA9IHtcbiAgICAgICAgICAgIC8vIEZpbGUgcHJvdG9jb2wgYWx3YXlzIHlpZWxkcyBzdGF0dXMgY29kZSAwLCBhc3N1bWUgMjAwXG4gICAgICAgICAgICAwOiAyMDAsXG4gICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuICAgICAgICAgICAgLy8gdHJhYy0xNDUwOiBzb21ldGltZXMgSUUgcmV0dXJucyAxMjIzIHdoZW4gaXQgc2hvdWxkIGJlIDIwNFxuICAgICAgICAgICAgMTIyMzogMjA0XG4gICAgICAgIH0sIHhoclN1cHBvcnRlZCA9IGpRdWVyeS5hamF4U2V0dGluZ3MueGhyKCk7XG4gICAgICAgIHN1cHBvcnQuY29ycyA9ICEheGhyU3VwcG9ydGVkICYmIChcIndpdGhDcmVkZW50aWFsc1wiIGluIHhoclN1cHBvcnRlZCk7XG4gICAgICAgIHN1cHBvcnQuYWpheCA9IHhoclN1cHBvcnRlZCA9ICEheGhyU3VwcG9ydGVkO1xuICAgICAgICBqUXVlcnkuYWpheFRyYW5zcG9ydChmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICAgICAgdmFyIGNhbGxiYWNrLCBlcnJvckNhbGxiYWNrO1xuICAgICAgICAgICAgLy8gQ3Jvc3MgZG9tYWluIG9ubHkgYWxsb3dlZCBpZiBzdXBwb3J0ZWQgdGhyb3VnaCBYTUxIdHRwUmVxdWVzdFxuICAgICAgICAgICAgaWYgKHN1cHBvcnQuY29ycyB8fCB4aHJTdXBwb3J0ZWQgJiYgIW9wdGlvbnMuY3Jvc3NEb21haW4pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBzZW5kOiBmdW5jdGlvbiAoaGVhZGVycywgY29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpLCB4aHIgPSBvcHRpb25zLnhocigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgeGhyLm9wZW4ob3B0aW9ucy50eXBlLCBvcHRpb25zLnVybCwgb3B0aW9ucy5hc3luYywgb3B0aW9ucy51c2VybmFtZSwgb3B0aW9ucy5wYXNzd29yZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBcHBseSBjdXN0b20gZmllbGRzIGlmIHByb3ZpZGVkXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy54aHJGaWVsZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgaW4gb3B0aW9ucy54aHJGaWVsZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeGhyW2ldID0gb3B0aW9ucy54aHJGaWVsZHNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gT3ZlcnJpZGUgbWltZSB0eXBlIGlmIG5lZWRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMubWltZVR5cGUgJiYgeGhyLm92ZXJyaWRlTWltZVR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4aHIub3ZlcnJpZGVNaW1lVHlwZShvcHRpb25zLm1pbWVUeXBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFgtUmVxdWVzdGVkLVdpdGggaGVhZGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGb3IgY3Jvc3MtZG9tYWluIHJlcXVlc3RzLCBzZWVpbmcgYXMgY29uZGl0aW9ucyBmb3IgYSBwcmVmbGlnaHQgYXJlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBha2luIHRvIGEgamlnc2F3IHB1enpsZSwgd2Ugc2ltcGx5IG5ldmVyIHNldCBpdCB0byBiZSBzdXJlLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gKGl0IGNhbiBhbHdheXMgYmUgc2V0IG9uIGEgcGVyLXJlcXVlc3QgYmFzaXMgb3IgZXZlbiB1c2luZyBhamF4U2V0dXApXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGb3Igc2FtZS1kb21haW4gcmVxdWVzdHMsIHdvbid0IGNoYW5nZSBoZWFkZXIgaWYgYWxyZWFkeSBwcm92aWRlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucy5jcm9zc0RvbWFpbiAmJiAhaGVhZGVyc1tcIlgtUmVxdWVzdGVkLVdpdGhcIl0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzW1wiWC1SZXF1ZXN0ZWQtV2l0aFwiXSA9IFwiWE1MSHR0cFJlcXVlc3RcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldCBoZWFkZXJzXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgaW4gaGVhZGVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKGksIGhlYWRlcnNbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2FsbGJhY2tcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrID0gZXJyb3JDYWxsYmFjayA9IHhoci5vbmxvYWQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhoci5vbmVycm9yID0geGhyLm9uYWJvcnQgPSB4aHIub250aW1lb3V0ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gXCJhYm9ydFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeGhyLmFib3J0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlID09PSBcImVycm9yXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9uIGEgbWFudWFsIG5hdGl2ZSBhYm9ydCwgSUU5IHRocm93c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVycm9ycyBvbiBhbnkgcHJvcGVydHkgYWNjZXNzIHRoYXQgaXMgbm90IHJlYWR5U3RhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHhoci5zdGF0dXMgIT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGUoMCwgXCJlcnJvclwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGaWxlOiBwcm90b2NvbCBhbHdheXMgeWllbGRzIHN0YXR1cyAwOyBzZWUgdHJhYy04NjA1LCB0cmFjLTE0MjA3XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhoci5zdGF0dXMsIHhoci5zdGF0dXNUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZSh4aHJTdWNjZXNzU3RhdHVzW3hoci5zdGF0dXNdIHx8IHhoci5zdGF0dXMsIHhoci5zdGF0dXNUZXh0LCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElFOSBoYXMgbm8gWEhSMiBidXQgdGhyb3dzIG9uIGJpbmFyeSAodHJhYy0xMTQyNilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGb3IgWEhSMiBub24tdGV4dCwgbGV0IHRoZSBjYWxsZXIgaGFuZGxlIGl0IChnaC0yNDk4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh4aHIucmVzcG9uc2VUeXBlIHx8IFwidGV4dFwiKSAhPT0gXCJ0ZXh0XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIHhoci5yZXNwb25zZVRleHQgIT09IFwic3RyaW5nXCIgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGJpbmFyeTogeGhyLnJlc3BvbnNlIH0gOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHRleHQ6IHhoci5yZXNwb25zZVRleHQgfSwgeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTGlzdGVuIHRvIGV2ZW50c1xuICAgICAgICAgICAgICAgICAgICAgICAgeGhyLm9ubG9hZCA9IGNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvckNhbGxiYWNrID0geGhyLm9uZXJyb3IgPSB4aHIub250aW1lb3V0ID0gY2FsbGJhY2soXCJlcnJvclwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDkgb25seVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXNlIG9ucmVhZHlzdGF0ZWNoYW5nZSB0byByZXBsYWNlIG9uYWJvcnRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRvIGhhbmRsZSB1bmNhdWdodCBhYm9ydHNcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh4aHIub25hYm9ydCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeGhyLm9uYWJvcnQgPSBlcnJvckNhbGxiYWNrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgcmVhZHlTdGF0ZSBiZWZvcmUgdGltZW91dCBhcyBpdCBjaGFuZ2VzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWxsb3cgb25lcnJvciB0byBiZSBjYWxsZWQgZmlyc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBidXQgdGhhdCB3aWxsIG5vdCBoYW5kbGUgYSBuYXRpdmUgYWJvcnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFsc28sIHNhdmUgZXJyb3JDYWxsYmFjayB0byBhIHZhcmlhYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhcyB4aHIub25lcnJvciBjYW5ub3QgYmUgYWNjZXNzZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JDYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgYWJvcnQgY2FsbGJhY2tcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrID0gY2FsbGJhY2soXCJhYm9ydFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRG8gc2VuZCB0aGUgcmVxdWVzdCAodGhpcyBtYXkgcmFpc2UgYW4gZXhjZXB0aW9uKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhoci5zZW5kKG9wdGlvbnMuaGFzQ29udGVudCAmJiBvcHRpb25zLmRhdGEgfHwgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRyYWMtMTQ2ODM6IE9ubHkgcmV0aHJvdyBpZiB0aGlzIGhhc24ndCBiZWVuIG5vdGlmaWVkIGFzIGFuIGVycm9yIHlldFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYWJvcnQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gUHJldmVudCBhdXRvLWV4ZWN1dGlvbiBvZiBzY3JpcHRzIHdoZW4gbm8gZXhwbGljaXQgZGF0YVR5cGUgd2FzIHByb3ZpZGVkIChTZWUgZ2gtMjQzMilcbiAgICAgICAgalF1ZXJ5LmFqYXhQcmVmaWx0ZXIoZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgICAgIGlmIChzLmNyb3NzRG9tYWluKSB7XG4gICAgICAgICAgICAgICAgcy5jb250ZW50cy5zY3JpcHQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIEluc3RhbGwgc2NyaXB0IGRhdGFUeXBlXG4gICAgICAgIGpRdWVyeS5hamF4U2V0dXAoe1xuICAgICAgICAgICAgYWNjZXB0czoge1xuICAgICAgICAgICAgICAgIHNjcmlwdDogXCJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIFwiICtcbiAgICAgICAgICAgICAgICAgICAgXCJhcHBsaWNhdGlvbi9lY21hc2NyaXB0LCBhcHBsaWNhdGlvbi94LWVjbWFzY3JpcHRcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbnRlbnRzOiB7XG4gICAgICAgICAgICAgICAgc2NyaXB0OiAvXFxiKD86amF2YXxlY21hKXNjcmlwdFxcYi9cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb252ZXJ0ZXJzOiB7XG4gICAgICAgICAgICAgICAgXCJ0ZXh0IHNjcmlwdFwiOiBmdW5jdGlvbiAodGV4dCkge1xuICAgICAgICAgICAgICAgICAgICBqUXVlcnkuZ2xvYmFsRXZhbCh0ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gSGFuZGxlIGNhY2hlJ3Mgc3BlY2lhbCBjYXNlIGFuZCBjcm9zc0RvbWFpblxuICAgICAgICBqUXVlcnkuYWpheFByZWZpbHRlcihcInNjcmlwdFwiLCBmdW5jdGlvbiAocykge1xuICAgICAgICAgICAgaWYgKHMuY2FjaGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHMuY2FjaGUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzLmNyb3NzRG9tYWluKSB7XG4gICAgICAgICAgICAgICAgcy50eXBlID0gXCJHRVRcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIEJpbmQgc2NyaXB0IHRhZyBoYWNrIHRyYW5zcG9ydFxuICAgICAgICBqUXVlcnkuYWpheFRyYW5zcG9ydChcInNjcmlwdFwiLCBmdW5jdGlvbiAocykge1xuICAgICAgICAgICAgLy8gVGhpcyB0cmFuc3BvcnQgb25seSBkZWFscyB3aXRoIGNyb3NzIGRvbWFpbiBvciBmb3JjZWQtYnktYXR0cnMgcmVxdWVzdHNcbiAgICAgICAgICAgIGlmIChzLmNyb3NzRG9tYWluIHx8IHMuc2NyaXB0QXR0cnMpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2NyaXB0LCBjYWxsYmFjaztcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBzZW5kOiBmdW5jdGlvbiAoXywgY29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcmlwdCA9IGpRdWVyeShcIjxzY3JpcHQ+XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIocy5zY3JpcHRBdHRycyB8fCB7fSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucHJvcCh7IGNoYXJzZXQ6IHMuc2NyaXB0Q2hhcnNldCwgc3JjOiBzLnVybCB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5vbihcImxvYWQgZXJyb3JcIiwgY2FsbGJhY2sgPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NyaXB0LnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlKGV2dC50eXBlID09PSBcImVycm9yXCIgPyA0MDQgOiAyMDAsIGV2dC50eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVzZSBuYXRpdmUgRE9NIG1hbmlwdWxhdGlvbiB0byBhdm9pZCBvdXIgZG9tTWFuaXAgQUpBWCB0cmlja2VyeVxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHRbMF0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBhYm9ydDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgb2xkQ2FsbGJhY2tzID0gW10sIHJqc29ucCA9IC8oPSlcXD8oPz0mfCQpfFxcP1xcPy87XG4gICAgICAgIC8vIERlZmF1bHQganNvbnAgc2V0dGluZ3NcbiAgICAgICAgalF1ZXJ5LmFqYXhTZXR1cCh7XG4gICAgICAgICAgICBqc29ucDogXCJjYWxsYmFja1wiLFxuICAgICAgICAgICAganNvbnBDYWxsYmFjazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBjYWxsYmFjayA9IG9sZENhbGxiYWNrcy5wb3AoKSB8fCAoalF1ZXJ5LmV4cGFuZG8gKyBcIl9cIiArIChub25jZS5ndWlkKyspKTtcbiAgICAgICAgICAgICAgICB0aGlzW2NhbGxiYWNrXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gRGV0ZWN0LCBub3JtYWxpemUgb3B0aW9ucyBhbmQgaW5zdGFsbCBjYWxsYmFja3MgZm9yIGpzb25wIHJlcXVlc3RzXG4gICAgICAgIGpRdWVyeS5hamF4UHJlZmlsdGVyKFwianNvbiBqc29ucFwiLCBmdW5jdGlvbiAocywgb3JpZ2luYWxTZXR0aW5ncywganFYSFIpIHtcbiAgICAgICAgICAgIHZhciBjYWxsYmFja05hbWUsIG92ZXJ3cml0dGVuLCByZXNwb25zZUNvbnRhaW5lciwganNvblByb3AgPSBzLmpzb25wICE9PSBmYWxzZSAmJiAocmpzb25wLnRlc3Qocy51cmwpID9cbiAgICAgICAgICAgICAgICBcInVybFwiIDpcbiAgICAgICAgICAgICAgICB0eXBlb2Ygcy5kYXRhID09PSBcInN0cmluZ1wiICYmXG4gICAgICAgICAgICAgICAgICAgIChzLmNvbnRlbnRUeXBlIHx8IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiKSA9PT0gMCAmJlxuICAgICAgICAgICAgICAgICAgICByanNvbnAudGVzdChzLmRhdGEpICYmIFwiZGF0YVwiKTtcbiAgICAgICAgICAgIC8vIEhhbmRsZSBpZmYgdGhlIGV4cGVjdGVkIGRhdGEgdHlwZSBpcyBcImpzb25wXCIgb3Igd2UgaGF2ZSBhIHBhcmFtZXRlciB0byBzZXRcbiAgICAgICAgICAgIGlmIChqc29uUHJvcCB8fCBzLmRhdGFUeXBlc1swXSA9PT0gXCJqc29ucFwiKSB7XG4gICAgICAgICAgICAgICAgLy8gR2V0IGNhbGxiYWNrIG5hbWUsIHJlbWVtYmVyaW5nIHByZWV4aXN0aW5nIHZhbHVlIGFzc29jaWF0ZWQgd2l0aCBpdFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrTmFtZSA9IHMuanNvbnBDYWxsYmFjayA9IGlzRnVuY3Rpb24ocy5qc29ucENhbGxiYWNrKSA/XG4gICAgICAgICAgICAgICAgICAgIHMuanNvbnBDYWxsYmFjaygpIDpcbiAgICAgICAgICAgICAgICAgICAgcy5qc29ucENhbGxiYWNrO1xuICAgICAgICAgICAgICAgIC8vIEluc2VydCBjYWxsYmFjayBpbnRvIHVybCBvciBmb3JtIGRhdGFcbiAgICAgICAgICAgICAgICBpZiAoanNvblByb3ApIHtcbiAgICAgICAgICAgICAgICAgICAgc1tqc29uUHJvcF0gPSBzW2pzb25Qcm9wXS5yZXBsYWNlKHJqc29ucCwgXCIkMVwiICsgY2FsbGJhY2tOYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocy5qc29ucCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcy51cmwgKz0gKHJxdWVyeS50ZXN0KHMudXJsKSA/IFwiJlwiIDogXCI/XCIpICsgcy5qc29ucCArIFwiPVwiICsgY2FsbGJhY2tOYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBVc2UgZGF0YSBjb252ZXJ0ZXIgdG8gcmV0cmlldmUganNvbiBhZnRlciBzY3JpcHQgZXhlY3V0aW9uXG4gICAgICAgICAgICAgICAgcy5jb252ZXJ0ZXJzW1wic2NyaXB0IGpzb25cIl0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2VDb250YWluZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5lcnJvcihjYWxsYmFja05hbWUgKyBcIiB3YXMgbm90IGNhbGxlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2VDb250YWluZXJbMF07XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAvLyBGb3JjZSBqc29uIGRhdGFUeXBlXG4gICAgICAgICAgICAgICAgcy5kYXRhVHlwZXNbMF0gPSBcImpzb25cIjtcbiAgICAgICAgICAgICAgICAvLyBJbnN0YWxsIGNhbGxiYWNrXG4gICAgICAgICAgICAgICAgb3ZlcndyaXR0ZW4gPSB3aW5kb3dbY2FsbGJhY2tOYW1lXTtcbiAgICAgICAgICAgICAgICB3aW5kb3dbY2FsbGJhY2tOYW1lXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VDb250YWluZXIgPSBhcmd1bWVudHM7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAvLyBDbGVhbi11cCBmdW5jdGlvbiAoZmlyZXMgYWZ0ZXIgY29udmVydGVycylcbiAgICAgICAgICAgICAgICBqcVhIUi5hbHdheXMoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiBwcmV2aW91cyB2YWx1ZSBkaWRuJ3QgZXhpc3QgLSByZW1vdmUgaXRcbiAgICAgICAgICAgICAgICAgICAgaWYgKG92ZXJ3cml0dGVuID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeSh3aW5kb3cpLnJlbW92ZVByb3AoY2FsbGJhY2tOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSByZXN0b3JlIHByZWV4aXN0aW5nIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3dbY2FsbGJhY2tOYW1lXSA9IG92ZXJ3cml0dGVuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFNhdmUgYmFjayBhcyBmcmVlXG4gICAgICAgICAgICAgICAgICAgIGlmIChzW2NhbGxiYWNrTmFtZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGF0IHJlLXVzaW5nIHRoZSBvcHRpb25zIGRvZXNuJ3Qgc2NyZXcgdGhpbmdzIGFyb3VuZFxuICAgICAgICAgICAgICAgICAgICAgICAgcy5qc29ucENhbGxiYWNrID0gb3JpZ2luYWxTZXR0aW5ncy5qc29ucENhbGxiYWNrO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2F2ZSB0aGUgY2FsbGJhY2sgbmFtZSBmb3IgZnV0dXJlIHVzZVxuICAgICAgICAgICAgICAgICAgICAgICAgb2xkQ2FsbGJhY2tzLnB1c2goY2FsbGJhY2tOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBDYWxsIGlmIGl0IHdhcyBhIGZ1bmN0aW9uIGFuZCB3ZSBoYXZlIGEgcmVzcG9uc2VcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlQ29udGFpbmVyICYmIGlzRnVuY3Rpb24ob3ZlcndyaXR0ZW4pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdmVyd3JpdHRlbihyZXNwb25zZUNvbnRhaW5lclswXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VDb250YWluZXIgPSBvdmVyd3JpdHRlbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyBEZWxlZ2F0ZSB0byBzY3JpcHRcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJzY3JpcHRcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFN1cHBvcnQ6IFNhZmFyaSA4IG9ubHlcbiAgICAgICAgLy8gSW4gU2FmYXJpIDggZG9jdW1lbnRzIGNyZWF0ZWQgdmlhIGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudFxuICAgICAgICAvLyBjb2xsYXBzZSBzaWJsaW5nIGZvcm1zOiB0aGUgc2Vjb25kIG9uZSBiZWNvbWVzIGEgY2hpbGQgb2YgdGhlIGZpcnN0IG9uZS5cbiAgICAgICAgLy8gQmVjYXVzZSBvZiB0aGF0LCB0aGlzIHNlY3VyaXR5IG1lYXN1cmUgaGFzIHRvIGJlIGRpc2FibGVkIGluIFNhZmFyaSA4LlxuICAgICAgICAvLyBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTM3MzM3XG4gICAgICAgIHN1cHBvcnQuY3JlYXRlSFRNTERvY3VtZW50ID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBib2R5ID0gZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KFwiXCIpLmJvZHk7XG4gICAgICAgICAgICBib2R5LmlubmVySFRNTCA9IFwiPGZvcm0+PC9mb3JtPjxmb3JtPjwvZm9ybT5cIjtcbiAgICAgICAgICAgIHJldHVybiBib2R5LmNoaWxkTm9kZXMubGVuZ3RoID09PSAyO1xuICAgICAgICB9KSgpO1xuICAgICAgICAvLyBBcmd1bWVudCBcImRhdGFcIiBzaG91bGQgYmUgc3RyaW5nIG9mIGh0bWxcbiAgICAgICAgLy8gY29udGV4dCAob3B0aW9uYWwpOiBJZiBzcGVjaWZpZWQsIHRoZSBmcmFnbWVudCB3aWxsIGJlIGNyZWF0ZWQgaW4gdGhpcyBjb250ZXh0LFxuICAgICAgICAvLyBkZWZhdWx0cyB0byBkb2N1bWVudFxuICAgICAgICAvLyBrZWVwU2NyaXB0cyAob3B0aW9uYWwpOiBJZiB0cnVlLCB3aWxsIGluY2x1ZGUgc2NyaXB0cyBwYXNzZWQgaW4gdGhlIGh0bWwgc3RyaW5nXG4gICAgICAgIGpRdWVyeS5wYXJzZUhUTUwgPSBmdW5jdGlvbiAoZGF0YSwgY29udGV4dCwga2VlcFNjcmlwdHMpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGV4dCA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICAgICAgICBrZWVwU2NyaXB0cyA9IGNvbnRleHQ7XG4gICAgICAgICAgICAgICAgY29udGV4dCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGJhc2UsIHBhcnNlZCwgc2NyaXB0cztcbiAgICAgICAgICAgIGlmICghY29udGV4dCkge1xuICAgICAgICAgICAgICAgIC8vIFN0b3Agc2NyaXB0cyBvciBpbmxpbmUgZXZlbnQgaGFuZGxlcnMgZnJvbSBiZWluZyBleGVjdXRlZCBpbW1lZGlhdGVseVxuICAgICAgICAgICAgICAgIC8vIGJ5IHVzaW5nIGRvY3VtZW50LmltcGxlbWVudGF0aW9uXG4gICAgICAgICAgICAgICAgaWYgKHN1cHBvcnQuY3JlYXRlSFRNTERvY3VtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgYmFzZSBocmVmIGZvciB0aGUgY3JlYXRlZCBkb2N1bWVudFxuICAgICAgICAgICAgICAgICAgICAvLyBzbyBhbnkgcGFyc2VkIGVsZW1lbnRzIHdpdGggVVJMc1xuICAgICAgICAgICAgICAgICAgICAvLyBhcmUgYmFzZWQgb24gdGhlIGRvY3VtZW50J3MgVVJMIChnaC0yOTY1KVxuICAgICAgICAgICAgICAgICAgICBiYXNlID0gY29udGV4dC5jcmVhdGVFbGVtZW50KFwiYmFzZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgYmFzZS5ocmVmID0gZG9jdW1lbnQubG9jYXRpb24uaHJlZjtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5oZWFkLmFwcGVuZENoaWxkKGJhc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dCA9IGRvY3VtZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcnNlZCA9IHJzaW5nbGVUYWcuZXhlYyhkYXRhKTtcbiAgICAgICAgICAgIHNjcmlwdHMgPSAha2VlcFNjcmlwdHMgJiYgW107XG4gICAgICAgICAgICAvLyBTaW5nbGUgdGFnXG4gICAgICAgICAgICBpZiAocGFyc2VkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtjb250ZXh0LmNyZWF0ZUVsZW1lbnQocGFyc2VkWzFdKV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJzZWQgPSBidWlsZEZyYWdtZW50KFtkYXRhXSwgY29udGV4dCwgc2NyaXB0cyk7XG4gICAgICAgICAgICBpZiAoc2NyaXB0cyAmJiBzY3JpcHRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGpRdWVyeShzY3JpcHRzKS5yZW1vdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBqUXVlcnkubWVyZ2UoW10sIHBhcnNlZC5jaGlsZE5vZGVzKTtcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICogTG9hZCBhIHVybCBpbnRvIGEgcGFnZVxuICAgICAgICAqL1xuICAgICAgICBqUXVlcnkuZm4ubG9hZCA9IGZ1bmN0aW9uICh1cmwsIHBhcmFtcywgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHZhciBzZWxlY3RvciwgdHlwZSwgcmVzcG9uc2UsIHNlbGYgPSB0aGlzLCBvZmYgPSB1cmwuaW5kZXhPZihcIiBcIik7XG4gICAgICAgICAgICBpZiAob2ZmID4gLTEpIHtcbiAgICAgICAgICAgICAgICBzZWxlY3RvciA9IHN0cmlwQW5kQ29sbGFwc2UodXJsLnNsaWNlKG9mZikpO1xuICAgICAgICAgICAgICAgIHVybCA9IHVybC5zbGljZSgwLCBvZmYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgaXQncyBhIGZ1bmN0aW9uXG4gICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihwYXJhbXMpKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgYXNzdW1lIHRoYXQgaXQncyB0aGUgY2FsbGJhY2tcbiAgICAgICAgICAgICAgICBjYWxsYmFjayA9IHBhcmFtcztcbiAgICAgICAgICAgICAgICBwYXJhbXMgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCBidWlsZCBhIHBhcmFtIHN0cmluZ1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocGFyYW1zICYmIHR5cGVvZiBwYXJhbXMgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICB0eXBlID0gXCJQT1NUXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiB3ZSBoYXZlIGVsZW1lbnRzIHRvIG1vZGlmeSwgbWFrZSB0aGUgcmVxdWVzdFxuICAgICAgICAgICAgaWYgKHNlbGYubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGpRdWVyeS5hamF4KHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIFwidHlwZVwiIHZhcmlhYmxlIGlzIHVuZGVmaW5lZCwgdGhlbiBcIkdFVFwiIG1ldGhvZCB3aWxsIGJlIHVzZWQuXG4gICAgICAgICAgICAgICAgICAgIC8vIE1ha2UgdmFsdWUgb2YgdGhpcyBmaWVsZCBleHBsaWNpdCBzaW5jZVxuICAgICAgICAgICAgICAgICAgICAvLyB1c2VyIGNhbiBvdmVycmlkZSBpdCB0aHJvdWdoIGFqYXhTZXR1cCBtZXRob2RcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZSB8fCBcIkdFVFwiLFxuICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogXCJodG1sXCIsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHBhcmFtc1xuICAgICAgICAgICAgICAgIH0pLmRvbmUoZnVuY3Rpb24gKHJlc3BvbnNlVGV4dCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBTYXZlIHJlc3BvbnNlIGZvciB1c2UgaW4gY29tcGxldGUgY2FsbGJhY2tcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBhcmd1bWVudHM7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuaHRtbChzZWxlY3RvciA/XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBhIHNlbGVjdG9yIHdhcyBzcGVjaWZpZWQsIGxvY2F0ZSB0aGUgcmlnaHQgZWxlbWVudHMgaW4gYSBkdW1teSBkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEV4Y2x1ZGUgc2NyaXB0cyB0byBhdm9pZCBJRSAnUGVybWlzc2lvbiBEZW5pZWQnIGVycm9yc1xuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KFwiPGRpdj5cIikuYXBwZW5kKGpRdWVyeS5wYXJzZUhUTUwocmVzcG9uc2VUZXh0KSkuZmluZChzZWxlY3RvcikgOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIHVzZSB0aGUgZnVsbCByZXN1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSByZXF1ZXN0IHN1Y2NlZWRzLCB0aGlzIGZ1bmN0aW9uIGdldHMgXCJkYXRhXCIsIFwic3RhdHVzXCIsIFwianFYSFJcIlxuICAgICAgICAgICAgICAgICAgICAvLyBidXQgdGhleSBhcmUgaWdub3JlZCBiZWNhdXNlIHJlc3BvbnNlIHdhcyBzZXQgYWJvdmUuXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIGl0IGZhaWxzLCB0aGlzIGZ1bmN0aW9uIGdldHMgXCJqcVhIUlwiLCBcInN0YXR1c1wiLCBcImVycm9yXCJcbiAgICAgICAgICAgICAgICB9KS5hbHdheXMoY2FsbGJhY2sgJiYgZnVuY3Rpb24gKGpxWEhSLCBzdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KHRoaXMsIHJlc3BvbnNlIHx8IFtqcVhIUi5yZXNwb25zZVRleHQsIHN0YXR1cywganFYSFJdKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgalF1ZXJ5LmV4cHIucHNldWRvcy5hbmltYXRlZCA9IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICByZXR1cm4galF1ZXJ5LmdyZXAoalF1ZXJ5LnRpbWVycywgZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsZW0gPT09IGZuLmVsZW07XG4gICAgICAgICAgICB9KS5sZW5ndGg7XG4gICAgICAgIH07XG4gICAgICAgIGpRdWVyeS5vZmZzZXQgPSB7XG4gICAgICAgICAgICBzZXRPZmZzZXQ6IGZ1bmN0aW9uIChlbGVtLCBvcHRpb25zLCBpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGN1clBvc2l0aW9uLCBjdXJMZWZ0LCBjdXJDU1NUb3AsIGN1clRvcCwgY3VyT2Zmc2V0LCBjdXJDU1NMZWZ0LCBjYWxjdWxhdGVQb3NpdGlvbiwgcG9zaXRpb24gPSBqUXVlcnkuY3NzKGVsZW0sIFwicG9zaXRpb25cIiksIGN1ckVsZW0gPSBqUXVlcnkoZWxlbSksIHByb3BzID0ge307XG4gICAgICAgICAgICAgICAgLy8gU2V0IHBvc2l0aW9uIGZpcnN0LCBpbi1jYXNlIHRvcC9sZWZ0IGFyZSBzZXQgZXZlbiBvbiBzdGF0aWMgZWxlbVxuICAgICAgICAgICAgICAgIGlmIChwb3NpdGlvbiA9PT0gXCJzdGF0aWNcIikge1xuICAgICAgICAgICAgICAgICAgICBlbGVtLnN0eWxlLnBvc2l0aW9uID0gXCJyZWxhdGl2ZVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjdXJPZmZzZXQgPSBjdXJFbGVtLm9mZnNldCgpO1xuICAgICAgICAgICAgICAgIGN1ckNTU1RvcCA9IGpRdWVyeS5jc3MoZWxlbSwgXCJ0b3BcIik7XG4gICAgICAgICAgICAgICAgY3VyQ1NTTGVmdCA9IGpRdWVyeS5jc3MoZWxlbSwgXCJsZWZ0XCIpO1xuICAgICAgICAgICAgICAgIGNhbGN1bGF0ZVBvc2l0aW9uID0gKHBvc2l0aW9uID09PSBcImFic29sdXRlXCIgfHwgcG9zaXRpb24gPT09IFwiZml4ZWRcIikgJiZcbiAgICAgICAgICAgICAgICAgICAgKGN1ckNTU1RvcCArIGN1ckNTU0xlZnQpLmluZGV4T2YoXCJhdXRvXCIpID4gLTE7XG4gICAgICAgICAgICAgICAgLy8gTmVlZCB0byBiZSBhYmxlIHRvIGNhbGN1bGF0ZSBwb3NpdGlvbiBpZiBlaXRoZXJcbiAgICAgICAgICAgICAgICAvLyB0b3Agb3IgbGVmdCBpcyBhdXRvIGFuZCBwb3NpdGlvbiBpcyBlaXRoZXIgYWJzb2x1dGUgb3IgZml4ZWRcbiAgICAgICAgICAgICAgICBpZiAoY2FsY3VsYXRlUG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgY3VyUG9zaXRpb24gPSBjdXJFbGVtLnBvc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIGN1clRvcCA9IGN1clBvc2l0aW9uLnRvcDtcbiAgICAgICAgICAgICAgICAgICAgY3VyTGVmdCA9IGN1clBvc2l0aW9uLmxlZnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjdXJUb3AgPSBwYXJzZUZsb2F0KGN1ckNTU1RvcCkgfHwgMDtcbiAgICAgICAgICAgICAgICAgICAgY3VyTGVmdCA9IHBhcnNlRmxvYXQoY3VyQ1NTTGVmdCkgfHwgMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24ob3B0aW9ucykpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVXNlIGpRdWVyeS5leHRlbmQgaGVyZSB0byBhbGxvdyBtb2RpZmljYXRpb24gb2YgY29vcmRpbmF0ZXMgYXJndW1lbnQgKGdoLTE4NDgpXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zLmNhbGwoZWxlbSwgaSwgalF1ZXJ5LmV4dGVuZCh7fSwgY3VyT2Zmc2V0KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnRvcCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb3BzLnRvcCA9IChvcHRpb25zLnRvcCAtIGN1ck9mZnNldC50b3ApICsgY3VyVG9wO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5sZWZ0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMubGVmdCA9IChvcHRpb25zLmxlZnQgLSBjdXJPZmZzZXQubGVmdCkgKyBjdXJMZWZ0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoXCJ1c2luZ1wiIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy51c2luZy5jYWxsKGVsZW0sIHByb3BzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGN1ckVsZW0uY3NzKHByb3BzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGpRdWVyeS5mbi5leHRlbmQoe1xuICAgICAgICAgICAgLy8gb2Zmc2V0KCkgcmVsYXRlcyBhbiBlbGVtZW50J3MgYm9yZGVyIGJveCB0byB0aGUgZG9jdW1lbnQgb3JpZ2luXG4gICAgICAgICAgICBvZmZzZXQ6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgLy8gUHJlc2VydmUgY2hhaW5pbmcgZm9yIHNldHRlclxuICAgICAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb25zID09PSB1bmRlZmluZWQgP1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcyA6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVhY2goZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkub2Zmc2V0LnNldE9mZnNldCh0aGlzLCBvcHRpb25zLCBpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgcmVjdCwgd2luLCBlbGVtID0gdGhpc1swXTtcbiAgICAgICAgICAgICAgICBpZiAoIWVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBSZXR1cm4gemVyb3MgZm9yIGRpc2Nvbm5lY3RlZCBhbmQgaGlkZGVuIChkaXNwbGF5OiBub25lKSBlbGVtZW50cyAoZ2gtMjMxMClcbiAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHlcbiAgICAgICAgICAgICAgICAvLyBSdW5uaW5nIGdldEJvdW5kaW5nQ2xpZW50UmVjdCBvbiBhXG4gICAgICAgICAgICAgICAgLy8gZGlzY29ubmVjdGVkIG5vZGUgaW4gSUUgdGhyb3dzIGFuIGVycm9yXG4gICAgICAgICAgICAgICAgaWYgKCFlbGVtLmdldENsaWVudFJlY3RzKCkubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHRvcDogMCwgbGVmdDogMCB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBHZXQgZG9jdW1lbnQtcmVsYXRpdmUgcG9zaXRpb24gYnkgYWRkaW5nIHZpZXdwb3J0IHNjcm9sbCB0byB2aWV3cG9ydC1yZWxhdGl2ZSBnQkNSXG4gICAgICAgICAgICAgICAgcmVjdCA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgd2luID0gZWxlbS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHRvcDogcmVjdC50b3AgKyB3aW4ucGFnZVlPZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IHJlY3QubGVmdCArIHdpbi5wYWdlWE9mZnNldFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gcG9zaXRpb24oKSByZWxhdGVzIGFuIGVsZW1lbnQncyBtYXJnaW4gYm94IHRvIGl0cyBvZmZzZXQgcGFyZW50J3MgcGFkZGluZyBib3hcbiAgICAgICAgICAgIC8vIFRoaXMgY29ycmVzcG9uZHMgdG8gdGhlIGJlaGF2aW9yIG9mIENTUyBhYnNvbHV0ZSBwb3NpdGlvbmluZ1xuICAgICAgICAgICAgcG9zaXRpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXNbMF0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0UGFyZW50LCBvZmZzZXQsIGRvYywgZWxlbSA9IHRoaXNbMF0sIHBhcmVudE9mZnNldCA9IHsgdG9wOiAwLCBsZWZ0OiAwIH07XG4gICAgICAgICAgICAgICAgLy8gcG9zaXRpb246Zml4ZWQgZWxlbWVudHMgYXJlIG9mZnNldCBmcm9tIHRoZSB2aWV3cG9ydCwgd2hpY2ggaXRzZWxmIGFsd2F5cyBoYXMgemVybyBvZmZzZXRcbiAgICAgICAgICAgICAgICBpZiAoalF1ZXJ5LmNzcyhlbGVtLCBcInBvc2l0aW9uXCIpID09PSBcImZpeGVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQXNzdW1lIHBvc2l0aW9uOmZpeGVkIGltcGxpZXMgYXZhaWxhYmlsaXR5IG9mIGdldEJvdW5kaW5nQ2xpZW50UmVjdFxuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gdGhpcy5vZmZzZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQWNjb3VudCBmb3IgdGhlICpyZWFsKiBvZmZzZXQgcGFyZW50LCB3aGljaCBjYW4gYmUgdGhlIGRvY3VtZW50IG9yIGl0cyByb290IGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgLy8gd2hlbiBhIHN0YXRpY2FsbHkgcG9zaXRpb25lZCBlbGVtZW50IGlzIGlkZW50aWZpZWRcbiAgICAgICAgICAgICAgICAgICAgZG9jID0gZWxlbS5vd25lckRvY3VtZW50O1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXRQYXJlbnQgPSBlbGVtLm9mZnNldFBhcmVudCB8fCBkb2MuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAob2Zmc2V0UGFyZW50ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAob2Zmc2V0UGFyZW50ID09PSBkb2MuYm9keSB8fCBvZmZzZXRQYXJlbnQgPT09IGRvYy5kb2N1bWVudEVsZW1lbnQpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuY3NzKG9mZnNldFBhcmVudCwgXCJwb3NpdGlvblwiKSA9PT0gXCJzdGF0aWNcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0UGFyZW50ID0gb2Zmc2V0UGFyZW50LnBhcmVudE5vZGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9mZnNldFBhcmVudCAmJiBvZmZzZXRQYXJlbnQgIT09IGVsZW0gJiYgb2Zmc2V0UGFyZW50Lm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJbmNvcnBvcmF0ZSBib3JkZXJzIGludG8gaXRzIG9mZnNldCwgc2luY2UgdGhleSBhcmUgb3V0c2lkZSBpdHMgY29udGVudCBvcmlnaW5cbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudE9mZnNldCA9IGpRdWVyeShvZmZzZXRQYXJlbnQpLm9mZnNldCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50T2Zmc2V0LnRvcCArPSBqUXVlcnkuY3NzKG9mZnNldFBhcmVudCwgXCJib3JkZXJUb3BXaWR0aFwiLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudE9mZnNldC5sZWZ0ICs9IGpRdWVyeS5jc3Mob2Zmc2V0UGFyZW50LCBcImJvcmRlckxlZnRXaWR0aFwiLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBTdWJ0cmFjdCBwYXJlbnQgb2Zmc2V0cyBhbmQgZWxlbWVudCBtYXJnaW5zXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdG9wOiBvZmZzZXQudG9wIC0gcGFyZW50T2Zmc2V0LnRvcCAtIGpRdWVyeS5jc3MoZWxlbSwgXCJtYXJnaW5Ub3BcIiwgdHJ1ZSksXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IG9mZnNldC5sZWZ0IC0gcGFyZW50T2Zmc2V0LmxlZnQgLSBqUXVlcnkuY3NzKGVsZW0sIFwibWFyZ2luTGVmdFwiLCB0cnVlKVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gVGhpcyBtZXRob2Qgd2lsbCByZXR1cm4gZG9jdW1lbnRFbGVtZW50IGluIHRoZSBmb2xsb3dpbmcgY2FzZXM6XG4gICAgICAgICAgICAvLyAxKSBGb3IgdGhlIGVsZW1lbnQgaW5zaWRlIHRoZSBpZnJhbWUgd2l0aG91dCBvZmZzZXRQYXJlbnQsIHRoaXMgbWV0aG9kIHdpbGwgcmV0dXJuXG4gICAgICAgICAgICAvLyAgICBkb2N1bWVudEVsZW1lbnQgb2YgdGhlIHBhcmVudCB3aW5kb3dcbiAgICAgICAgICAgIC8vIDIpIEZvciB0aGUgaGlkZGVuIG9yIGRldGFjaGVkIGVsZW1lbnRcbiAgICAgICAgICAgIC8vIDMpIEZvciBib2R5IG9yIGh0bWwgZWxlbWVudCwgaS5lLiBpbiBjYXNlIG9mIHRoZSBodG1sIG5vZGUgLSBpdCB3aWxsIHJldHVybiBpdHNlbGZcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBidXQgdGhvc2UgZXhjZXB0aW9ucyB3ZXJlIG5ldmVyIHByZXNlbnRlZCBhcyBhIHJlYWwgbGlmZSB1c2UtY2FzZXNcbiAgICAgICAgICAgIC8vIGFuZCBtaWdodCBiZSBjb25zaWRlcmVkIGFzIG1vcmUgcHJlZmVyYWJsZSByZXN1bHRzLlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIFRoaXMgbG9naWMsIGhvd2V2ZXIsIGlzIG5vdCBndWFyYW50ZWVkIGFuZCBjYW4gY2hhbmdlIGF0IGFueSBwb2ludCBpbiB0aGUgZnV0dXJlXG4gICAgICAgICAgICBvZmZzZXRQYXJlbnQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0UGFyZW50ID0gdGhpcy5vZmZzZXRQYXJlbnQ7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChvZmZzZXRQYXJlbnQgJiYgalF1ZXJ5LmNzcyhvZmZzZXRQYXJlbnQsIFwicG9zaXRpb25cIikgPT09IFwic3RhdGljXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldFBhcmVudCA9IG9mZnNldFBhcmVudC5vZmZzZXRQYXJlbnQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9mZnNldFBhcmVudCB8fCBkb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBDcmVhdGUgc2Nyb2xsTGVmdCBhbmQgc2Nyb2xsVG9wIG1ldGhvZHNcbiAgICAgICAgalF1ZXJ5LmVhY2goeyBzY3JvbGxMZWZ0OiBcInBhZ2VYT2Zmc2V0XCIsIHNjcm9sbFRvcDogXCJwYWdlWU9mZnNldFwiIH0sIGZ1bmN0aW9uIChtZXRob2QsIHByb3ApIHtcbiAgICAgICAgICAgIHZhciB0b3AgPSBcInBhZ2VZT2Zmc2V0XCIgPT09IHByb3A7XG4gICAgICAgICAgICBqUXVlcnkuZm5bbWV0aG9kXSA9IGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjZXNzKHRoaXMsIGZ1bmN0aW9uIChlbGVtLCBtZXRob2QsIHZhbCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBDb2FsZXNjZSBkb2N1bWVudHMgYW5kIHdpbmRvd3NcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdpbjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzV2luZG93KGVsZW0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW4gPSBlbGVtO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGVsZW0ubm9kZVR5cGUgPT09IDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbiA9IGVsZW0uZGVmYXVsdFZpZXc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2luID8gd2luW3Byb3BdIDogZWxlbVttZXRob2RdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh3aW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbi5zY3JvbGxUbyghdG9wID8gdmFsIDogd2luLnBhZ2VYT2Zmc2V0LCB0b3AgPyB2YWwgOiB3aW4ucGFnZVlPZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbVttZXRob2RdID0gdmFsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgbWV0aG9kLCB2YWwsIGFyZ3VtZW50cy5sZW5ndGgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFN1cHBvcnQ6IFNhZmFyaSA8PTcgLSA5LjEsIENocm9tZSA8PTM3IC0gNDlcbiAgICAgICAgLy8gQWRkIHRoZSB0b3AvbGVmdCBjc3NIb29rcyB1c2luZyBqUXVlcnkuZm4ucG9zaXRpb25cbiAgICAgICAgLy8gV2Via2l0IGJ1ZzogaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTI5MDg0XG4gICAgICAgIC8vIEJsaW5rIGJ1ZzogaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NTg5MzQ3XG4gICAgICAgIC8vIGdldENvbXB1dGVkU3R5bGUgcmV0dXJucyBwZXJjZW50IHdoZW4gc3BlY2lmaWVkIGZvciB0b3AvbGVmdC9ib3R0b20vcmlnaHQ7XG4gICAgICAgIC8vIHJhdGhlciB0aGFuIG1ha2UgdGhlIGNzcyBtb2R1bGUgZGVwZW5kIG9uIHRoZSBvZmZzZXQgbW9kdWxlLCBqdXN0IGNoZWNrIGZvciBpdCBoZXJlXG4gICAgICAgIGpRdWVyeS5lYWNoKFtcInRvcFwiLCBcImxlZnRcIl0sIGZ1bmN0aW9uIChfaSwgcHJvcCkge1xuICAgICAgICAgICAgalF1ZXJ5LmNzc0hvb2tzW3Byb3BdID0gYWRkR2V0SG9va0lmKHN1cHBvcnQucGl4ZWxQb3NpdGlvbiwgZnVuY3Rpb24gKGVsZW0sIGNvbXB1dGVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbXB1dGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkID0gY3VyQ1NTKGVsZW0sIHByb3ApO1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiBjdXJDU1MgcmV0dXJucyBwZXJjZW50YWdlLCBmYWxsYmFjayB0byBvZmZzZXRcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJudW1ub25weC50ZXN0KGNvbXB1dGVkKSA/XG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkoZWxlbSkucG9zaXRpb24oKVtwcm9wXSArIFwicHhcIiA6XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIENyZWF0ZSBpbm5lckhlaWdodCwgaW5uZXJXaWR0aCwgaGVpZ2h0LCB3aWR0aCwgb3V0ZXJIZWlnaHQgYW5kIG91dGVyV2lkdGggbWV0aG9kc1xuICAgICAgICBqUXVlcnkuZWFjaCh7IEhlaWdodDogXCJoZWlnaHRcIiwgV2lkdGg6IFwid2lkdGhcIiB9LCBmdW5jdGlvbiAobmFtZSwgdHlwZSkge1xuICAgICAgICAgICAgalF1ZXJ5LmVhY2goe1xuICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiaW5uZXJcIiArIG5hbWUsXG4gICAgICAgICAgICAgICAgY29udGVudDogdHlwZSxcbiAgICAgICAgICAgICAgICBcIlwiOiBcIm91dGVyXCIgKyBuYW1lXG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoZGVmYXVsdEV4dHJhLCBmdW5jTmFtZSkge1xuICAgICAgICAgICAgICAgIC8vIE1hcmdpbiBpcyBvbmx5IGZvciBvdXRlckhlaWdodCwgb3V0ZXJXaWR0aFxuICAgICAgICAgICAgICAgIGpRdWVyeS5mbltmdW5jTmFtZV0gPSBmdW5jdGlvbiAobWFyZ2luLCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2hhaW5hYmxlID0gYXJndW1lbnRzLmxlbmd0aCAmJiAoZGVmYXVsdEV4dHJhIHx8IHR5cGVvZiBtYXJnaW4gIT09IFwiYm9vbGVhblwiKSwgZXh0cmEgPSBkZWZhdWx0RXh0cmEgfHwgKG1hcmdpbiA9PT0gdHJ1ZSB8fCB2YWx1ZSA9PT0gdHJ1ZSA/IFwibWFyZ2luXCIgOiBcImJvcmRlclwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjY2Vzcyh0aGlzLCBmdW5jdGlvbiAoZWxlbSwgdHlwZSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkb2M7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNXaW5kb3coZWxlbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAkKCB3aW5kb3cgKS5vdXRlcldpZHRoL0hlaWdodCByZXR1cm4gdy9oIGluY2x1ZGluZyBzY3JvbGxiYXJzIChnaC0xNzI5KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jTmFtZS5pbmRleE9mKFwib3V0ZXJcIikgPT09IDAgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtW1wiaW5uZXJcIiArIG5hbWVdIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbXCJjbGllbnRcIiArIG5hbWVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gR2V0IGRvY3VtZW50IHdpZHRoIG9yIGhlaWdodFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW0ubm9kZVR5cGUgPT09IDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MgPSBlbGVtLmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBFaXRoZXIgc2Nyb2xsW1dpZHRoL0hlaWdodF0gb3Igb2Zmc2V0W1dpZHRoL0hlaWdodF0gb3IgY2xpZW50W1dpZHRoL0hlaWdodF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2hpY2hldmVyIGlzIGdyZWF0ZXN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGgubWF4KGVsZW0uYm9keVtcInNjcm9sbFwiICsgbmFtZV0sIGRvY1tcInNjcm9sbFwiICsgbmFtZV0sIGVsZW0uYm9keVtcIm9mZnNldFwiICsgbmFtZV0sIGRvY1tcIm9mZnNldFwiICsgbmFtZV0sIGRvY1tcImNsaWVudFwiICsgbmFtZV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldCB3aWR0aCBvciBoZWlnaHQgb24gdGhlIGVsZW1lbnQsIHJlcXVlc3RpbmcgYnV0IG5vdCBmb3JjaW5nIHBhcnNlRmxvYXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuY3NzKGVsZW0sIHR5cGUsIGV4dHJhKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0IHdpZHRoIG9yIGhlaWdodCBvbiB0aGUgZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5zdHlsZShlbGVtLCB0eXBlLCB2YWx1ZSwgZXh0cmEpO1xuICAgICAgICAgICAgICAgICAgICB9LCB0eXBlLCBjaGFpbmFibGUgPyBtYXJnaW4gOiB1bmRlZmluZWQsIGNoYWluYWJsZSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgalF1ZXJ5LmVhY2goW1xuICAgICAgICAgICAgXCJhamF4U3RhcnRcIixcbiAgICAgICAgICAgIFwiYWpheFN0b3BcIixcbiAgICAgICAgICAgIFwiYWpheENvbXBsZXRlXCIsXG4gICAgICAgICAgICBcImFqYXhFcnJvclwiLFxuICAgICAgICAgICAgXCJhamF4U3VjY2Vzc1wiLFxuICAgICAgICAgICAgXCJhamF4U2VuZFwiXG4gICAgICAgIF0sIGZ1bmN0aW9uIChfaSwgdHlwZSkge1xuICAgICAgICAgICAgalF1ZXJ5LmZuW3R5cGVdID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub24odHlwZSwgZm4pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIGpRdWVyeS5mbi5leHRlbmQoe1xuICAgICAgICAgICAgYmluZDogZnVuY3Rpb24gKHR5cGVzLCBkYXRhLCBmbikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm9uKHR5cGVzLCBudWxsLCBkYXRhLCBmbik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdW5iaW5kOiBmdW5jdGlvbiAodHlwZXMsIGZuKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub2ZmKHR5cGVzLCBudWxsLCBmbik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGVsZWdhdGU6IGZ1bmN0aW9uIChzZWxlY3RvciwgdHlwZXMsIGRhdGEsIGZuKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub24odHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdW5kZWxlZ2F0ZTogZnVuY3Rpb24gKHNlbGVjdG9yLCB0eXBlcywgZm4pIHtcbiAgICAgICAgICAgICAgICAvLyAoIG5hbWVzcGFjZSApIG9yICggc2VsZWN0b3IsIHR5cGVzIFssIGZuXSApXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPT09IDEgP1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9mZihzZWxlY3RvciwgXCIqKlwiKSA6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub2ZmKHR5cGVzLCBzZWxlY3RvciB8fCBcIioqXCIsIGZuKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBob3ZlcjogZnVuY3Rpb24gKGZuT3ZlciwgZm5PdXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpc1xuICAgICAgICAgICAgICAgICAgICAub24oXCJtb3VzZWVudGVyXCIsIGZuT3ZlcilcbiAgICAgICAgICAgICAgICAgICAgLm9uKFwibW91c2VsZWF2ZVwiLCBmbk91dCB8fCBmbk92ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgalF1ZXJ5LmVhY2goKFwiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IHJlc2l6ZSBzY3JvbGwgY2xpY2sgZGJsY2xpY2sgXCIgK1xuICAgICAgICAgICAgXCJtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBcIiArXG4gICAgICAgICAgICBcImNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgY29udGV4dG1lbnVcIikuc3BsaXQoXCIgXCIpLCBmdW5jdGlvbiAoX2ksIG5hbWUpIHtcbiAgICAgICAgICAgIC8vIEhhbmRsZSBldmVudCBiaW5kaW5nXG4gICAgICAgICAgICBqUXVlcnkuZm5bbmFtZV0gPSBmdW5jdGlvbiAoZGF0YSwgZm4pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA+IDAgP1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uKG5hbWUsIG51bGwsIGRhdGEsIGZuKSA6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlcihuYW1lKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHlcbiAgICAgICAgLy8gTWFrZSBzdXJlIHdlIHRyaW0gQk9NIGFuZCBOQlNQXG4gICAgICAgIC8vIFJlcXVpcmUgdGhhdCB0aGUgXCJ3aGl0ZXNwYWNlIHJ1blwiIHN0YXJ0cyBmcm9tIGEgbm9uLXdoaXRlc3BhY2VcbiAgICAgICAgLy8gdG8gYXZvaWQgTyhOXjIpIGJlaGF2aW9yIHdoZW4gdGhlIGVuZ2luZSB3b3VsZCB0cnkgbWF0Y2hpbmcgXCJcXHMrJFwiIGF0IGVhY2ggc3BhY2UgcG9zaXRpb24uXG4gICAgICAgIHZhciBydHJpbSA9IC9eW1xcc1xcdUZFRkZcXHhBMF0rfChbXlxcc1xcdUZFRkZcXHhBMF0pW1xcc1xcdUZFRkZcXHhBMF0rJC9nO1xuICAgICAgICAvLyBCaW5kIGEgZnVuY3Rpb24gdG8gYSBjb250ZXh0LCBvcHRpb25hbGx5IHBhcnRpYWxseSBhcHBseWluZyBhbnlcbiAgICAgICAgLy8gYXJndW1lbnRzLlxuICAgICAgICAvLyBqUXVlcnkucHJveHkgaXMgZGVwcmVjYXRlZCB0byBwcm9tb3RlIHN0YW5kYXJkcyAoc3BlY2lmaWNhbGx5IEZ1bmN0aW9uI2JpbmQpXG4gICAgICAgIC8vIEhvd2V2ZXIsIGl0IGlzIG5vdCBzbGF0ZWQgZm9yIHJlbW92YWwgYW55IHRpbWUgc29vblxuICAgICAgICBqUXVlcnkucHJveHkgPSBmdW5jdGlvbiAoZm4sIGNvbnRleHQpIHtcbiAgICAgICAgICAgIHZhciB0bXAsIGFyZ3MsIHByb3h5O1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZXh0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgdG1wID0gZm5bY29udGV4dF07XG4gICAgICAgICAgICAgICAgY29udGV4dCA9IGZuO1xuICAgICAgICAgICAgICAgIGZuID0gdG1wO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUXVpY2sgY2hlY2sgdG8gZGV0ZXJtaW5lIGlmIHRhcmdldCBpcyBjYWxsYWJsZSwgaW4gdGhlIHNwZWNcbiAgICAgICAgICAgIC8vIHRoaXMgdGhyb3dzIGEgVHlwZUVycm9yLCBidXQgd2Ugd2lsbCBqdXN0IHJldHVybiB1bmRlZmluZWQuXG4gICAgICAgICAgICBpZiAoIWlzRnVuY3Rpb24oZm4pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNpbXVsYXRlZCBiaW5kXG4gICAgICAgICAgICBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpO1xuICAgICAgICAgICAgcHJveHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZuLmFwcGx5KGNvbnRleHQgfHwgdGhpcywgYXJncy5jb25jYXQoc2xpY2UuY2FsbChhcmd1bWVudHMpKSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gU2V0IHRoZSBndWlkIG9mIHVuaXF1ZSBoYW5kbGVyIHRvIHRoZSBzYW1lIG9mIG9yaWdpbmFsIGhhbmRsZXIsIHNvIGl0IGNhbiBiZSByZW1vdmVkXG4gICAgICAgICAgICBwcm94eS5ndWlkID0gZm4uZ3VpZCA9IGZuLmd1aWQgfHwgalF1ZXJ5Lmd1aWQrKztcbiAgICAgICAgICAgIHJldHVybiBwcm94eTtcbiAgICAgICAgfTtcbiAgICAgICAgalF1ZXJ5LmhvbGRSZWFkeSA9IGZ1bmN0aW9uIChob2xkKSB7XG4gICAgICAgICAgICBpZiAoaG9sZCkge1xuICAgICAgICAgICAgICAgIGpRdWVyeS5yZWFkeVdhaXQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGpRdWVyeS5yZWFkeSh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgalF1ZXJ5LmlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuICAgICAgICBqUXVlcnkucGFyc2VKU09OID0gSlNPTi5wYXJzZTtcbiAgICAgICAgalF1ZXJ5Lm5vZGVOYW1lID0gbm9kZU5hbWU7XG4gICAgICAgIGpRdWVyeS5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvbjtcbiAgICAgICAgalF1ZXJ5LmlzV2luZG93ID0gaXNXaW5kb3c7XG4gICAgICAgIGpRdWVyeS5jYW1lbENhc2UgPSBjYW1lbENhc2U7XG4gICAgICAgIGpRdWVyeS50eXBlID0gdG9UeXBlO1xuICAgICAgICBqUXVlcnkubm93ID0gRGF0ZS5ub3c7XG4gICAgICAgIGpRdWVyeS5pc051bWVyaWMgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICAvLyBBcyBvZiBqUXVlcnkgMy4wLCBpc051bWVyaWMgaXMgbGltaXRlZCB0b1xuICAgICAgICAgICAgLy8gc3RyaW5ncyBhbmQgbnVtYmVycyAocHJpbWl0aXZlcyBvciBvYmplY3RzKVxuICAgICAgICAgICAgLy8gdGhhdCBjYW4gYmUgY29lcmNlZCB0byBmaW5pdGUgbnVtYmVycyAoZ2gtMjY2MilcbiAgICAgICAgICAgIHZhciB0eXBlID0galF1ZXJ5LnR5cGUob2JqKTtcbiAgICAgICAgICAgIHJldHVybiAodHlwZSA9PT0gXCJudW1iZXJcIiB8fCB0eXBlID09PSBcInN0cmluZ1wiKSAmJlxuICAgICAgICAgICAgICAgIC8vIHBhcnNlRmxvYXQgTmFOcyBudW1lcmljLWNhc3QgZmFsc2UgcG9zaXRpdmVzIChcIlwiKVxuICAgICAgICAgICAgICAgIC8vIC4uLmJ1dCBtaXNpbnRlcnByZXRzIGxlYWRpbmctbnVtYmVyIHN0cmluZ3MsIHBhcnRpY3VsYXJseSBoZXggbGl0ZXJhbHMgKFwiMHguLi5cIilcbiAgICAgICAgICAgICAgICAvLyBzdWJ0cmFjdGlvbiBmb3JjZXMgaW5maW5pdGllcyB0byBOYU5cbiAgICAgICAgICAgICAgICAhaXNOYU4ob2JqIC0gcGFyc2VGbG9hdChvYmopKTtcbiAgICAgICAgfTtcbiAgICAgICAgalF1ZXJ5LnRyaW0gPSBmdW5jdGlvbiAodGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIHRleHQgPT0gbnVsbCA/XG4gICAgICAgICAgICAgICAgXCJcIiA6XG4gICAgICAgICAgICAgICAgKHRleHQgKyBcIlwiKS5yZXBsYWNlKHJ0cmltLCBcIiQxXCIpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBSZWdpc3RlciBhcyBhIG5hbWVkIEFNRCBtb2R1bGUsIHNpbmNlIGpRdWVyeSBjYW4gYmUgY29uY2F0ZW5hdGVkIHdpdGggb3RoZXJcbiAgICAgICAgLy8gZmlsZXMgdGhhdCBtYXkgdXNlIGRlZmluZSwgYnV0IG5vdCB2aWEgYSBwcm9wZXIgY29uY2F0ZW5hdGlvbiBzY3JpcHQgdGhhdFxuICAgICAgICAvLyB1bmRlcnN0YW5kcyBhbm9ueW1vdXMgQU1EIG1vZHVsZXMuIEEgbmFtZWQgQU1EIGlzIHNhZmVzdCBhbmQgbW9zdCByb2J1c3RcbiAgICAgICAgLy8gd2F5IHRvIHJlZ2lzdGVyLiBMb3dlcmNhc2UganF1ZXJ5IGlzIHVzZWQgYmVjYXVzZSBBTUQgbW9kdWxlIG5hbWVzIGFyZVxuICAgICAgICAvLyBkZXJpdmVkIGZyb20gZmlsZSBuYW1lcywgYW5kIGpRdWVyeSBpcyBub3JtYWxseSBkZWxpdmVyZWQgaW4gYSBsb3dlcmNhc2VcbiAgICAgICAgLy8gZmlsZSBuYW1lLiBEbyB0aGlzIGFmdGVyIGNyZWF0aW5nIHRoZSBnbG9iYWwgc28gdGhhdCBpZiBhbiBBTUQgbW9kdWxlIHdhbnRzXG4gICAgICAgIC8vIHRvIGNhbGwgbm9Db25mbGljdCB0byBoaWRlIHRoaXMgdmVyc2lvbiBvZiBqUXVlcnksIGl0IHdpbGwgd29yay5cbiAgICAgICAgLy8gTm90ZSB0aGF0IGZvciBtYXhpbXVtIHBvcnRhYmlsaXR5LCBsaWJyYXJpZXMgdGhhdCBhcmUgbm90IGpRdWVyeSBzaG91bGRcbiAgICAgICAgLy8gZGVjbGFyZSB0aGVtc2VsdmVzIGFzIGFub255bW91cyBtb2R1bGVzLCBhbmQgYXZvaWQgc2V0dGluZyBhIGdsb2JhbCBpZiBhblxuICAgICAgICAvLyBBTUQgbG9hZGVyIGlzIHByZXNlbnQuIGpRdWVyeSBpcyBhIHNwZWNpYWwgY2FzZS4gRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZVxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vanJidXJrZS9yZXF1aXJlanMvd2lraS9VcGRhdGluZy1leGlzdGluZy1saWJyYXJpZXMjd2lraS1hbm9uXG4gICAgICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICAgICAgZGVmaW5lKFwianF1ZXJ5XCIsIFtdLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGpRdWVyeTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBcbiAgICAgICAgLy8gTWFwIG92ZXIgalF1ZXJ5IGluIGNhc2Ugb2Ygb3ZlcndyaXRlXG4gICAgICAgIF9qUXVlcnkgPSB3aW5kb3cualF1ZXJ5LCBcbiAgICAgICAgLy8gTWFwIG92ZXIgdGhlICQgaW4gY2FzZSBvZiBvdmVyd3JpdGVcbiAgICAgICAgXyQgPSB3aW5kb3cuJDtcbiAgICAgICAgalF1ZXJ5Lm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoZGVlcCkge1xuICAgICAgICAgICAgaWYgKHdpbmRvdy4kID09PSBqUXVlcnkpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuJCA9IF8kO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRlZXAgJiYgd2luZG93LmpRdWVyeSA9PT0galF1ZXJ5KSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmpRdWVyeSA9IF9qUXVlcnk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4galF1ZXJ5O1xuICAgICAgICB9O1xuICAgICAgICAvLyBFeHBvc2UgalF1ZXJ5IGFuZCAkIGlkZW50aWZpZXJzLCBldmVuIGluIEFNRFxuICAgICAgICAvLyAodHJhYy03MTAyI2NvbW1lbnQ6MTAsIGh0dHBzOi8vZ2l0aHViLmNvbS9qcXVlcnkvanF1ZXJ5L3B1bGwvNTU3KVxuICAgICAgICAvLyBhbmQgQ29tbW9uSlMgZm9yIGJyb3dzZXIgZW11bGF0b3JzICh0cmFjLTEzNTY2KVxuICAgICAgICBpZiAodHlwZW9mIG5vR2xvYmFsID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICB3aW5kb3cualF1ZXJ5ID0gd2luZG93LiQgPSBqUXVlcnk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGpRdWVyeTtcbiAgICB9KTtcbn1cbmV4cG9ydHMubG9hZGpxdWVyeSA9IGxvYWRqcXVlcnk7XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIganF1ZXJ5bG9hZGVyXzEgPSByZXF1aXJlKFwiLi9qcXVlcnlsb2FkZXJcIik7XG52YXIgYWRkZ3VpXzEgPSByZXF1aXJlKFwiLi9hZGRndWlcIik7XG52YXIgbWFpbmd1aW5hbWUgPSBudWxsO1xudmFyIG1haW5ndWlodG1sID0gbnVsbDtcbnZhciBtYWluZ3Vpc3R5bGVzID0gbnVsbDtcbnZhciBtYWluZ3Vpa2V5YmluZCA9IG51bGw7XG52YXIgbWFpbmd1aW9ubHlzaG93aWZpbmdhbWUgPSBmYWxzZTtcbmZ1bmN0aW9uIG1haW5hZGRndWkoKSB7XG4gICAgKDAsIGFkZGd1aV8xLnNldGd1aW5hbWUpKG1haW5ndWluYW1lKTtcbiAgICAoMCwgYWRkZ3VpXzEuc2V0Z3VpaHRtbCkobWFpbmd1aWh0bWwpO1xuICAgICgwLCBhZGRndWlfMS5zZXRndWlzdHlsZXMpKG1haW5ndWlzdHlsZXMpO1xuICAgICgwLCBhZGRndWlfMS5zZXRndWlrZXliaW5kKShtYWluZ3Vpa2V5YmluZCk7XG4gICAgKDAsIGFkZGd1aV8xLnNldGd1aW9ubHlzaG93aWZpbmdhbWUpKG1haW5ndWlvbmx5c2hvd2lmaW5nYW1lKTtcbiAgICAoMCwgYWRkZ3VpXzEuYWRkZ3VpKSgpO1xufVxudmFyIFNlYVBpY2tsZWxpYiA9IHtcbiAgICB2ZXJzaW9uOiBcIjEuMFwiLFxuICAgIGxvYWRqcXVlcnk6IGpxdWVyeWxvYWRlcl8xLmxvYWRqcXVlcnksXG4gICAgZ3VpOiB7XG4gICAgICAgIHNldGd1aW5hbWU6IG1haW5ndWluYW1lLFxuICAgICAgICBzZXRndWlodG1sOiBtYWluZ3VpaHRtbCxcbiAgICAgICAgc2V0Z3Vpc3R5bGVzOiBtYWluZ3Vpc3R5bGVzLFxuICAgICAgICBzZXRndWlrZXliaW5kOiBtYWluZ3Vpa2V5YmluZCxcbiAgICAgICAgc2V0Z3Vpb25seXNob3dpZmluZ2FtZTogbWFpbmd1aW9ubHlzaG93aWZpbmdhbWUsXG4gICAgICAgIGFkZGd1aTogbWFpbmFkZGd1aVxuICAgIH1cbn07XG4iXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJhZGRndWkiLCJzZXRndWlvbmx5c2hvd2lmaW5nYW1lIiwic2V0Z3Vpa2V5YmluZCIsInNldGd1aXN0eWxlcyIsInNldGd1aWh0bWwiLCJzZXRndWluYW1lIiwiZ3Vpb25seXNob3dpZmluZ2FtZSIsImd1aWtleWJpbmQiLCJndWlzdHlsZXMiLCJndWlodG1sIiwiZ3VpbmFtZSIsIm5hbWUiLCJodG1sIiwic3R5bGVzIiwia2V5YmluZCIsImlkayIsImd1aVZpc2libGUiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJrZXkiLCJsb2NhdGlvbiIsIktleWJvYXJkRXZlbnQiLCJET01fS0VZX0xPQ0FUSU9OX1JJR0hUIiwidG9nZ2xlR3VpIiwiaGlkZUd1aSIsImFsZXJ0IiwiZ3VpIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwicG9pbnRlckxvY2tFbGVtZW50IiwiaW5uZXJIVE1MIiwiaWQiLCJzdHlsZSIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImV4aXRQb2ludGVyTG9jayIsInNob3dHdWkiLCJnZXRFbGVtZW50QnlJZCIsInJlbW92ZSIsImxvYWRqcXVlcnkiLCJnbG9iYWwiLCJmYWN0b3J5IiwiY29uc29sZSIsImxvZyIsInRoaXMiLCJub0dsb2JhbCIsImFyciIsImdldFByb3RvIiwiZ2V0UHJvdG90eXBlT2YiLCJzbGljZSIsImZsYXQiLCJhcnJheSIsImNhbGwiLCJjb25jYXQiLCJhcHBseSIsInB1c2giLCJpbmRleE9mIiwiY2xhc3MydHlwZSIsInRvU3RyaW5nIiwiaGFzT3duIiwiaGFzT3duUHJvcGVydHkiLCJmblRvU3RyaW5nIiwiT2JqZWN0RnVuY3Rpb25TdHJpbmciLCJzdXBwb3J0IiwiaXNGdW5jdGlvbiIsIm9iaiIsIm5vZGVUeXBlIiwiaXRlbSIsImlzV2luZG93IiwicHJlc2VydmVkU2NyaXB0QXR0cmlidXRlcyIsInR5cGUiLCJzcmMiLCJub25jZSIsIm5vTW9kdWxlIiwiRE9NRXZhbCIsImNvZGUiLCJub2RlIiwiZG9jIiwiaSIsInZhbCIsInNjcmlwdCIsInRleHQiLCJnZXRBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJoZWFkIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwidG9UeXBlIiwidmVyc2lvbiIsInJodG1sU3VmZml4IiwialF1ZXJ5Iiwic2VsZWN0b3IiLCJjb250ZXh0IiwiZm4iLCJpbml0IiwiaXNBcnJheUxpa2UiLCJsZW5ndGgiLCJub2RlTmFtZSIsImVsZW0iLCJ0b0xvd2VyQ2FzZSIsInByb3RvdHlwZSIsImpxdWVyeSIsImNvbnN0cnVjdG9yIiwidG9BcnJheSIsImdldCIsIm51bSIsInB1c2hTdGFjayIsImVsZW1zIiwicmV0IiwibWVyZ2UiLCJwcmV2T2JqZWN0IiwiZWFjaCIsImNhbGxiYWNrIiwibWFwIiwiYXJndW1lbnRzIiwiZmlyc3QiLCJlcSIsImxhc3QiLCJldmVuIiwiZ3JlcCIsIl9lbGVtIiwib2RkIiwibGVuIiwiaiIsImVuZCIsInNvcnQiLCJzcGxpY2UiLCJleHRlbmQiLCJvcHRpb25zIiwiY29weSIsImNvcHlJc0FycmF5IiwiY2xvbmUiLCJ0YXJnZXQiLCJkZWVwIiwiaXNQbGFpbk9iamVjdCIsIkFycmF5IiwiaXNBcnJheSIsInVuZGVmaW5lZCIsImV4cGFuZG8iLCJNYXRoIiwicmFuZG9tIiwicmVwbGFjZSIsImlzUmVhZHkiLCJlcnJvciIsIm1zZyIsIkVycm9yIiwibm9vcCIsInByb3RvIiwiQ3RvciIsImlzRW1wdHlPYmplY3QiLCJnbG9iYWxFdmFsIiwidGV4dENvbnRlbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJub2RlVmFsdWUiLCJtYWtlQXJyYXkiLCJyZXN1bHRzIiwiaW5BcnJheSIsImlzWE1MRG9jIiwibmFtZXNwYWNlIiwibmFtZXNwYWNlVVJJIiwiZG9jRWxlbSIsIm93bmVyRG9jdW1lbnQiLCJ0ZXN0Iiwic2Vjb25kIiwiaW52ZXJ0IiwibWF0Y2hlcyIsImNhbGxiYWNrRXhwZWN0IiwiYXJnIiwiZ3VpZCIsIlN5bWJvbCIsIml0ZXJhdG9yIiwic3BsaXQiLCJfaSIsInBvcCIsIndoaXRlc3BhY2UiLCJydHJpbUNTUyIsIlJlZ0V4cCIsImNvbnRhaW5zIiwiYSIsImIiLCJidXAiLCJjb21wYXJlRG9jdW1lbnRQb3NpdGlvbiIsInJjc3Nlc2NhcGUiLCJmY3NzZXNjYXBlIiwiY2giLCJhc0NvZGVQb2ludCIsImNoYXJDb2RlQXQiLCJlc2NhcGVTZWxlY3RvciIsInNlbCIsInByZWZlcnJlZERvYyIsInB1c2hOYXRpdmUiLCJFeHByIiwib3V0ZXJtb3N0Q29udGV4dCIsInNvcnRJbnB1dCIsImhhc0R1cGxpY2F0ZSIsImRvY3VtZW50SXNIVE1MIiwicmJ1Z2d5UVNBIiwiZGlycnVucyIsImRvbmUiLCJjbGFzc0NhY2hlIiwiY3JlYXRlQ2FjaGUiLCJ0b2tlbkNhY2hlIiwiY29tcGlsZXJDYWNoZSIsIm5vbm5hdGl2ZVNlbGVjdG9yQ2FjaGUiLCJzb3J0T3JkZXIiLCJib29sZWFucyIsImlkZW50aWZpZXIiLCJhdHRyaWJ1dGVzIiwicHNldWRvcyIsInJ3aGl0ZXNwYWNlIiwicmNvbW1hIiwicmxlYWRpbmdDb21iaW5hdG9yIiwicmRlc2NlbmQiLCJycHNldWRvIiwicmlkZW50aWZpZXIiLCJtYXRjaEV4cHIiLCJJRCIsIkNMQVNTIiwiVEFHIiwiQVRUUiIsIlBTRVVETyIsIkNISUxEIiwiYm9vbCIsIm5lZWRzQ29udGV4dCIsInJpbnB1dHMiLCJyaGVhZGVyIiwicnF1aWNrRXhwciIsInJzaWJsaW5nIiwicnVuZXNjYXBlIiwiZnVuZXNjYXBlIiwiZXNjYXBlIiwibm9uSGV4IiwiaGlnaCIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsInVubG9hZEhhbmRsZXIiLCJzZXREb2N1bWVudCIsImluRGlzYWJsZWRGaWVsZHNldCIsImFkZENvbWJpbmF0b3IiLCJkaXNhYmxlZCIsImRpciIsIm5leHQiLCJjaGlsZE5vZGVzIiwiZSIsImVscyIsImZpbmQiLCJzZWVkIiwibSIsIm5pZCIsIm1hdGNoIiwiZ3JvdXBzIiwibmV3U2VsZWN0b3IiLCJuZXdDb250ZXh0IiwiZXhlYyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsInRlc3RDb250ZXh0Iiwic2NvcGUiLCJ0b2tlbml6ZSIsInRvU2VsZWN0b3IiLCJqb2luIiwicXVlcnlTZWxlY3RvckFsbCIsInFzYUVycm9yIiwicmVtb3ZlQXR0cmlidXRlIiwic2VsZWN0Iiwia2V5cyIsImNhY2hlIiwiY2FjaGVMZW5ndGgiLCJzaGlmdCIsIm1hcmtGdW5jdGlvbiIsImFzc2VydCIsImVsIiwiY3JlYXRlSW5wdXRQc2V1ZG8iLCJjcmVhdGVCdXR0b25Qc2V1ZG8iLCJjcmVhdGVEaXNhYmxlZFBzZXVkbyIsImlzRGlzYWJsZWQiLCJjcmVhdGVQb3NpdGlvbmFsUHNldWRvIiwiYXJndW1lbnQiLCJtYXRjaEluZGV4ZXMiLCJzdWJXaW5kb3ciLCJ3ZWJraXRNYXRjaGVzU2VsZWN0b3IiLCJtc01hdGNoZXNTZWxlY3RvciIsImRlZmF1bHRWaWV3IiwidG9wIiwiZ2V0QnlJZCIsImdldEVsZW1lbnRzQnlOYW1lIiwiZGlzY29ubmVjdGVkTWF0Y2giLCJjc3NIYXMiLCJxdWVyeVNlbGVjdG9yIiwiZmlsdGVyIiwiYXR0cklkIiwiZ2V0QXR0cmlidXRlTm9kZSIsInRhZyIsImNsYXNzTmFtZSIsImlucHV0IiwiY29tcGFyZSIsInNvcnREZXRhY2hlZCIsImV4cHIiLCJlbGVtZW50cyIsIm1hdGNoZXNTZWxlY3RvciIsImF0dHIiLCJhdHRySGFuZGxlIiwidW5pcXVlU29ydCIsImR1cGxpY2F0ZXMiLCJzb3J0U3RhYmxlIiwiY3JlYXRlUHNldWRvIiwicmVsYXRpdmUiLCJwcmVGaWx0ZXIiLCJleGNlc3MiLCJ1bnF1b3RlZCIsIm5vZGVOYW1lU2VsZWN0b3IiLCJleHBlY3RlZE5vZGVOYW1lIiwicGF0dGVybiIsIm9wZXJhdG9yIiwiY2hlY2siLCJyZXN1bHQiLCJ3aGF0IiwiX2FyZ3VtZW50Iiwic2ltcGxlIiwiZm9yd2FyZCIsIm9mVHlwZSIsIl9jb250ZXh0IiwieG1sIiwib3V0ZXJDYWNoZSIsIm5vZGVJbmRleCIsInN0YXJ0IiwicGFyZW50IiwidXNlQ2FjaGUiLCJkaWZmIiwiZmlyc3RDaGlsZCIsImxhc3RDaGlsZCIsInBzZXVkbyIsImFyZ3MiLCJzZXRGaWx0ZXJzIiwiaWR4IiwibWF0Y2hlZCIsIm5vdCIsIm1hdGNoZXIiLCJjb21waWxlIiwidW5tYXRjaGVkIiwiaGFzIiwibGFuZyIsImVsZW1MYW5nIiwiaGFzaCIsInJvb3QiLCJmb2N1cyIsImFjdGl2ZUVsZW1lbnQiLCJlcnIiLCJzYWZlQWN0aXZlRWxlbWVudCIsImhhc0ZvY3VzIiwiaHJlZiIsInRhYkluZGV4IiwiZW5hYmxlZCIsImNoZWNrZWQiLCJzZWxlY3RlZCIsInNlbGVjdGVkSW5kZXgiLCJlbXB0eSIsIm5leHRTaWJsaW5nIiwiaGVhZGVyIiwiYnV0dG9uIiwiX21hdGNoSW5kZXhlcyIsImx0IiwiZ3QiLCJudGgiLCJyYWRpbyIsImNoZWNrYm94IiwiZmlsZSIsInBhc3N3b3JkIiwiaW1hZ2UiLCJzdWJtaXQiLCJyZXNldCIsInBhcnNlT25seSIsInRva2VucyIsInNvRmFyIiwicHJlRmlsdGVycyIsImNhY2hlZCIsImNvbWJpbmF0b3IiLCJiYXNlIiwic2tpcCIsImNoZWNrTm9uRWxlbWVudHMiLCJkb25lTmFtZSIsIm9sZENhY2hlIiwibmV3Q2FjaGUiLCJlbGVtZW50TWF0Y2hlciIsIm1hdGNoZXJzIiwiY29uZGVuc2UiLCJuZXdVbm1hdGNoZWQiLCJtYXBwZWQiLCJzZXRNYXRjaGVyIiwicG9zdEZpbHRlciIsInBvc3RGaW5kZXIiLCJwb3N0U2VsZWN0b3IiLCJ0ZW1wIiwibWF0Y2hlck91dCIsInByZU1hcCIsInBvc3RNYXAiLCJwcmVleGlzdGluZyIsImNvbnRleHRzIiwibXVsdGlwbGVDb250ZXh0cyIsIm1hdGNoZXJJbiIsIm1hdGNoZXJGcm9tVG9rZW5zIiwiY2hlY2tDb250ZXh0IiwibGVhZGluZ1JlbGF0aXZlIiwiaW1wbGljaXRSZWxhdGl2ZSIsIm1hdGNoQ29udGV4dCIsIm1hdGNoQW55Q29udGV4dCIsInNldE1hdGNoZXJzIiwiZWxlbWVudE1hdGNoZXJzIiwiYnlTZXQiLCJieUVsZW1lbnQiLCJzdXBlck1hdGNoZXIiLCJvdXRlcm1vc3QiLCJtYXRjaGVkQ291bnQiLCJzZXRNYXRjaGVkIiwiY29udGV4dEJhY2t1cCIsImRpcnJ1bnNVbmlxdWUiLCJtYXRjaGVyRnJvbUdyb3VwTWF0Y2hlcnMiLCJ0b2tlbiIsImNvbXBpbGVkIiwiZmlsdGVycyIsInVuaXF1ZSIsImdldFRleHQiLCJpc1hNTCIsInNlbGVjdG9ycyIsInVudGlsIiwidHJ1bmNhdGUiLCJpcyIsInNpYmxpbmdzIiwibiIsInJuZWVkc0NvbnRleHQiLCJyc2luZ2xlVGFnIiwid2lubm93IiwicXVhbGlmaWVyIiwic2VsZiIsInJvb3RqUXVlcnkiLCJwYXJzZUhUTUwiLCJyZWFkeSIsInJwYXJlbnRzcHJldiIsImd1YXJhbnRlZWRVbmlxdWUiLCJjaGlsZHJlbiIsImNvbnRlbnRzIiwicHJldiIsInNpYmxpbmciLCJjdXIiLCJ0YXJnZXRzIiwibCIsImNsb3Nlc3QiLCJpbmRleCIsInByZXZBbGwiLCJhZGQiLCJhZGRCYWNrIiwicGFyZW50cyIsInBhcmVudHNVbnRpbCIsIm5leHRBbGwiLCJuZXh0VW50aWwiLCJwcmV2VW50aWwiLCJjb250ZW50RG9jdW1lbnQiLCJjb250ZW50IiwicmV2ZXJzZSIsInJub3RodG1sd2hpdGUiLCJJZGVudGl0eSIsInYiLCJUaHJvd2VyIiwiZXgiLCJhZG9wdFZhbHVlIiwicmVzb2x2ZSIsInJlamVjdCIsIm5vVmFsdWUiLCJtZXRob2QiLCJwcm9taXNlIiwiZmFpbCIsInRoZW4iLCJDYWxsYmFja3MiLCJvYmplY3QiLCJfIiwiZmxhZyIsImNyZWF0ZU9wdGlvbnMiLCJmaXJpbmciLCJtZW1vcnkiLCJmaXJlZCIsImxvY2tlZCIsImxpc3QiLCJxdWV1ZSIsImZpcmluZ0luZGV4IiwiZmlyZSIsIm9uY2UiLCJzdG9wT25GYWxzZSIsImRpc2FibGUiLCJsb2NrIiwiZmlyZVdpdGgiLCJEZWZlcnJlZCIsImZ1bmMiLCJ0dXBsZXMiLCJzdGF0ZSIsImFsd2F5cyIsImRlZmVycmVkIiwicGlwZSIsImZucyIsIm5ld0RlZmVyIiwidHVwbGUiLCJyZXR1cm5lZCIsInByb2dyZXNzIiwibm90aWZ5Iiwib25GdWxmaWxsZWQiLCJvblJlamVjdGVkIiwib25Qcm9ncmVzcyIsIm1heERlcHRoIiwiZGVwdGgiLCJoYW5kbGVyIiwic3BlY2lhbCIsInRoYXQiLCJtaWdodFRocm93IiwiVHlwZUVycm9yIiwibm90aWZ5V2l0aCIsInJlc29sdmVXaXRoIiwicHJvY2VzcyIsImV4Y2VwdGlvbkhvb2siLCJyZWplY3RXaXRoIiwiZ2V0RXJyb3JIb29rIiwiZ2V0U3RhY2tIb29rIiwic2V0VGltZW91dCIsInN0YXRlU3RyaW5nIiwid2hlbiIsInNpbmdsZVZhbHVlIiwicmVtYWluaW5nIiwicmVzb2x2ZUNvbnRleHRzIiwicmVzb2x2ZVZhbHVlcyIsInByaW1hcnkiLCJ1cGRhdGVGdW5jIiwicmVycm9yTmFtZXMiLCJhc3luY0Vycm9yIiwid2FybiIsIm1lc3NhZ2UiLCJzdGFjayIsInJlYWR5RXhjZXB0aW9uIiwicmVhZHlMaXN0IiwiY29tcGxldGVkIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNhdGNoIiwicmVhZHlXYWl0Iiwid2FpdCIsInJlYWR5U3RhdGUiLCJkb1Njcm9sbCIsImFjY2VzcyIsImNoYWluYWJsZSIsImVtcHR5R2V0IiwicmF3IiwiYnVsayIsIl9rZXkiLCJybXNQcmVmaXgiLCJyZGFzaEFscGhhIiwiZmNhbWVsQ2FzZSIsIl9hbGwiLCJsZXR0ZXIiLCJ0b1VwcGVyQ2FzZSIsImNhbWVsQ2FzZSIsInN0cmluZyIsImFjY2VwdERhdGEiLCJvd25lciIsIkRhdGEiLCJ1aWQiLCJjb25maWd1cmFibGUiLCJzZXQiLCJkYXRhIiwicHJvcCIsImhhc0RhdGEiLCJkYXRhUHJpdiIsImRhdGFVc2VyIiwicmJyYWNlIiwicm11bHRpRGFzaCIsImRhdGFBdHRyIiwiSlNPTiIsInBhcnNlIiwiZ2V0RGF0YSIsInJlbW92ZURhdGEiLCJfZGF0YSIsIl9yZW1vdmVEYXRhIiwiYXR0cnMiLCJkZXF1ZXVlIiwic3RhcnRMZW5ndGgiLCJob29rcyIsIl9xdWV1ZUhvb2tzIiwidW5zaGlmdCIsInN0b3AiLCJzZXR0ZXIiLCJjbGVhclF1ZXVlIiwidG1wIiwiY291bnQiLCJkZWZlciIsInBudW0iLCJzb3VyY2UiLCJyY3NzTnVtIiwiY3NzRXhwYW5kIiwiaXNBdHRhY2hlZCIsImNvbXBvc2VkIiwiZ2V0Um9vdE5vZGUiLCJpc0hpZGRlbldpdGhpblRyZWUiLCJkaXNwbGF5IiwiY3NzIiwiYWRqdXN0Q1NTIiwidmFsdWVQYXJ0cyIsInR3ZWVuIiwiYWRqdXN0ZWQiLCJzY2FsZSIsIm1heEl0ZXJhdGlvbnMiLCJjdXJyZW50VmFsdWUiLCJpbml0aWFsIiwidW5pdCIsImNzc051bWJlciIsImluaXRpYWxJblVuaXQiLCJkZWZhdWx0RGlzcGxheU1hcCIsImdldERlZmF1bHREaXNwbGF5Iiwic2hvd0hpZGUiLCJzaG93IiwidmFsdWVzIiwiaGlkZSIsInRvZ2dsZSIsImRpdiIsInJjaGVja2FibGVUeXBlIiwicnRhZ05hbWUiLCJyc2NyaXB0VHlwZSIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJjaGVja0Nsb25lIiwiY2xvbmVOb2RlIiwibm9DbG9uZUNoZWNrZWQiLCJkZWZhdWx0VmFsdWUiLCJvcHRpb24iLCJ3cmFwTWFwIiwidGhlYWQiLCJjb2wiLCJ0ciIsInRkIiwiX2RlZmF1bHQiLCJnZXRBbGwiLCJzZXRHbG9iYWxFdmFsIiwicmVmRWxlbWVudHMiLCJ0Ym9keSIsInRmb290IiwiY29sZ3JvdXAiLCJjYXB0aW9uIiwidGgiLCJvcHRncm91cCIsInJodG1sIiwiYnVpbGRGcmFnbWVudCIsInNjcmlwdHMiLCJzZWxlY3Rpb24iLCJpZ25vcmVkIiwid3JhcCIsImF0dGFjaGVkIiwiZnJhZ21lbnQiLCJub2RlcyIsImh0bWxQcmVmaWx0ZXIiLCJjcmVhdGVUZXh0Tm9kZSIsInJ0eXBlbmFtZXNwYWNlIiwicmV0dXJuVHJ1ZSIsInJldHVybkZhbHNlIiwib24iLCJ0eXBlcyIsIm9uZSIsIm9yaWdGbiIsIm9mZiIsImxldmVyYWdlTmF0aXZlIiwiaXNTZXR1cCIsInNhdmVkIiwiaXNUcmlnZ2VyIiwiZGVsZWdhdGVUeXBlIiwic3RvcFByb3BhZ2F0aW9uIiwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwicHJldmVudERlZmF1bHQiLCJ0cmlnZ2VyIiwiaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQiLCJoYW5kbGVPYmpJbiIsImV2ZW50SGFuZGxlIiwiZXZlbnRzIiwidCIsImhhbmRsZU9iaiIsImhhbmRsZXJzIiwibmFtZXNwYWNlcyIsIm9yaWdUeXBlIiwiZWxlbURhdGEiLCJjcmVhdGUiLCJoYW5kbGUiLCJ0cmlnZ2VyZWQiLCJkaXNwYXRjaCIsImJpbmRUeXBlIiwiZGVsZWdhdGVDb3VudCIsInNldHVwIiwibWFwcGVkVHlwZXMiLCJvcmlnQ291bnQiLCJ0ZWFyZG93biIsInJlbW92ZUV2ZW50IiwibmF0aXZlRXZlbnQiLCJoYW5kbGVyUXVldWUiLCJmaXgiLCJkZWxlZ2F0ZVRhcmdldCIsInByZURpc3BhdGNoIiwiaXNQcm9wYWdhdGlvblN0b3BwZWQiLCJjdXJyZW50VGFyZ2V0Iiwicm5hbWVzcGFjZSIsInBvc3REaXNwYXRjaCIsIm1hdGNoZWRIYW5kbGVycyIsIm1hdGNoZWRTZWxlY3RvcnMiLCJhZGRQcm9wIiwiaG9vayIsIkV2ZW50IiwiZW51bWVyYWJsZSIsIm9yaWdpbmFsRXZlbnQiLCJ3cml0YWJsZSIsImxvYWQiLCJub0J1YmJsZSIsImNsaWNrIiwiYmVmb3JldW5sb2FkIiwicmV0dXJuVmFsdWUiLCJwcm9wcyIsImlzRGVmYXVsdFByZXZlbnRlZCIsImRlZmF1bHRQcmV2ZW50ZWQiLCJyZWxhdGVkVGFyZ2V0IiwidGltZVN0YW1wIiwiRGF0ZSIsIm5vdyIsImlzU2ltdWxhdGVkIiwiYWx0S2V5IiwiYnViYmxlcyIsImNhbmNlbGFibGUiLCJjaGFuZ2VkVG91Y2hlcyIsImN0cmxLZXkiLCJkZXRhaWwiLCJldmVudFBoYXNlIiwibWV0YUtleSIsInBhZ2VYIiwicGFnZVkiLCJzaGlmdEtleSIsInZpZXciLCJjaGFyQ29kZSIsImtleUNvZGUiLCJidXR0b25zIiwiY2xpZW50WCIsImNsaWVudFkiLCJvZmZzZXRYIiwib2Zmc2V0WSIsInBvaW50ZXJJZCIsInBvaW50ZXJUeXBlIiwic2NyZWVuWCIsInNjcmVlblkiLCJ0YXJnZXRUb3VjaGVzIiwidG9FbGVtZW50IiwidG91Y2hlcyIsIndoaWNoIiwiYmx1ciIsImZvY3VzTWFwcGVkSGFuZGxlciIsImRvY3VtZW50TW9kZSIsInNpbXVsYXRlIiwiYXR0YWNoZXMiLCJkYXRhSG9sZGVyIiwibW91c2VlbnRlciIsIm1vdXNlbGVhdmUiLCJwb2ludGVyZW50ZXIiLCJwb2ludGVybGVhdmUiLCJvcmlnIiwicmVsYXRlZCIsInJub0lubmVyaHRtbCIsInJjaGVja2VkIiwicmNsZWFuU2NyaXB0IiwibWFuaXB1bGF0aW9uVGFyZ2V0IiwiZGlzYWJsZVNjcmlwdCIsInJlc3RvcmVTY3JpcHQiLCJjbG9uZUNvcHlFdmVudCIsImRlc3QiLCJ1ZGF0YU9sZCIsInVkYXRhQ3VyIiwiZml4SW5wdXQiLCJkb21NYW5pcCIsImNvbGxlY3Rpb24iLCJoYXNTY3JpcHRzIiwiaU5vQ2xvbmUiLCJ2YWx1ZUlzRnVuY3Rpb24iLCJfZXZhbFVybCIsImtlZXBEYXRhIiwiY2xlYW5EYXRhIiwiZGF0YUFuZEV2ZW50cyIsImRlZXBEYXRhQW5kRXZlbnRzIiwic3JjRWxlbWVudHMiLCJkZXN0RWxlbWVudHMiLCJpblBhZ2UiLCJkZXRhY2giLCJhcHBlbmQiLCJwcmVwZW5kIiwiaW5zZXJ0QmVmb3JlIiwiYmVmb3JlIiwiYWZ0ZXIiLCJyZXBsYWNlV2l0aCIsInJlcGxhY2VDaGlsZCIsImFwcGVuZFRvIiwicHJlcGVuZFRvIiwiaW5zZXJ0QWZ0ZXIiLCJyZXBsYWNlQWxsIiwib3JpZ2luYWwiLCJpbnNlcnQiLCJybnVtbm9ucHgiLCJyY3VzdG9tUHJvcCIsImdldFN0eWxlcyIsIm9wZW5lciIsImdldENvbXB1dGVkU3R5bGUiLCJzd2FwIiwib2xkIiwicmJveFN0eWxlIiwiY3VyQ1NTIiwiY29tcHV0ZWQiLCJ3aWR0aCIsIm1pbldpZHRoIiwibWF4V2lkdGgiLCJpc0N1c3RvbVByb3AiLCJnZXRQcm9wZXJ0eVZhbHVlIiwicGl4ZWxCb3hTdHlsZXMiLCJhZGRHZXRIb29rSWYiLCJjb25kaXRpb25GbiIsImhvb2tGbiIsImNvbXB1dGVTdHlsZVRlc3RzIiwiY29udGFpbmVyIiwiY3NzVGV4dCIsImRpdlN0eWxlIiwicGl4ZWxQb3NpdGlvblZhbCIsInJlbGlhYmxlTWFyZ2luTGVmdFZhbCIsInJvdW5kUGl4ZWxNZWFzdXJlcyIsIm1hcmdpbkxlZnQiLCJyaWdodCIsInBpeGVsQm94U3R5bGVzVmFsIiwiYm94U2l6aW5nUmVsaWFibGVWYWwiLCJwb3NpdGlvbiIsInNjcm9sbGJveFNpemVWYWwiLCJvZmZzZXRXaWR0aCIsIm1lYXN1cmUiLCJyb3VuZCIsInBhcnNlRmxvYXQiLCJyZWxpYWJsZVRyRGltZW5zaW9uc1ZhbCIsImJhY2tncm91bmRDbGlwIiwiY2xlYXJDbG9uZVN0eWxlIiwiYm94U2l6aW5nUmVsaWFibGUiLCJwaXhlbFBvc2l0aW9uIiwicmVsaWFibGVNYXJnaW5MZWZ0Iiwic2Nyb2xsYm94U2l6ZSIsInJlbGlhYmxlVHJEaW1lbnNpb25zIiwidGFibGUiLCJ0ckNoaWxkIiwidHJTdHlsZSIsImhlaWdodCIsInBhcnNlSW50IiwiYm9yZGVyVG9wV2lkdGgiLCJib3JkZXJCb3R0b21XaWR0aCIsIm9mZnNldEhlaWdodCIsImNzc1ByZWZpeGVzIiwiZW1wdHlTdHlsZSIsInZlbmRvclByb3BzIiwiZmluYWxQcm9wTmFtZSIsImZpbmFsIiwiY3NzUHJvcHMiLCJjYXBOYW1lIiwidmVuZG9yUHJvcE5hbWUiLCJyZGlzcGxheXN3YXAiLCJjc3NTaG93IiwidmlzaWJpbGl0eSIsImNzc05vcm1hbFRyYW5zZm9ybSIsImxldHRlclNwYWNpbmciLCJmb250V2VpZ2h0Iiwic2V0UG9zaXRpdmVOdW1iZXIiLCJzdWJ0cmFjdCIsIm1heCIsImJveE1vZGVsQWRqdXN0bWVudCIsImRpbWVuc2lvbiIsImJveCIsImlzQm9yZGVyQm94IiwiY29tcHV0ZWRWYWwiLCJleHRyYSIsImRlbHRhIiwibWFyZ2luRGVsdGEiLCJjZWlsIiwiZ2V0V2lkdGhPckhlaWdodCIsInZhbHVlSXNCb3JkZXJCb3giLCJvZmZzZXRQcm9wIiwiZ2V0Q2xpZW50UmVjdHMiLCJUd2VlbiIsImVhc2luZyIsImNzc0hvb2tzIiwib3BhY2l0eSIsImFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50IiwiYXNwZWN0UmF0aW8iLCJib3JkZXJJbWFnZVNsaWNlIiwiY29sdW1uQ291bnQiLCJmbGV4R3JvdyIsImZsZXhTaHJpbmsiLCJncmlkQXJlYSIsImdyaWRDb2x1bW4iLCJncmlkQ29sdW1uRW5kIiwiZ3JpZENvbHVtblN0YXJ0IiwiZ3JpZFJvdyIsImdyaWRSb3dFbmQiLCJncmlkUm93U3RhcnQiLCJsaW5lSGVpZ2h0Iiwib3JkZXIiLCJvcnBoYW5zIiwid2lkb3dzIiwiekluZGV4Iiwiem9vbSIsImZpbGxPcGFjaXR5IiwiZmxvb2RPcGFjaXR5Iiwic3RvcE9wYWNpdHkiLCJzdHJva2VNaXRlcmxpbWl0Iiwic3Ryb2tlT3BhY2l0eSIsIm9yaWdOYW1lIiwic2V0UHJvcGVydHkiLCJpc0Zpbml0ZSIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInNjcm9sbGJveFNpemVCdWdneSIsImxlZnQiLCJtYXJnaW4iLCJwYWRkaW5nIiwiYm9yZGVyIiwicHJlZml4Iiwic3VmZml4IiwiZXhwYW5kIiwiZXhwYW5kZWQiLCJwYXJ0cyIsInByb3BIb29rcyIsInJ1biIsInBlcmNlbnQiLCJlYXNlZCIsImR1cmF0aW9uIiwicG9zIiwic3RlcCIsImZ4Iiwic2Nyb2xsVG9wIiwic2Nyb2xsTGVmdCIsImxpbmVhciIsInAiLCJzd2luZyIsImNvcyIsIlBJIiwiZnhOb3ciLCJpblByb2dyZXNzIiwicmZ4dHlwZXMiLCJycnVuIiwic2NoZWR1bGUiLCJoaWRkZW4iLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJpbnRlcnZhbCIsInRpY2siLCJjcmVhdGVGeE5vdyIsImdlbkZ4IiwiaW5jbHVkZVdpZHRoIiwiY3JlYXRlVHdlZW4iLCJhbmltYXRpb24iLCJBbmltYXRpb24iLCJ0d2VlbmVycyIsInByb3BlcnRpZXMiLCJzdG9wcGVkIiwicHJlZmlsdGVycyIsImN1cnJlbnRUaW1lIiwic3RhcnRUaW1lIiwidHdlZW5zIiwib3B0cyIsInNwZWNpYWxFYXNpbmciLCJvcmlnaW5hbFByb3BlcnRpZXMiLCJvcmlnaW5hbE9wdGlvbnMiLCJnb3RvRW5kIiwicHJvcEZpbHRlciIsImJpbmQiLCJjb21wbGV0ZSIsInRpbWVyIiwiYW5pbSIsInR3ZWVuZXIiLCJvbGRmaXJlIiwicHJvcFR3ZWVuIiwicmVzdG9yZURpc3BsYXkiLCJpc0JveCIsImRhdGFTaG93IiwidW5xdWV1ZWQiLCJvdmVyZmxvdyIsIm92ZXJmbG93WCIsIm92ZXJmbG93WSIsInByZWZpbHRlciIsInNwZWVkIiwib3B0Iiwic3BlZWRzIiwiZmFkZVRvIiwidG8iLCJhbmltYXRlIiwib3B0YWxsIiwiZG9BbmltYXRpb24iLCJmaW5pc2giLCJzdG9wUXVldWUiLCJ0aW1lcnMiLCJjc3NGbiIsInNsaWRlRG93biIsInNsaWRlVXAiLCJzbGlkZVRvZ2dsZSIsImZhZGVJbiIsImZhZGVPdXQiLCJmYWRlVG9nZ2xlIiwic2xvdyIsImZhc3QiLCJkZWxheSIsInRpbWUiLCJ0aW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiY2hlY2tPbiIsIm9wdFNlbGVjdGVkIiwicmFkaW9WYWx1ZSIsImJvb2xIb29rIiwicmVtb3ZlQXR0ciIsIm5UeXBlIiwiYXR0ckhvb2tzIiwiYXR0ck5hbWVzIiwiZ2V0dGVyIiwibG93ZXJjYXNlTmFtZSIsInJmb2N1c2FibGUiLCJyY2xpY2thYmxlIiwic3RyaXBBbmRDb2xsYXBzZSIsImdldENsYXNzIiwiY2xhc3Nlc1RvQXJyYXkiLCJyZW1vdmVQcm9wIiwicHJvcEZpeCIsInRhYmluZGV4IiwiYWRkQ2xhc3MiLCJjbGFzc05hbWVzIiwiY3VyVmFsdWUiLCJmaW5hbFZhbHVlIiwicmVtb3ZlQ2xhc3MiLCJ0b2dnbGVDbGFzcyIsInN0YXRlVmFsIiwiaXNWYWxpZFZhbHVlIiwiaGFzQ2xhc3MiLCJycmV0dXJuIiwidmFsSG9va3MiLCJvcHRpb25TZXQiLCJycXVlcnkiLCJwYXJzZVhNTCIsInBhcnNlckVycm9yRWxlbSIsIkRPTVBhcnNlciIsInBhcnNlRnJvbVN0cmluZyIsInJmb2N1c01vcnBoIiwic3RvcFByb3BhZ2F0aW9uQ2FsbGJhY2siLCJvbmx5SGFuZGxlcnMiLCJidWJibGVUeXBlIiwib250eXBlIiwibGFzdEVsZW1lbnQiLCJldmVudFBhdGgiLCJwYXJlbnRXaW5kb3ciLCJ0cmlnZ2VySGFuZGxlciIsInJicmFja2V0IiwickNSTEYiLCJyc3VibWl0dGVyVHlwZXMiLCJyc3VibWl0dGFibGUiLCJidWlsZFBhcmFtcyIsInRyYWRpdGlvbmFsIiwicGFyYW0iLCJzIiwidmFsdWVPckZ1bmN0aW9uIiwiZW5jb2RlVVJJQ29tcG9uZW50Iiwic2VyaWFsaXplIiwic2VyaWFsaXplQXJyYXkiLCJyMjAiLCJyaGFzaCIsInJhbnRpQ2FjaGUiLCJyaGVhZGVycyIsInJub0NvbnRlbnQiLCJycHJvdG9jb2wiLCJ0cmFuc3BvcnRzIiwiYWxsVHlwZXMiLCJvcmlnaW5BbmNob3IiLCJhZGRUb1ByZWZpbHRlcnNPclRyYW5zcG9ydHMiLCJzdHJ1Y3R1cmUiLCJkYXRhVHlwZUV4cHJlc3Npb24iLCJkYXRhVHlwZSIsImRhdGFUeXBlcyIsImluc3BlY3RQcmVmaWx0ZXJzT3JUcmFuc3BvcnRzIiwianFYSFIiLCJpbnNwZWN0ZWQiLCJzZWVraW5nVHJhbnNwb3J0IiwiaW5zcGVjdCIsInByZWZpbHRlck9yRmFjdG9yeSIsImRhdGFUeXBlT3JUcmFuc3BvcnQiLCJhamF4RXh0ZW5kIiwiZmxhdE9wdGlvbnMiLCJhamF4U2V0dGluZ3MiLCJhY3RpdmUiLCJsYXN0TW9kaWZpZWQiLCJldGFnIiwidXJsIiwiaXNMb2NhbCIsInByb3RvY29sIiwicHJvY2Vzc0RhdGEiLCJhc3luYyIsImNvbnRlbnRUeXBlIiwiYWNjZXB0cyIsImpzb24iLCJyZXNwb25zZUZpZWxkcyIsImNvbnZlcnRlcnMiLCJhamF4U2V0dXAiLCJzZXR0aW5ncyIsImFqYXhQcmVmaWx0ZXIiLCJhamF4VHJhbnNwb3J0IiwiYWpheCIsInRyYW5zcG9ydCIsImNhY2hlVVJMIiwicmVzcG9uc2VIZWFkZXJzU3RyaW5nIiwicmVzcG9uc2VIZWFkZXJzIiwidGltZW91dFRpbWVyIiwidXJsQW5jaG9yIiwiZmlyZUdsb2JhbHMiLCJ1bmNhY2hlZCIsImNhbGxiYWNrQ29udGV4dCIsImdsb2JhbEV2ZW50Q29udGV4dCIsImNvbXBsZXRlRGVmZXJyZWQiLCJzdGF0dXNDb2RlIiwicmVxdWVzdEhlYWRlcnMiLCJyZXF1ZXN0SGVhZGVyc05hbWVzIiwic3RyQWJvcnQiLCJnZXRSZXNwb25zZUhlYWRlciIsImdldEFsbFJlc3BvbnNlSGVhZGVycyIsInNldFJlcXVlc3RIZWFkZXIiLCJvdmVycmlkZU1pbWVUeXBlIiwibWltZVR5cGUiLCJzdGF0dXMiLCJhYm9ydCIsInN0YXR1c1RleHQiLCJmaW5hbFRleHQiLCJjcm9zc0RvbWFpbiIsImhvc3QiLCJoYXNDb250ZW50IiwiaWZNb2RpZmllZCIsImhlYWRlcnMiLCJiZWZvcmVTZW5kIiwic3VjY2VzcyIsInNlbmQiLCJuYXRpdmVTdGF0dXNUZXh0IiwicmVzcG9uc2VzIiwiaXNTdWNjZXNzIiwicmVzcG9uc2UiLCJtb2RpZmllZCIsImN0IiwiZmluYWxEYXRhVHlwZSIsImZpcnN0RGF0YVR5cGUiLCJhamF4SGFuZGxlUmVzcG9uc2VzIiwiY29udjIiLCJjdXJyZW50IiwiY29udiIsImRhdGFGaWx0ZXIiLCJ0aHJvd3MiLCJhamF4Q29udmVydCIsImdldEpTT04iLCJnZXRTY3JpcHQiLCJ3cmFwQWxsIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJ3cmFwSW5uZXIiLCJodG1sSXNGdW5jdGlvbiIsInVud3JhcCIsInZpc2libGUiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsInhoclN1Y2Nlc3NTdGF0dXMiLCJ4aHJTdXBwb3J0ZWQiLCJjb3JzIiwiZXJyb3JDYWxsYmFjayIsIm9wZW4iLCJ1c2VybmFtZSIsInhockZpZWxkcyIsIm9ubG9hZCIsIm9uZXJyb3IiLCJvbmFib3J0Iiwib250aW1lb3V0Iiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVzcG9uc2VUeXBlIiwicmVzcG9uc2VUZXh0IiwiYmluYXJ5Iiwic2NyaXB0QXR0cnMiLCJjaGFyc2V0Iiwic2NyaXB0Q2hhcnNldCIsImV2dCIsIm9sZENhbGxiYWNrcyIsInJqc29ucCIsImpzb25wIiwianNvbnBDYWxsYmFjayIsIm9yaWdpbmFsU2V0dGluZ3MiLCJjYWxsYmFja05hbWUiLCJvdmVyd3JpdHRlbiIsInJlc3BvbnNlQ29udGFpbmVyIiwianNvblByb3AiLCJjcmVhdGVIVE1MRG9jdW1lbnQiLCJpbXBsZW1lbnRhdGlvbiIsImtlZXBTY3JpcHRzIiwicGFyc2VkIiwicGFyYW1zIiwiYW5pbWF0ZWQiLCJvZmZzZXQiLCJzZXRPZmZzZXQiLCJjdXJQb3NpdGlvbiIsImN1ckxlZnQiLCJjdXJDU1NUb3AiLCJjdXJUb3AiLCJjdXJPZmZzZXQiLCJjdXJDU1NMZWZ0IiwiY3VyRWxlbSIsInVzaW5nIiwicmVjdCIsIndpbiIsInBhZ2VZT2Zmc2V0IiwicGFnZVhPZmZzZXQiLCJvZmZzZXRQYXJlbnQiLCJwYXJlbnRPZmZzZXQiLCJzY3JvbGxUbyIsIkhlaWdodCIsIldpZHRoIiwiZGVmYXVsdEV4dHJhIiwiZnVuY05hbWUiLCJ1bmJpbmQiLCJkZWxlZ2F0ZSIsInVuZGVsZWdhdGUiLCJob3ZlciIsImZuT3ZlciIsImZuT3V0IiwicnRyaW0iLCJwcm94eSIsImhvbGRSZWFkeSIsImhvbGQiLCJwYXJzZUpTT04iLCJpc051bWVyaWMiLCJpc05hTiIsInRyaW0iLCJfalF1ZXJ5IiwiXyQiLCIkIiwibm9Db25mbGljdCIsIm1vZHVsZSIsInciLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwianF1ZXJ5bG9hZGVyXzEiXSwic291cmNlUm9vdCI6IiJ9