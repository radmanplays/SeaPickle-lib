(()=>{"use strict";var e={270:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.addgui=t.setguionlyshowifingame=t.setguikeybind=t.setguistyles=t.setguihtml=t.setguiname=t.guionlyshowifingame=t.guikeybind=t.guistyles=t.guihtml=t.guiname=void 0,t.guiname=null,t.guihtml=null,t.guistyles=null,t.guikeybind=null,t.guionlyshowifingame=!1,t.setguiname=function(e){t.guiname=e},t.setguihtml=function(e){t.guihtml=e},t.setguistyles=function(e){t.guistyles=e},t.setguikeybind=function(e){t.guikeybind=e},t.setguionlyshowifingame=function(e){t.guionlyshowifingame=e},t.addgui=function(){if(null!=t.guiname&&null!=t.guihtml&&null!=t.guistyles){var e=!1;window.addEventListener("keydown",(function(e){"RightShift"==t.guikeybind&&"Shift"===e.key&&e.location===KeyboardEvent.DOM_KEY_LOCATION_RIGHT&&n(),"Escape"!==e.key&&"`"!==e.key||r(),e.key===t.guikeybind&&n()}))}else alert("failed to add gui. reason : guiname or guihtml or guistyles are not defined");function n(){e?r():function(){r();var n=document.createElement("gui");1==t.guionlyshowifingame&&null!=document.pointerLockElement?(n.innerHTML=t.guihtml,n.id=t.guiname,n.style=t.guistyles,document.body.appendChild(n),e=!0):(null!=document.pointerLockElement&&document.exitPointerLock(),n.innerHTML=t.guihtml,n.id=t.guiname,n.style=t.guistyles,document.body.appendChild(n),e=!0)}()}function r(){document.getElementById(t.guiname)&&document.getElementById(t.guiname).remove(),e=!1}}},850:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.loadJQuery=void 0,t.loadJQuery=function(){
/*!
    * jQuery JavaScript Library v3.7.1
    * https://jquery.com/
    *
    * Copyright OpenJS Foundation and other contributors
    * Released under the MIT license
    * https://jquery.org/license
    *
    * Date: 2023-08-28T13:37Z
    */
var r,i;console.log("successfully loaded jquery!"),r="undefined"!=typeof window?window:this,i=function(r,i){var o=[],a=Object.getPrototypeOf,s=o.slice,u=o.flat?function(e){return o.flat.call(e)}:function(e){return o.concat.apply([],e)},l=o.push,c=o.indexOf,f={},p=f.toString,d=f.hasOwnProperty,h=d.toString,g=h.call(Object),y={},v=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},m=function(e){return null!=e&&e===e.window},x=r.document,b={type:!0,src:!0,nonce:!0,noModule:!0};function w(e,t,n){var r,i,o=(n=n||x).createElement("script");if(o.text=e,t)for(r in b)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function T(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?f[p.call(e)]||"object":typeof e}var C="3.7.1",k=/HTML$/i,E=function(e,t){return new E.fn.init(e,t)};function S(e){var t=!!e&&"length"in e&&e.length,n=T(e);return!v(e)&&!m(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function j(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}E.fn=E.prototype={jquery:C,constructor:E,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=E.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return E.each(this,e)},map:function(e){return this.pushStack(E.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(E.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(E.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:o.sort,splice:o.splice},E.extend=E.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||v(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(E.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||E.isPlainObject(n)?n:{},i=!1,a[t]=E.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},E.extend({expando:"jQuery"+(C+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==p.call(e)||(t=a(e))&&("function"!=typeof(n=d.call(t,"constructor")&&t.constructor)||h.call(n)!==g))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){w(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(S(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},text:function(e){var t,n="",r=0,i=e.nodeType;if(!i)for(;t=e[r++];)n+=E.text(t);return 1===i||11===i?e.textContent:9===i?e.documentElement.textContent:3===i||4===i?e.nodeValue:n},makeArray:function(e,t){var n=t||[];return null!=e&&(S(Object(e))?E.merge(n,"string"==typeof e?[e]:e):l.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:c.call(t,e,n)},isXMLDoc:function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!k.test(t||n&&n.nodeName||"HTML")},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(S(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return u(a)},guid:1,support:y}),"function"==typeof Symbol&&(E.fn[Symbol.iterator]=o[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){f["[object "+t+"]"]=t.toLowerCase()}));var A=o.pop,D=o.sort,N=o.splice,L="[\\x20\\t\\r\\n\\f]",q=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g");E.contains=function(e,t){var n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(e.contains?e.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))};var H=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function O(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}E.escapeSelector=function(e){return(e+"").replace(H,O)};var P=x,M=l;!function(){var e,t,n,i,a,u,l,f,p,h,g=M,v=E.expando,m=0,x=0,b=ee(),w=ee(),T=ee(),C=ee(),k=function(e,t){return e===t&&(a=!0),0},S="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",H="(?:\\\\[\\da-fA-F]{1,6}"+L+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",O="\\["+L+"*("+H+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+H+"))|)"+L+"*\\]",R=":("+H+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+O+")*)|.*)\\)|)",I=new RegExp(L+"+","g"),W=new RegExp("^"+L+"*,"+L+"*"),F=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),$=new RegExp(L+"|>"),_=new RegExp(R),B=new RegExp("^"+H+"$"),z={ID:new RegExp("^#("+H+")"),CLASS:new RegExp("^\\.("+H+")"),TAG:new RegExp("^("+H+"|[*])"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+R),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+S+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,U=/^h\d$/i,G=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,V=/[+~]/,Q=new RegExp("\\\\[\\da-fA-F]{1,6}"+L+"?|\\\\([^\\r\\n\\f])","g"),Y=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},J=function(){ue()},K=pe((function(e){return!0===e.disabled&&j(e,"fieldset")}),{dir:"parentNode",next:"legend"});try{g.apply(o=s.call(P.childNodes),P.childNodes),o[P.childNodes.length].nodeType}catch(e){g={apply:function(e,t){M.apply(e,s.call(t))},call:function(e){M.apply(e,s.call(arguments,1))}}}function Z(e,t,n,r){var i,o,a,s,l,c,d,h=t&&t.ownerDocument,m=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==m&&9!==m&&11!==m)return n;if(!r&&(ue(t),t=t||u,f)){if(11!==m&&(l=G.exec(e)))if(i=l[1]){if(9===m){if(!(a=t.getElementById(i)))return n;if(a.id===i)return g.call(n,a),n}else if(h&&(a=h.getElementById(i))&&Z.contains(t,a)&&a.id===i)return g.call(n,a),n}else{if(l[2])return g.apply(n,t.getElementsByTagName(e)),n;if((i=l[3])&&t.getElementsByClassName)return g.apply(n,t.getElementsByClassName(i)),n}if(!(C[e+" "]||p&&p.test(e))){if(d=e,h=t,1===m&&($.test(e)||F.test(e))){for((h=V.test(e)&&se(t.parentNode)||t)==t&&y.scope||((s=t.getAttribute("id"))?s=E.escapeSelector(s):t.setAttribute("id",s=v)),o=(c=ce(e)).length;o--;)c[o]=(s?"#"+s:":scope")+" "+fe(c[o]);d=c.join(",")}try{return g.apply(n,h.querySelectorAll(d)),n}catch(t){C(e,!0)}finally{s===v&&t.removeAttribute("id")}}}return me(e.replace(q,"$1"),t,n,r)}function ee(){var e=[];return function n(r,i){return e.push(r+" ")>t.cacheLength&&delete n[e.shift()],n[r+" "]=i}}function te(e){return e[v]=!0,e}function ne(e){var t=u.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function re(e){return function(t){return j(t,"input")&&t.type===e}}function ie(e){return function(t){return(j(t,"input")||j(t,"button"))&&t.type===e}}function oe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&K(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ae(e){return te((function(t){return t=+t,te((function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))}))}))}function se(e){return e&&void 0!==e.getElementsByTagName&&e}function ue(e){var n,r=e?e.ownerDocument||e:P;return r!=u&&9===r.nodeType&&r.documentElement?(l=(u=r).documentElement,f=!E.isXMLDoc(u),h=l.matches||l.webkitMatchesSelector||l.msMatchesSelector,l.msMatchesSelector&&P!=u&&(n=u.defaultView)&&n.top!==n&&n.addEventListener("unload",J),y.getById=ne((function(e){return l.appendChild(e).id=E.expando,!u.getElementsByName||!u.getElementsByName(E.expando).length})),y.disconnectedMatch=ne((function(e){return h.call(e,"*")})),y.scope=ne((function(){return u.querySelectorAll(":scope")})),y.cssHas=ne((function(){try{return u.querySelector(":has(*,:jqfake)"),!1}catch(e){return!0}})),y.getById?(t.filter.ID=function(e){var t=e.replace(Q,Y);return function(e){return e.getAttribute("id")===t}},t.find.ID=function(e,t){if(void 0!==t.getElementById&&f){var n=t.getElementById(e);return n?[n]:[]}}):(t.filter.ID=function(e){var t=e.replace(Q,Y);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},t.find.ID=function(e,t){if(void 0!==t.getElementById&&f){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),t.find.TAG=function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},t.find.CLASS=function(e,t){if(void 0!==t.getElementsByClassName&&f)return t.getElementsByClassName(e)},p=[],ne((function(e){var t;l.appendChild(e).innerHTML="<a id='"+v+"' href='' disabled='disabled'></a><select id='"+v+"-\r\\' disabled='disabled'><option selected=''></option></select>",e.querySelectorAll("[selected]").length||p.push("\\["+L+"*(?:value|"+S+")"),e.querySelectorAll("[id~="+v+"-]").length||p.push("~="),e.querySelectorAll("a#"+v+"+*").length||p.push(".#.+[+~]"),e.querySelectorAll(":checked").length||p.push(":checked"),(t=u.createElement("input")).setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),l.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&p.push(":enabled",":disabled"),(t=u.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||p.push("\\["+L+"*name"+L+"*="+L+"*(?:''|\"\")")})),y.cssHas||p.push(":has"),p=p.length&&new RegExp(p.join("|")),k=function(e,t){if(e===t)return a=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!y.sortDetached&&t.compareDocumentPosition(e)===n?e===u||e.ownerDocument==P&&Z.contains(P,e)?-1:t===u||t.ownerDocument==P&&Z.contains(P,t)?1:i?c.call(i,e)-c.call(i,t):0:4&n?-1:1)},u):u}for(e in Z.matches=function(e,t){return Z(e,null,null,t)},Z.matchesSelector=function(e,t){if(ue(e),f&&!C[t+" "]&&(!p||!p.test(t)))try{var n=h.call(e,t);if(n||y.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){C(t,!0)}return Z(t,u,null,[e]).length>0},Z.contains=function(e,t){return(e.ownerDocument||e)!=u&&ue(e),E.contains(e,t)},Z.attr=function(e,n){(e.ownerDocument||e)!=u&&ue(e);var r=t.attrHandle[n.toLowerCase()],i=r&&d.call(t.attrHandle,n.toLowerCase())?r(e,n,!f):void 0;return void 0!==i?i:e.getAttribute(n)},Z.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},E.uniqueSort=function(e){var t,n=[],r=0,o=0;if(a=!y.sortStable,i=!y.sortStable&&s.call(e,0),D.call(e,k),a){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)N.call(e,n[r],1)}return i=null,e},E.fn.uniqueSort=function(){return this.pushStack(E.uniqueSort(s.apply(this)))},t=E.expr={cacheLength:50,createPseudo:te,match:z,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Q,Y),e[3]=(e[3]||e[4]||e[5]||"").replace(Q,Y),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||Z.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&Z.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return z.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&_.test(n)&&(t=ce(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Q,Y).toLowerCase();return"*"===e?function(){return!0}:function(e){return j(e,t)}},CLASS:function(e){var t=b[e+" "];return t||(t=new RegExp("(^|"+L+")"+e+"("+L+"|$)"))&&b(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var i=Z.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(I," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,p,d,h=o!==a?"nextSibling":"previousSibling",g=t.parentNode,y=s&&t.nodeName.toLowerCase(),x=!u&&!s,b=!1;if(g){if(o){for(;h;){for(f=t;f=f[h];)if(s?j(f,y):1===f.nodeType)return!1;d=h="only"===e&&!d&&"nextSibling"}return!0}if(d=[a?g.firstChild:g.lastChild],a&&x){for(b=(p=(l=(c=g[v]||(g[v]={}))[e]||[])[0]===m&&l[1])&&l[2],f=p&&g.childNodes[p];f=++p&&f&&f[h]||(b=p=0)||d.pop();)if(1===f.nodeType&&++b&&f===t){c[e]=[m,p,b];break}}else if(x&&(b=p=(l=(c=t[v]||(t[v]={}))[e]||[])[0]===m&&l[1]),!1===b)for(;(f=++p&&f&&f[h]||(b=p=0)||d.pop())&&(!(s?j(f,y):1===f.nodeType)||!++b||(x&&((c=f[v]||(f[v]={}))[e]=[m,b]),f!==t)););return(b-=i)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,n){var r,i=t.pseudos[e]||t.setFilters[e.toLowerCase()]||Z.error("unsupported pseudo: "+e);return i[v]?i(n):i.length>1?(r=[e,e,"",n],t.setFilters.hasOwnProperty(e.toLowerCase())?te((function(e,t){for(var r,o=i(e,n),a=o.length;a--;)e[r=c.call(e,o[a])]=!(t[r]=o[a])})):function(e){return i(e,0,r)}):i}},pseudos:{not:te((function(e){var t=[],n=[],r=ve(e.replace(q,"$1"));return r[v]?te((function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))})):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}})),has:te((function(e){return function(t){return Z(e,t).length>0}})),contains:te((function(e){return e=e.replace(Q,Y),function(t){return(t.textContent||E.text(t)).indexOf(e)>-1}})),lang:te((function(e){return B.test(e||"")||Z.error("unsupported lang: "+e),e=e.replace(Q,Y).toLowerCase(),function(t){var n;do{if(n=f?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(e){var t=r.location&&r.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===l},focus:function(e){return e===function(){try{return u.activeElement}catch(e){}}()&&u.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:oe(!1),disabled:oe(!0),checked:function(e){return j(e,"input")&&!!e.checked||j(e,"option")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!t.pseudos.empty(e)},header:function(e){return U.test(e.nodeName)},input:function(e){return X.test(e.nodeName)},button:function(e){return j(e,"input")&&"button"===e.type||j(e,"button")},text:function(e){var t;return j(e,"input")&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ae((function(){return[0]})),last:ae((function(e,t){return[t-1]})),eq:ae((function(e,t,n){return[n<0?n+t:n]})),even:ae((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:ae((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:ae((function(e,t,n){var r;for(r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e})),gt:ae((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}},t.pseudos.nth=t.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[e]=re(e);for(e in{submit:!0,reset:!0})t.pseudos[e]=ie(e);function le(){}function ce(e,n){var r,i,o,a,s,u,l,c=w[e+" "];if(c)return n?0:c.slice(0);for(s=e,u=[],l=t.preFilter;s;){for(a in r&&!(i=W.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=F.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(q," ")}),s=s.slice(r.length)),t.filter)!(i=z[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?Z.error(e):w(e,u).slice(0)}function fe(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function pe(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,s=x++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,u){var l,c,f=[m,s];if(u){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,u))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(c=t[v]||(t[v]={}),i&&j(t,i))t=t[r]||t;else{if((l=c[o])&&l[0]===m&&l[1]===s)return f[2]=l[2];if(c[o]=f,f[2]=e(t,n,u))return!0}return!1}}function de(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function he(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function ge(e,t,n,r,i,o){return r&&!r[v]&&(r=ge(r)),i&&!i[v]&&(i=ge(i,o)),te((function(o,a,s,u){var l,f,p,d,h=[],y=[],v=a.length,m=o||function(e,t,n){for(var r=0,i=t.length;r<i;r++)Z(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),x=!e||!o&&t?m:he(m,h,e,s,u);if(n?n(x,d=i||(o?e:v||r)?[]:a,s,u):d=x,r)for(l=he(d,y),r(l,[],s,u),f=l.length;f--;)(p=l[f])&&(d[y[f]]=!(x[y[f]]=p));if(o){if(i||e){if(i){for(l=[],f=d.length;f--;)(p=d[f])&&l.push(x[f]=p);i(null,d=[],l,u)}for(f=d.length;f--;)(p=d[f])&&(l=i?c.call(o,p):h[f])>-1&&(o[l]=!(a[l]=p))}}else d=he(d===a?d.splice(v,d.length):d),i?i(null,a,d,u):g.apply(a,d)}))}function ye(e){for(var r,i,o,a=e.length,s=t.relative[e[0].type],u=s||t.relative[" "],l=s?1:0,f=pe((function(e){return e===r}),u,!0),p=pe((function(e){return c.call(r,e)>-1}),u,!0),d=[function(e,t,i){var o=!s&&(i||t!=n)||((r=t).nodeType?f(e,t,i):p(e,t,i));return r=null,o}];l<a;l++)if(i=t.relative[e[l].type])d=[pe(de(d),i)];else{if((i=t.filter[e[l].type].apply(null,e[l].matches))[v]){for(o=++l;o<a&&!t.relative[e[o].type];o++);return ge(l>1&&de(d),l>1&&fe(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(q,"$1"),i,l<o&&ye(e.slice(l,o)),o<a&&ye(e=e.slice(o)),o<a&&fe(e))}d.push(i)}return de(d)}function ve(e,r){var i,o=[],a=[],s=T[e+" "];if(!s){for(r||(r=ce(e)),i=r.length;i--;)(s=ye(r[i]))[v]?o.push(s):a.push(s);s=T(e,function(e,r){var i=r.length>0,o=e.length>0,a=function(a,s,l,c,p){var d,h,y,v=0,x="0",b=a&&[],w=[],T=n,C=a||o&&t.find.TAG("*",p),k=m+=null==T?1:Math.random()||.1,S=C.length;for(p&&(n=s==u||s||p);x!==S&&null!=(d=C[x]);x++){if(o&&d){for(h=0,s||d.ownerDocument==u||(ue(d),l=!f);y=e[h++];)if(y(d,s||u,l)){g.call(c,d);break}p&&(m=k)}i&&((d=!y&&d)&&v--,a&&b.push(d))}if(v+=x,i&&x!==v){for(h=0;y=r[h++];)y(b,w,s,l);if(a){if(v>0)for(;x--;)b[x]||w[x]||(w[x]=A.call(c));w=he(w)}g.apply(c,w),p&&!a&&w.length>0&&v+r.length>1&&E.uniqueSort(c)}return p&&(m=k,n=T),b};return i?te(a):a}(a,o)),s.selector=e}return s}function me(e,n,r,i){var o,a,s,u,l,c="function"==typeof e&&e,p=!i&&ce(e=c.selector||e);if(r=r||[],1===p.length){if((a=p[0]=p[0].slice(0)).length>2&&"ID"===(s=a[0]).type&&9===n.nodeType&&f&&t.relative[a[1].type]){if(!(n=(t.find.ID(s.matches[0].replace(Q,Y),n)||[])[0]))return r;c&&(n=n.parentNode),e=e.slice(a.shift().value.length)}for(o=z.needsContext.test(e)?0:a.length;o--&&(s=a[o],!t.relative[u=s.type]);)if((l=t.find[u])&&(i=l(s.matches[0].replace(Q,Y),V.test(a[0].type)&&se(n.parentNode)||n))){if(a.splice(o,1),!(e=i.length&&fe(a)))return g.apply(r,i),r;break}}return(c||ve(e,p))(i,n,!f,r,!n||V.test(e)&&se(n.parentNode)||n),r}le.prototype=t.filters=t.pseudos,t.setFilters=new le,y.sortStable=v.split("").sort(k).join("")===v,ue(),y.sortDetached=ne((function(e){return 1&e.compareDocumentPosition(u.createElement("fieldset"))})),E.find=Z,E.expr[":"]=E.expr.pseudos,E.unique=E.uniqueSort,Z.compile=ve,Z.select=me,Z.setDocument=ue,Z.tokenize=ce,Z.escape=E.escapeSelector,Z.getText=E.text,Z.isXML=E.isXMLDoc,Z.selectors=E.expr,Z.support=E.support,Z.uniqueSort=E.uniqueSort}();var R=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&E(e).is(n))break;r.push(e)}return r},I=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},W=E.expr.match.needsContext,F=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function $(e,t,n){return v(t)?E.grep(e,(function(e,r){return!!t.call(e,r,e)!==n})):t.nodeType?E.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?E.grep(e,(function(e){return c.call(t,e)>-1!==n})):E.filter(t,e,n)}E.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?E.find.matchesSelector(r,e)?[r]:[]:E.find.matches(e,E.grep(t,(function(e){return 1===e.nodeType})))},E.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(E(e).filter((function(){for(t=0;t<r;t++)if(E.contains(i[t],this))return!0})));for(n=this.pushStack([]),t=0;t<r;t++)E.find(e,i[t],n);return r>1?E.uniqueSort(n):n},filter:function(e){return this.pushStack($(this,e||[],!1))},not:function(e){return this.pushStack($(this,e||[],!0))},is:function(e){return!!$(this,"string"==typeof e&&W.test(e)?E(e):e||[],!1).length}});var _,B=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(E.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||_,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:B.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof E?t[0]:t,E.merge(this,E.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:x,!0)),F.test(r[1])&&E.isPlainObject(t))for(r in t)v(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=x.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):v(e)?void 0!==n.ready?n.ready(e):e(E):E.makeArray(e,this)}).prototype=E.fn,_=E(x);var z=/^(?:parents|prev(?:Until|All))/,X={children:!0,contents:!0,next:!0,prev:!0};function U(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}E.fn.extend({has:function(e){var t=E(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(E.contains(this,t[e]))return!0}))},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&E(e);if(!W.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&E.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?E.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?c.call(E(e),this[0]):c.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),E.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return R(e,"parentNode")},parentsUntil:function(e,t,n){return R(e,"parentNode",n)},next:function(e){return U(e,"nextSibling")},prev:function(e){return U(e,"previousSibling")},nextAll:function(e){return R(e,"nextSibling")},prevAll:function(e){return R(e,"previousSibling")},nextUntil:function(e,t,n){return R(e,"nextSibling",n)},prevUntil:function(e,t,n){return R(e,"previousSibling",n)},siblings:function(e){return I((e.parentNode||{}).firstChild,e)},children:function(e){return I(e.firstChild)},contents:function(e){return null!=e.contentDocument&&a(e.contentDocument)?e.contentDocument:(j(e,"template")&&(e=e.content||e),E.merge([],e.childNodes))}},(function(e,t){E.fn[e]=function(n,r){var i=E.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=E.filter(r,i)),this.length>1&&(X[e]||E.uniqueSort(i),z.test(e)&&i.reverse()),this.pushStack(i)}}));var G=/[^\x20\t\r\n\f]+/g;function V(e){return e}function Q(e){throw e}function Y(e,t,n,r){var i;try{e&&v(i=e.promise)?i.call(e).done(t).fail(n):e&&v(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}E.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return E.each(e.match(G)||[],(function(e,n){t[n]=!0})),t}(e):E.extend({},e);var t,n,r,i,o=[],a=[],s=-1,u=function(){for(i=i||e.once,r=t=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},l={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),function t(n){E.each(n,(function(n,r){v(r)?e.unique&&l.has(r)||o.push(r):r&&r.length&&"string"!==T(r)&&t(r)}))}(arguments),n&&!t&&u()),this},remove:function(){return E.each(arguments,(function(e,t){for(var n;(n=E.inArray(t,o,n))>-1;)o.splice(n,1),n<=s&&s--})),this},has:function(e){return e?E.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},E.extend({Deferred:function(e){var t=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return E.Deferred((function(n){E.each(t,(function(t,r){var i=v(e[r[4]])&&e[r[4]];o[r[1]]((function(){var e=i&&i.apply(this,arguments);e&&v(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[e]:arguments)}))})),e=null})).promise()},then:function(e,n,i){var o=0;function a(e,t,n,i){return function(){var s=this,u=arguments,l=function(){var r,l;if(!(e<o)){if((r=n.apply(s,u))===t.promise())throw new TypeError("Thenable self-resolution");l=r&&("object"==typeof r||"function"==typeof r)&&r.then,v(l)?i?l.call(r,a(o,t,V,i),a(o,t,Q,i)):(o++,l.call(r,a(o,t,V,i),a(o,t,Q,i),a(o,t,V,t.notifyWith))):(n!==V&&(s=void 0,u=[r]),(i||t.resolveWith)(s,u))}},c=i?l:function(){try{l()}catch(r){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(r,c.error),e+1>=o&&(n!==Q&&(s=void 0,u=[r]),t.rejectWith(s,u))}};e?c():(E.Deferred.getErrorHook?c.error=E.Deferred.getErrorHook():E.Deferred.getStackHook&&(c.error=E.Deferred.getStackHook()),r.setTimeout(c))}}return E.Deferred((function(r){t[0][3].add(a(0,r,v(i)?i:V,r.notifyWith)),t[1][3].add(a(0,r,v(e)?e:V)),t[2][3].add(a(0,r,v(n)?n:Q))})).promise()},promise:function(e){return null!=e?E.extend(e,i):i}},o={};return E.each(t,(function(e,r){var a=r[2],s=r[5];i[r[1]]=a.add,s&&a.add((function(){n=s}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(r[3].fire),o[r[0]]=function(){return o[r[0]+"With"](this===o?void 0:this,arguments),this},o[r[0]+"With"]=a.fireWith})),i.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=s.call(arguments),o=E.Deferred(),a=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?s.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(Y(e,o.done(a(n)).resolve,o.reject,!t),"pending"===o.state()||v(i[n]&&i[n].then)))return o.then();for(;n--;)Y(i[n],a(n),o.reject);return o.promise()}});var J=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(e,t){r.console&&r.console.warn&&e&&J.test(e.name)&&r.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},E.readyException=function(e){r.setTimeout((function(){throw e}))};var K=E.Deferred();function Z(){x.removeEventListener("DOMContentLoaded",Z),r.removeEventListener("load",Z),E.ready()}E.fn.ready=function(e){return K.then(e).catch((function(e){E.readyException(e)})),this},E.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--E.readyWait:E.isReady)||(E.isReady=!0,!0!==e&&--E.readyWait>0||K.resolveWith(x,[E]))}}),E.ready.then=K.then,"complete"===x.readyState||"loading"!==x.readyState&&!x.documentElement.doScroll?r.setTimeout(E.ready):(x.addEventListener("DOMContentLoaded",Z),r.addEventListener("load",Z));var ee=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===T(n))for(s in i=!0,n)ee(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,v(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(E(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},te=/^-ms-/,ne=/-([a-z])/g;function re(e,t){return t.toUpperCase()}function ie(e){return e.replace(te,"ms-").replace(ne,re)}var oe=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function ae(){this.expando=E.expando+ae.uid++}ae.uid=1,ae.prototype={cache:function(e){var t=e[this.expando];return t||(t={},oe(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[ie(t)]=n;else for(r in t)i[ie(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][ie(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(ie):(t=ie(t))in r?[t]:t.match(G)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||E.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!E.isEmptyObject(t)}};var se=new ae,ue=new ae,le=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ce=/[A-Z]/g;function fe(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(ce,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:le.test(e)?JSON.parse(e):e)}(n)}catch(e){}ue.set(e,t,n)}else n=void 0;return n}E.extend({hasData:function(e){return ue.hasData(e)||se.hasData(e)},data:function(e,t,n){return ue.access(e,t,n)},removeData:function(e,t){ue.remove(e,t)},_data:function(e,t,n){return se.access(e,t,n)},_removeData:function(e,t){se.remove(e,t)}}),E.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=ue.get(o),1===o.nodeType&&!se.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=ie(r.slice(5)),fe(o,r,i[r]));se.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each((function(){ue.set(this,e)})):ee(this,(function(t){var n;if(o&&void 0===t)return void 0!==(n=ue.get(o,e))||void 0!==(n=fe(o,e))?n:void 0;this.each((function(){ue.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){ue.remove(this,e)}))}}),E.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=se.get(e,t),n&&(!r||Array.isArray(n)?r=se.access(e,t,E.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=E.queue(e,t),r=n.length,i=n.shift(),o=E._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,(function(){E.dequeue(e,t)}),o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return se.get(e,n)||se.access(e,n,{empty:E.Callbacks("once memory").add((function(){se.remove(e,[t+"queue",n])}))})}}),E.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?E.queue(this[0],e):void 0===t?this:this.each((function(){var n=E.queue(this,e,t);E._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&E.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){E.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=E.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=se.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var pe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,de=new RegExp("^(?:([+-])=|)("+pe+")([a-z%]*)$","i"),he=["Top","Right","Bottom","Left"],ge=x.documentElement,ye=function(e){return E.contains(e.ownerDocument,e)},ve={composed:!0};ge.getRootNode&&(ye=function(e){return E.contains(e.ownerDocument,e)||e.getRootNode(ve)===e.ownerDocument});var me=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ye(e)&&"none"===E.css(e,"display")};function xe(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return E.css(e,t,"")},u=s(),l=n&&n[3]||(E.cssNumber[t]?"":"px"),c=e.nodeType&&(E.cssNumber[t]||"px"!==l&&+u)&&de.exec(E.css(e,t));if(c&&c[3]!==l){for(u/=2,l=l||c[3],c=+u||1;a--;)E.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,E.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var be={};function we(e){var t,n=e.ownerDocument,r=e.nodeName,i=be[r];return i||(t=n.body.appendChild(n.createElement(r)),i=E.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),be[r]=i,i)}function Te(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=se.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&me(r)&&(i[o]=we(r))):"none"!==n&&(i[o]="none",se.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}E.fn.extend({show:function(){return Te(this,!0)},hide:function(){return Te(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){me(this)?E(this).show():E(this).hide()}))}});var Ce,ke,Ee=/^(?:checkbox|radio)$/i,Se=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,je=/^$|^module$|\/(?:java|ecma)script/i;Ce=x.createDocumentFragment().appendChild(x.createElement("div")),(ke=x.createElement("input")).setAttribute("type","radio"),ke.setAttribute("checked","checked"),ke.setAttribute("name","t"),Ce.appendChild(ke),y.checkClone=Ce.cloneNode(!0).cloneNode(!0).lastChild.checked,Ce.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!Ce.cloneNode(!0).lastChild.defaultValue,Ce.innerHTML="<option></option>",y.option=!!Ce.lastChild;var Ae={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function De(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&j(e,t)?E.merge([e],n):n}function Ne(e,t){for(var n=0,r=e.length;n<r;n++)se.set(e[n],"globalEval",!t||se.get(t[n],"globalEval"))}Ae.tbody=Ae.tfoot=Ae.colgroup=Ae.caption=Ae.thead,Ae.th=Ae.td,y.option||(Ae.optgroup=Ae.option=[1,"<select multiple='multiple'>","</select>"]);var Le=/<|&#?\w+;/;function qe(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===T(o))E.merge(p,o.nodeType?[o]:o);else if(Le.test(o)){for(a=a||f.appendChild(t.createElement("div")),s=(Se.exec(o)||["",""])[1].toLowerCase(),u=Ae[s]||Ae._default,a.innerHTML=u[1]+E.htmlPrefilter(o)+u[2],c=u[0];c--;)a=a.lastChild;E.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));for(f.textContent="",d=0;o=p[d++];)if(r&&E.inArray(o,r)>-1)i&&i.push(o);else if(l=ye(o),a=De(f.appendChild(o),"script"),l&&Ne(a),n)for(c=0;o=a[c++];)je.test(o.type||"")&&n.push(o);return f}var He=/^([^.]*)(?:\.(.+)|)/;function Oe(){return!0}function Pe(){return!1}function Me(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Me(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Pe;else if(!i)return e;return 1===o&&(a=i,i=function(e){return E().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=E.guid++)),e.each((function(){E.event.add(this,t,i,r,n)}))}function Re(e,t,n){n?(se.set(e,t,!1),E.event.add(e,t,{namespace:!1,handler:function(e){var n,r=se.get(this,t);if(1&e.isTrigger&&this[t]){if(r)(E.event.special[t]||{}).delegateType&&e.stopPropagation();else if(r=s.call(arguments),se.set(this,t,r),this[t](),n=se.get(this,t),se.set(this,t,!1),r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n}else r&&(se.set(this,t,E.event.trigger(r[0],r.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=Oe)}})):void 0===se.get(e,t)&&E.event.add(e,t,Oe)}E.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,y=se.get(e);if(oe(e))for(n.handler&&(n=(o=n).handler,i=o.selector),i&&E.find.matchesSelector(ge,i),n.guid||(n.guid=E.guid++),(u=y.events)||(u=y.events=Object.create(null)),(a=y.handle)||(a=y.handle=function(t){return void 0!==E&&E.event.triggered!==t.type?E.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(G)||[""]).length;l--;)d=g=(s=He.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=E.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=E.event.special[d]||{},c=E.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&E.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,r,h,a)||e.addEventListener&&e.addEventListener(d,a)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),E.event.global[d]=!0)},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,y=se.hasData(e)&&se.get(e);if(y&&(u=y.events)){for(l=(t=(t||"").match(G)||[""]).length;l--;)if(d=g=(s=He.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){for(f=E.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,y.handle)||E.removeEvent(e,d,y.handle),delete u[d])}else for(d in u)E.event.remove(e,d+t[l],n,r,!0);E.isEmptyObject(u)&&se.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),u=E.event.fix(e),l=(se.get(this,"events")||Object.create(null))[u.type]||[],c=E.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){for(a=E.event.handlers.call(this,u,l),t=0;(i=a[t++])&&!u.isPropagationStopped();)for(u.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!u.isImmediatePropagationStopped();)u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((E.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?E(i,this).index(l)>-1:E.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(e,t){Object.defineProperty(E.Event.prototype,e,{enumerable:!0,configurable:!0,get:v(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[E.expando]?e:new E.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return Ee.test(t.type)&&t.click&&j(t,"input")&&Re(t,"click",!0),!1},trigger:function(e){var t=this||e;return Ee.test(t.type)&&t.click&&j(t,"input")&&Re(t,"click"),!0},_default:function(e){var t=e.target;return Ee.test(t.type)&&t.click&&j(t,"input")&&se.get(t,"click")||j(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},E.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},E.Event=function(e,t){if(!(this instanceof E.Event))return new E.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Oe:Pe,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&E.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:Pe,isPropagationStopped:Pe,isImmediatePropagationStopped:Pe,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Oe,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Oe,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Oe,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},E.event.addProp),E.each({focus:"focusin",blur:"focusout"},(function(e,t){function n(e){if(x.documentMode){var n=se.get(this,"handle"),r=E.event.fix(e);r.type="focusin"===e.type?"focus":"blur",r.isSimulated=!0,n(e),r.target===r.currentTarget&&n(r)}else E.event.simulate(t,e.target,E.event.fix(e))}E.event.special[e]={setup:function(){var r;if(Re(this,e,!0),!x.documentMode)return!1;(r=se.get(this,t))||this.addEventListener(t,n),se.set(this,t,(r||0)+1)},trigger:function(){return Re(this,e),!0},teardown:function(){var e;if(!x.documentMode)return!1;(e=se.get(this,t)-1)?se.set(this,t,e):(this.removeEventListener(t,n),se.remove(this,t))},_default:function(t){return se.get(t.target,e)},delegateType:t},E.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,i=x.documentMode?this:r,o=se.get(i,t);o||(x.documentMode?this.addEventListener(t,n):r.addEventListener(e,n,!0)),se.set(i,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,i=x.documentMode?this:r,o=se.get(i,t)-1;o?se.set(i,t,o):(x.documentMode?this.removeEventListener(t,n):r.removeEventListener(e,n,!0),se.remove(i,t))}}})),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){E.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,i=e.handleObj;return r&&(r===this||E.contains(this,r))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}})),E.fn.extend({on:function(e,t,n,r){return Me(this,e,t,n,r)},one:function(e,t,n,r){return Me(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,E(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Pe),this.each((function(){E.event.remove(this,e,n,t)}))}});var Ie=/<script|<style|<link/i,We=/checked\s*(?:[^=]|=\s*.checked.)/i,Fe=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function $e(e,t){return j(e,"table")&&j(11!==t.nodeType?t:t.firstChild,"tr")&&E(e).children("tbody")[0]||e}function _e(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Be(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function ze(e,t){var n,r,i,o,a,s;if(1===t.nodeType){if(se.hasData(e)&&(s=se.get(e).events))for(i in se.remove(t,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)E.event.add(t,i,s[i][n]);ue.hasData(e)&&(o=ue.access(e),a=E.extend({},o),ue.set(t,a))}}function Xe(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Ee.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Ue(e,t,n,r){t=u(t);var i,o,a,s,l,c,f=0,p=e.length,d=p-1,h=t[0],g=v(h);if(g||p>1&&"string"==typeof h&&!y.checkClone&&We.test(h))return e.each((function(i){var o=e.eq(i);g&&(t[0]=h.call(this,i,o.html())),Ue(o,t,n,r)}));if(p&&(o=(i=qe(t,e[0].ownerDocument,!1,e,r)).firstChild,1===i.childNodes.length&&(i=o),o||r)){for(s=(a=E.map(De(i,"script"),_e)).length;f<p;f++)l=i,f!==d&&(l=E.clone(l,!0,!0),s&&E.merge(a,De(l,"script"))),n.call(e[f],l,f);if(s)for(c=a[a.length-1].ownerDocument,E.map(a,Be),f=0;f<s;f++)l=a[f],je.test(l.type||"")&&!se.access(l,"globalEval")&&E.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?E._evalUrl&&!l.noModule&&E._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},c):w(l.textContent.replace(Fe,""),l,c))}return e}function Ge(e,t,n){for(var r,i=t?E.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||E.cleanData(De(r)),r.parentNode&&(n&&ye(r)&&Ne(De(r,"script")),r.parentNode.removeChild(r));return e}E.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),u=ye(e);if(!(y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||E.isXMLDoc(e)))for(a=De(s),r=0,i=(o=De(e)).length;r<i;r++)Xe(o[r],a[r]);if(t)if(n)for(o=o||De(e),a=a||De(s),r=0,i=o.length;r<i;r++)ze(o[r],a[r]);else ze(e,s);return(a=De(s,"script")).length>0&&Ne(a,!u&&De(e,"script")),s},cleanData:function(e){for(var t,n,r,i=E.event.special,o=0;void 0!==(n=e[o]);o++)if(oe(n)){if(t=n[se.expando]){if(t.events)for(r in t.events)i[r]?E.event.remove(n,r):E.removeEvent(n,r,t.handle);n[se.expando]=void 0}n[ue.expando]&&(n[ue.expando]=void 0)}}}),E.fn.extend({detach:function(e){return Ge(this,e,!0)},remove:function(e){return Ge(this,e)},text:function(e){return ee(this,(function(e){return void 0===e?E.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Ue(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||$e(this,e).appendChild(e)}))},prepend:function(){return Ue(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=$e(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Ue(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Ue(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(E.cleanData(De(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return E.clone(this,e,t)}))},html:function(e){return ee(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ie.test(e)&&!Ae[(Se.exec(e)||["",""])[1].toLowerCase()]){e=E.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(E.cleanData(De(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Ue(this,arguments,(function(t){var n=this.parentNode;E.inArray(this,e)<0&&(E.cleanData(De(this)),n&&n.replaceChild(t,this))}),e)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){E.fn[e]=function(e){for(var n,r=[],i=E(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),E(i[a])[t](n),l.apply(r,n.get());return this.pushStack(r)}}));var Ve=new RegExp("^("+pe+")(?!px)[a-z%]+$","i"),Qe=/^--/,Ye=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=r),t.getComputedStyle(e)},Je=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},Ke=new RegExp(he.join("|"),"i");function Ze(e,t,n){var r,i,o,a,s=Qe.test(t),u=e.style;return(n=n||Ye(e))&&(a=n.getPropertyValue(t)||n[t],s&&a&&(a=a.replace(q,"$1")||void 0),""!==a||ye(e)||(a=E.style(e,t)),!y.pixelBoxStyles()&&Ve.test(a)&&Ke.test(t)&&(r=u.width,i=u.minWidth,o=u.maxWidth,u.minWidth=u.maxWidth=u.width=a,a=n.width,u.width=r,u.minWidth=i,u.maxWidth=o)),void 0!==a?a+"":a}function et(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ge.appendChild(l).appendChild(c);var e=r.getComputedStyle(c);n="1%"!==e.top,u=12===t(e.marginLeft),c.style.right="60%",a=36===t(e.right),i=36===t(e.width),c.style.position="absolute",o=12===t(c.offsetWidth/3),ge.removeChild(l),c=null}}function t(e){return Math.round(parseFloat(e))}var n,i,o,a,s,u,l=x.createElement("div"),c=x.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===c.style.backgroundClip,E.extend(y,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),u},scrollboxSize:function(){return e(),o},reliableTrDimensions:function(){var e,t,n,i;return null==s&&(e=x.createElement("table"),t=x.createElement("tr"),n=x.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="box-sizing:content-box;border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",ge.appendChild(e).appendChild(t).appendChild(n),i=r.getComputedStyle(t),s=parseInt(i.height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===t.offsetHeight,ge.removeChild(e)),s}}))}();var tt=["Webkit","Moz","ms"],nt=x.createElement("div").style,rt={};function it(e){var t=E.cssProps[e]||rt[e];return t||(e in nt?e:rt[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=tt.length;n--;)if((e=tt[n]+t)in nt)return e}(e)||e)}var ot=/^(none|table(?!-c[ea]).+)/,at={position:"absolute",visibility:"hidden",display:"block"},st={letterSpacing:"0",fontWeight:"400"};function ut(e,t,n){var r=de.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function lt(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0,l=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=E.css(e,n+he[a],!0,i)),r?("content"===n&&(u-=E.css(e,"padding"+he[a],!0,i)),"margin"!==n&&(u-=E.css(e,"border"+he[a]+"Width",!0,i))):(u+=E.css(e,"padding"+he[a],!0,i),"padding"!==n?u+=E.css(e,"border"+he[a]+"Width",!0,i):s+=E.css(e,"border"+he[a]+"Width",!0,i));return!r&&o>=0&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u+l}function ct(e,t,n){var r=Ye(e),i=(!y.boxSizingReliable()||n)&&"border-box"===E.css(e,"boxSizing",!1,r),o=i,a=Ze(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(Ve.test(a)){if(!n)return a;a="auto"}return(!y.boxSizingReliable()&&i||!y.reliableTrDimensions()&&j(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===E.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===E.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+lt(e,t,n||(i?"border":"content"),o,r,a)+"px"}function ft(e,t,n,r,i){return new ft.prototype.init(e,t,n,r,i)}E.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ze(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=ie(t),u=Qe.test(t),l=e.style;if(u||(t=it(s)),a=E.cssHooks[t]||E.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"==(o=typeof n)&&(i=de.exec(n))&&i[1]&&(n=xe(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(E.cssNumber[s]?"":"px")),y.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=ie(t);return Qe.test(t)||(t=it(s)),(a=E.cssHooks[t]||E.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Ze(e,t,r)),"normal"===i&&t in st&&(i=st[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),E.each(["height","width"],(function(e,t){E.cssHooks[t]={get:function(e,n,r){if(n)return!ot.test(E.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ct(e,t,r):Je(e,at,(function(){return ct(e,t,r)}))},set:function(e,n,r){var i,o=Ye(e),a=!y.scrollboxSize()&&"absolute"===o.position,s=(a||r)&&"border-box"===E.css(e,"boxSizing",!1,o),u=r?lt(e,t,r,s,o):0;return s&&a&&(u-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-lt(e,t,"border",!1,o)-.5)),u&&(i=de.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=E.css(e,t)),ut(0,n,u)}}})),E.cssHooks.marginLeft=et(y.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Ze(e,"marginLeft"))||e.getBoundingClientRect().left-Je(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),E.each({margin:"",padding:"",border:"Width"},(function(e,t){E.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+he[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(E.cssHooks[e+t].set=ut)})),E.fn.extend({css:function(e,t){return ee(this,(function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Ye(e),i=t.length;a<i;a++)o[t[a]]=E.css(e,t[a],!1,r);return o}return void 0!==n?E.style(e,t,n):E.css(e,t)}),e,t,arguments.length>1)}}),E.Tween=ft,ft.prototype={constructor:ft,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||E.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(E.cssNumber[n]?"":"px")},cur:function(){var e=ft.propHooks[this.prop];return e&&e.get?e.get(this):ft.propHooks._default.get(this)},run:function(e){var t,n=ft.propHooks[this.prop];return this.options.duration?this.pos=t=E.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ft.propHooks._default.set(this),this}},ft.prototype.init.prototype=ft.prototype,ft.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=E.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){E.fx.step[e.prop]?E.fx.step[e.prop](e):1!==e.elem.nodeType||!E.cssHooks[e.prop]&&null==e.elem.style[it(e.prop)]?e.elem[e.prop]=e.now:E.style(e.elem,e.prop,e.now+e.unit)}}},ft.propHooks.scrollTop=ft.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},E.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},E.fx=ft.prototype.init,E.fx.step={};var pt,dt,ht=/^(?:toggle|show|hide)$/,gt=/queueHooks$/;function yt(){dt&&(!1===x.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(yt):r.setTimeout(yt,E.fx.interval),E.fx.tick())}function vt(){return r.setTimeout((function(){pt=void 0})),pt=Date.now()}function mt(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=he[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function xt(e,t,n){for(var r,i=(bt.tweeners[t]||[]).concat(bt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function bt(e,t,n){var r,i,o=0,a=bt.prefilters.length,s=E.Deferred().always((function(){delete u.elem})),u=function(){if(i)return!1;for(var t=pt||vt(),n=Math.max(0,l.startTime+l.duration-t),r=1-(n/l.duration||0),o=0,a=l.tweens.length;o<a;o++)l.tweens[o].run(r);return s.notifyWith(e,[l,r,n]),r<1&&a?n:(a||s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:E.extend({},t),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},n),originalProperties:t,originalOptions:n,startTime:pt||vt(),duration:n.duration,tweens:[],createTween:function(t,n){var r=E.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),c=l.props;for(function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=ie(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=E.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);o<a;o++)if(r=bt.prefilters[o].call(l,e,c,l.opts))return v(r.stop)&&(E._queueHooks(l.elem,l.opts.queue).stop=r.stop.bind(r)),r;return E.map(c,xt,l),v(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),E.fx.timer(E.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l}E.Animation=E.extend(bt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return xe(n.elem,e,de.exec(t),n),n}]},tweener:function(e,t){v(e)?(t=e,e=["*"]):e=e.match(G);for(var n,r=0,i=e.length;r<i;r++)n=e[r],bt.tweeners[n]=bt.tweeners[n]||[],bt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&me(e),y=se.get(e,"fxshow");for(r in n.queue||(null==(a=E._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always((function(){p.always((function(){a.unqueued--,E.queue(e,"fx").length||a.empty.fire()}))}))),t)if(i=t[r],ht.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!y||void 0===y[r])continue;g=!0}d[r]=y&&y[r]||E.style(e,r)}if((u=!E.isEmptyObject(t))||!E.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=y&&y.display)&&(l=se.get(e,"display")),"none"===(c=E.css(e,"display"))&&(l?c=l:(Te([e],!0),l=e.style.display||l,c=E.css(e,"display"),Te([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===E.css(e,"float")&&(u||(p.done((function(){h.display=l})),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always((function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}))),u=!1,d)u||(y?"hidden"in y&&(g=y.hidden):y=se.access(e,"fxshow",{display:l}),o&&(y.hidden=!g),g&&Te([e],!0),p.done((function(){for(r in g||Te([e]),se.remove(e,"fxshow"),d)E.style(e,r,d[r])}))),u=xt(g?y[r]:0,r,p),r in y||(y[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?bt.prefilters.unshift(e):bt.prefilters.push(e)}}),E.speed=function(e,t,n){var r=e&&"object"==typeof e?E.extend({},e):{complete:n||!n&&t||v(e)&&e,duration:e,easing:n&&t||t&&!v(t)&&t};return E.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in E.fx.speeds?r.duration=E.fx.speeds[r.duration]:r.duration=E.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){v(r.old)&&r.old.call(this),r.queue&&E.dequeue(this,r.queue)},r},E.fn.extend({fadeTo:function(e,t,n,r){return this.filter(me).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=E.isEmptyObject(e),o=E.speed(t,n,r),a=function(){var t=bt(this,E.extend({},e),o);(i||se.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,i=null!=e&&e+"queueHooks",o=E.timers,a=se.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&gt.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||E.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=se.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=E.timers,a=r?r.length:0;for(n.finish=!0,E.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish}))}}),E.each(["toggle","show","hide"],(function(e,t){var n=E.fn[t];E.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(mt(t,!0),e,r,i)}})),E.each({slideDown:mt("show"),slideUp:mt("hide"),slideToggle:mt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){E.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}})),E.timers=[],E.fx.tick=function(){var e,t=0,n=E.timers;for(pt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||E.fx.stop(),pt=void 0},E.fx.timer=function(e){E.timers.push(e),E.fx.start()},E.fx.interval=13,E.fx.start=function(){dt||(dt=!0,yt())},E.fx.stop=function(){dt=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(e,t){return e=E.fx&&E.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var i=r.setTimeout(t,e);n.stop=function(){r.clearTimeout(i)}}))},function(){var e=x.createElement("input"),t=x.createElement("select").appendChild(x.createElement("option"));e.type="checkbox",y.checkOn=""!==e.value,y.optSelected=t.selected,(e=x.createElement("input")).value="t",e.type="radio",y.radioValue="t"===e.value}();var wt,Tt=E.expr.attrHandle;E.fn.extend({attr:function(e,t){return ee(this,E.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){E.removeAttr(this,e)}))}}),E.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?E.prop(e,t,n):(1===o&&E.isXMLDoc(e)||(i=E.attrHooks[t.toLowerCase()]||(E.expr.match.bool.test(t)?wt:void 0)),void 0!==n?null===n?void E.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=E.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!y.radioValue&&"radio"===t&&j(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(G);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),wt={set:function(e,t,n){return!1===t?E.removeAttr(e,n):e.setAttribute(n,n),n}},E.each(E.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=Tt[t]||E.find.attr;Tt[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=Tt[a],Tt[a]=i,i=null!=n(e,t,r)?a:null,Tt[a]=o),i}}));var Ct=/^(?:input|select|textarea|button)$/i,kt=/^(?:a|area)$/i;function Et(e){return(e.match(G)||[]).join(" ")}function St(e){return e.getAttribute&&e.getAttribute("class")||""}function jt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(G)||[]}E.fn.extend({prop:function(e,t){return ee(this,E.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[E.propFix[e]||e]}))}}),E.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&E.isXMLDoc(e)||(t=E.propFix[t]||t,i=E.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=E.find.attr(e,"tabindex");return t?parseInt(t,10):Ct.test(e.nodeName)||kt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),y.optSelected||(E.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){E.propFix[this.toLowerCase()]=this})),E.fn.extend({addClass:function(e){var t,n,r,i,o,a;return v(e)?this.each((function(t){E(this).addClass(e.call(this,t,St(this)))})):(t=jt(e)).length?this.each((function(){if(r=St(this),n=1===this.nodeType&&" "+Et(r)+" "){for(o=0;o<t.length;o++)i=t[o],n.indexOf(" "+i+" ")<0&&(n+=i+" ");a=Et(n),r!==a&&this.setAttribute("class",a)}})):this},removeClass:function(e){var t,n,r,i,o,a;return v(e)?this.each((function(t){E(this).removeClass(e.call(this,t,St(this)))})):arguments.length?(t=jt(e)).length?this.each((function(){if(r=St(this),n=1===this.nodeType&&" "+Et(r)+" "){for(o=0;o<t.length;o++)for(i=t[o];n.indexOf(" "+i+" ")>-1;)n=n.replace(" "+i+" "," ");a=Et(n),r!==a&&this.setAttribute("class",a)}})):this:this.attr("class","")},toggleClass:function(e,t){var n,r,i,o,a=typeof e,s="string"===a||Array.isArray(e);return v(e)?this.each((function(n){E(this).toggleClass(e.call(this,n,St(this),t),t)})):"boolean"==typeof t&&s?t?this.addClass(e):this.removeClass(e):(n=jt(e),this.each((function(){if(s)for(o=E(this),i=0;i<n.length;i++)r=n[i],o.hasClass(r)?o.removeClass(r):o.addClass(r);else void 0!==e&&"boolean"!==a||((r=St(this))&&se.set(this,"__className__",r),this.setAttribute&&this.setAttribute("class",r||!1===e?"":se.get(this,"__className__")||""))})))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+Et(St(n))+" ").indexOf(t)>-1)return!0;return!1}});var At=/\r/g;E.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=v(e),this.each((function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,E(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=E.map(i,(function(e){return null==e?"":e+""}))),(t=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))}))):i?(t=E.valHooks[i.type]||E.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(At,""):null==n?"":n:void 0}}),E.extend({valHooks:{option:{get:function(e){var t=E.find.attr(e,"value");return null!=t?t:Et(E.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!j(n.parentNode,"optgroup"))){if(t=E(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=E.makeArray(t),a=i.length;a--;)((r=i[a]).selected=E.inArray(E.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),E.each(["radio","checkbox"],(function(){E.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=E.inArray(E(e).val(),t)>-1}},y.checkOn||(E.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}));var Dt=r.location,Nt={guid:Date.now()},Lt=/\?/;E.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new r.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||E.error("Invalid XML: "+(n?E.map(n.childNodes,(function(e){return e.textContent})).join("\n"):e)),t};var qt=/^(?:focusinfocus|focusoutblur)$/,Ht=function(e){e.stopPropagation()};E.extend(E.event,{trigger:function(e,t,n,i){var o,a,s,u,l,c,f,p,h=[n||x],g=d.call(e,"type")?e.type:e,y=d.call(e,"namespace")?e.namespace.split("."):[];if(a=p=s=n=n||x,3!==n.nodeType&&8!==n.nodeType&&!qt.test(g+E.event.triggered)&&(g.indexOf(".")>-1&&(y=g.split("."),g=y.shift(),y.sort()),l=g.indexOf(":")<0&&"on"+g,(e=e[E.expando]?e:new E.Event(g,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=y.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:E.makeArray(t,[e]),f=E.event.special[g]||{},i||!f.trigger||!1!==f.trigger.apply(n,t))){if(!i&&!f.noBubble&&!m(n)){for(u=f.delegateType||g,qt.test(u+g)||(a=a.parentNode);a;a=a.parentNode)h.push(a),s=a;s===(n.ownerDocument||x)&&h.push(s.defaultView||s.parentWindow||r)}for(o=0;(a=h[o++])&&!e.isPropagationStopped();)p=a,e.type=o>1?u:f.bindType||g,(c=(se.get(a,"events")||Object.create(null))[e.type]&&se.get(a,"handle"))&&c.apply(a,t),(c=l&&a[l])&&c.apply&&oe(a)&&(e.result=c.apply(a,t),!1===e.result&&e.preventDefault());return e.type=g,i||e.isDefaultPrevented()||f._default&&!1!==f._default.apply(h.pop(),t)||!oe(n)||l&&v(n[g])&&!m(n)&&((s=n[l])&&(n[l]=null),E.event.triggered=g,e.isPropagationStopped()&&p.addEventListener(g,Ht),n[g](),e.isPropagationStopped()&&p.removeEventListener(g,Ht),E.event.triggered=void 0,s&&(n[l]=s)),e.result}},simulate:function(e,t,n){var r=E.extend(new E.Event,n,{type:e,isSimulated:!0});E.event.trigger(r,null,t)}}),E.fn.extend({trigger:function(e,t){return this.each((function(){E.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return E.event.trigger(e,t,n,!0)}});var Ot=/\[\]$/,Pt=/\r?\n/g,Mt=/^(?:submit|button|image|reset|file)$/i,Rt=/^(?:input|select|textarea|keygen)/i;function It(e,t,n,r){var i;if(Array.isArray(t))E.each(t,(function(t,i){n||Ot.test(e)?r(e,i):It(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)}));else if(n||"object"!==T(t))r(e,t);else for(i in t)It(e+"["+i+"]",t[i],n,r)}E.param=function(e,t){var n,r=[],i=function(e,t){var n=v(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!E.isPlainObject(e))E.each(e,(function(){i(this.name,this.value)}));else for(n in e)It(n,e[n],t,i);return r.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=E.prop(this,"elements");return e?E.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!E(this).is(":disabled")&&Rt.test(this.nodeName)&&!Mt.test(e)&&(this.checked||!Ee.test(e))})).map((function(e,t){var n=E(this).val();return null==n?null:Array.isArray(n)?E.map(n,(function(e){return{name:t.name,value:e.replace(Pt,"\r\n")}})):{name:t.name,value:n.replace(Pt,"\r\n")}})).get()}});var Wt=/%20/g,Ft=/#.*$/,$t=/([?&])_=[^&]*/,_t=/^(.*?):[ \t]*([^\r\n]*)$/gm,Bt=/^(?:GET|HEAD)$/,zt=/^\/\//,Xt={},Ut={},Gt="*/".concat("*"),Vt=x.createElement("a");function Qt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(G)||[];if(v(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Yt(e,t,n,r){var i={},o=e===Ut;function a(s){var u;return i[s]=!0,E.each(e[s]||[],(function(e,s){var l=s(t,n,r);return"string"!=typeof l||o||i[l]?o?!(u=l):void 0:(t.dataTypes.unshift(l),a(l),!1)})),u}return a(t.dataTypes[0])||!i["*"]&&a("*")}function Jt(e,t){var n,r,i=E.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&E.extend(!0,e,r),e}Vt.href=Dt.href,E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Dt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Dt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Gt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Jt(Jt(e,E.ajaxSettings),t):Jt(E.ajaxSettings,e)},ajaxPrefilter:Qt(Xt),ajaxTransport:Qt(Ut),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,i,o,a,s,u,l,c,f,p,d=E.ajaxSetup({},t),h=d.context||d,g=d.context&&(h.nodeType||h.jquery)?E(h):E.event,y=E.Deferred(),v=E.Callbacks("once memory"),m=d.statusCode||{},b={},w={},T="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(l){if(!a)for(a={};t=_t.exec(o);)a[t[1].toLowerCase()+" "]=(a[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=a[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return l?o:null},setRequestHeader:function(e,t){return null==l&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==l&&(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(l)C.always(e[C.status]);else for(t in e)m[t]=[m[t],e[t]];return this},abort:function(e){var t=e||T;return n&&n.abort(t),k(0,t),this}};if(y.promise(C),d.url=((e||d.url||Dt.href)+"").replace(zt,Dt.protocol+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(G)||[""],null==d.crossDomain){u=x.createElement("a");try{u.href=d.url,u.href=u.href,d.crossDomain=Vt.protocol+"//"+Vt.host!=u.protocol+"//"+u.host}catch(e){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=E.param(d.data,d.traditional)),Yt(Xt,d,t,C),l)return C;for(f in(c=E.event&&d.global)&&0==E.active++&&E.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Bt.test(d.type),i=d.url.replace(Ft,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Wt,"+")):(p=d.url.slice(i.length),d.data&&(d.processData||"string"==typeof d.data)&&(i+=(Lt.test(i)?"&":"?")+d.data,delete d.data),!1===d.cache&&(i=i.replace($t,"$1"),p=(Lt.test(i)?"&":"?")+"_="+Nt.guid+++p),d.url=i+p),d.ifModified&&(E.lastModified[i]&&C.setRequestHeader("If-Modified-Since",E.lastModified[i]),E.etag[i]&&C.setRequestHeader("If-None-Match",E.etag[i])),(d.data&&d.hasContent&&!1!==d.contentType||t.contentType)&&C.setRequestHeader("Content-Type",d.contentType),C.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Gt+"; q=0.01":""):d.accepts["*"]),d.headers)C.setRequestHeader(f,d.headers[f]);if(d.beforeSend&&(!1===d.beforeSend.call(h,C,d)||l))return C.abort();if(T="abort",v.add(d.complete),C.done(d.success),C.fail(d.error),n=Yt(Ut,d,t,C)){if(C.readyState=1,c&&g.trigger("ajaxSend",[C,d]),l)return C;d.async&&d.timeout>0&&(s=r.setTimeout((function(){C.abort("timeout")}),d.timeout));try{l=!1,n.send(b,k)}catch(e){if(l)throw e;k(-1,e)}}else k(-1,"No Transport");function k(e,t,a,u){var f,p,x,b,w,T=t;l||(l=!0,s&&r.clearTimeout(s),n=void 0,o=u||"",C.readyState=e>0?4:0,f=e>=200&&e<300||304===e,a&&(b=function(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(d,C,a)),!f&&E.inArray("script",d.dataTypes)>-1&&E.inArray("json",d.dataTypes)<0&&(d.converters["text script"]=function(){}),b=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(d,b,C,f),f?(d.ifModified&&((w=C.getResponseHeader("Last-Modified"))&&(E.lastModified[i]=w),(w=C.getResponseHeader("etag"))&&(E.etag[i]=w)),204===e||"HEAD"===d.type?T="nocontent":304===e?T="notmodified":(T=b.state,p=b.data,f=!(x=b.error))):(x=T,!e&&T||(T="error",e<0&&(e=0))),C.status=e,C.statusText=(t||T)+"",f?y.resolveWith(h,[p,T,C]):y.rejectWith(h,[C,T,x]),C.statusCode(m),m=void 0,c&&g.trigger(f?"ajaxSuccess":"ajaxError",[C,d,f?p:x]),v.fireWith(h,[C,T]),c&&(g.trigger("ajaxComplete",[C,d]),--E.active||E.event.trigger("ajaxStop")))}return C},getJSON:function(e,t,n){return E.get(e,t,n,"json")},getScript:function(e,t){return E.get(e,void 0,t,"script")}}),E.each(["get","post"],(function(e,t){E[t]=function(e,n,r,i){return v(n)&&(i=i||r,r=n,n=void 0),E.ajax(E.extend({url:e,type:t,dataType:i,data:n,success:r},E.isPlainObject(e)&&e))}})),E.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),E._evalUrl=function(e,t,n){return E.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){E.globalEval(e,t,n)}})},E.fn.extend({wrapAll:function(e){var t;return this[0]&&(v(e)&&(e=e.call(this[0])),t=E(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return v(e)?this.each((function(t){E(this).wrapInner(e.call(this,t))})):this.each((function(){var t=E(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=v(e);return this.each((function(n){E(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){E(this).replaceWith(this.childNodes)})),this}}),E.expr.pseudos.hidden=function(e){return!E.expr.pseudos.visible(e)},E.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(e){}};var Kt={0:200,1223:204},Zt=E.ajaxSettings.xhr();y.cors=!!Zt&&"withCredentials"in Zt,y.ajax=Zt=!!Zt,E.ajaxTransport((function(e){var t,n;if(y.cors||Zt&&!e.crossDomain)return{send:function(i,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];for(a in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)s.setRequestHeader(a,i[a]);t=function(e){return function(){t&&(t=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Kt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),n=s.onerror=s.ontimeout=t("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&r.setTimeout((function(){t&&n()}))},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),E.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return E.globalEval(e),e}}}),E.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),E.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,i){t=E("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),x.head.appendChild(t[0])},abort:function(){n&&n()}}}));var en,tn=[],nn=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=tn.pop()||E.expando+"_"+Nt.guid++;return this[e]=!0,e}}),E.ajaxPrefilter("json jsonp",(function(e,t,n){var i,o,a,s=!1!==e.jsonp&&(nn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&nn.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=v(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(nn,"$1"+i):!1!==e.jsonp&&(e.url+=(Lt.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return a||E.error(i+" was not called"),a[0]},e.dataTypes[0]="json",o=r[i],r[i]=function(){a=arguments},n.always((function(){void 0===o?E(r).removeProp(i):r[i]=o,e[i]&&(e.jsonpCallback=t.jsonpCallback,tn.push(i)),a&&v(o)&&o(a[0]),a=o=void 0})),"script"})),y.createHTMLDocument=((en=x.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===en.childNodes.length),E.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(y.createHTMLDocument?((r=(t=x.implementation.createHTMLDocument("")).createElement("base")).href=x.location.href,t.head.appendChild(r)):t=x),o=!n&&[],(i=F.exec(e))?[t.createElement(i[1])]:(i=qe([e],t,o),o&&o.length&&E(o).remove(),E.merge([],i.childNodes)));var r,i,o},E.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=Et(e.slice(s)),e=e.slice(0,s)),v(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&E.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done((function(e){o=arguments,a.html(r?E("<div>").append(E.parseHTML(e)).find(r):e)})).always(n&&function(e,t){a.each((function(){n.apply(this,o||[e.responseText,t,e])}))}),this},E.expr.pseudos.animated=function(e){return E.grep(E.timers,(function(t){return e===t.elem})).length},E.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=E.css(e,"position"),c=E(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=E.css(e,"top"),u=E.css(e,"left"),("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),v(t)&&(t=t.call(e,n,E.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},E.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){E.offset.setOffset(this,e,t)}));var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===E.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===E.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=E(e).offset()).top+=E.css(e,"borderTopWidth",!0),i.left+=E.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-E.css(r,"marginTop",!0),left:t.left-i.left-E.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===E.css(e,"position");)e=e.offsetParent;return e||ge}))}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;E.fn[e]=function(r){return ee(this,(function(e,r,i){var o;if(m(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i}),e,r,arguments.length)}})),E.each(["top","left"],(function(e,t){E.cssHooks[t]=et(y.pixelPosition,(function(e,n){if(n)return n=Ze(e,t),Ve.test(n)?E(e).position()[t]+"px":n}))})),E.each({Height:"height",Width:"width"},(function(e,t){E.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){E.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return ee(this,(function(t,n,i){var o;return m(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?E.css(t,n,s):E.style(t,n,i,s)}),t,a?i:void 0,a)}}))})),E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){E.fn[t]=function(e){return this.on(t,e)}})),E.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)}}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){E.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var rn=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;E.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),v(e))return r=s.call(arguments,2),i=function(){return e.apply(t||this,r.concat(s.call(arguments)))},i.guid=e.guid=e.guid||E.guid++,i},E.holdReady=function(e){e?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=j,E.isFunction=v,E.isWindow=m,E.camelCase=ie,E.type=T,E.now=Date.now,E.isNumeric=function(e){var t=E.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},E.trim=function(e){return null==e?"":(e+"").replace(rn,"$1")},void 0===(n=function(){return E}.apply(t,[]))||(e.exports=n);var on=r.jQuery,an=r.$;return E.noConflict=function(e){return r.$===E&&(r.$=an),e&&r.jQuery===E&&(r.jQuery=on),E},void 0===i&&(r.jQuery=r.$=E),E},"object"==typeof e.exports?e.exports=r.document?i(r,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return i(e)}:i(r)}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}var r,i;r=n(850),i=n(270),new(function(){function e(){this.gui={setGuiName:function(e){},setGuiHtml:function(e){},setGuiStyles:function(e){},setGuiKeyBind:function(e){},setGuiOnlyShowIfInGame:function(e){},addGui:function(){(0,i.addgui)()}},this.version="1.0"}return e.prototype.loadjquery=function(){(0,r.loadJQuery)()},e}())})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUtsQixJQUFNLENBQ1Bnc0MsV0FBWSxTQUFVaHRDLEdBRXRCLEVBQ0FpdEMsV0FBWSxTQUFVaHRDLEdBRXRCLEVBQ0FpdEMsYUFBYyxTQUFVaHRDLEdBRXhCLEVBQ0FpdEMsY0FBZSxTQUFVaHRDLEdBRXpCLEVBQ0FpdEMsdUJBQXdCLFNBQVVodEMsR0FFbEMsRUFDQWl0QyxPQUFRLFlBQ0osRUFBSVAsRUFBU3p0QyxTQUNqQixHQUVKNkMsS0FBSzRDLFFBQVUsS0FDbkIsQ0FJQSxPQUhBaW9DLEVBQWFybkMsVUFBVTRuQyxXQUFhLFlBQ2hDLEVBQUlULEVBQWVockMsYUFDdkIsRUFDT2tyQyxDQUNYLENBNUJpQyxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vU2VhUGlja2xlLWxpYi8uL3NyYy9hZGRndWkudHMiLCJ3ZWJwYWNrOi8vU2VhUGlja2xlLWxpYi8uL3NyYy9qcXVlcnlsb2FkZXIudHMiLCJ3ZWJwYWNrOi8vU2VhUGlja2xlLWxpYi93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9TZWFQaWNrbGUtbGliLy4vc3JjL21haW4udHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmFkZGd1aSA9IGV4cG9ydHMuc2V0Z3Vpb25seXNob3dpZmluZ2FtZSA9IGV4cG9ydHMuc2V0Z3Vpa2V5YmluZCA9IGV4cG9ydHMuc2V0Z3Vpc3R5bGVzID0gZXhwb3J0cy5zZXRndWlodG1sID0gZXhwb3J0cy5zZXRndWluYW1lID0gZXhwb3J0cy5ndWlvbmx5c2hvd2lmaW5nYW1lID0gZXhwb3J0cy5ndWlrZXliaW5kID0gZXhwb3J0cy5ndWlzdHlsZXMgPSBleHBvcnRzLmd1aWh0bWwgPSBleHBvcnRzLmd1aW5hbWUgPSB2b2lkIDA7XG5leHBvcnRzLmd1aW5hbWUgPSBudWxsO1xuZXhwb3J0cy5ndWlodG1sID0gbnVsbDtcbmV4cG9ydHMuZ3Vpc3R5bGVzID0gbnVsbDtcbmV4cG9ydHMuZ3Vpa2V5YmluZCA9IG51bGw7XG5leHBvcnRzLmd1aW9ubHlzaG93aWZpbmdhbWUgPSBmYWxzZTtcbmZ1bmN0aW9uIHNldGd1aW5hbWUobmFtZSkge1xuICAgIGV4cG9ydHMuZ3VpbmFtZSA9IG5hbWU7XG59XG5leHBvcnRzLnNldGd1aW5hbWUgPSBzZXRndWluYW1lO1xuZnVuY3Rpb24gc2V0Z3VpaHRtbChodG1sKSB7XG4gICAgZXhwb3J0cy5ndWlodG1sID0gaHRtbDtcbn1cbmV4cG9ydHMuc2V0Z3VpaHRtbCA9IHNldGd1aWh0bWw7XG5mdW5jdGlvbiBzZXRndWlzdHlsZXMoc3R5bGVzKSB7XG4gICAgZXhwb3J0cy5ndWlzdHlsZXMgPSBzdHlsZXM7XG59XG5leHBvcnRzLnNldGd1aXN0eWxlcyA9IHNldGd1aXN0eWxlcztcbmZ1bmN0aW9uIHNldGd1aWtleWJpbmQoa2V5YmluZCkge1xuICAgIGV4cG9ydHMuZ3Vpa2V5YmluZCA9IGtleWJpbmQ7XG59XG5leHBvcnRzLnNldGd1aWtleWJpbmQgPSBzZXRndWlrZXliaW5kO1xuZnVuY3Rpb24gc2V0Z3Vpb25seXNob3dpZmluZ2FtZShpZGspIHtcbiAgICBleHBvcnRzLmd1aW9ubHlzaG93aWZpbmdhbWUgPSBpZGs7XG59XG5leHBvcnRzLnNldGd1aW9ubHlzaG93aWZpbmdhbWUgPSBzZXRndWlvbmx5c2hvd2lmaW5nYW1lO1xuZnVuY3Rpb24gYWRkZ3VpKCkge1xuICAgIGlmIChleHBvcnRzLmd1aW5hbWUgPT0gbnVsbCB8fCBleHBvcnRzLmd1aWh0bWwgPT0gbnVsbCB8fCBleHBvcnRzLmd1aXN0eWxlcyA9PSBudWxsKSB7XG4gICAgICAgIGFsZXJ0KFwiZmFpbGVkIHRvIGFkZCBndWkuIHJlYXNvbiA6IGd1aW5hbWUgb3IgZ3VpaHRtbCBvciBndWlzdHlsZXMgYXJlIG5vdCBkZWZpbmVkXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBndWlWaXNpYmxlID0gZmFsc2U7IC8vIFZhcmlhYmxlIHRvIGtlZXAgdHJhY2sgb2YgdGhlIHZpc2liaWxpdHkgb2YgdGhlIEdVSVxuICAgIGZ1bmN0aW9uIHRvZ2dsZUd1aSgpIHtcbiAgICAgICAgaWYgKGd1aVZpc2libGUpIHsgLy8gSWYgdGhlIEdVSSBpcyB2aXNpYmxlXG4gICAgICAgICAgICBoaWRlR3VpKCk7IC8vIEhpZGUgdGhlIEdVSVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2hvd0d1aSgpOyAvLyBPdGhlcndpc2UsIHNob3cgdGhlIEdVSVxuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNob3dHdWkoKSB7XG4gICAgICAgIGhpZGVHdWkoKTsgLy8gSWYgdGhlIEdVSSBpcyBhbHJlYWR5IG9wZW4sIHRoaXMgd2lsbCBoaWRlIGl0LlxuICAgICAgICB2YXIgZ3VpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImd1aVwiKTsgLy8gQ3JlYXRlIGEgbmV3IFwiZ3VpXCIgZWxlbWVudFxuICAgICAgICBpZiAoZXhwb3J0cy5ndWlvbmx5c2hvd2lmaW5nYW1lID09IHRydWUgJiYgZG9jdW1lbnQucG9pbnRlckxvY2tFbGVtZW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgIGd1aS5pbm5lckhUTUwgPSBleHBvcnRzLmd1aWh0bWw7IC8vIFNldCB0aGUgSFRNTCBjb250ZW50IG9mIHRoZSBcImd1aVwiIGVsZW1lbnRcbiAgICAgICAgICAgIGd1aS5pZCA9IGV4cG9ydHMuZ3VpbmFtZTsgLy8gU2V0IHRoZSBJRCBvZiB0aGUgXCJndWlcIiBlbGVtZW50IHRvIFwibXlHdWlcIlxuICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgICAgICBndWkuc3R5bGUgPSBleHBvcnRzLmd1aXN0eWxlcztcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZ3VpKTsgLy8gQXBwZW5kIHRoZSBcImd1aVwiIGVsZW1lbnQgdG8gdGhlIGJvZHkgb2YgdGhlIGRvY3VtZW50XG4gICAgICAgICAgICBndWlWaXNpYmxlID0gdHJ1ZTsgLy8gU2V0IHRoZSBHVUkgdmlzaWJpbGl0eSB0byB0cnVlXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoZG9jdW1lbnQucG9pbnRlckxvY2tFbGVtZW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5leGl0UG9pbnRlckxvY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGd1aS5pbm5lckhUTUwgPSBleHBvcnRzLmd1aWh0bWw7IC8vIFNldCB0aGUgSFRNTCBjb250ZW50IG9mIHRoZSBcImd1aVwiIGVsZW1lbnRcbiAgICAgICAgICAgIGd1aS5pZCA9IGV4cG9ydHMuZ3VpbmFtZTsgLy8gU2V0IHRoZSBJRCBvZiB0aGUgXCJndWlcIiBlbGVtZW50IHRvIFwibXlHdWlcIlxuICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgICAgICBndWkuc3R5bGUgPSBleHBvcnRzLmd1aXN0eWxlcztcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZ3VpKTsgLy8gQXBwZW5kIHRoZSBcImd1aVwiIGVsZW1lbnQgdG8gdGhlIGJvZHkgb2YgdGhlIGRvY3VtZW50XG4gICAgICAgICAgICBndWlWaXNpYmxlID0gdHJ1ZTsgLy8gU2V0IHRoZSBHVUkgdmlzaWJpbGl0eSB0byB0cnVlXG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gaGlkZUd1aSgpIHtcbiAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGV4cG9ydHMuZ3VpbmFtZSkpIHsgLy8gSWYgdGhlIFwibXlHdWlcIiBlbGVtZW50IGV4aXN0c1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZXhwb3J0cy5ndWluYW1lKS5yZW1vdmUoKTsgLy8gUmVtb3ZlIHRoZSBcIm15R3VpXCIgZWxlbWVudCBmcm9tIHRoZSBkb2N1bWVudFxuICAgICAgICB9XG4gICAgICAgIGd1aVZpc2libGUgPSBmYWxzZTsgLy8gU2V0IHRoZSBHVUkgdmlzaWJpbGl0eSB0byBmYWxzZVxuICAgIH1cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmIChleHBvcnRzLmd1aWtleWJpbmQgPT0gXCJSaWdodFNoaWZ0XCIgJiYgZXZlbnQua2V5ID09PSBcIlNoaWZ0XCIgJiYgZXZlbnQubG9jYXRpb24gPT09IEtleWJvYXJkRXZlbnQuRE9NX0tFWV9MT0NBVElPTl9SSUdIVCkgeyAvLyBJZiB0aGUgcmlnaHQgU2hpZnQga2V5IGlzIHByZXNzZWRcbiAgICAgICAgICAgIHRvZ2dsZUd1aSgpOyAvLyBUb2dnbGUgdGhlIEdVSSB2aXNpYmlsaXR5XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gXCJFc2NhcGVcIiB8fCBldmVudC5rZXkgPT09IFwiYFwiKSB7IC8vIElmIHRoZSBFc2NhcGUga2V5IG9yIGJhY2t0aWNrIGlzIHByZXNzZWRcbiAgICAgICAgICAgIGhpZGVHdWkoKTsgLy8gSGlkZSB0aGUgR1VJXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gZXhwb3J0cy5ndWlrZXliaW5kKSB7IC8vIElmIHRoZSByaWdodCBTaGlmdCBrZXkgaXMgcHJlc3NlZFxuICAgICAgICAgICAgdG9nZ2xlR3VpKCk7IC8vIFRvZ2dsZSB0aGUgR1VJIHZpc2liaWxpdHlcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZXhwb3J0cy5hZGRndWkgPSBhZGRndWk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMubG9hZEpRdWVyeSA9IHZvaWQgMDtcbi8vQHRzLW5vY2hlY2tcbmZ1bmN0aW9uIGxvYWRKUXVlcnkoKSB7XG4gICAgY29uc29sZS5sb2coXCJzdWNjZXNzZnVsbHkgbG9hZGVkIGpxdWVyeSFcIik7XG4gICAgLyohXG4gICAgKiBqUXVlcnkgSmF2YVNjcmlwdCBMaWJyYXJ5IHYzLjcuMVxuICAgICogaHR0cHM6Ly9qcXVlcnkuY29tL1xuICAgICpcbiAgICAqIENvcHlyaWdodCBPcGVuSlMgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gICAgKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcbiAgICAqIGh0dHBzOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gICAgKlxuICAgICogRGF0ZTogMjAyMy0wOC0yOFQxMzozN1pcbiAgICAqL1xuICAgIC8vQHRzLWlnbm9yZVxuICAgIChmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gICAgICAgIFwidXNlIHN0cmljdFwiO1xuICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgaWYgKHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAvLyBGb3IgQ29tbW9uSlMgYW5kIENvbW1vbkpTLWxpa2UgZW52aXJvbm1lbnRzIHdoZXJlIGEgcHJvcGVyIGB3aW5kb3dgXG4gICAgICAgICAgICAvLyBpcyBwcmVzZW50LCBleGVjdXRlIHRoZSBmYWN0b3J5IGFuZCBnZXQgalF1ZXJ5LlxuICAgICAgICAgICAgLy8gRm9yIGVudmlyb25tZW50cyB0aGF0IGRvIG5vdCBoYXZlIGEgYHdpbmRvd2Agd2l0aCBhIGBkb2N1bWVudGBcbiAgICAgICAgICAgIC8vIChzdWNoIGFzIE5vZGUuanMpLCBleHBvc2UgYSBmYWN0b3J5IGFzIG1vZHVsZS5leHBvcnRzLlxuICAgICAgICAgICAgLy8gVGhpcyBhY2NlbnR1YXRlcyB0aGUgbmVlZCBmb3IgdGhlIGNyZWF0aW9uIG9mIGEgcmVhbCBgd2luZG93YC5cbiAgICAgICAgICAgIC8vIGUuZy4gdmFyIGpRdWVyeSA9IHJlcXVpcmUoXCJqcXVlcnlcIikod2luZG93KTtcbiAgICAgICAgICAgIC8vIFNlZSB0aWNrZXQgdHJhYy0xNDU0OSBmb3IgbW9yZSBpbmZvLlxuICAgICAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBnbG9iYWwuZG9jdW1lbnQgP1xuICAgICAgICAgICAgICAgIGZhY3RvcnkoZ2xvYmFsLCB0cnVlKSA6XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF3LmRvY3VtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJqUXVlcnkgcmVxdWlyZXMgYSB3aW5kb3cgd2l0aCBhIGRvY3VtZW50XCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWN0b3J5KHcpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmYWN0b3J5KGdsb2JhbCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUGFzcyB0aGlzIGlmIHdpbmRvdyBpcyBub3QgZGVmaW5lZCB5ZXRcbiAgICB9KSh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDogdGhpcywgZnVuY3Rpb24gKHdpbmRvdywgbm9HbG9iYWwpIHtcbiAgICAgICAgLy8gRWRnZSA8PSAxMiAtIDEzKywgRmlyZWZveCA8PTE4IC0gNDUrLCBJRSAxMCAtIDExLCBTYWZhcmkgNS4xIC0gOSssIGlPUyA2IC0gOS4xXG4gICAgICAgIC8vIHRocm93IGV4Y2VwdGlvbnMgd2hlbiBub24tc3RyaWN0IGNvZGUgKGUuZy4sIEFTUC5ORVQgNC41KSBhY2Nlc3NlcyBzdHJpY3QgbW9kZVxuICAgICAgICAvLyBhcmd1bWVudHMuY2FsbGVlLmNhbGxlciAodHJhYy0xMzMzNSkuIEJ1dCBhcyBvZiBqUXVlcnkgMy4wICgyMDE2KSwgc3RyaWN0IG1vZGUgc2hvdWxkIGJlIGNvbW1vblxuICAgICAgICAvLyBlbm91Z2ggdGhhdCBhbGwgc3VjaCBhdHRlbXB0cyBhcmUgZ3VhcmRlZCBpbiBhIHRyeSBibG9jay5cbiAgICAgICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgICAgIHZhciBhcnIgPSBbXTtcbiAgICAgICAgdmFyIGdldFByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mO1xuICAgICAgICB2YXIgc2xpY2UgPSBhcnIuc2xpY2U7XG4gICAgICAgIHZhciBmbGF0ID0gYXJyLmZsYXQgPyBmdW5jdGlvbiAoYXJyYXkpIHtcbiAgICAgICAgICAgIHJldHVybiBhcnIuZmxhdC5jYWxsKGFycmF5KTtcbiAgICAgICAgfSA6IGZ1bmN0aW9uIChhcnJheSkge1xuICAgICAgICAgICAgcmV0dXJuIGFyci5jb25jYXQuYXBwbHkoW10sIGFycmF5KTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHB1c2ggPSBhcnIucHVzaDtcbiAgICAgICAgdmFyIGluZGV4T2YgPSBhcnIuaW5kZXhPZjtcbiAgICAgICAgdmFyIGNsYXNzMnR5cGUgPSB7fTtcbiAgICAgICAgdmFyIHRvU3RyaW5nID0gY2xhc3MydHlwZS50b1N0cmluZztcbiAgICAgICAgdmFyIGhhc093biA9IGNsYXNzMnR5cGUuaGFzT3duUHJvcGVydHk7XG4gICAgICAgIHZhciBmblRvU3RyaW5nID0gaGFzT3duLnRvU3RyaW5nO1xuICAgICAgICB2YXIgT2JqZWN0RnVuY3Rpb25TdHJpbmcgPSBmblRvU3RyaW5nLmNhbGwoT2JqZWN0KTtcbiAgICAgICAgdmFyIHN1cHBvcnQgPSB7fTtcbiAgICAgICAgdmFyIGlzRnVuY3Rpb24gPSBmdW5jdGlvbiBpc0Z1bmN0aW9uKG9iaikge1xuICAgICAgICAgICAgLy8gU3VwcG9ydDogQ2hyb21lIDw9NTcsIEZpcmVmb3ggPD01MlxuICAgICAgICAgICAgLy8gSW4gc29tZSBicm93c2VycywgdHlwZW9mIHJldHVybnMgXCJmdW5jdGlvblwiIGZvciBIVE1MIDxvYmplY3Q+IGVsZW1lbnRzXG4gICAgICAgICAgICAvLyAoaS5lLiwgYHR5cGVvZiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcIm9iamVjdFwiICkgPT09IFwiZnVuY3Rpb25cImApLlxuICAgICAgICAgICAgLy8gV2UgZG9uJ3Qgd2FudCB0byBjbGFzc2lmeSAqYW55KiBET00gbm9kZSBhcyBhIGZ1bmN0aW9uLlxuICAgICAgICAgICAgLy8gU3VwcG9ydDogUXRXZWIgPD0zLjguNSwgV2ViS2l0IDw9NTM0LjM0LCB3a2h0bWx0b3BkZiB0b29sIDw9MC4xMi41XG4gICAgICAgICAgICAvLyBQbHVzIGZvciBvbGQgV2ViS2l0LCB0eXBlb2YgcmV0dXJucyBcImZ1bmN0aW9uXCIgZm9yIEhUTUwgY29sbGVjdGlvbnNcbiAgICAgICAgICAgIC8vIChlLmcuLCBgdHlwZW9mIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiZGl2XCIpID09PSBcImZ1bmN0aW9uXCJgKS4gKGdoLTQ3NTYpXG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBvYmoubm9kZVR5cGUgIT09IFwibnVtYmVyXCIgJiZcbiAgICAgICAgICAgICAgICB0eXBlb2Ygb2JqLml0ZW0gIT09IFwiZnVuY3Rpb25cIjtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGlzV2luZG93ID0gZnVuY3Rpb24gaXNXaW5kb3cob2JqKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JqICE9IG51bGwgJiYgb2JqID09PSBvYmoud2luZG93O1xuICAgICAgICB9O1xuICAgICAgICB2YXIgZG9jdW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQ7XG4gICAgICAgIHZhciBwcmVzZXJ2ZWRTY3JpcHRBdHRyaWJ1dGVzID0ge1xuICAgICAgICAgICAgdHlwZTogdHJ1ZSxcbiAgICAgICAgICAgIHNyYzogdHJ1ZSxcbiAgICAgICAgICAgIG5vbmNlOiB0cnVlLFxuICAgICAgICAgICAgbm9Nb2R1bGU6IHRydWVcbiAgICAgICAgfTtcbiAgICAgICAgZnVuY3Rpb24gRE9NRXZhbChjb2RlLCBub2RlLCBkb2MpIHtcbiAgICAgICAgICAgIGRvYyA9IGRvYyB8fCBkb2N1bWVudDtcbiAgICAgICAgICAgIHZhciBpLCB2YWwsIHNjcmlwdCA9IGRvYy5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xuICAgICAgICAgICAgc2NyaXB0LnRleHQgPSBjb2RlO1xuICAgICAgICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGkgaW4gcHJlc2VydmVkU2NyaXB0QXR0cmlidXRlcykge1xuICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBGaXJlZm94IDY0KywgRWRnZSAxOCtcbiAgICAgICAgICAgICAgICAgICAgLy8gU29tZSBicm93c2VycyBkb24ndCBzdXBwb3J0IHRoZSBcIm5vbmNlXCIgcHJvcGVydHkgb24gc2NyaXB0cy5cbiAgICAgICAgICAgICAgICAgICAgLy8gT24gdGhlIG90aGVyIGhhbmQsIGp1c3QgdXNpbmcgYGdldEF0dHJpYnV0ZWAgaXMgbm90IGVub3VnaCBhc1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgYG5vbmNlYCBhdHRyaWJ1dGUgaXMgcmVzZXQgdG8gYW4gZW1wdHkgc3RyaW5nIHdoZW5ldmVyIGl0XG4gICAgICAgICAgICAgICAgICAgIC8vIGJlY29tZXMgYnJvd3NpbmctY29udGV4dCBjb25uZWN0ZWQuXG4gICAgICAgICAgICAgICAgICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vd2hhdHdnL2h0bWwvaXNzdWVzLzIzNjlcbiAgICAgICAgICAgICAgICAgICAgLy8gU2VlIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvI25vbmNlLWF0dHJpYnV0ZXNcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGBub2RlLmdldEF0dHJpYnV0ZWAgY2hlY2sgd2FzIGFkZGVkIGZvciB0aGUgc2FrZSBvZlxuICAgICAgICAgICAgICAgICAgICAvLyBgalF1ZXJ5Lmdsb2JhbEV2YWxgIHNvIHRoYXQgaXQgY2FuIGZha2UgYSBub25jZS1jb250YWluaW5nIG5vZGVcbiAgICAgICAgICAgICAgICAgICAgLy8gdmlhIGFuIG9iamVjdC5cbiAgICAgICAgICAgICAgICAgICAgdmFsID0gbm9kZVtpXSB8fCBub2RlLmdldEF0dHJpYnV0ZSAmJiBub2RlLmdldEF0dHJpYnV0ZShpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NyaXB0LnNldEF0dHJpYnV0ZShpLCB2YWwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZG9jLmhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNjcmlwdCk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gdG9UeXBlKG9iaikge1xuICAgICAgICAgICAgaWYgKG9iaiA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iaiArIFwiXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTdXBwb3J0OiBBbmRyb2lkIDw9Mi4zIG9ubHkgKGZ1bmN0aW9uaXNoIFJlZ0V4cClcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2Ygb2JqID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBvYmogPT09IFwiZnVuY3Rpb25cIiA/XG4gICAgICAgICAgICAgICAgY2xhc3MydHlwZVt0b1N0cmluZy5jYWxsKG9iaildIHx8IFwib2JqZWN0XCIgOlxuICAgICAgICAgICAgICAgIHR5cGVvZiBvYmo7XG4gICAgICAgIH1cbiAgICAgICAgLyogZ2xvYmFsIFN5bWJvbCAqL1xuICAgICAgICAvLyBEZWZpbmluZyB0aGlzIGdsb2JhbCBpbiAuZXNsaW50cmMuanNvbiB3b3VsZCBjcmVhdGUgYSBkYW5nZXIgb2YgdXNpbmcgdGhlIGdsb2JhbFxuICAgICAgICAvLyB1bmd1YXJkZWQgaW4gYW5vdGhlciBwbGFjZSwgaXQgc2VlbXMgc2FmZXIgdG8gZGVmaW5lIGdsb2JhbCBvbmx5IGZvciB0aGlzIG1vZHVsZVxuICAgICAgICB2YXIgdmVyc2lvbiA9IFwiMy43LjFcIiwgcmh0bWxTdWZmaXggPSAvSFRNTCQvaSwgXG4gICAgICAgIC8vIERlZmluZSBhIGxvY2FsIGNvcHkgb2YgalF1ZXJ5XG4gICAgICAgIGpRdWVyeSA9IGZ1bmN0aW9uIChzZWxlY3RvciwgY29udGV4dCkge1xuICAgICAgICAgICAgLy8gVGhlIGpRdWVyeSBvYmplY3QgaXMgYWN0dWFsbHkganVzdCB0aGUgaW5pdCBjb25zdHJ1Y3RvciAnZW5oYW5jZWQnXG4gICAgICAgICAgICAvLyBOZWVkIGluaXQgaWYgalF1ZXJ5IGlzIGNhbGxlZCAoanVzdCBhbGxvdyBlcnJvciB0byBiZSB0aHJvd24gaWYgbm90IGluY2x1ZGVkKVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBqUXVlcnkuZm4uaW5pdChzZWxlY3RvciwgY29udGV4dCk7XG4gICAgICAgIH07XG4gICAgICAgIGpRdWVyeS5mbiA9IGpRdWVyeS5wcm90b3R5cGUgPSB7XG4gICAgICAgICAgICAvLyBUaGUgY3VycmVudCB2ZXJzaW9uIG9mIGpRdWVyeSBiZWluZyB1c2VkXG4gICAgICAgICAgICBqcXVlcnk6IHZlcnNpb24sXG4gICAgICAgICAgICBjb25zdHJ1Y3RvcjogalF1ZXJ5LFxuICAgICAgICAgICAgLy8gVGhlIGRlZmF1bHQgbGVuZ3RoIG9mIGEgalF1ZXJ5IG9iamVjdCBpcyAwXG4gICAgICAgICAgICBsZW5ndGg6IDAsXG4gICAgICAgICAgICB0b0FycmF5OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNsaWNlLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gR2V0IHRoZSBOdGggZWxlbWVudCBpbiB0aGUgbWF0Y2hlZCBlbGVtZW50IHNldCBPUlxuICAgICAgICAgICAgLy8gR2V0IHRoZSB3aG9sZSBtYXRjaGVkIGVsZW1lbnQgc2V0IGFzIGEgY2xlYW4gYXJyYXlcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKG51bSkge1xuICAgICAgICAgICAgICAgIC8vIFJldHVybiBhbGwgdGhlIGVsZW1lbnRzIGluIGEgY2xlYW4gYXJyYXlcbiAgICAgICAgICAgICAgICBpZiAobnVtID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNsaWNlLmNhbGwodGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFJldHVybiBqdXN0IHRoZSBvbmUgZWxlbWVudCBmcm9tIHRoZSBzZXRcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVtIDwgMCA/IHRoaXNbbnVtICsgdGhpcy5sZW5ndGhdIDogdGhpc1tudW1dO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIFRha2UgYW4gYXJyYXkgb2YgZWxlbWVudHMgYW5kIHB1c2ggaXQgb250byB0aGUgc3RhY2tcbiAgICAgICAgICAgIC8vIChyZXR1cm5pbmcgdGhlIG5ldyBtYXRjaGVkIGVsZW1lbnQgc2V0KVxuICAgICAgICAgICAgcHVzaFN0YWNrOiBmdW5jdGlvbiAoZWxlbXMpIHtcbiAgICAgICAgICAgICAgICAvLyBCdWlsZCBhIG5ldyBqUXVlcnkgbWF0Y2hlZCBlbGVtZW50IHNldFxuICAgICAgICAgICAgICAgIHZhciByZXQgPSBqUXVlcnkubWVyZ2UodGhpcy5jb25zdHJ1Y3RvcigpLCBlbGVtcyk7XG4gICAgICAgICAgICAgICAgLy8gQWRkIHRoZSBvbGQgb2JqZWN0IG9udG8gdGhlIHN0YWNrIChhcyBhIHJlZmVyZW5jZSlcbiAgICAgICAgICAgICAgICByZXQucHJldk9iamVjdCA9IHRoaXM7XG4gICAgICAgICAgICAgICAgLy8gUmV0dXJuIHRoZSBuZXdseS1mb3JtZWQgZWxlbWVudCBzZXRcbiAgICAgICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIEV4ZWN1dGUgYSBjYWxsYmFjayBmb3IgZXZlcnkgZWxlbWVudCBpbiB0aGUgbWF0Y2hlZCBzZXQuXG4gICAgICAgICAgICBlYWNoOiBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICByZXR1cm4galF1ZXJ5LmVhY2godGhpcywgY2FsbGJhY2spO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1hcDogZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHVzaFN0YWNrKGpRdWVyeS5tYXAodGhpcywgZnVuY3Rpb24gKGVsZW0sIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrLmNhbGwoZWxlbSwgaSwgZWxlbSk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNsaWNlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHVzaFN0YWNrKHNsaWNlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZpcnN0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXEoMCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbGFzdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVxKC0xKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBldmVuOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHVzaFN0YWNrKGpRdWVyeS5ncmVwKHRoaXMsIGZ1bmN0aW9uIChfZWxlbSwgaSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGkgKyAxKSAlIDI7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9kZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnB1c2hTdGFjayhqUXVlcnkuZ3JlcCh0aGlzLCBmdW5jdGlvbiAoX2VsZW0sIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGkgJSAyO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcTogZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgICAgICB2YXIgbGVuID0gdGhpcy5sZW5ndGgsIGogPSAraSArIChpIDwgMCA/IGxlbiA6IDApO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnB1c2hTdGFjayhqID49IDAgJiYgaiA8IGxlbiA/IFt0aGlzW2pdXSA6IFtdKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlbmQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wcmV2T2JqZWN0IHx8IHRoaXMuY29uc3RydWN0b3IoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBGb3IgaW50ZXJuYWwgdXNlIG9ubHkuXG4gICAgICAgICAgICAvLyBCZWhhdmVzIGxpa2UgYW4gQXJyYXkncyBtZXRob2QsIG5vdCBsaWtlIGEgalF1ZXJ5IG1ldGhvZC5cbiAgICAgICAgICAgIHB1c2g6IHB1c2gsXG4gICAgICAgICAgICBzb3J0OiBhcnIuc29ydCxcbiAgICAgICAgICAgIHNwbGljZTogYXJyLnNwbGljZVxuICAgICAgICB9O1xuICAgICAgICBqUXVlcnkuZXh0ZW5kID0galF1ZXJ5LmZuLmV4dGVuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBvcHRpb25zLCBuYW1lLCBzcmMsIGNvcHksIGNvcHlJc0FycmF5LCBjbG9uZSwgdGFyZ2V0ID0gYXJndW1lbnRzWzBdIHx8IHt9LCBpID0gMSwgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCwgZGVlcCA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gSGFuZGxlIGEgZGVlcCBjb3B5IHNpdHVhdGlvblxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgICAgICAgICAgZGVlcCA9IHRhcmdldDtcbiAgICAgICAgICAgICAgICAvLyBTa2lwIHRoZSBib29sZWFuIGFuZCB0aGUgdGFyZ2V0XG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gYXJndW1lbnRzW2ldIHx8IHt9O1xuICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEhhbmRsZSBjYXNlIHdoZW4gdGFyZ2V0IGlzIGEgc3RyaW5nIG9yIHNvbWV0aGluZyAocG9zc2libGUgaW4gZGVlcCBjb3B5KVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgIT09IFwib2JqZWN0XCIgJiYgIWlzRnVuY3Rpb24odGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgIHRhcmdldCA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRXh0ZW5kIGpRdWVyeSBpdHNlbGYgaWYgb25seSBvbmUgYXJndW1lbnQgaXMgcGFzc2VkXG4gICAgICAgICAgICBpZiAoaSA9PT0gbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gdGhpcztcbiAgICAgICAgICAgICAgICBpLS07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgLy8gT25seSBkZWFsIHdpdGggbm9uLW51bGwvdW5kZWZpbmVkIHZhbHVlc1xuICAgICAgICAgICAgICAgIGlmICgob3B0aW9ucyA9IGFyZ3VtZW50c1tpXSkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBFeHRlbmQgdGhlIGJhc2Ugb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgIGZvciAobmFtZSBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb3B5ID0gb3B0aW9uc1tuYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFByZXZlbnQgT2JqZWN0LnByb3RvdHlwZSBwb2xsdXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFByZXZlbnQgbmV2ZXItZW5kaW5nIGxvb3BcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuYW1lID09PSBcIl9fcHJvdG9fX1wiIHx8IHRhcmdldCA9PT0gY29weSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVjdXJzZSBpZiB3ZSdyZSBtZXJnaW5nIHBsYWluIG9iamVjdHMgb3IgYXJyYXlzXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVlcCAmJiBjb3B5ICYmIChqUXVlcnkuaXNQbGFpbk9iamVjdChjb3B5KSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjb3B5SXNBcnJheSA9IEFycmF5LmlzQXJyYXkoY29weSkpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYyA9IHRhcmdldFtuYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBFbnN1cmUgcHJvcGVyIHR5cGUgZm9yIHRoZSBzb3VyY2UgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29weUlzQXJyYXkgJiYgIUFycmF5LmlzQXJyYXkoc3JjKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG9uZSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICghY29weUlzQXJyYXkgJiYgIWpRdWVyeS5pc1BsYWluT2JqZWN0KHNyYykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvbmUgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lID0gc3JjO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3B5SXNBcnJheSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5ldmVyIG1vdmUgb3JpZ2luYWwgb2JqZWN0cywgY2xvbmUgdGhlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFtuYW1lXSA9IGpRdWVyeS5leHRlbmQoZGVlcCwgY2xvbmUsIGNvcHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvbid0IGJyaW5nIGluIHVuZGVmaW5lZCB2YWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNvcHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFtuYW1lXSA9IGNvcHk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSZXR1cm4gdGhlIG1vZGlmaWVkIG9iamVjdFxuICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgfTtcbiAgICAgICAgalF1ZXJ5LmV4dGVuZCh7XG4gICAgICAgICAgICAvLyBVbmlxdWUgZm9yIGVhY2ggY29weSBvZiBqUXVlcnkgb24gdGhlIHBhZ2VcbiAgICAgICAgICAgIGV4cGFuZG86IFwialF1ZXJ5XCIgKyAodmVyc2lvbiArIE1hdGgucmFuZG9tKCkpLnJlcGxhY2UoL1xcRC9nLCBcIlwiKSxcbiAgICAgICAgICAgIC8vIEFzc3VtZSBqUXVlcnkgaXMgcmVhZHkgd2l0aG91dCB0aGUgcmVhZHkgbW9kdWxlXG4gICAgICAgICAgICBpc1JlYWR5OiB0cnVlLFxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChtc2cpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBub29wOiBmdW5jdGlvbiAoKSB7IH0sXG4gICAgICAgICAgICBpc1BsYWluT2JqZWN0OiBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICAgICAgdmFyIHByb3RvLCBDdG9yO1xuICAgICAgICAgICAgICAgIC8vIERldGVjdCBvYnZpb3VzIG5lZ2F0aXZlc1xuICAgICAgICAgICAgICAgIC8vIFVzZSB0b1N0cmluZyBpbnN0ZWFkIG9mIGpRdWVyeS50eXBlIHRvIGNhdGNoIGhvc3Qgb2JqZWN0c1xuICAgICAgICAgICAgICAgIGlmICghb2JqIHx8IHRvU3RyaW5nLmNhbGwob2JqKSAhPT0gXCJbb2JqZWN0IE9iamVjdF1cIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHByb3RvID0gZ2V0UHJvdG8ob2JqKTtcbiAgICAgICAgICAgICAgICAvLyBPYmplY3RzIHdpdGggbm8gcHJvdG90eXBlIChlLmcuLCBgT2JqZWN0LmNyZWF0ZSggbnVsbCApYCkgYXJlIHBsYWluXG4gICAgICAgICAgICAgICAgaWYgKCFwcm90bykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gT2JqZWN0cyB3aXRoIHByb3RvdHlwZSBhcmUgcGxhaW4gaWZmIHRoZXkgd2VyZSBjb25zdHJ1Y3RlZCBieSBhIGdsb2JhbCBPYmplY3QgZnVuY3Rpb25cbiAgICAgICAgICAgICAgICBDdG9yID0gaGFzT3duLmNhbGwocHJvdG8sIFwiY29uc3RydWN0b3JcIikgJiYgcHJvdG8uY29uc3RydWN0b3I7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBDdG9yID09PSBcImZ1bmN0aW9uXCIgJiYgZm5Ub1N0cmluZy5jYWxsKEN0b3IpID09PSBPYmplY3RGdW5jdGlvblN0cmluZztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc0VtcHR5T2JqZWN0OiBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5hbWU7XG4gICAgICAgICAgICAgICAgZm9yIChuYW1lIGluIG9iaikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIEV2YWx1YXRlcyBhIHNjcmlwdCBpbiBhIHByb3ZpZGVkIGNvbnRleHQ7IGZhbGxzIGJhY2sgdG8gdGhlIGdsb2JhbCBvbmVcbiAgICAgICAgICAgIC8vIGlmIG5vdCBzcGVjaWZpZWQuXG4gICAgICAgICAgICBnbG9iYWxFdmFsOiBmdW5jdGlvbiAoY29kZSwgb3B0aW9ucywgZG9jKSB7XG4gICAgICAgICAgICAgICAgRE9NRXZhbChjb2RlLCB7IG5vbmNlOiBvcHRpb25zICYmIG9wdGlvbnMubm9uY2UgfSwgZG9jKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlYWNoOiBmdW5jdGlvbiAob2JqLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHZhciBsZW5ndGgsIGkgPSAwO1xuICAgICAgICAgICAgICAgIGlmIChpc0FycmF5TGlrZShvYmopKSB7XG4gICAgICAgICAgICAgICAgICAgIGxlbmd0aCA9IG9iai5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjay5jYWxsKG9ialtpXSwgaSwgb2JqW2ldKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChpIGluIG9iaikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrLmNhbGwob2JqW2ldLCBpLCBvYmpbaV0pID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gUmV0cmlldmUgdGhlIHRleHQgdmFsdWUgb2YgYW4gYXJyYXkgb2YgRE9NIG5vZGVzXG4gICAgICAgICAgICB0ZXh0OiBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgIHZhciBub2RlLCByZXQgPSBcIlwiLCBpID0gMCwgbm9kZVR5cGUgPSBlbGVtLm5vZGVUeXBlO1xuICAgICAgICAgICAgICAgIGlmICghbm9kZVR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgbm8gbm9kZVR5cGUsIHRoaXMgaXMgZXhwZWN0ZWQgdG8gYmUgYW4gYXJyYXlcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKChub2RlID0gZWxlbVtpKytdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRG8gbm90IHRyYXZlcnNlIGNvbW1lbnQgbm9kZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldCArPSBqUXVlcnkudGV4dChub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobm9kZVR5cGUgPT09IDEgfHwgbm9kZVR5cGUgPT09IDExKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtLnRleHRDb250ZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobm9kZVR5cGUgPT09IDkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZW0uZG9jdW1lbnRFbGVtZW50LnRleHRDb250ZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobm9kZVR5cGUgPT09IDMgfHwgbm9kZVR5cGUgPT09IDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZW0ubm9kZVZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBEbyBub3QgaW5jbHVkZSBjb21tZW50IG9yIHByb2Nlc3NpbmcgaW5zdHJ1Y3Rpb24gbm9kZXNcbiAgICAgICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIHJlc3VsdHMgaXMgZm9yIGludGVybmFsIHVzYWdlIG9ubHlcbiAgICAgICAgICAgIG1ha2VBcnJheTogZnVuY3Rpb24gKGFyciwgcmVzdWx0cykge1xuICAgICAgICAgICAgICAgIHZhciByZXQgPSByZXN1bHRzIHx8IFtdO1xuICAgICAgICAgICAgICAgIGlmIChhcnIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNBcnJheUxpa2UoT2JqZWN0KGFycikpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkubWVyZ2UocmV0LCB0eXBlb2YgYXJyID09PSBcInN0cmluZ1wiID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbYXJyXSA6IGFycik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwdXNoLmNhbGwocmV0LCBhcnIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaW5BcnJheTogZnVuY3Rpb24gKGVsZW0sIGFyciwgaSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhcnIgPT0gbnVsbCA/IC0xIDogaW5kZXhPZi5jYWxsKGFyciwgZWxlbSwgaSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNYTUxEb2M6IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5hbWVzcGFjZSA9IGVsZW0gJiYgZWxlbS5uYW1lc3BhY2VVUkksIGRvY0VsZW0gPSBlbGVtICYmIChlbGVtLm93bmVyRG9jdW1lbnQgfHwgZWxlbSkuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICAgICAgICAgIC8vIEFzc3VtZSBIVE1MIHdoZW4gZG9jdW1lbnRFbGVtZW50IGRvZXNuJ3QgeWV0IGV4aXN0LCBzdWNoIGFzIGluc2lkZVxuICAgICAgICAgICAgICAgIC8vIGRvY3VtZW50IGZyYWdtZW50cy5cbiAgICAgICAgICAgICAgICByZXR1cm4gIXJodG1sU3VmZml4LnRlc3QobmFtZXNwYWNlIHx8IGRvY0VsZW0gJiYgZG9jRWxlbS5ub2RlTmFtZSB8fCBcIkhUTUxcIik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5XG4gICAgICAgICAgICAvLyBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0XG4gICAgICAgICAgICBtZXJnZTogZnVuY3Rpb24gKGZpcnN0LCBzZWNvbmQpIHtcbiAgICAgICAgICAgICAgICB2YXIgbGVuID0gK3NlY29uZC5sZW5ndGgsIGogPSAwLCBpID0gZmlyc3QubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGZvciAoOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZmlyc3RbaSsrXSA9IHNlY29uZFtqXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmlyc3QubGVuZ3RoID0gaTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmlyc3Q7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ3JlcDogZnVuY3Rpb24gKGVsZW1zLCBjYWxsYmFjaywgaW52ZXJ0KSB7XG4gICAgICAgICAgICAgICAgdmFyIGNhbGxiYWNrSW52ZXJzZSwgbWF0Y2hlcyA9IFtdLCBpID0gMCwgbGVuZ3RoID0gZWxlbXMubGVuZ3RoLCBjYWxsYmFja0V4cGVjdCA9ICFpbnZlcnQ7XG4gICAgICAgICAgICAgICAgLy8gR28gdGhyb3VnaCB0aGUgYXJyYXksIG9ubHkgc2F2aW5nIHRoZSBpdGVtc1xuICAgICAgICAgICAgICAgIC8vIHRoYXQgcGFzcyB0aGUgdmFsaWRhdG9yIGZ1bmN0aW9uXG4gICAgICAgICAgICAgICAgZm9yICg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFja0ludmVyc2UgPSAhY2FsbGJhY2soZWxlbXNbaV0sIGkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2tJbnZlcnNlICE9PSBjYWxsYmFja0V4cGVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlcy5wdXNoKGVsZW1zW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2hlcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBhcmcgaXMgZm9yIGludGVybmFsIHVzYWdlIG9ubHlcbiAgICAgICAgICAgIG1hcDogZnVuY3Rpb24gKGVsZW1zLCBjYWxsYmFjaywgYXJnKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxlbmd0aCwgdmFsdWUsIGkgPSAwLCByZXQgPSBbXTtcbiAgICAgICAgICAgICAgICAvLyBHbyB0aHJvdWdoIHRoZSBhcnJheSwgdHJhbnNsYXRpbmcgZWFjaCBvZiB0aGUgaXRlbXMgdG8gdGhlaXIgbmV3IHZhbHVlc1xuICAgICAgICAgICAgICAgIGlmIChpc0FycmF5TGlrZShlbGVtcykpIHtcbiAgICAgICAgICAgICAgICAgICAgbGVuZ3RoID0gZWxlbXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGNhbGxiYWNrKGVsZW1zW2ldLCBpLCBhcmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXQucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gR28gdGhyb3VnaCBldmVyeSBrZXkgb24gdGhlIG9iamVjdCxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoaSBpbiBlbGVtcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBjYWxsYmFjayhlbGVtc1tpXSwgaSwgYXJnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0LnB1c2godmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEZsYXR0ZW4gYW55IG5lc3RlZCBhcnJheXNcbiAgICAgICAgICAgICAgICByZXR1cm4gZmxhdChyZXQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIEEgZ2xvYmFsIEdVSUQgY291bnRlciBmb3Igb2JqZWN0c1xuICAgICAgICAgICAgZ3VpZDogMSxcbiAgICAgICAgICAgIC8vIGpRdWVyeS5zdXBwb3J0IGlzIG5vdCB1c2VkIGluIENvcmUgYnV0IG90aGVyIHByb2plY3RzIGF0dGFjaCB0aGVpclxuICAgICAgICAgICAgLy8gcHJvcGVydGllcyB0byBpdCBzbyBpdCBuZWVkcyB0byBleGlzdC5cbiAgICAgICAgICAgIHN1cHBvcnQ6IHN1cHBvcnRcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIGpRdWVyeS5mbltTeW1ib2wuaXRlcmF0b3JdID0gYXJyW1N5bWJvbC5pdGVyYXRvcl07XG4gICAgICAgIH1cbiAgICAgICAgLy8gUG9wdWxhdGUgdGhlIGNsYXNzMnR5cGUgbWFwXG4gICAgICAgIGpRdWVyeS5lYWNoKFwiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciBTeW1ib2xcIi5zcGxpdChcIiBcIiksIGZ1bmN0aW9uIChfaSwgbmFtZSkge1xuICAgICAgICAgICAgY2xhc3MydHlwZVtcIltvYmplY3QgXCIgKyBuYW1lICsgXCJdXCJdID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgZnVuY3Rpb24gaXNBcnJheUxpa2Uob2JqKSB7XG4gICAgICAgICAgICAvLyBTdXBwb3J0OiByZWFsIGlPUyA4LjIgb25seSAobm90IHJlcHJvZHVjaWJsZSBpbiBzaW11bGF0b3IpXG4gICAgICAgICAgICAvLyBgaW5gIGNoZWNrIHVzZWQgdG8gcHJldmVudCBKSVQgZXJyb3IgKGdoLTIxNDUpXG4gICAgICAgICAgICAvLyBoYXNPd24gaXNuJ3QgdXNlZCBoZXJlIGR1ZSB0byBmYWxzZSBuZWdhdGl2ZXNcbiAgICAgICAgICAgIC8vIHJlZ2FyZGluZyBOb2RlbGlzdCBsZW5ndGggaW4gSUVcbiAgICAgICAgICAgIHZhciBsZW5ndGggPSAhIW9iaiAmJiBcImxlbmd0aFwiIGluIG9iaiAmJiBvYmoubGVuZ3RoLCB0eXBlID0gdG9UeXBlKG9iaik7XG4gICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihvYmopIHx8IGlzV2luZG93KG9iaikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHlwZSA9PT0gXCJhcnJheVwiIHx8IGxlbmd0aCA9PT0gMCB8fFxuICAgICAgICAgICAgICAgIHR5cGVvZiBsZW5ndGggPT09IFwibnVtYmVyXCIgJiYgbGVuZ3RoID4gMCAmJiAobGVuZ3RoIC0gMSkgaW4gb2JqO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIG5vZGVOYW1lKGVsZW0sIG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBlbGVtLm5vZGVOYW1lICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwb3AgPSBhcnIucG9wO1xuICAgICAgICB2YXIgc29ydCA9IGFyci5zb3J0O1xuICAgICAgICB2YXIgc3BsaWNlID0gYXJyLnNwbGljZTtcbiAgICAgICAgdmFyIHdoaXRlc3BhY2UgPSBcIltcXFxceDIwXFxcXHRcXFxcclxcXFxuXFxcXGZdXCI7XG4gICAgICAgIHZhciBydHJpbUNTUyA9IG5ldyBSZWdFeHAoXCJeXCIgKyB3aGl0ZXNwYWNlICsgXCIrfCgoPzpefFteXFxcXFxcXFxdKSg/OlxcXFxcXFxcLikqKVwiICsgd2hpdGVzcGFjZSArIFwiKyRcIiwgXCJnXCIpO1xuICAgICAgICAvLyBOb3RlOiBhbiBlbGVtZW50IGRvZXMgbm90IGNvbnRhaW4gaXRzZWxmXG4gICAgICAgIGpRdWVyeS5jb250YWlucyA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICB2YXIgYnVwID0gYiAmJiBiLnBhcmVudE5vZGU7XG4gICAgICAgICAgICByZXR1cm4gYSA9PT0gYnVwIHx8ICEhKGJ1cCAmJiBidXAubm9kZVR5cGUgPT09IDEgJiYgKFxuICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgOSAtIDExK1xuICAgICAgICAgICAgLy8gSUUgZG9lc24ndCBoYXZlIGBjb250YWluc2Agb24gU1ZHLlxuICAgICAgICAgICAgYS5jb250YWlucyA/XG4gICAgICAgICAgICAgICAgYS5jb250YWlucyhidXApIDpcbiAgICAgICAgICAgICAgICBhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uICYmIGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYnVwKSAmIDE2KSk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIENTUyBzdHJpbmcvaWRlbnRpZmllciBzZXJpYWxpemF0aW9uXG4gICAgICAgIC8vIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3NvbS8jY29tbW9uLXNlcmlhbGl6aW5nLWlkaW9tc1xuICAgICAgICB2YXIgcmNzc2VzY2FwZSA9IC8oW1xcMC1cXHgxZlxceDdmXXxeLT9cXGQpfF4tJHxbXlxceDgwLVxcdUZGRkZcXHctXS9nO1xuICAgICAgICBmdW5jdGlvbiBmY3NzZXNjYXBlKGNoLCBhc0NvZGVQb2ludCkge1xuICAgICAgICAgICAgaWYgKGFzQ29kZVBvaW50KSB7XG4gICAgICAgICAgICAgICAgLy8gVSswMDAwIE5VTEwgYmVjb21lcyBVK0ZGRkQgUkVQTEFDRU1FTlQgQ0hBUkFDVEVSXG4gICAgICAgICAgICAgICAgaWYgKGNoID09PSBcIlxcMFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlxcdUZGRkRcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQ29udHJvbCBjaGFyYWN0ZXJzIGFuZCAoZGVwZW5kZW50IHVwb24gcG9zaXRpb24pIG51bWJlcnMgZ2V0IGVzY2FwZWQgYXMgY29kZSBwb2ludHNcbiAgICAgICAgICAgICAgICByZXR1cm4gY2guc2xpY2UoMCwgLTEpICsgXCJcXFxcXCIgKyBjaC5jaGFyQ29kZUF0KGNoLmxlbmd0aCAtIDEpLnRvU3RyaW5nKDE2KSArIFwiIFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gT3RoZXIgcG90ZW50aWFsbHktc3BlY2lhbCBBU0NJSSBjaGFyYWN0ZXJzIGdldCBiYWNrc2xhc2gtZXNjYXBlZFxuICAgICAgICAgICAgcmV0dXJuIFwiXFxcXFwiICsgY2g7XG4gICAgICAgIH1cbiAgICAgICAgalF1ZXJ5LmVzY2FwZVNlbGVjdG9yID0gZnVuY3Rpb24gKHNlbCkge1xuICAgICAgICAgICAgcmV0dXJuIChzZWwgKyBcIlwiKS5yZXBsYWNlKHJjc3Nlc2NhcGUsIGZjc3Nlc2NhcGUpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgcHJlZmVycmVkRG9jID0gZG9jdW1lbnQsIHB1c2hOYXRpdmUgPSBwdXNoO1xuICAgICAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGksIEV4cHIsIG91dGVybW9zdENvbnRleHQsIHNvcnRJbnB1dCwgaGFzRHVwbGljYXRlLCBwdXNoID0gcHVzaE5hdGl2ZSwgXG4gICAgICAgICAgICAvLyBMb2NhbCBkb2N1bWVudCB2YXJzXG4gICAgICAgICAgICBkb2N1bWVudCwgZG9jdW1lbnRFbGVtZW50LCBkb2N1bWVudElzSFRNTCwgcmJ1Z2d5UVNBLCBtYXRjaGVzLCBcbiAgICAgICAgICAgIC8vIEluc3RhbmNlLXNwZWNpZmljIGRhdGFcbiAgICAgICAgICAgIGV4cGFuZG8gPSBqUXVlcnkuZXhwYW5kbywgZGlycnVucyA9IDAsIGRvbmUgPSAwLCBjbGFzc0NhY2hlID0gY3JlYXRlQ2FjaGUoKSwgdG9rZW5DYWNoZSA9IGNyZWF0ZUNhY2hlKCksIGNvbXBpbGVyQ2FjaGUgPSBjcmVhdGVDYWNoZSgpLCBub25uYXRpdmVTZWxlY3RvckNhY2hlID0gY3JlYXRlQ2FjaGUoKSwgc29ydE9yZGVyID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgICAgICBpZiAoYSA9PT0gYikge1xuICAgICAgICAgICAgICAgICAgICBoYXNEdXBsaWNhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH0sIGJvb2xlYW5zID0gXCJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8XCIgK1xuICAgICAgICAgICAgICAgIFwibG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZFwiLCBcbiAgICAgICAgICAgIC8vIFJlZ3VsYXIgZXhwcmVzc2lvbnNcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9jc3Mtc3ludGF4LTMvI2lkZW50LXRva2VuLWRpYWdyYW1cbiAgICAgICAgICAgIGlkZW50aWZpZXIgPSBcIig/OlxcXFxcXFxcW1xcXFxkYS1mQS1GXXsxLDZ9XCIgKyB3aGl0ZXNwYWNlICtcbiAgICAgICAgICAgICAgICBcIj98XFxcXFxcXFxbXlxcXFxyXFxcXG5cXFxcZl18W1xcXFx3LV18W15cXDAtXFxcXHg3Zl0pK1wiLCBcbiAgICAgICAgICAgIC8vIEF0dHJpYnV0ZSBzZWxlY3RvcnM6IGh0dHBzOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI2F0dHJpYnV0ZS1zZWxlY3RvcnNcbiAgICAgICAgICAgIGF0dHJpYnV0ZXMgPSBcIlxcXFxbXCIgKyB3aGl0ZXNwYWNlICsgXCIqKFwiICsgaWRlbnRpZmllciArIFwiKSg/OlwiICsgd2hpdGVzcGFjZSArXG4gICAgICAgICAgICAgICAgLy8gT3BlcmF0b3IgKGNhcHR1cmUgMilcbiAgICAgICAgICAgICAgICBcIiooWypeJHwhfl0/PSlcIiArIHdoaXRlc3BhY2UgK1xuICAgICAgICAgICAgICAgIC8vIFwiQXR0cmlidXRlIHZhbHVlcyBtdXN0IGJlIENTUyBpZGVudGlmaWVycyBbY2FwdHVyZSA1XSBvciBzdHJpbmdzIFtjYXB0dXJlIDMgb3IgY2FwdHVyZSA0XVwiXG4gICAgICAgICAgICAgICAgXCIqKD86JygoPzpcXFxcXFxcXC58W15cXFxcXFxcXCddKSopJ3xcXFwiKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcXFxcIl0pKilcXFwifChcIiArIGlkZW50aWZpZXIgKyBcIikpfClcIiArXG4gICAgICAgICAgICAgICAgd2hpdGVzcGFjZSArIFwiKlxcXFxdXCIsIHBzZXVkb3MgPSBcIjooXCIgKyBpZGVudGlmaWVyICsgXCIpKD86XFxcXCgoXCIgK1xuICAgICAgICAgICAgICAgIC8vIFRvIHJlZHVjZSB0aGUgbnVtYmVyIG9mIHNlbGVjdG9ycyBuZWVkaW5nIHRva2VuaXplIGluIHRoZSBwcmVGaWx0ZXIsIHByZWZlciBhcmd1bWVudHM6XG4gICAgICAgICAgICAgICAgLy8gMS4gcXVvdGVkIChjYXB0dXJlIDM7IGNhcHR1cmUgNCBvciBjYXB0dXJlIDUpXG4gICAgICAgICAgICAgICAgXCIoJygoPzpcXFxcXFxcXC58W15cXFxcXFxcXCddKSopJ3xcXFwiKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcXFxcIl0pKilcXFwiKXxcIiArXG4gICAgICAgICAgICAgICAgLy8gMi4gc2ltcGxlIChjYXB0dXJlIDYpXG4gICAgICAgICAgICAgICAgXCIoKD86XFxcXFxcXFwufFteXFxcXFxcXFwoKVtcXFxcXV18XCIgKyBhdHRyaWJ1dGVzICsgXCIpKil8XCIgK1xuICAgICAgICAgICAgICAgIC8vIDMuIGFueXRoaW5nIGVsc2UgKGNhcHR1cmUgMilcbiAgICAgICAgICAgICAgICBcIi4qXCIgK1xuICAgICAgICAgICAgICAgIFwiKVxcXFwpfClcIiwgXG4gICAgICAgICAgICAvLyBMZWFkaW5nIGFuZCBub24tZXNjYXBlZCB0cmFpbGluZyB3aGl0ZXNwYWNlLCBjYXB0dXJpbmcgc29tZSBub24td2hpdGVzcGFjZSBjaGFyYWN0ZXJzIHByZWNlZGluZyB0aGUgbGF0dGVyXG4gICAgICAgICAgICByd2hpdGVzcGFjZSA9IG5ldyBSZWdFeHAod2hpdGVzcGFjZSArIFwiK1wiLCBcImdcIiksIHJjb21tYSA9IG5ldyBSZWdFeHAoXCJeXCIgKyB3aGl0ZXNwYWNlICsgXCIqLFwiICsgd2hpdGVzcGFjZSArIFwiKlwiKSwgcmxlYWRpbmdDb21iaW5hdG9yID0gbmV3IFJlZ0V4cChcIl5cIiArIHdoaXRlc3BhY2UgKyBcIiooWz4rfl18XCIgKyB3aGl0ZXNwYWNlICsgXCIpXCIgK1xuICAgICAgICAgICAgICAgIHdoaXRlc3BhY2UgKyBcIipcIiksIHJkZXNjZW5kID0gbmV3IFJlZ0V4cCh3aGl0ZXNwYWNlICsgXCJ8PlwiKSwgcnBzZXVkbyA9IG5ldyBSZWdFeHAocHNldWRvcyksIHJpZGVudGlmaWVyID0gbmV3IFJlZ0V4cChcIl5cIiArIGlkZW50aWZpZXIgKyBcIiRcIiksIG1hdGNoRXhwciA9IHtcbiAgICAgICAgICAgICAgICBJRDogbmV3IFJlZ0V4cChcIl4jKFwiICsgaWRlbnRpZmllciArIFwiKVwiKSxcbiAgICAgICAgICAgICAgICBDTEFTUzogbmV3IFJlZ0V4cChcIl5cXFxcLihcIiArIGlkZW50aWZpZXIgKyBcIilcIiksXG4gICAgICAgICAgICAgICAgVEFHOiBuZXcgUmVnRXhwKFwiXihcIiArIGlkZW50aWZpZXIgKyBcInxbKl0pXCIpLFxuICAgICAgICAgICAgICAgIEFUVFI6IG5ldyBSZWdFeHAoXCJeXCIgKyBhdHRyaWJ1dGVzKSxcbiAgICAgICAgICAgICAgICBQU0VVRE86IG5ldyBSZWdFeHAoXCJeXCIgKyBwc2V1ZG9zKSxcbiAgICAgICAgICAgICAgICBDSElMRDogbmV3IFJlZ0V4cChcIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcXFwoXCIgK1xuICAgICAgICAgICAgICAgICAgICB3aGl0ZXNwYWNlICsgXCIqKGV2ZW58b2RkfCgoWystXXwpKFxcXFxkKilufClcIiArIHdoaXRlc3BhY2UgKyBcIiooPzooWystXXwpXCIgK1xuICAgICAgICAgICAgICAgICAgICB3aGl0ZXNwYWNlICsgXCIqKFxcXFxkKyl8KSlcIiArIHdoaXRlc3BhY2UgKyBcIipcXFxcKXwpXCIsIFwiaVwiKSxcbiAgICAgICAgICAgICAgICBib29sOiBuZXcgUmVnRXhwKFwiXig/OlwiICsgYm9vbGVhbnMgKyBcIikkXCIsIFwiaVwiKSxcbiAgICAgICAgICAgICAgICAvLyBGb3IgdXNlIGluIGxpYnJhcmllcyBpbXBsZW1lbnRpbmcgLmlzKClcbiAgICAgICAgICAgICAgICAvLyBXZSB1c2UgdGhpcyBmb3IgUE9TIG1hdGNoaW5nIGluIGBzZWxlY3RgXG4gICAgICAgICAgICAgICAgbmVlZHNDb250ZXh0OiBuZXcgUmVnRXhwKFwiXlwiICsgd2hpdGVzcGFjZSArXG4gICAgICAgICAgICAgICAgICAgIFwiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFxcXChcIiArIHdoaXRlc3BhY2UgK1xuICAgICAgICAgICAgICAgICAgICBcIiooKD86LVxcXFxkKT9cXFxcZCopXCIgKyB3aGl0ZXNwYWNlICsgXCIqXFxcXCl8KSg/PVteLV18JClcIiwgXCJpXCIpXG4gICAgICAgICAgICB9LCByaW5wdXRzID0gL14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSwgcmhlYWRlciA9IC9eaFxcZCQvaSwgXG4gICAgICAgICAgICAvLyBFYXNpbHktcGFyc2VhYmxlL3JldHJpZXZhYmxlIElEIG9yIFRBRyBvciBDTEFTUyBzZWxlY3RvcnNcbiAgICAgICAgICAgIHJxdWlja0V4cHIgPSAvXig/OiMoW1xcdy1dKyl8KFxcdyspfFxcLihbXFx3LV0rKSkkLywgcnNpYmxpbmcgPSAvWyt+XS8sIFxuICAgICAgICAgICAgLy8gQ1NTIGVzY2FwZXNcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9DU1MyMS9zeW5kYXRhLmh0bWwjZXNjYXBlZC1jaGFyYWN0ZXJzXG4gICAgICAgICAgICBydW5lc2NhcGUgPSBuZXcgUmVnRXhwKFwiXFxcXFxcXFxbXFxcXGRhLWZBLUZdezEsNn1cIiArIHdoaXRlc3BhY2UgK1xuICAgICAgICAgICAgICAgIFwiP3xcXFxcXFxcXChbXlxcXFxyXFxcXG5cXFxcZl0pXCIsIFwiZ1wiKSwgZnVuZXNjYXBlID0gZnVuY3Rpb24gKGVzY2FwZSwgbm9uSGV4KSB7XG4gICAgICAgICAgICAgICAgdmFyIGhpZ2ggPSBcIjB4XCIgKyBlc2NhcGUuc2xpY2UoMSkgLSAweDEwMDAwO1xuICAgICAgICAgICAgICAgIGlmIChub25IZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU3RyaXAgdGhlIGJhY2tzbGFzaCBwcmVmaXggZnJvbSBhIG5vbi1oZXggZXNjYXBlIHNlcXVlbmNlXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBub25IZXg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFJlcGxhY2UgYSBoZXhhZGVjaW1hbCBlc2NhcGUgc2VxdWVuY2Ugd2l0aCB0aGUgZW5jb2RlZCBVbmljb2RlIGNvZGUgcG9pbnRcbiAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA8PTExK1xuICAgICAgICAgICAgICAgIC8vIEZvciB2YWx1ZXMgb3V0c2lkZSB0aGUgQmFzaWMgTXVsdGlsaW5ndWFsIFBsYW5lIChCTVApLCBtYW51YWxseSBjb25zdHJ1Y3QgYVxuICAgICAgICAgICAgICAgIC8vIHN1cnJvZ2F0ZSBwYWlyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGhpZ2ggPCAwID9cbiAgICAgICAgICAgICAgICAgICAgU3RyaW5nLmZyb21DaGFyQ29kZShoaWdoICsgMHgxMDAwMCkgOlxuICAgICAgICAgICAgICAgICAgICBTdHJpbmcuZnJvbUNoYXJDb2RlKGhpZ2ggPj4gMTAgfCAweEQ4MDAsIGhpZ2ggJiAweDNGRiB8IDB4REMwMCk7XG4gICAgICAgICAgICB9LCBcbiAgICAgICAgICAgIC8vIFVzZWQgZm9yIGlmcmFtZXM7IHNlZSBgc2V0RG9jdW1lbnRgLlxuICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgOSAtIDExKywgRWRnZSAxMiAtIDE4K1xuICAgICAgICAgICAgLy8gUmVtb3ZpbmcgdGhlIGZ1bmN0aW9uIHdyYXBwZXIgY2F1c2VzIGEgXCJQZXJtaXNzaW9uIERlbmllZFwiXG4gICAgICAgICAgICAvLyBlcnJvciBpbiBJRS9FZGdlLlxuICAgICAgICAgICAgdW5sb2FkSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzZXREb2N1bWVudCgpO1xuICAgICAgICAgICAgfSwgaW5EaXNhYmxlZEZpZWxkc2V0ID0gYWRkQ29tYmluYXRvcihmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbGVtLmRpc2FibGVkID09PSB0cnVlICYmIG5vZGVOYW1lKGVsZW0sIFwiZmllbGRzZXRcIik7XG4gICAgICAgICAgICB9LCB7IGRpcjogXCJwYXJlbnROb2RlXCIsIG5leHQ6IFwibGVnZW5kXCIgfSk7XG4gICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuICAgICAgICAgICAgLy8gQWNjZXNzaW5nIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgY2FuIHRocm93IHVuZXhwZWN0ZWRseVxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9idWdzLmpxdWVyeS5jb20vdGlja2V0LzEzMzkzXG4gICAgICAgICAgICBmdW5jdGlvbiBzYWZlQWN0aXZlRWxlbWVudCgpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikgeyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBPcHRpbWl6ZSBmb3IgcHVzaC5hcHBseSggXywgTm9kZUxpc3QgKVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBwdXNoLmFwcGx5KChhcnIgPSBzbGljZS5jYWxsKHByZWZlcnJlZERvYy5jaGlsZE5vZGVzKSksIHByZWZlcnJlZERvYy5jaGlsZE5vZGVzKTtcbiAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wXG4gICAgICAgICAgICAgICAgLy8gRGV0ZWN0IHNpbGVudGx5IGZhaWxpbmcgcHVzaC5hcHBseVxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtZXhwcmVzc2lvbnNcbiAgICAgICAgICAgICAgICBhcnJbcHJlZmVycmVkRG9jLmNoaWxkTm9kZXMubGVuZ3RoXS5ub2RlVHlwZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcHVzaCA9IHtcbiAgICAgICAgICAgICAgICAgICAgYXBwbHk6IGZ1bmN0aW9uICh0YXJnZXQsIGVscykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHVzaE5hdGl2ZS5hcHBseSh0YXJnZXQsIHNsaWNlLmNhbGwoZWxzKSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGNhbGw6IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHB1c2hOYXRpdmUuYXBwbHkodGFyZ2V0LCBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIGZpbmQoc2VsZWN0b3IsIGNvbnRleHQsIHJlc3VsdHMsIHNlZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgbSwgaSwgZWxlbSwgbmlkLCBtYXRjaCwgZ3JvdXBzLCBuZXdTZWxlY3RvciwgbmV3Q29udGV4dCA9IGNvbnRleHQgJiYgY29udGV4dC5vd25lckRvY3VtZW50LCBcbiAgICAgICAgICAgICAgICAvLyBub2RlVHlwZSBkZWZhdWx0cyB0byA5LCBzaW5jZSBjb250ZXh0IGRlZmF1bHRzIHRvIGRvY3VtZW50XG4gICAgICAgICAgICAgICAgbm9kZVR5cGUgPSBjb250ZXh0ID8gY29udGV4dC5ub2RlVHlwZSA6IDk7XG4gICAgICAgICAgICAgICAgcmVzdWx0cyA9IHJlc3VsdHMgfHwgW107XG4gICAgICAgICAgICAgICAgLy8gUmV0dXJuIGVhcmx5IGZyb20gY2FsbHMgd2l0aCBpbnZhbGlkIHNlbGVjdG9yIG9yIGNvbnRleHRcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNlbGVjdG9yICE9PSBcInN0cmluZ1wiIHx8ICFzZWxlY3RvciB8fFxuICAgICAgICAgICAgICAgICAgICBub2RlVHlwZSAhPT0gMSAmJiBub2RlVHlwZSAhPT0gOSAmJiBub2RlVHlwZSAhPT0gMTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFRyeSB0byBzaG9ydGN1dCBmaW5kIG9wZXJhdGlvbnMgKGFzIG9wcG9zZWQgdG8gZmlsdGVycykgaW4gSFRNTCBkb2N1bWVudHNcbiAgICAgICAgICAgICAgICBpZiAoIXNlZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0RG9jdW1lbnQoY29udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQgPSBjb250ZXh0IHx8IGRvY3VtZW50O1xuICAgICAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnRJc0hUTUwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBzZWxlY3RvciBpcyBzdWZmaWNpZW50bHkgc2ltcGxlLCB0cnkgdXNpbmcgYSBcImdldCpCeSpcIiBET00gbWV0aG9kXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAoZXhjZXB0aW5nIERvY3VtZW50RnJhZ21lbnQgY29udGV4dCwgd2hlcmUgdGhlIG1ldGhvZHMgZG9uJ3QgZXhpc3QpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZVR5cGUgIT09IDExICYmIChtYXRjaCA9IHJxdWlja0V4cHIuZXhlYyhzZWxlY3RvcikpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSUQgc2VsZWN0b3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKG0gPSBtYXRjaFsxXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRG9jdW1lbnQgY29udGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZVR5cGUgPT09IDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZWxlbSA9IGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQobSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgOSBvbmx5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZ2V0RWxlbWVudEJ5SWQgY2FuIG1hdGNoIGVsZW1lbnRzIGJ5IG5hbWUgaW5zdGVhZCBvZiBJRFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtLmlkID09PSBtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1c2guY2FsbChyZXN1bHRzLCBlbGVtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBFbGVtZW50IGNvbnRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDkgb25seVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZ2V0RWxlbWVudEJ5SWQgY2FuIG1hdGNoIGVsZW1lbnRzIGJ5IG5hbWUgaW5zdGVhZCBvZiBJRFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0NvbnRleHQgJiYgKGVsZW0gPSBuZXdDb250ZXh0LmdldEVsZW1lbnRCeUlkKG0pKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmQuY29udGFpbnMoY29udGV4dCwgZWxlbSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtLmlkID09PSBtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHVzaC5jYWxsKHJlc3VsdHMsIGVsZW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFR5cGUgc2VsZWN0b3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobWF0Y2hbMl0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHVzaC5hcHBseShyZXN1bHRzLCBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKHNlbGVjdG9yKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDbGFzcyBzZWxlY3RvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICgobSA9IG1hdGNoWzNdKSAmJiBjb250ZXh0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHVzaC5hcHBseShyZXN1bHRzLCBjb250ZXh0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUobSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUYWtlIGFkdmFudGFnZSBvZiBxdWVyeVNlbGVjdG9yQWxsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW5vbm5hdGl2ZVNlbGVjdG9yQ2FjaGVbc2VsZWN0b3IgKyBcIiBcIl0gJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoIXJidWdneVFTQSB8fCAhcmJ1Z2d5UVNBLnRlc3Qoc2VsZWN0b3IpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1NlbGVjdG9yID0gc2VsZWN0b3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcVNBIGNvbnNpZGVycyBlbGVtZW50cyBvdXRzaWRlIGEgc2NvcGluZyByb290IHdoZW4gZXZhbHVhdGluZyBjaGlsZCBvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRlc2NlbmRhbnQgY29tYmluYXRvcnMsIHdoaWNoIGlzIG5vdCB3aGF0IHdlIHdhbnQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW4gc3VjaCBjYXNlcywgd2Ugd29yayBhcm91bmQgdGhlIGJlaGF2aW9yIGJ5IHByZWZpeGluZyBldmVyeSBzZWxlY3RvciBpbiB0aGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBsaXN0IHdpdGggYW4gSUQgc2VsZWN0b3IgcmVmZXJlbmNpbmcgdGhlIHNjb3BlIGNvbnRleHQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHRlY2huaXF1ZSBoYXMgdG8gYmUgdXNlZCBhcyB3ZWxsIHdoZW4gYSBsZWFkaW5nIGNvbWJpbmF0b3IgaXMgdXNlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFzIHN1Y2ggc2VsZWN0b3JzIGFyZSBub3QgcmVjb2duaXplZCBieSBxdWVyeVNlbGVjdG9yQWxsLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoYW5rcyB0byBBbmRyZXcgRHVwb250IGZvciB0aGlzIHRlY2huaXF1ZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZVR5cGUgPT09IDEgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHJkZXNjZW5kLnRlc3Qoc2VsZWN0b3IpIHx8IHJsZWFkaW5nQ29tYmluYXRvci50ZXN0KHNlbGVjdG9yKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXhwYW5kIGNvbnRleHQgZm9yIHNpYmxpbmcgc2VsZWN0b3JzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NvbnRleHQgPSByc2libGluZy50ZXN0KHNlbGVjdG9yKSAmJiB0ZXN0Q29udGV4dChjb250ZXh0LnBhcmVudE5vZGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBjYW4gdXNlIDpzY29wZSBpbnN0ZWFkIG9mIHRoZSBJRCBoYWNrIGlmIHRoZSBicm93c2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN1cHBvcnRzIGl0ICYgaWYgd2UncmUgbm90IGNoYW5naW5nIHRoZSBjb250ZXh0LlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSAxMSssIEVkZ2UgMTcgLSAxOCtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSUUvRWRnZSBzb21ldGltZXMgdGhyb3cgYSBcIlBlcm1pc3Npb24gZGVuaWVkXCIgZXJyb3Igd2hlblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzdHJpY3QtY29tcGFyaW5nIHR3byBkb2N1bWVudHM7IHNoYWxsb3cgY29tcGFyaXNvbnMgd29yay5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3Q29udGV4dCAhPSBjb250ZXh0IHx8ICFzdXBwb3J0LnNjb3BlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDYXB0dXJlIHRoZSBjb250ZXh0IElELCBzZXR0aW5nIGl0IGZpcnN0IGlmIG5lY2Vzc2FyeVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChuaWQgPSBjb250ZXh0LmdldEF0dHJpYnV0ZShcImlkXCIpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5pZCA9IGpRdWVyeS5lc2NhcGVTZWxlY3RvcihuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCAobmlkID0gZXhwYW5kbykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFByZWZpeCBldmVyeSBzZWxlY3RvciBpbiB0aGUgbGlzdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncm91cHMgPSB0b2tlbml6ZShzZWxlY3Rvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBncm91cHMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncm91cHNbaV0gPSAobmlkID8gXCIjXCIgKyBuaWQgOiBcIjpzY29wZVwiKSArIFwiIFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b1NlbGVjdG9yKGdyb3Vwc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3U2VsZWN0b3IgPSBncm91cHMuam9pbihcIixcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1c2guYXBwbHkocmVzdWx0cywgbmV3Q29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKG5ld1NlbGVjdG9yKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAocXNhRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9ubmF0aXZlU2VsZWN0b3JDYWNoZShzZWxlY3RvciwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmlkID09PSBleHBhbmRvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnJlbW92ZUF0dHJpYnV0ZShcImlkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEFsbCBvdGhlcnNcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VsZWN0KHNlbGVjdG9yLnJlcGxhY2UocnRyaW1DU1MsIFwiJDFcIiksIGNvbnRleHQsIHJlc3VsdHMsIHNlZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBDcmVhdGUga2V5LXZhbHVlIGNhY2hlcyBvZiBsaW1pdGVkIHNpemVcbiAgICAgICAgICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbihzdHJpbmcsIG9iamVjdCl9IFJldHVybnMgdGhlIE9iamVjdCBkYXRhIGFmdGVyIHN0b3JpbmcgaXQgb24gaXRzZWxmIHdpdGhcbiAgICAgICAgICAgICAqXHRwcm9wZXJ0eSBuYW1lIHRoZSAoc3BhY2Utc3VmZml4ZWQpIHN0cmluZyBhbmQgKGlmIHRoZSBjYWNoZSBpcyBsYXJnZXIgdGhhbiBFeHByLmNhY2hlTGVuZ3RoKVxuICAgICAgICAgICAgKlx0ZGVsZXRpbmcgdGhlIG9sZGVzdCBlbnRyeVxuICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUNhY2hlKCkge1xuICAgICAgICAgICAgICAgIHZhciBrZXlzID0gW107XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gY2FjaGUoa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBVc2UgKGtleSArIFwiIFwiKSB0byBhdm9pZCBjb2xsaXNpb24gd2l0aCBuYXRpdmUgcHJvdG90eXBlIHByb3BlcnRpZXNcbiAgICAgICAgICAgICAgICAgICAgLy8gKHNlZSBodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5L3NpenpsZS9pc3N1ZXMvMTU3KVxuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5cy5wdXNoKGtleSArIFwiIFwiKSA+IEV4cHIuY2FjaGVMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9ubHkga2VlcCB0aGUgbW9zdCByZWNlbnQgZW50cmllc1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGNhY2hlW2tleXMuc2hpZnQoKV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChjYWNoZVtrZXkgKyBcIiBcIl0gPSB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBjYWNoZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogTWFyayBhIGZ1bmN0aW9uIGZvciBzcGVjaWFsIHVzZSBieSBqUXVlcnkgc2VsZWN0b3IgbW9kdWxlXG4gICAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gdG8gbWFya1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBmdW5jdGlvbiBtYXJrRnVuY3Rpb24oZm4pIHtcbiAgICAgICAgICAgICAgICBmbltleHBhbmRvXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTdXBwb3J0IHRlc3RpbmcgdXNpbmcgYW4gZWxlbWVudFxuICAgICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gUGFzc2VkIHRoZSBjcmVhdGVkIGVsZW1lbnQgYW5kIHJldHVybnMgYSBib29sZWFuIHJlc3VsdFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBmdW5jdGlvbiBhc3NlcnQoZm4pIHtcbiAgICAgICAgICAgICAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZmllbGRzZXRcIik7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEhZm4oZWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgZnJvbSBpdHMgcGFyZW50IGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIHJlbGVhc2UgbWVtb3J5IGluIElFXG4gICAgICAgICAgICAgICAgICAgIGVsID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFJldHVybnMgYSBmdW5jdGlvbiB0byB1c2UgaW4gcHNldWRvcyBmb3IgaW5wdXQgdHlwZXNcbiAgICAgICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUlucHV0UHNldWRvKHR5cGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vZGVOYW1lKGVsZW0sIFwiaW5wdXRcIikgJiYgZWxlbS50eXBlID09PSB0eXBlO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFJldHVybnMgYSBmdW5jdGlvbiB0byB1c2UgaW4gcHNldWRvcyBmb3IgYnV0dG9uc1xuICAgICAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZnVuY3Rpb24gY3JlYXRlQnV0dG9uUHNldWRvKHR5cGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChub2RlTmFtZShlbGVtLCBcImlucHV0XCIpIHx8IG5vZGVOYW1lKGVsZW0sIFwiYnV0dG9uXCIpKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS50eXBlID09PSB0eXBlO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFJldHVybnMgYSBmdW5jdGlvbiB0byB1c2UgaW4gcHNldWRvcyBmb3IgOmVuYWJsZWQvOmRpc2FibGVkXG4gICAgICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGRpc2FibGVkIHRydWUgZm9yIDpkaXNhYmxlZDsgZmFsc2UgZm9yIDplbmFibGVkXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZURpc2FibGVkUHNldWRvKGRpc2FibGVkKSB7XG4gICAgICAgICAgICAgICAgLy8gS25vd24gOmRpc2FibGVkIGZhbHNlIHBvc2l0aXZlczogZmllbGRzZXRbZGlzYWJsZWRdID4gbGVnZW5kOm50aC1vZi10eXBlKG4rMikgOmNhbi1kaXNhYmxlXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgY2VydGFpbiBlbGVtZW50cyBjYW4gbWF0Y2ggOmVuYWJsZWQgb3IgOmRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3NjcmlwdGluZy5odG1sI3NlbGVjdG9yLWVuYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc2NyaXB0aW5nLmh0bWwjc2VsZWN0b3ItZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgaWYgKFwiZm9ybVwiIGluIGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciBpbmhlcml0ZWQgZGlzYWJsZWRuZXNzIG9uIHJlbGV2YW50IG5vbi1kaXNhYmxlZCBlbGVtZW50czpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICogbGlzdGVkIGZvcm0tYXNzb2NpYXRlZCBlbGVtZW50cyBpbiBhIGRpc2FibGVkIGZpZWxkc2V0XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2Zvcm1zLmh0bWwjY2F0ZWdvcnktbGlzdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2Zvcm1zLmh0bWwjY29uY2VwdC1mZS1kaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gKiBvcHRpb24gZWxlbWVudHMgaW4gYSBkaXNhYmxlZCBvcHRncm91cFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9mb3Jtcy5odG1sI2NvbmNlcHQtb3B0aW9uLWRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBbGwgc3VjaCBlbGVtZW50cyBoYXZlIGEgXCJmb3JtXCIgcHJvcGVydHkuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbS5wYXJlbnROb2RlICYmIGVsZW0uZGlzYWJsZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT3B0aW9uIGVsZW1lbnRzIGRlZmVyIHRvIGEgcGFyZW50IG9wdGdyb3VwIGlmIHByZXNlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJsYWJlbFwiIGluIGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwibGFiZWxcIiBpbiBlbGVtLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtLnBhcmVudE5vZGUuZGlzYWJsZWQgPT09IGRpc2FibGVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZW0uZGlzYWJsZWQgPT09IGRpc2FibGVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDYgLSAxMStcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVc2UgdGhlIGlzRGlzYWJsZWQgc2hvcnRjdXQgcHJvcGVydHkgdG8gY2hlY2sgZm9yIGRpc2FibGVkIGZpZWxkc2V0IGFuY2VzdG9yc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtLmlzRGlzYWJsZWQgPT09IGRpc2FibGVkIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdoZXJlIHRoZXJlIGlzIG5vIGlzRGlzYWJsZWQsIGNoZWNrIG1hbnVhbGx5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0uaXNEaXNhYmxlZCAhPT0gIWRpc2FibGVkICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbkRpc2FibGVkRmllbGRzZXQoZWxlbSkgPT09IGRpc2FibGVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZW0uZGlzYWJsZWQgPT09IGRpc2FibGVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVHJ5IHRvIHdpbm5vdyBvdXQgZWxlbWVudHMgdGhhdCBjYW4ndCBiZSBkaXNhYmxlZCBiZWZvcmUgdHJ1c3RpbmcgdGhlIGRpc2FibGVkIHByb3BlcnR5LlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU29tZSB2aWN0aW1zIGdldCBjYXVnaHQgaW4gb3VyIG5ldCAobGFiZWwsIGxlZ2VuZCwgbWVudSwgdHJhY2spLCBidXQgaXQgc2hvdWxkbid0XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBldmVuIGV4aXN0IG9uIHRoZW0sIGxldCBhbG9uZSBoYXZlIGEgYm9vbGVhbiB2YWx1ZS5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChcImxhYmVsXCIgaW4gZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZW0uZGlzYWJsZWQgPT09IGRpc2FibGVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlbWFpbmluZyBlbGVtZW50cyBhcmUgbmVpdGhlciA6ZW5hYmxlZCBub3IgOmRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gdXNlIGluIHBzZXVkb3MgZm9yIHBvc2l0aW9uYWxzXG4gICAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBmdW5jdGlvbiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZuKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hcmtGdW5jdGlvbihmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgYXJndW1lbnQgPSArYXJndW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24gKHNlZWQsIG1hdGNoZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBqLCBtYXRjaEluZGV4ZXMgPSBmbihbXSwgc2VlZC5sZW5ndGgsIGFyZ3VtZW50KSwgaSA9IG1hdGNoSW5kZXhlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBNYXRjaCBlbGVtZW50cyBmb3VuZCBhdCB0aGUgc3BlY2lmaWVkIGluZGV4ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VlZFsoaiA9IG1hdGNoSW5kZXhlc1tpXSldKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlZWRbal0gPSAhKG1hdGNoZXNbal0gPSBzZWVkW2pdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBDaGVja3MgYSBub2RlIGZvciB2YWxpZGl0eSBhcyBhIGpRdWVyeSBzZWxlY3RvciBjb250ZXh0XG4gICAgICAgICAgICAgKiBAcGFyYW0ge0VsZW1lbnR8T2JqZWN0PX0gY29udGV4dFxuICAgICAgICAgICAgICogQHJldHVybnMge0VsZW1lbnR8T2JqZWN0fEJvb2xlYW59IFRoZSBpbnB1dCBub2RlIGlmIGFjY2VwdGFibGUsIG90aGVyd2lzZSBhIGZhbHN5IHZhbHVlXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGZ1bmN0aW9uIHRlc3RDb250ZXh0KGNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dCAmJiB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBjb250ZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTZXRzIGRvY3VtZW50LXJlbGF0ZWQgdmFyaWFibGVzIG9uY2UgYmFzZWQgb24gdGhlIGN1cnJlbnQgZG9jdW1lbnRcbiAgICAgICAgICAgICAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3R9IFtub2RlXSBBbiBlbGVtZW50IG9yIGRvY3VtZW50IG9iamVjdCB0byB1c2UgdG8gc2V0IHRoZSBkb2N1bWVudFxuICAgICAgICAgICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY3VycmVudCBkb2N1bWVudFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBmdW5jdGlvbiBzZXREb2N1bWVudChub2RlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN1YldpbmRvdywgZG9jID0gbm9kZSA/IG5vZGUub3duZXJEb2N1bWVudCB8fCBub2RlIDogcHJlZmVycmVkRG9jO1xuICAgICAgICAgICAgICAgIC8vIFJldHVybiBlYXJseSBpZiBkb2MgaXMgaW52YWxpZCBvciBhbHJlYWR5IHNlbGVjdGVkXG4gICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgMTErLCBFZGdlIDE3IC0gMTgrXG4gICAgICAgICAgICAgICAgLy8gSUUvRWRnZSBzb21ldGltZXMgdGhyb3cgYSBcIlBlcm1pc3Npb24gZGVuaWVkXCIgZXJyb3Igd2hlbiBzdHJpY3QtY29tcGFyaW5nXG4gICAgICAgICAgICAgICAgLy8gdHdvIGRvY3VtZW50czsgc2hhbGxvdyBjb21wYXJpc29ucyB3b3JrLlxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcbiAgICAgICAgICAgICAgICBpZiAoZG9jID09IGRvY3VtZW50IHx8IGRvYy5ub2RlVHlwZSAhPT0gOSB8fCAhZG9jLmRvY3VtZW50RWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZG9jdW1lbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBnbG9iYWwgdmFyaWFibGVzXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQgPSBkb2M7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnRFbGVtZW50ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICAgICAgICAgIGRvY3VtZW50SXNIVE1MID0gIWpRdWVyeS5pc1hNTERvYyhkb2N1bWVudCk7XG4gICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogaU9TIDcgb25seSwgSUUgOSAtIDExK1xuICAgICAgICAgICAgICAgIC8vIE9sZGVyIGJyb3dzZXJzIGRpZG4ndCBzdXBwb3J0IHVucHJlZml4ZWQgYG1hdGNoZXNgLlxuICAgICAgICAgICAgICAgIG1hdGNoZXMgPSBkb2N1bWVudEVsZW1lbnQubWF0Y2hlcyB8fFxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudEVsZW1lbnQud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50RWxlbWVudC5tc01hdGNoZXNTZWxlY3RvcjtcbiAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA5IC0gMTErLCBFZGdlIDEyIC0gMTgrXG4gICAgICAgICAgICAgICAgLy8gQWNjZXNzaW5nIGlmcmFtZSBkb2N1bWVudHMgYWZ0ZXIgdW5sb2FkIHRocm93cyBcInBlcm1pc3Npb24gZGVuaWVkXCIgZXJyb3JzXG4gICAgICAgICAgICAgICAgLy8gKHNlZSB0cmFjLTEzOTM2KS5cbiAgICAgICAgICAgICAgICAvLyBMaW1pdCB0aGUgZml4IHRvIElFICYgRWRnZSBMZWdhY3k7IGRlc3BpdGUgRWRnZSAxNSsgaW1wbGVtZW50aW5nIGBtYXRjaGVzYCxcbiAgICAgICAgICAgICAgICAvLyBhbGwgSUUgOSsgYW5kIEVkZ2UgTGVnYWN5IHZlcnNpb25zIGltcGxlbWVudCBgbXNNYXRjaGVzU2VsZWN0b3JgIGFzIHdlbGwuXG4gICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50RWxlbWVudC5tc01hdGNoZXNTZWxlY3RvciAmJlxuICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSAxMSssIEVkZ2UgMTcgLSAxOCtcbiAgICAgICAgICAgICAgICAgICAgLy8gSUUvRWRnZSBzb21ldGltZXMgdGhyb3cgYSBcIlBlcm1pc3Npb24gZGVuaWVkXCIgZXJyb3Igd2hlbiBzdHJpY3QtY29tcGFyaW5nXG4gICAgICAgICAgICAgICAgICAgIC8vIHR3byBkb2N1bWVudHM7IHNoYWxsb3cgY29tcGFyaXNvbnMgd29yay5cbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuICAgICAgICAgICAgICAgICAgICBwcmVmZXJyZWREb2MgIT0gZG9jdW1lbnQgJiZcbiAgICAgICAgICAgICAgICAgICAgKHN1YldpbmRvdyA9IGRvY3VtZW50LmRlZmF1bHRWaWV3KSAmJiBzdWJXaW5kb3cudG9wICE9PSBzdWJXaW5kb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgOSAtIDExKywgRWRnZSAxMiAtIDE4K1xuICAgICAgICAgICAgICAgICAgICBzdWJXaW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInVubG9hZFwiLCB1bmxvYWRIYW5kbGVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgPDEwXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZ2V0RWxlbWVudEJ5SWQgcmV0dXJucyBlbGVtZW50cyBieSBuYW1lXG4gICAgICAgICAgICAgICAgLy8gVGhlIGJyb2tlbiBnZXRFbGVtZW50QnlJZCBtZXRob2RzIGRvbid0IHBpY2sgdXAgcHJvZ3JhbW1hdGljYWxseS1zZXQgbmFtZXMsXG4gICAgICAgICAgICAgICAgLy8gc28gdXNlIGEgcm91bmRhYm91dCBnZXRFbGVtZW50c0J5TmFtZSB0ZXN0XG4gICAgICAgICAgICAgICAgc3VwcG9ydC5nZXRCeUlkID0gYXNzZXJ0KGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoZWwpLmlkID0galF1ZXJ5LmV4cGFuZG87XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICFkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShqUXVlcnkuZXhwYW5kbykubGVuZ3RoO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDkgb25seVxuICAgICAgICAgICAgICAgIC8vIENoZWNrIHRvIHNlZSBpZiBpdCdzIHBvc3NpYmxlIHRvIGRvIG1hdGNoZXNTZWxlY3RvclxuICAgICAgICAgICAgICAgIC8vIG9uIGEgZGlzY29ubmVjdGVkIG5vZGUuXG4gICAgICAgICAgICAgICAgc3VwcG9ydC5kaXNjb25uZWN0ZWRNYXRjaCA9IGFzc2VydChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoZXMuY2FsbChlbCwgXCIqXCIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDkgLSAxMSssIEVkZ2UgMTIgLSAxOCtcbiAgICAgICAgICAgICAgICAvLyBJRS9FZGdlIGRvbid0IHN1cHBvcnQgdGhlIDpzY29wZSBwc2V1ZG8tY2xhc3MuXG4gICAgICAgICAgICAgICAgc3VwcG9ydC5zY29wZSA9IGFzc2VydChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiOnNjb3BlXCIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IENocm9tZSAxMDUgLSAxMTEgb25seSwgU2FmYXJpIDE1LjQgLSAxNi4zIG9ubHlcbiAgICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIGA6aGFzKClgIGFyZ3VtZW50IGlzIHBhcnNlZCB1bmZvcmdpdmluZ2x5LlxuICAgICAgICAgICAgICAgIC8vIFdlIGluY2x1ZGUgYCpgIGluIHRoZSB0ZXN0IHRvIGRldGVjdCBidWdneSBpbXBsZW1lbnRhdGlvbnMgdGhhdCBhcmVcbiAgICAgICAgICAgICAgICAvLyBfc2VsZWN0aXZlbHlfIGZvcmdpdmluZyAoc3BlY2lmaWNhbGx5IHdoZW4gdGhlIGxpc3QgaW5jbHVkZXMgYXQgbGVhc3RcbiAgICAgICAgICAgICAgICAvLyBvbmUgdmFsaWQgc2VsZWN0b3IpLlxuICAgICAgICAgICAgICAgIC8vIE5vdGUgdGhhdCB3ZSB0cmVhdCBjb21wbGV0ZSBsYWNrIG9mIHN1cHBvcnQgZm9yIGA6aGFzKClgIGFzIGlmIGl0IHdlcmVcbiAgICAgICAgICAgICAgICAvLyBzcGVjLWNvbXBsaWFudCBzdXBwb3J0LCB3aGljaCBpcyBmaW5lIGJlY2F1c2UgdXNlIG9mIGA6aGFzKClgIGluIHN1Y2hcbiAgICAgICAgICAgICAgICAvLyBlbnZpcm9ubWVudHMgd2lsbCBmYWlsIGluIHRoZSBxU0EgcGF0aCBhbmQgZmFsbCBiYWNrIHRvIGpRdWVyeSB0cmF2ZXJzYWxcbiAgICAgICAgICAgICAgICAvLyBhbnl3YXkuXG4gICAgICAgICAgICAgICAgc3VwcG9ydC5jc3NIYXMgPSBhc3NlcnQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIjpoYXMoKiw6anFmYWtlKVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyBJRCBmaWx0ZXIgYW5kIGZpbmRcbiAgICAgICAgICAgICAgICBpZiAoc3VwcG9ydC5nZXRCeUlkKSB7XG4gICAgICAgICAgICAgICAgICAgIEV4cHIuZmlsdGVyLklEID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXR0cklkID0gaWQucmVwbGFjZShydW5lc2NhcGUsIGZ1bmVzY2FwZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUoXCJpZFwiKSA9PT0gYXR0cklkO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgRXhwci5maW5kLklEID0gZnVuY3Rpb24gKGlkLCBjb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQgIT09IFwidW5kZWZpbmVkXCIgJiYgZG9jdW1lbnRJc0hUTUwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbSA9IGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtID8gW2VsZW1dIDogW107XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBFeHByLmZpbHRlci5JRCA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGF0dHJJZCA9IGlkLnJlcGxhY2UocnVuZXNjYXBlLCBmdW5lc2NhcGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5vZGUgPSB0eXBlb2YgZWxlbS5nZXRBdHRyaWJ1dGVOb2RlICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0uZ2V0QXR0cmlidXRlTm9kZShcImlkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBub2RlICYmIG5vZGUudmFsdWUgPT09IGF0dHJJZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDYgLSA3IG9ubHlcbiAgICAgICAgICAgICAgICAgICAgLy8gZ2V0RWxlbWVudEJ5SWQgaXMgbm90IHJlbGlhYmxlIGFzIGEgZmluZCBzaG9ydGN1dFxuICAgICAgICAgICAgICAgICAgICBFeHByLmZpbmQuSUQgPSBmdW5jdGlvbiAoaWQsIGNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50QnlJZCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkb2N1bWVudElzSFRNTCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBub2RlLCBpLCBlbGVtcywgZWxlbSA9IGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFZlcmlmeSB0aGUgaWQgYXR0cmlidXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSBlbGVtLmdldEF0dHJpYnV0ZU5vZGUoXCJpZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUgJiYgbm9kZS52YWx1ZSA9PT0gaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbZWxlbV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmFsbCBiYWNrIG9uIGdldEVsZW1lbnRzQnlOYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1zID0gY29udGV4dC5nZXRFbGVtZW50c0J5TmFtZShpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKGVsZW0gPSBlbGVtc1tpKytdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZShcImlkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUgJiYgbm9kZS52YWx1ZSA9PT0gaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2VsZW1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gVGFnXG4gICAgICAgICAgICAgICAgRXhwci5maW5kLlRBRyA9IGZ1bmN0aW9uICh0YWcsIGNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSh0YWcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRG9jdW1lbnRGcmFnbWVudCBub2RlcyBkb24ndCBoYXZlIGdFQlROXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKHRhZyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8vIENsYXNzXG4gICAgICAgICAgICAgICAgRXhwci5maW5kLkNMQVNTID0gZnVuY3Rpb24gKGNsYXNzTmFtZSwgY29udGV4dCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkb2N1bWVudElzSFRNTCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShjbGFzc05hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAvKiBRU0EvbWF0Y2hlc1NlbGVjdG9yXG4gICAgICAgICAgICAgICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuICAgICAgICAgICAgICAgIC8vIFFTQSBhbmQgbWF0Y2hlc1NlbGVjdG9yIHN1cHBvcnRcbiAgICAgICAgICAgICAgICByYnVnZ3lRU0EgPSBbXTtcbiAgICAgICAgICAgICAgICAvLyBCdWlsZCBRU0EgcmVnZXhcbiAgICAgICAgICAgICAgICAvLyBSZWdleCBzdHJhdGVneSBhZG9wdGVkIGZyb20gRGllZ28gUGVyaW5pXG4gICAgICAgICAgICAgICAgYXNzZXJ0KGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5wdXQ7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChlbCkuaW5uZXJIVE1MID1cbiAgICAgICAgICAgICAgICAgICAgICAgIFwiPGEgaWQ9J1wiICsgZXhwYW5kbyArIFwiJyBocmVmPScnIGRpc2FibGVkPSdkaXNhYmxlZCc+PC9hPlwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjxzZWxlY3QgaWQ9J1wiICsgZXhwYW5kbyArIFwiLVxcclxcXFwnIGRpc2FibGVkPSdkaXNhYmxlZCc+XCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiPG9wdGlvbiBzZWxlY3RlZD0nJz48L29wdGlvbj48L3NlbGVjdD5cIjtcbiAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogaU9TIDw9NyAtIDggb25seVxuICAgICAgICAgICAgICAgICAgICAvLyBCb29sZWFuIGF0dHJpYnV0ZXMgYW5kIFwidmFsdWVcIiBhcmUgbm90IHRyZWF0ZWQgY29ycmVjdGx5IGluIHNvbWUgWE1MIGRvY3VtZW50c1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbc2VsZWN0ZWRdXCIpLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmJ1Z2d5UVNBLnB1c2goXCJcXFxcW1wiICsgd2hpdGVzcGFjZSArIFwiKig/OnZhbHVlfFwiICsgYm9vbGVhbnMgKyBcIilcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogaU9TIDw9NyAtIDggb25seVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbaWR+PVwiICsgZXhwYW5kbyArIFwiLV1cIikubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByYnVnZ3lRU0EucHVzaChcIn49XCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IGlPUyA4IG9ubHlcbiAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTEzNjg1MVxuICAgICAgICAgICAgICAgICAgICAvLyBJbi1wYWdlIGBzZWxlY3RvciNpZCBzaWJsaW5nLWNvbWJpbmF0b3Igc2VsZWN0b3JgIGZhaWxzXG4gICAgICAgICAgICAgICAgICAgIGlmICghZWwucXVlcnlTZWxlY3RvckFsbChcImEjXCIgKyBleHBhbmRvICsgXCIrKlwiKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJidWdneVFTQS5wdXNoKFwiLiMuK1srfl1cIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogQ2hyb21lIDw9MTA1KywgRmlyZWZveCA8PTEwNCssIFNhZmFyaSA8PTE1LjQrXG4gICAgICAgICAgICAgICAgICAgIC8vIEluIHNvbWUgb2YgdGhlIGRvY3VtZW50IGtpbmRzLCB0aGVzZSBzZWxlY3RvcnMgd291bGRuJ3Qgd29yayBuYXRpdmVseS5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBpcyBwcm9iYWJseSBPSyBidXQgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHdlIHdhbnQgdG8gbWFpbnRhaW5cbiAgICAgICAgICAgICAgICAgICAgLy8gaGFuZGxpbmcgdGhlbSB0aHJvdWdoIGpRdWVyeSB0cmF2ZXJzYWwgaW4galF1ZXJ5IDMueC5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlbC5xdWVyeVNlbGVjdG9yQWxsKFwiOmNoZWNrZWRcIikubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByYnVnZ3lRU0EucHVzaChcIjpjaGVja2VkXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IFdpbmRvd3MgOCBOYXRpdmUgQXBwc1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgdHlwZSBhbmQgbmFtZSBhdHRyaWJ1dGVzIGFyZSByZXN0cmljdGVkIGR1cmluZyAuaW5uZXJIVE1MIGFzc2lnbm1lbnRcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJoaWRkZW5cIik7XG4gICAgICAgICAgICAgICAgICAgIGVsLmFwcGVuZENoaWxkKGlucHV0KS5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsIFwiRFwiKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgOSAtIDExK1xuICAgICAgICAgICAgICAgICAgICAvLyBJRSdzIDpkaXNhYmxlZCBzZWxlY3RvciBkb2VzIG5vdCBwaWNrIHVwIHRoZSBjaGlsZHJlbiBvZiBkaXNhYmxlZCBmaWVsZHNldHNcbiAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogQ2hyb21lIDw9MTA1KywgRmlyZWZveCA8PTEwNCssIFNhZmFyaSA8PTE1LjQrXG4gICAgICAgICAgICAgICAgICAgIC8vIEluIHNvbWUgb2YgdGhlIGRvY3VtZW50IGtpbmRzLCB0aGVzZSBzZWxlY3RvcnMgd291bGRuJ3Qgd29yayBuYXRpdmVseS5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBpcyBwcm9iYWJseSBPSyBidXQgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHdlIHdhbnQgdG8gbWFpbnRhaW5cbiAgICAgICAgICAgICAgICAgICAgLy8gaGFuZGxpbmcgdGhlbSB0aHJvdWdoIGpRdWVyeSB0cmF2ZXJzYWwgaW4galF1ZXJ5IDMueC5cbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKGVsKS5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbC5xdWVyeVNlbGVjdG9yQWxsKFwiOmRpc2FibGVkXCIpLmxlbmd0aCAhPT0gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmJ1Z2d5UVNBLnB1c2goXCI6ZW5hYmxlZFwiLCBcIjpkaXNhYmxlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSAxMSssIEVkZ2UgMTUgLSAxOCtcbiAgICAgICAgICAgICAgICAgICAgLy8gSUUgMTEvRWRnZSBkb24ndCBmaW5kIGVsZW1lbnRzIG9uIGEgYFtuYW1lPScnXWAgcXVlcnkgaW4gc29tZSBjYXNlcy5cbiAgICAgICAgICAgICAgICAgICAgLy8gQWRkaW5nIGEgdGVtcG9yYXJ5IGF0dHJpYnV0ZSB0byB0aGUgZG9jdW1lbnQgYmVmb3JlIHRoZSBzZWxlY3Rpb24gd29ya3NcbiAgICAgICAgICAgICAgICAgICAgLy8gYXJvdW5kIHRoZSBpc3N1ZS5cbiAgICAgICAgICAgICAgICAgICAgLy8gSW50ZXJlc3RpbmdseSwgSUUgMTAgJiBvbGRlciBkb24ndCBzZWVtIHRvIGhhdmUgdGhlIGlzc3VlLlxuICAgICAgICAgICAgICAgICAgICBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKFwibmFtZVwiLCBcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgZWwuYXBwZW5kQ2hpbGQoaW5wdXQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbbmFtZT0nJ11cIikubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByYnVnZ3lRU0EucHVzaChcIlxcXFxbXCIgKyB3aGl0ZXNwYWNlICsgXCIqbmFtZVwiICsgd2hpdGVzcGFjZSArIFwiKj1cIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpdGVzcGFjZSArIFwiKig/OicnfFxcXCJcXFwiKVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICghc3VwcG9ydC5jc3NIYXMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogQ2hyb21lIDEwNSAtIDExMCssIFNhZmFyaSAxNS40IC0gMTYuMytcbiAgICAgICAgICAgICAgICAgICAgLy8gT3VyIHJlZ3VsYXIgYHRyeS1jYXRjaGAgbWVjaGFuaXNtIGZhaWxzIHRvIGRldGVjdCBuYXRpdmVseS11bnN1cHBvcnRlZFxuICAgICAgICAgICAgICAgICAgICAvLyBwc2V1ZG8tY2xhc3NlcyBpbnNpZGUgYDpoYXMoKWAgKHN1Y2ggYXMgYDpoYXMoOmNvbnRhaW5zKFwiRm9vXCIpKWApXG4gICAgICAgICAgICAgICAgICAgIC8vIGluIGJyb3dzZXJzIHRoYXQgcGFyc2UgdGhlIGA6aGFzKClgIGFyZ3VtZW50IGFzIGEgZm9yZ2l2aW5nIHNlbGVjdG9yIGxpc3QuXG4gICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9zZWxlY3RvcnMvI3JlbGF0aW9uYWwgbm93IHJlcXVpcmVzIHRoZSBhcmd1bWVudFxuICAgICAgICAgICAgICAgICAgICAvLyB0byBiZSBwYXJzZWQgdW5mb3JnaXZpbmdseSwgYnV0IGJyb3dzZXJzIGhhdmUgbm90IHlldCBmdWxseSBhZGp1c3RlZC5cbiAgICAgICAgICAgICAgICAgICAgcmJ1Z2d5UVNBLnB1c2goXCI6aGFzXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByYnVnZ3lRU0EgPSByYnVnZ3lRU0EubGVuZ3RoICYmIG5ldyBSZWdFeHAocmJ1Z2d5UVNBLmpvaW4oXCJ8XCIpKTtcbiAgICAgICAgICAgICAgICAvKiBTb3J0aW5nXG4gICAgICAgICAgICAgICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuICAgICAgICAgICAgICAgIC8vIERvY3VtZW50IG9yZGVyIHNvcnRpbmdcbiAgICAgICAgICAgICAgICBzb3J0T3JkZXIgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgICAgICAgICAvLyBGbGFnIGZvciBkdXBsaWNhdGUgcmVtb3ZhbFxuICAgICAgICAgICAgICAgICAgICBpZiAoYSA9PT0gYikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFzRHVwbGljYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFNvcnQgb24gbWV0aG9kIGV4aXN0ZW5jZSBpZiBvbmx5IG9uZSBpbnB1dCBoYXMgY29tcGFyZURvY3VtZW50UG9zaXRpb25cbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbXBhcmUgPSAhYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiAtICFiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29tcGFyZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBhcmU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHBvc2l0aW9uIGlmIGJvdGggaW5wdXRzIGJlbG9uZyB0byB0aGUgc2FtZSBkb2N1bWVudFxuICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSAxMSssIEVkZ2UgMTcgLSAxOCtcbiAgICAgICAgICAgICAgICAgICAgLy8gSUUvRWRnZSBzb21ldGltZXMgdGhyb3cgYSBcIlBlcm1pc3Npb24gZGVuaWVkXCIgZXJyb3Igd2hlbiBzdHJpY3QtY29tcGFyaW5nXG4gICAgICAgICAgICAgICAgICAgIC8vIHR3byBkb2N1bWVudHM7IHNoYWxsb3cgY29tcGFyaXNvbnMgd29yay5cbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuICAgICAgICAgICAgICAgICAgICBjb21wYXJlID0gKGEub3duZXJEb2N1bWVudCB8fCBhKSA9PSAoYi5vd25lckRvY3VtZW50IHx8IGIpID9cbiAgICAgICAgICAgICAgICAgICAgICAgIGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYikgOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIHdlIGtub3cgdGhleSBhcmUgZGlzY29ubmVjdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAxO1xuICAgICAgICAgICAgICAgICAgICAvLyBEaXNjb25uZWN0ZWQgbm9kZXNcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBhcmUgJiAxIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAoIXN1cHBvcnQuc29ydERldGFjaGVkICYmIGIuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYSkgPT09IGNvbXBhcmUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDaG9vc2UgdGhlIGZpcnN0IGVsZW1lbnQgdGhhdCBpcyByZWxhdGVkIHRvIG91ciBwcmVmZXJyZWQgZG9jdW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4K1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSUUvRWRnZSBzb21ldGltZXMgdGhyb3cgYSBcIlBlcm1pc3Npb24gZGVuaWVkXCIgZXJyb3Igd2hlbiBzdHJpY3QtY29tcGFyaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0d28gZG9jdW1lbnRzOyBzaGFsbG93IGNvbXBhcmlzb25zIHdvcmsuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYSA9PT0gZG9jdW1lbnQgfHwgYS5vd25lckRvY3VtZW50ID09IHByZWZlcnJlZERvYyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmQuY29udGFpbnMocHJlZmVycmVkRG9jLCBhKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4K1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSUUvRWRnZSBzb21ldGltZXMgdGhyb3cgYSBcIlBlcm1pc3Npb24gZGVuaWVkXCIgZXJyb3Igd2hlbiBzdHJpY3QtY29tcGFyaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0d28gZG9jdW1lbnRzOyBzaGFsbG93IGNvbXBhcmlzb25zIHdvcmsuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYiA9PT0gZG9jdW1lbnQgfHwgYi5vd25lckRvY3VtZW50ID09IHByZWZlcnJlZERvYyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmQuY29udGFpbnMocHJlZmVycmVkRG9jLCBiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWFpbnRhaW4gb3JpZ2luYWwgb3JkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzb3J0SW5wdXQgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChpbmRleE9mLmNhbGwoc29ydElucHV0LCBhKSAtIGluZGV4T2YuY2FsbChzb3J0SW5wdXQsIGIpKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29tcGFyZSAmIDQgPyAtMSA6IDE7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZG9jdW1lbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5kLm1hdGNoZXMgPSBmdW5jdGlvbiAoZXhwciwgZWxlbWVudHMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmluZChleHByLCBudWxsLCBudWxsLCBlbGVtZW50cyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZmluZC5tYXRjaGVzU2VsZWN0b3IgPSBmdW5jdGlvbiAoZWxlbSwgZXhwcikge1xuICAgICAgICAgICAgICAgIHNldERvY3VtZW50KGVsZW0pO1xuICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudElzSFRNTCAmJlxuICAgICAgICAgICAgICAgICAgICAhbm9ubmF0aXZlU2VsZWN0b3JDYWNoZVtleHByICsgXCIgXCJdICYmXG4gICAgICAgICAgICAgICAgICAgICghcmJ1Z2d5UVNBIHx8ICFyYnVnZ3lRU0EudGVzdChleHByKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXQgPSBtYXRjaGVzLmNhbGwoZWxlbSwgZXhwcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJRSA5J3MgbWF0Y2hlc1NlbGVjdG9yIHJldHVybnMgZmFsc2Ugb24gZGlzY29ubmVjdGVkIG5vZGVzXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmV0IHx8IHN1cHBvcnQuZGlzY29ubmVjdGVkTWF0Y2ggfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBcyB3ZWxsLCBkaXNjb25uZWN0ZWQgbm9kZXMgYXJlIHNhaWQgdG8gYmUgaW4gYSBkb2N1bWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZyYWdtZW50IGluIElFIDlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtLmRvY3VtZW50ICYmIGVsZW0uZG9jdW1lbnQubm9kZVR5cGUgIT09IDExKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9ubmF0aXZlU2VsZWN0b3JDYWNoZShleHByLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmluZChleHByLCBkb2N1bWVudCwgbnVsbCwgW2VsZW1dKS5sZW5ndGggPiAwO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGZpbmQuY29udGFpbnMgPSBmdW5jdGlvbiAoY29udGV4dCwgZWxlbSkge1xuICAgICAgICAgICAgICAgIC8vIFNldCBkb2N1bWVudCB2YXJzIGlmIG5lZWRlZFxuICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4K1xuICAgICAgICAgICAgICAgIC8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgXCJQZXJtaXNzaW9uIGRlbmllZFwiIGVycm9yIHdoZW4gc3RyaWN0LWNvbXBhcmluZ1xuICAgICAgICAgICAgICAgIC8vIHR3byBkb2N1bWVudHM7IHNoYWxsb3cgY29tcGFyaXNvbnMgd29yay5cbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG4gICAgICAgICAgICAgICAgaWYgKChjb250ZXh0Lm93bmVyRG9jdW1lbnQgfHwgY29udGV4dCkgIT0gZG9jdW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0RG9jdW1lbnQoY29udGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBqUXVlcnkuY29udGFpbnMoY29udGV4dCwgZWxlbSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZmluZC5hdHRyID0gZnVuY3Rpb24gKGVsZW0sIG5hbWUpIHtcbiAgICAgICAgICAgICAgICAvLyBTZXQgZG9jdW1lbnQgdmFycyBpZiBuZWVkZWRcbiAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSAxMSssIEVkZ2UgMTcgLSAxOCtcbiAgICAgICAgICAgICAgICAvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhIFwiUGVybWlzc2lvbiBkZW5pZWRcIiBlcnJvciB3aGVuIHN0cmljdC1jb21wYXJpbmdcbiAgICAgICAgICAgICAgICAvLyB0d28gZG9jdW1lbnRzOyBzaGFsbG93IGNvbXBhcmlzb25zIHdvcmsuXG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuICAgICAgICAgICAgICAgIGlmICgoZWxlbS5vd25lckRvY3VtZW50IHx8IGVsZW0pICE9IGRvY3VtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHNldERvY3VtZW50KGVsZW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgZm4gPSBFeHByLmF0dHJIYW5kbGVbbmFtZS50b0xvd2VyQ2FzZSgpXSwgXG4gICAgICAgICAgICAgICAgLy8gRG9uJ3QgZ2V0IGZvb2xlZCBieSBPYmplY3QucHJvdG90eXBlIHByb3BlcnRpZXMgKHNlZSB0cmFjLTEzODA3KVxuICAgICAgICAgICAgICAgIHZhbCA9IGZuICYmIGhhc093bi5jYWxsKEV4cHIuYXR0ckhhbmRsZSwgbmFtZS50b0xvd2VyQ2FzZSgpKSA/XG4gICAgICAgICAgICAgICAgICAgIGZuKGVsZW0sIG5hbWUsICFkb2N1bWVudElzSFRNTCkgOlxuICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgaWYgKHZhbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBlbGVtLmdldEF0dHJpYnV0ZShuYW1lKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBmaW5kLmVycm9yID0gZnVuY3Rpb24gKG1zZykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246IFwiICsgbXNnKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIERvY3VtZW50IHNvcnRpbmcgYW5kIHJlbW92aW5nIGR1cGxpY2F0ZXNcbiAgICAgICAgICAgICAqIEBwYXJhbSB7QXJyYXlMaWtlfSByZXN1bHRzXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGpRdWVyeS51bmlxdWVTb3J0ID0gZnVuY3Rpb24gKHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICB2YXIgZWxlbSwgZHVwbGljYXRlcyA9IFtdLCBqID0gMCwgaSA9IDA7XG4gICAgICAgICAgICAgICAgLy8gVW5sZXNzIHdlICprbm93KiB3ZSBjYW4gZGV0ZWN0IGR1cGxpY2F0ZXMsIGFzc3VtZSB0aGVpciBwcmVzZW5jZVxuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCtcbiAgICAgICAgICAgICAgICAvLyBUZXN0aW5nIGZvciBkZXRlY3RpbmcgZHVwbGljYXRlcyBpcyB1bnByZWRpY3RhYmxlIHNvIGluc3RlYWQgYXNzdW1lIHdlIGNhbid0XG4gICAgICAgICAgICAgICAgLy8gZGVwZW5kIG9uIGR1cGxpY2F0ZSBkZXRlY3Rpb24gaW4gYWxsIGJyb3dzZXJzIHdpdGhvdXQgYSBzdGFibGUgc29ydC5cbiAgICAgICAgICAgICAgICBoYXNEdXBsaWNhdGUgPSAhc3VwcG9ydC5zb3J0U3RhYmxlO1xuICAgICAgICAgICAgICAgIHNvcnRJbnB1dCA9ICFzdXBwb3J0LnNvcnRTdGFibGUgJiYgc2xpY2UuY2FsbChyZXN1bHRzLCAwKTtcbiAgICAgICAgICAgICAgICBzb3J0LmNhbGwocmVzdWx0cywgc29ydE9yZGVyKTtcbiAgICAgICAgICAgICAgICBpZiAoaGFzRHVwbGljYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICgoZWxlbSA9IHJlc3VsdHNbaSsrXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtID09PSByZXN1bHRzW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaiA9IGR1cGxpY2F0ZXMucHVzaChpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoai0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzcGxpY2UuY2FsbChyZXN1bHRzLCBkdXBsaWNhdGVzW2pdLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBDbGVhciBpbnB1dCBhZnRlciBzb3J0aW5nIHRvIHJlbGVhc2Ugb2JqZWN0c1xuICAgICAgICAgICAgICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5L3NpenpsZS9wdWxsLzIyNVxuICAgICAgICAgICAgICAgIHNvcnRJbnB1dCA9IG51bGw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgalF1ZXJ5LmZuLnVuaXF1ZVNvcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHVzaFN0YWNrKGpRdWVyeS51bmlxdWVTb3J0KHNsaWNlLmFwcGx5KHRoaXMpKSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgRXhwciA9IGpRdWVyeS5leHByID0ge1xuICAgICAgICAgICAgICAgIC8vIENhbiBiZSBhZGp1c3RlZCBieSB0aGUgdXNlclxuICAgICAgICAgICAgICAgIGNhY2hlTGVuZ3RoOiA1MCxcbiAgICAgICAgICAgICAgICBjcmVhdGVQc2V1ZG86IG1hcmtGdW5jdGlvbixcbiAgICAgICAgICAgICAgICBtYXRjaDogbWF0Y2hFeHByLFxuICAgICAgICAgICAgICAgIGF0dHJIYW5kbGU6IHt9LFxuICAgICAgICAgICAgICAgIGZpbmQ6IHt9LFxuICAgICAgICAgICAgICAgIHJlbGF0aXZlOiB7XG4gICAgICAgICAgICAgICAgICAgIFwiPlwiOiB7IGRpcjogXCJwYXJlbnROb2RlXCIsIGZpcnN0OiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgIFwiIFwiOiB7IGRpcjogXCJwYXJlbnROb2RlXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgXCIrXCI6IHsgZGlyOiBcInByZXZpb3VzU2libGluZ1wiLCBmaXJzdDogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICBcIn5cIjogeyBkaXI6IFwicHJldmlvdXNTaWJsaW5nXCIgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcHJlRmlsdGVyOiB7XG4gICAgICAgICAgICAgICAgICAgIEFUVFI6IGZ1bmN0aW9uIChtYXRjaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hbMV0gPSBtYXRjaFsxXS5yZXBsYWNlKHJ1bmVzY2FwZSwgZnVuZXNjYXBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1vdmUgdGhlIGdpdmVuIHZhbHVlIHRvIG1hdGNoWzNdIHdoZXRoZXIgcXVvdGVkIG9yIHVucXVvdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFszXSA9IChtYXRjaFszXSB8fCBtYXRjaFs0XSB8fCBtYXRjaFs1XSB8fCBcIlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKHJ1bmVzY2FwZSwgZnVuZXNjYXBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaFsyXSA9PT0gXCJ+PVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hbM10gPSBcIiBcIiArIG1hdGNoWzNdICsgXCIgXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2guc2xpY2UoMCwgNCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIENISUxEOiBmdW5jdGlvbiAobWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIG1hdGNoZXMgZnJvbSBtYXRjaEV4cHJbXCJDSElMRFwiXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDEgdHlwZSAob25seXxudGh8Li4uKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIgd2hhdCAoY2hpbGR8b2YtdHlwZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAzIGFyZ3VtZW50IChldmVufG9kZHxcXGQqfFxcZCpuKFsrLV1cXGQrKT98Li4uKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQgeG4tY29tcG9uZW50IG9mIHhuK3kgYXJndW1lbnQgKFsrLV0/XFxkKm58KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDUgc2lnbiBvZiB4bi1jb21wb25lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA2IHggb2YgeG4tY29tcG9uZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgNyBzaWduIG9mIHktY29tcG9uZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOCB5IG9mIHktY29tcG9uZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hbMV0gPSBtYXRjaFsxXS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoWzFdLnNsaWNlKDAsIDMpID09PSBcIm50aFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbnRoLSogcmVxdWlyZXMgYXJndW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW1hdGNoWzNdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmQuZXJyb3IobWF0Y2hbMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBudW1lcmljIHggYW5kIHkgcGFyYW1ldGVycyBmb3IgRXhwci5maWx0ZXIuQ0hJTERcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZW1lbWJlciB0aGF0IGZhbHNlL3RydWUgY2FzdCByZXNwZWN0aXZlbHkgdG8gMC8xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hbNF0gPSArKG1hdGNoWzRdID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hbNV0gKyAobWF0Y2hbNl0gfHwgMSkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyICogKG1hdGNoWzNdID09PSBcImV2ZW5cIiB8fCBtYXRjaFszXSA9PT0gXCJvZGRcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzVdID0gKygobWF0Y2hbN10gKyBtYXRjaFs4XSkgfHwgbWF0Y2hbM10gPT09IFwib2RkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG90aGVyIHR5cGVzIHByb2hpYml0IGFyZ3VtZW50c1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobWF0Y2hbM10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5kLmVycm9yKG1hdGNoWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaDtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgUFNFVURPOiBmdW5jdGlvbiAobWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBleGNlc3MsIHVucXVvdGVkID0gIW1hdGNoWzZdICYmIG1hdGNoWzJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoRXhwci5DSElMRC50ZXN0KG1hdGNoWzBdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWNjZXB0IHF1b3RlZCBhcmd1bWVudHMgYXMtaXNcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaFszXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzJdID0gbWF0Y2hbNF0gfHwgbWF0Y2hbNV0gfHwgXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdHJpcCBleGNlc3MgY2hhcmFjdGVycyBmcm9tIHVucXVvdGVkIGFyZ3VtZW50c1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodW5xdW90ZWQgJiYgcnBzZXVkby50ZXN0KHVucXVvdGVkKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldCBleGNlc3MgZnJvbSB0b2tlbml6ZSAocmVjdXJzaXZlbHkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGV4Y2VzcyA9IHRva2VuaXplKHVucXVvdGVkLCB0cnVlKSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhZHZhbmNlIHRvIHRoZSBuZXh0IGNsb3NpbmcgcGFyZW50aGVzaXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZXhjZXNzID0gdW5xdW90ZWQuaW5kZXhPZihcIilcIiwgdW5xdW90ZWQubGVuZ3RoIC0gZXhjZXNzKSAtIHVucXVvdGVkLmxlbmd0aCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBleGNlc3MgaXMgYSBuZWdhdGl2ZSBpbmRleFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzBdID0gbWF0Y2hbMF0uc2xpY2UoMCwgZXhjZXNzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsyXSA9IHVucXVvdGVkLnNsaWNlKDAsIGV4Y2Vzcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXR1cm4gb25seSBjYXB0dXJlcyBuZWVkZWQgYnkgdGhlIHBzZXVkbyBmaWx0ZXIgbWV0aG9kICh0eXBlIGFuZCBhcmd1bWVudClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaC5zbGljZSgwLCAzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZmlsdGVyOiB7XG4gICAgICAgICAgICAgICAgICAgIFRBRzogZnVuY3Rpb24gKG5vZGVOYW1lU2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBleHBlY3RlZE5vZGVOYW1lID0gbm9kZU5hbWVTZWxlY3Rvci5yZXBsYWNlKHJ1bmVzY2FwZSwgZnVuZXNjYXBlKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vZGVOYW1lU2VsZWN0b3IgPT09IFwiKlwiID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBub2RlTmFtZShlbGVtLCBleHBlY3RlZE5vZGVOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBDTEFTUzogZnVuY3Rpb24gKGNsYXNzTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhdHRlcm4gPSBjbGFzc0NhY2hlW2NsYXNzTmFtZSArIFwiIFwiXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXR0ZXJuIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHBhdHRlcm4gPSBuZXcgUmVnRXhwKFwiKF58XCIgKyB3aGl0ZXNwYWNlICsgXCIpXCIgKyBjbGFzc05hbWUgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIihcIiArIHdoaXRlc3BhY2UgKyBcInwkKVwiKSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NDYWNoZShjbGFzc05hbWUsIGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGF0dGVybi50ZXN0KHR5cGVvZiBlbGVtLmNsYXNzTmFtZSA9PT0gXCJzdHJpbmdcIiAmJiBlbGVtLmNsYXNzTmFtZSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBlbGVtLmdldEF0dHJpYnV0ZSAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBBVFRSOiBmdW5jdGlvbiAobmFtZSwgb3BlcmF0b3IsIGNoZWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gZmluZC5hdHRyKGVsZW0sIG5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3BlcmF0b3IgPT09IFwiIT1cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFvcGVyYXRvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wZXJhdG9yID09PSBcIj1cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0ID09PSBjaGVjaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wZXJhdG9yID09PSBcIiE9XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCAhPT0gY2hlY2s7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcGVyYXRvciA9PT0gXCJePVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGVjayAmJiByZXN1bHQuaW5kZXhPZihjaGVjaykgPT09IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcGVyYXRvciA9PT0gXCIqPVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGVjayAmJiByZXN1bHQuaW5kZXhPZihjaGVjaykgPiAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wZXJhdG9yID09PSBcIiQ9XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoZWNrICYmIHJlc3VsdC5zbGljZSgtY2hlY2subGVuZ3RoKSA9PT0gY2hlY2s7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcGVyYXRvciA9PT0gXCJ+PVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXCIgXCIgKyByZXN1bHQucmVwbGFjZShyd2hpdGVzcGFjZSwgXCIgXCIpICsgXCIgXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihjaGVjaykgPiAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wZXJhdG9yID09PSBcInw9XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gY2hlY2sgfHwgcmVzdWx0LnNsaWNlKDAsIGNoZWNrLmxlbmd0aCArIDEpID09PSBjaGVjayArIFwiLVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBDSElMRDogZnVuY3Rpb24gKHR5cGUsIHdoYXQsIF9hcmd1bWVudCwgZmlyc3QsIGxhc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaW1wbGUgPSB0eXBlLnNsaWNlKDAsIDMpICE9PSBcIm50aFwiLCBmb3J3YXJkID0gdHlwZS5zbGljZSgtNCkgIT09IFwibGFzdFwiLCBvZlR5cGUgPSB3aGF0ID09PSBcIm9mLXR5cGVcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmaXJzdCA9PT0gMSAmJiBsYXN0ID09PSAwID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTaG9ydGN1dCBmb3IgOm50aC0qKG4pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEhZWxlbS5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlbGVtLCBfY29udGV4dCwgeG1sKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjYWNoZSwgb3V0ZXJDYWNoZSwgbm9kZSwgbm9kZUluZGV4LCBzdGFydCwgZGlyID0gc2ltcGxlICE9PSBmb3J3YXJkID8gXCJuZXh0U2libGluZ1wiIDogXCJwcmV2aW91c1NpYmxpbmdcIiwgcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlLCBuYW1lID0gb2ZUeXBlICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSwgdXNlQ2FjaGUgPSAheG1sICYmICFvZlR5cGUsIGRpZmYgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gOihmaXJzdHxsYXN0fG9ubHkpLShjaGlsZHxvZi10eXBlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNpbXBsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChkaXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IGVsZW07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgobm9kZSA9IG5vZGVbZGlyXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvZlR5cGUgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVOYW1lKG5vZGUsIG5hbWUpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJldmVyc2UgZGlyZWN0aW9uIGZvciA6b25seS0qIChpZiB3ZSBoYXZlbid0IHlldCBkb25lIHNvKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydCA9IGRpciA9IHR5cGUgPT09IFwib25seVwiICYmICFzdGFydCAmJiBcIm5leHRTaWJsaW5nXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBbZm9yd2FyZCA/IHBhcmVudC5maXJzdENoaWxkIDogcGFyZW50Lmxhc3RDaGlsZF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBub24teG1sIDpudGgtY2hpbGQoLi4uKSBzdG9yZXMgY2FjaGUgZGF0YSBvbiBgcGFyZW50YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvcndhcmQgJiYgdXNlQ2FjaGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZWVrIGBlbGVtYCBmcm9tIGEgcHJldmlvdXNseS1jYWNoZWQgaW5kZXhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRlckNhY2hlID0gcGFyZW50W2V4cGFuZG9dIHx8IChwYXJlbnRbZXhwYW5kb10gPSB7fSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGUgPSBvdXRlckNhY2hlW3R5cGVdIHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVJbmRleCA9IGNhY2hlWzBdID09PSBkaXJydW5zICYmIGNhY2hlWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpZmYgPSBub2RlSW5kZXggJiYgY2FjaGVbMl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IG5vZGVJbmRleCAmJiBwYXJlbnQuY2hpbGROb2Rlc1tub2RlSW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgobm9kZSA9ICsrbm9kZUluZGV4ICYmIG5vZGUgJiYgbm9kZVtkaXJdIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIHNlZWtpbmcgYGVsZW1gIGZyb20gdGhlIHN0YXJ0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkaWZmID0gbm9kZUluZGV4ID0gMCkgfHwgc3RhcnQucG9wKCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdoZW4gZm91bmQsIGNhY2hlIGluZGV4ZXMgb24gYHBhcmVudGAgYW5kIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSAxICYmICsrZGlmZiAmJiBub2RlID09PSBlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRlckNhY2hlW3R5cGVdID0gW2RpcnJ1bnMsIG5vZGVJbmRleCwgZGlmZl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVzZSBwcmV2aW91c2x5LWNhY2hlZCBlbGVtZW50IGluZGV4IGlmIGF2YWlsYWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1c2VDYWNoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRlckNhY2hlID0gZWxlbVtleHBhbmRvXSB8fCAoZWxlbVtleHBhbmRvXSA9IHt9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGUgPSBvdXRlckNhY2hlW3R5cGVdIHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlSW5kZXggPSBjYWNoZVswXSA9PT0gZGlycnVucyAmJiBjYWNoZVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlmZiA9IG5vZGVJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8geG1sIDpudGgtY2hpbGQoLi4uKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9yIDpudGgtbGFzdC1jaGlsZCguLi4pIG9yIDpudGgoLWxhc3QpPy1vZi10eXBlKC4uLilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlmZiA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXNlIHRoZSBzYW1lIGxvb3AgYXMgYWJvdmUgdG8gc2VlayBgZWxlbWAgZnJvbSB0aGUgc3RhcnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKChub2RlID0gKytub2RlSW5kZXggJiYgbm9kZSAmJiBub2RlW2Rpcl0gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkaWZmID0gbm9kZUluZGV4ID0gMCkgfHwgc3RhcnQucG9wKCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKG9mVHlwZSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZU5hbWUobm9kZSwgbmFtZSkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUubm9kZVR5cGUgPT09IDEpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKytkaWZmKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2FjaGUgdGhlIGluZGV4IG9mIGVhY2ggZW5jb3VudGVyZWQgZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1c2VDYWNoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRlckNhY2hlID0gbm9kZVtleHBhbmRvXSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG5vZGVbZXhwYW5kb10gPSB7fSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dGVyQ2FjaGVbdHlwZV0gPSBbZGlycnVucywgZGlmZl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlID09PSBlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEluY29ycG9yYXRlIHRoZSBvZmZzZXQsIHRoZW4gY2hlY2sgYWdhaW5zdCBjeWNsZSBzaXplXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWZmIC09IGxhc3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGlmZiA9PT0gZmlyc3QgfHwgKGRpZmYgJSBmaXJzdCA9PT0gMCAmJiBkaWZmIC8gZmlyc3QgPj0gMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBQU0VVRE86IGZ1bmN0aW9uIChwc2V1ZG8sIGFyZ3VtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBwc2V1ZG8tY2xhc3MgbmFtZXMgYXJlIGNhc2UtaW5zZW5zaXRpdmVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI3BzZXVkby1jbGFzc2VzXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBQcmlvcml0aXplIGJ5IGNhc2Ugc2Vuc2l0aXZpdHkgaW4gY2FzZSBjdXN0b20gcHNldWRvcyBhcmUgYWRkZWQgd2l0aCB1cHBlcmNhc2UgbGV0dGVyc1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVtZW1iZXIgdGhhdCBzZXRGaWx0ZXJzIGluaGVyaXRzIGZyb20gcHNldWRvc1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MsIGZuID0gRXhwci5wc2V1ZG9zW3BzZXVkb10gfHwgRXhwci5zZXRGaWx0ZXJzW3BzZXVkby50b0xvd2VyQ2FzZSgpXSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmQuZXJyb3IoXCJ1bnN1cHBvcnRlZCBwc2V1ZG86IFwiICsgcHNldWRvKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSB1c2VyIG1heSB1c2UgY3JlYXRlUHNldWRvIHRvIGluZGljYXRlIHRoYXRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFyZ3VtZW50cyBhcmUgbmVlZGVkIHRvIGNyZWF0ZSB0aGUgZmlsdGVyIGZ1bmN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBqdXN0IGFzIGpRdWVyeSBkb2VzXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm5bZXhwYW5kb10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm4oYXJndW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQnV0IG1haW50YWluIHN1cHBvcnQgZm9yIG9sZCBzaWduYXR1cmVzXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm4ubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MgPSBbcHNldWRvLCBwc2V1ZG8sIFwiXCIsIGFyZ3VtZW50XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRXhwci5zZXRGaWx0ZXJzLmhhc093blByb3BlcnR5KHBzZXVkby50b0xvd2VyQ2FzZSgpKSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtGdW5jdGlvbihmdW5jdGlvbiAoc2VlZCwgbWF0Y2hlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkeCwgbWF0Y2hlZCA9IGZuKHNlZWQsIGFyZ3VtZW50KSwgaSA9IG1hdGNoZWQubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeCA9IGluZGV4T2YuY2FsbChzZWVkLCBtYXRjaGVkW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWVkW2lkeF0gPSAhKG1hdGNoZXNbaWR4XSA9IG1hdGNoZWRbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm4oZWxlbSwgMCwgYXJncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHBzZXVkb3M6IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUG90ZW50aWFsbHkgY29tcGxleCBwc2V1ZG9zXG4gICAgICAgICAgICAgICAgICAgIG5vdDogbWFya0Z1bmN0aW9uKGZ1bmN0aW9uIChzZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVHJpbSB0aGUgc2VsZWN0b3IgcGFzc2VkIHRvIGNvbXBpbGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRvIGF2b2lkIHRyZWF0aW5nIGxlYWRpbmcgYW5kIHRyYWlsaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzcGFjZXMgYXMgY29tYmluYXRvcnNcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbnB1dCA9IFtdLCByZXN1bHRzID0gW10sIG1hdGNoZXIgPSBjb21waWxlKHNlbGVjdG9yLnJlcGxhY2UocnRyaW1DU1MsIFwiJDFcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoZXJbZXhwYW5kb10gP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtGdW5jdGlvbihmdW5jdGlvbiAoc2VlZCwgbWF0Y2hlcywgX2NvbnRleHQsIHhtbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbSwgdW5tYXRjaGVkID0gbWF0Y2hlcihzZWVkLCBudWxsLCB4bWwsIFtdKSwgaSA9IHNlZWQubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNYXRjaCBlbGVtZW50cyB1bm1hdGNoZWQgYnkgYG1hdGNoZXJgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZWxlbSA9IHVubWF0Y2hlZFtpXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWVkW2ldID0gIShtYXRjaGVzW2ldID0gZWxlbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGVsZW0sIF9jb250ZXh0LCB4bWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRbMF0gPSBlbGVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVyKGlucHV0LCBudWxsLCB4bWwsIHJlc3VsdHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEb24ndCBrZWVwIHRoZSBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIChzZWUgaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9zaXp6bGUvaXNzdWVzLzI5OSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRbMF0gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gIXJlc3VsdHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIGhhczogbWFya0Z1bmN0aW9uKGZ1bmN0aW9uIChzZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpbmQoc2VsZWN0b3IsIGVsZW0pLmxlbmd0aCA+IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbnM6IG1hcmtGdW5jdGlvbihmdW5jdGlvbiAodGV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZShydW5lc2NhcGUsIGZ1bmVzY2FwZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGVsZW0udGV4dENvbnRlbnQgfHwgalF1ZXJ5LnRleHQoZWxlbSkpLmluZGV4T2YodGV4dCkgPiAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAvLyBcIldoZXRoZXIgYW4gZWxlbWVudCBpcyByZXByZXNlbnRlZCBieSBhIDpsYW5nKCkgc2VsZWN0b3JcbiAgICAgICAgICAgICAgICAgICAgLy8gaXMgYmFzZWQgc29sZWx5IG9uIHRoZSBlbGVtZW50J3MgbGFuZ3VhZ2UgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgLy8gYmVpbmcgZXF1YWwgdG8gdGhlIGlkZW50aWZpZXIgQyxcbiAgICAgICAgICAgICAgICAgICAgLy8gb3IgYmVnaW5uaW5nIHdpdGggdGhlIGlkZW50aWZpZXIgQyBpbW1lZGlhdGVseSBmb2xsb3dlZCBieSBcIi1cIi5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIG1hdGNoaW5nIG9mIEMgYWdhaW5zdCB0aGUgZWxlbWVudCdzIGxhbmd1YWdlIHZhbHVlIGlzIHBlcmZvcm1lZCBjYXNlLWluc2Vuc2l0aXZlbHkuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBpZGVudGlmaWVyIEMgZG9lcyBub3QgaGF2ZSB0byBiZSBhIHZhbGlkIGxhbmd1YWdlIG5hbWUuXCJcbiAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly93d3cudzMub3JnL1RSL3NlbGVjdG9ycy8jbGFuZy1wc2V1ZG9cbiAgICAgICAgICAgICAgICAgICAgbGFuZzogbWFya0Z1bmN0aW9uKGZ1bmN0aW9uIChsYW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsYW5nIHZhbHVlIG11c3QgYmUgYSB2YWxpZCBpZGVudGlmaWVyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJpZGVudGlmaWVyLnRlc3QobGFuZyB8fCBcIlwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmQuZXJyb3IoXCJ1bnN1cHBvcnRlZCBsYW5nOiBcIiArIGxhbmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgbGFuZyA9IGxhbmcucmVwbGFjZShydW5lc2NhcGUsIGZ1bmVzY2FwZSkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbGVtTGFuZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZWxlbUxhbmcgPSBkb2N1bWVudElzSFRNTCA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtLmxhbmcgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5nZXRBdHRyaWJ1dGUoXCJ4bWw6bGFuZ1wiKSB8fCBlbGVtLmdldEF0dHJpYnV0ZShcImxhbmdcIikpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtTGFuZyA9IGVsZW1MYW5nLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbUxhbmcgPT09IGxhbmcgfHwgZWxlbUxhbmcuaW5kZXhPZihsYW5nICsgXCItXCIpID09PSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSB3aGlsZSAoKGVsZW0gPSBlbGVtLnBhcmVudE5vZGUpICYmIGVsZW0ubm9kZVR5cGUgPT09IDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAvLyBNaXNjZWxsYW5lb3VzXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoYXNoID0gd2luZG93LmxvY2F0aW9uICYmIHdpbmRvdy5sb2NhdGlvbi5oYXNoO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhhc2ggJiYgaGFzaC5zbGljZSgxKSA9PT0gZWxlbS5pZDtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcm9vdDogZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtID09PSBkb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGZvY3VzOiBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZW0gPT09IHNhZmVBY3RpdmVFbGVtZW50KCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5oYXNGb2N1cygpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgISEoZWxlbS50eXBlIHx8IGVsZW0uaHJlZiB8fCB+ZWxlbS50YWJJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIC8vIEJvb2xlYW4gcHJvcGVydGllc1xuICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiBjcmVhdGVEaXNhYmxlZFBzZXVkbyhmYWxzZSksXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkOiBjcmVhdGVEaXNhYmxlZFBzZXVkbyh0cnVlKSxcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZDogZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEluIENTUzMsIDpjaGVja2VkIHNob3VsZCByZXR1cm4gYm90aCBjaGVja2VkIGFuZCBzZWxlY3RlZCBlbGVtZW50c1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMTEvUkVDLWNzczMtc2VsZWN0b3JzLTIwMTEwOTI5LyNjaGVja2VkXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKG5vZGVOYW1lKGVsZW0sIFwiaW5wdXRcIikgJiYgISFlbGVtLmNoZWNrZWQpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKG5vZGVOYW1lKGVsZW0sIFwib3B0aW9uXCIpICYmICEhZWxlbS5zZWxlY3RlZCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkOiBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgPD0xMStcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFjY2Vzc2luZyB0aGUgc2VsZWN0ZWRJbmRleCBwcm9wZXJ0eVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZm9yY2VzIHRoZSBicm93c2VyIHRvIHRyZWF0IHRoZSBkZWZhdWx0IG9wdGlvbiBhc1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2VsZWN0ZWQgd2hlbiBpbiBhbiBvcHRncm91cC5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLWV4cHJlc3Npb25zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbS5zZWxlY3RlZCA9PT0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgLy8gQ29udGVudHNcbiAgICAgICAgICAgICAgICAgICAgZW1wdHk6IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLyNlbXB0eS1wc2V1ZG9cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDplbXB0eSBpcyBuZWdhdGVkIGJ5IGVsZW1lbnQgKDEpIG9yIGNvbnRlbnQgbm9kZXMgKHRleHQ6IDM7IGNkYXRhOiA0OyBlbnRpdHkgcmVmOiA1KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgYnV0IG5vdCBieSBvdGhlcnMgKGNvbW1lbnQ6IDg7IHByb2Nlc3NpbmcgaW5zdHJ1Y3Rpb246IDc7IGV0Yy4pXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBub2RlVHlwZSA8IDYgd29ya3MgYmVjYXVzZSBhdHRyaWJ1dGVzICgyKSBkbyBub3QgYXBwZWFyIGFzIGNoaWxkcmVuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGVsZW0gPSBlbGVtLmZpcnN0Q2hpbGQ7IGVsZW07IGVsZW0gPSBlbGVtLm5leHRTaWJsaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW0ubm9kZVR5cGUgPCA2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFFeHByLnBzZXVkb3MuZW1wdHkoZWxlbSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIC8vIEVsZW1lbnQvaW5wdXQgdHlwZXNcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyOiBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJoZWFkZXIudGVzdChlbGVtLm5vZGVOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmlucHV0cy50ZXN0KGVsZW0ubm9kZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBidXR0b246IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm9kZU5hbWUoZWxlbSwgXCJpbnB1dFwiKSAmJiBlbGVtLnR5cGUgPT09IFwiYnV0dG9uXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlTmFtZShlbGVtLCBcImJ1dHRvblwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhdHRyO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vZGVOYW1lKGVsZW0sIFwiaW5wdXRcIikgJiYgZWxlbS50eXBlID09PSBcInRleHRcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDwxMCBvbmx5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTmV3IEhUTUw1IGF0dHJpYnV0ZSB2YWx1ZXMgKGUuZy4sIFwic2VhcmNoXCIpIGFwcGVhclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdpdGggZWxlbS50eXBlID09PSBcInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICgoYXR0ciA9IGVsZW0uZ2V0QXR0cmlidXRlKFwidHlwZVwiKSkgPT0gbnVsbCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyLnRvTG93ZXJDYXNlKCkgPT09IFwidGV4dFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgLy8gUG9zaXRpb24taW4tY29sbGVjdGlvblxuICAgICAgICAgICAgICAgICAgICBmaXJzdDogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzBdO1xuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgbGFzdDogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiAoX21hdGNoSW5kZXhlcywgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2xlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgZXE6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24gKF9tYXRjaEluZGV4ZXMsIGxlbmd0aCwgYXJndW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbYXJndW1lbnQgPCAwID8gYXJndW1lbnQgKyBsZW5ndGggOiBhcmd1bWVudF07XG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBldmVuOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uIChtYXRjaEluZGV4ZXMsIGxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICg7IGkgPCBsZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoSW5kZXhlcy5wdXNoKGkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoSW5kZXhlcztcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIG9kZDogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiAobWF0Y2hJbmRleGVzLCBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoOyBpIDwgbGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaEluZGV4ZXMucHVzaChpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaEluZGV4ZXM7XG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBsdDogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiAobWF0Y2hJbmRleGVzLCBsZW5ndGgsIGFyZ3VtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcmd1bWVudCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gYXJndW1lbnQgKyBsZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChhcmd1bWVudCA+IGxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBsZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gYXJndW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKDsgLS1pID49IDA7KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hJbmRleGVzLnB1c2goaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2hJbmRleGVzO1xuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgZ3Q6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24gKG1hdGNoSW5kZXhlcywgbGVuZ3RoLCBhcmd1bWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSBhcmd1bWVudCA8IDAgPyBhcmd1bWVudCArIGxlbmd0aCA6IGFyZ3VtZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICg7ICsraSA8IGxlbmd0aDspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaEluZGV4ZXMucHVzaChpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaEluZGV4ZXM7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIEV4cHIucHNldWRvcy5udGggPSBFeHByLnBzZXVkb3MuZXE7XG4gICAgICAgICAgICAvLyBBZGQgYnV0dG9uL2lucHV0IHR5cGUgcHNldWRvc1xuICAgICAgICAgICAgZm9yIChpIGluIHsgcmFkaW86IHRydWUsIGNoZWNrYm94OiB0cnVlLCBmaWxlOiB0cnVlLCBwYXNzd29yZDogdHJ1ZSwgaW1hZ2U6IHRydWUgfSkge1xuICAgICAgICAgICAgICAgIEV4cHIucHNldWRvc1tpXSA9IGNyZWF0ZUlucHV0UHNldWRvKGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChpIGluIHsgc3VibWl0OiB0cnVlLCByZXNldDogdHJ1ZSB9KSB7XG4gICAgICAgICAgICAgICAgRXhwci5wc2V1ZG9zW2ldID0gY3JlYXRlQnV0dG9uUHNldWRvKGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRWFzeSBBUEkgZm9yIGNyZWF0aW5nIG5ldyBzZXRGaWx0ZXJzXG4gICAgICAgICAgICBmdW5jdGlvbiBzZXRGaWx0ZXJzKCkgeyB9XG4gICAgICAgICAgICBzZXRGaWx0ZXJzLnByb3RvdHlwZSA9IEV4cHIuZmlsdGVycyA9IEV4cHIucHNldWRvcztcbiAgICAgICAgICAgIEV4cHIuc2V0RmlsdGVycyA9IG5ldyBzZXRGaWx0ZXJzKCk7XG4gICAgICAgICAgICBmdW5jdGlvbiB0b2tlbml6ZShzZWxlY3RvciwgcGFyc2VPbmx5KSB7XG4gICAgICAgICAgICAgICAgdmFyIG1hdGNoZWQsIG1hdGNoLCB0b2tlbnMsIHR5cGUsIHNvRmFyLCBncm91cHMsIHByZUZpbHRlcnMsIGNhY2hlZCA9IHRva2VuQ2FjaGVbc2VsZWN0b3IgKyBcIiBcIl07XG4gICAgICAgICAgICAgICAgaWYgKGNhY2hlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VPbmx5ID8gMCA6IGNhY2hlZC5zbGljZSgwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc29GYXIgPSBzZWxlY3RvcjtcbiAgICAgICAgICAgICAgICBncm91cHMgPSBbXTtcbiAgICAgICAgICAgICAgICBwcmVGaWx0ZXJzID0gRXhwci5wcmVGaWx0ZXI7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHNvRmFyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENvbW1hIGFuZCBmaXJzdCBydW5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFtYXRjaGVkIHx8IChtYXRjaCA9IHJjb21tYS5leGVjKHNvRmFyKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvbid0IGNvbnN1bWUgdHJhaWxpbmcgY29tbWFzIGFzIHZhbGlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc29GYXIgPSBzb0Zhci5zbGljZShtYXRjaFswXS5sZW5ndGgpIHx8IHNvRmFyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBzLnB1c2goKHRva2VucyA9IFtdKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAvLyBDb21iaW5hdG9yc1xuICAgICAgICAgICAgICAgICAgICBpZiAoKG1hdGNoID0gcmxlYWRpbmdDb21iaW5hdG9yLmV4ZWMoc29GYXIpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZCA9IG1hdGNoLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG1hdGNoZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2FzdCBkZXNjZW5kYW50IGNvbWJpbmF0b3JzIHRvIHNwYWNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogbWF0Y2hbMF0ucmVwbGFjZShydHJpbUNTUywgXCIgXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvRmFyID0gc29GYXIuc2xpY2UobWF0Y2hlZC5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIEZpbHRlcnNcbiAgICAgICAgICAgICAgICAgICAgZm9yICh0eXBlIGluIEV4cHIuZmlsdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKG1hdGNoID0gbWF0Y2hFeHByW3R5cGVdLmV4ZWMoc29GYXIpKSAmJiAoIXByZUZpbHRlcnNbdHlwZV0gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAobWF0Y2ggPSBwcmVGaWx0ZXJzW3R5cGVdKG1hdGNoKSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZCA9IG1hdGNoLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbWF0Y2hlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlczogbWF0Y2hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb0ZhciA9IHNvRmFyLnNsaWNlKG1hdGNoZWQubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIW1hdGNoZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFJldHVybiB0aGUgbGVuZ3RoIG9mIHRoZSBpbnZhbGlkIGV4Y2Vzc1xuICAgICAgICAgICAgICAgIC8vIGlmIHdlJ3JlIGp1c3QgcGFyc2luZ1xuICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgdGhyb3cgYW4gZXJyb3Igb3IgcmV0dXJuIHRva2Vuc1xuICAgICAgICAgICAgICAgIGlmIChwYXJzZU9ubHkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNvRmFyLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNvRmFyID9cbiAgICAgICAgICAgICAgICAgICAgZmluZC5lcnJvcihzZWxlY3RvcikgOlxuICAgICAgICAgICAgICAgICAgICAvLyBDYWNoZSB0aGUgdG9rZW5zXG4gICAgICAgICAgICAgICAgICAgIHRva2VuQ2FjaGUoc2VsZWN0b3IsIGdyb3Vwcykuc2xpY2UoMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiB0b1NlbGVjdG9yKHRva2Vucykge1xuICAgICAgICAgICAgICAgIHZhciBpID0gMCwgbGVuID0gdG9rZW5zLmxlbmd0aCwgc2VsZWN0b3IgPSBcIlwiO1xuICAgICAgICAgICAgICAgIGZvciAoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3IgKz0gdG9rZW5zW2ldLnZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gc2VsZWN0b3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBhZGRDb21iaW5hdG9yKG1hdGNoZXIsIGNvbWJpbmF0b3IsIGJhc2UpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGlyID0gY29tYmluYXRvci5kaXIsIHNraXAgPSBjb21iaW5hdG9yLm5leHQsIGtleSA9IHNraXAgfHwgZGlyLCBjaGVja05vbkVsZW1lbnRzID0gYmFzZSAmJiBrZXkgPT09IFwicGFyZW50Tm9kZVwiLCBkb25lTmFtZSA9IGRvbmUrKztcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tYmluYXRvci5maXJzdCA/XG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGFnYWluc3QgY2xvc2VzdCBhbmNlc3Rvci9wcmVjZWRpbmcgZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZWxlbSwgY29udGV4dCwgeG1sKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKGVsZW0gPSBlbGVtW2Rpcl0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW0ubm9kZVR5cGUgPT09IDEgfHwgY2hlY2tOb25FbGVtZW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2hlcihlbGVtLCBjb250ZXh0LCB4bWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfSA6XG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGFnYWluc3QgYWxsIGFuY2VzdG9yL3ByZWNlZGluZyBlbGVtZW50c1xuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZWxlbSwgY29udGV4dCwgeG1sKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2xkQ2FjaGUsIG91dGVyQ2FjaGUsIG5ld0NhY2hlID0gW2RpcnJ1bnMsIGRvbmVOYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGNhbid0IHNldCBhcmJpdHJhcnkgZGF0YSBvbiBYTUwgbm9kZXMsIHNvIHRoZXkgZG9uJ3QgYmVuZWZpdCBmcm9tIGNvbWJpbmF0b3IgY2FjaGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHhtbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgoZWxlbSA9IGVsZW1bZGlyXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW0ubm9kZVR5cGUgPT09IDEgfHwgY2hlY2tOb25FbGVtZW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoZXIoZWxlbSwgY29udGV4dCwgeG1sKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKChlbGVtID0gZWxlbVtkaXJdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbS5ub2RlVHlwZSA9PT0gMSB8fCBjaGVja05vbkVsZW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRlckNhY2hlID0gZWxlbVtleHBhbmRvXSB8fCAoZWxlbVtleHBhbmRvXSA9IHt9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChza2lwICYmIG5vZGVOYW1lKGVsZW0sIHNraXApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbSA9IGVsZW1bZGlyXSB8fCBlbGVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoKG9sZENhY2hlID0gb3V0ZXJDYWNoZVtrZXldKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9sZENhY2hlWzBdID09PSBkaXJydW5zICYmIG9sZENhY2hlWzFdID09PSBkb25lTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFzc2lnbiB0byBuZXdDYWNoZSBzbyByZXN1bHRzIGJhY2stcHJvcGFnYXRlIHRvIHByZXZpb3VzIGVsZW1lbnRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChuZXdDYWNoZVsyXSA9IG9sZENhY2hlWzJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJldXNlIG5ld2NhY2hlIHNvIHJlc3VsdHMgYmFjay1wcm9wYWdhdGUgdG8gcHJldmlvdXMgZWxlbWVudHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRlckNhY2hlW2tleV0gPSBuZXdDYWNoZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBIG1hdGNoIG1lYW5zIHdlJ3JlIGRvbmU7IGEgZmFpbCBtZWFucyB3ZSBoYXZlIHRvIGtlZXAgY2hlY2tpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKG5ld0NhY2hlWzJdID0gbWF0Y2hlcihlbGVtLCBjb250ZXh0LCB4bWwpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBlbGVtZW50TWF0Y2hlcihtYXRjaGVycykge1xuICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaGVycy5sZW5ndGggPiAxID9cbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGVsZW0sIGNvbnRleHQsIHhtbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSBtYXRjaGVycy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFtYXRjaGVyc1tpXShlbGVtLCBjb250ZXh0LCB4bWwpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSA6XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoZXJzWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gbXVsdGlwbGVDb250ZXh0cyhzZWxlY3RvciwgY29udGV4dHMsIHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICB2YXIgaSA9IDAsIGxlbiA9IGNvbnRleHRzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBmb3IgKDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpbmQoc2VsZWN0b3IsIGNvbnRleHRzW2ldLCByZXN1bHRzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBjb25kZW5zZSh1bm1hdGNoZWQsIG1hcCwgZmlsdGVyLCBjb250ZXh0LCB4bWwpIHtcbiAgICAgICAgICAgICAgICB2YXIgZWxlbSwgbmV3VW5tYXRjaGVkID0gW10sIGkgPSAwLCBsZW4gPSB1bm1hdGNoZWQubGVuZ3RoLCBtYXBwZWQgPSBtYXAgIT0gbnVsbDtcbiAgICAgICAgICAgICAgICBmb3IgKDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgoZWxlbSA9IHVubWF0Y2hlZFtpXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZmlsdGVyIHx8IGZpbHRlcihlbGVtLCBjb250ZXh0LCB4bWwpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3VW5tYXRjaGVkLnB1c2goZWxlbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hcHBlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXAucHVzaChpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ld1VubWF0Y2hlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIHNldE1hdGNoZXIocHJlRmlsdGVyLCBzZWxlY3RvciwgbWF0Y2hlciwgcG9zdEZpbHRlciwgcG9zdEZpbmRlciwgcG9zdFNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBvc3RGaWx0ZXIgJiYgIXBvc3RGaWx0ZXJbZXhwYW5kb10pIHtcbiAgICAgICAgICAgICAgICAgICAgcG9zdEZpbHRlciA9IHNldE1hdGNoZXIocG9zdEZpbHRlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChwb3N0RmluZGVyICYmICFwb3N0RmluZGVyW2V4cGFuZG9dKSB7XG4gICAgICAgICAgICAgICAgICAgIHBvc3RGaW5kZXIgPSBzZXRNYXRjaGVyKHBvc3RGaW5kZXIsIHBvc3RTZWxlY3Rvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24gKHNlZWQsIHJlc3VsdHMsIGNvbnRleHQsIHhtbCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCwgaSwgZWxlbSwgbWF0Y2hlck91dCwgcHJlTWFwID0gW10sIHBvc3RNYXAgPSBbXSwgcHJlZXhpc3RpbmcgPSByZXN1bHRzLmxlbmd0aCwgXG4gICAgICAgICAgICAgICAgICAgIC8vIEdldCBpbml0aWFsIGVsZW1lbnRzIGZyb20gc2VlZCBvciBjb250ZXh0XG4gICAgICAgICAgICAgICAgICAgIGVsZW1zID0gc2VlZCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlwbGVDb250ZXh0cyhzZWxlY3RvciB8fCBcIipcIiwgY29udGV4dC5ub2RlVHlwZSA/IFtjb250ZXh0XSA6IGNvbnRleHQsIFtdKSwgXG4gICAgICAgICAgICAgICAgICAgIC8vIFByZWZpbHRlciB0byBnZXQgbWF0Y2hlciBpbnB1dCwgcHJlc2VydmluZyBhIG1hcCBmb3Igc2VlZC1yZXN1bHRzIHN5bmNocm9uaXphdGlvblxuICAgICAgICAgICAgICAgICAgICBtYXRjaGVySW4gPSBwcmVGaWx0ZXIgJiYgKHNlZWQgfHwgIXNlbGVjdG9yKSA/XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25kZW5zZShlbGVtcywgcHJlTWFwLCBwcmVGaWx0ZXIsIGNvbnRleHQsIHhtbCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbXM7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgcG9zdEZpbmRlciwgb3IgZmlsdGVyZWQgc2VlZCwgb3Igbm9uLXNlZWQgcG9zdEZpbHRlclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gb3IgcHJlZXhpc3RpbmcgcmVzdWx0cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZXJPdXQgPSBwb3N0RmluZGVyIHx8IChzZWVkID8gcHJlRmlsdGVyIDogcHJlZXhpc3RpbmcgfHwgcG9zdEZpbHRlcikgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uLmludGVybWVkaWF0ZSBwcm9jZXNzaW5nIGlzIG5lY2Vzc2FyeVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtdIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAuLi5vdGhlcndpc2UgdXNlIHJlc3VsdHMgZGlyZWN0bHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmluZCBwcmltYXJ5IG1hdGNoZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZXIobWF0Y2hlckluLCBtYXRjaGVyT3V0LCBjb250ZXh0LCB4bWwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlck91dCA9IG1hdGNoZXJJbjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBBcHBseSBwb3N0RmlsdGVyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwb3N0RmlsdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wID0gY29uZGVuc2UobWF0Y2hlck91dCwgcG9zdE1hcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb3N0RmlsdGVyKHRlbXAsIFtdLCBjb250ZXh0LCB4bWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVW4tbWF0Y2ggZmFpbGluZyBlbGVtZW50cyBieSBtb3ZpbmcgdGhlbSBiYWNrIHRvIG1hdGNoZXJJblxuICAgICAgICAgICAgICAgICAgICAgICAgaSA9IHRlbXAubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZWxlbSA9IHRlbXBbaV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZXJPdXRbcG9zdE1hcFtpXV0gPSAhKG1hdGNoZXJJbltwb3N0TWFwW2ldXSA9IGVsZW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBvc3RGaW5kZXIgfHwgcHJlRmlsdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBvc3RGaW5kZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gR2V0IHRoZSBmaW5hbCBtYXRjaGVyT3V0IGJ5IGNvbmRlbnNpbmcgdGhpcyBpbnRlcm1lZGlhdGUgaW50byBwb3N0RmluZGVyIGNvbnRleHRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IG1hdGNoZXJPdXQubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGVsZW0gPSBtYXRjaGVyT3V0W2ldKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlc3RvcmUgbWF0Y2hlckluIHNpbmNlIGVsZW0gaXMgbm90IHlldCBhIGZpbmFsIG1hdGNoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5wdXNoKChtYXRjaGVySW5baV0gPSBlbGVtKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zdEZpbmRlcihudWxsLCAobWF0Y2hlck91dCA9IFtdKSwgdGVtcCwgeG1sKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTW92ZSBtYXRjaGVkIGVsZW1lbnRzIGZyb20gc2VlZCB0byByZXN1bHRzIHRvIGtlZXAgdGhlbSBzeW5jaHJvbml6ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gbWF0Y2hlck91dC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGVsZW0gPSBtYXRjaGVyT3V0W2ldKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHRlbXAgPSBwb3N0RmluZGVyID8gaW5kZXhPZi5jYWxsKHNlZWQsIGVsZW0pIDogcHJlTWFwW2ldKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWVkW3RlbXBdID0gIShyZXN1bHRzW3RlbXBdID0gZWxlbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgZWxlbWVudHMgdG8gcmVzdWx0cywgdGhyb3VnaCBwb3N0RmluZGVyIGlmIGRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZXJPdXQgPSBjb25kZW5zZShtYXRjaGVyT3V0ID09PSByZXN1bHRzID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVyT3V0LnNwbGljZShwcmVleGlzdGluZywgbWF0Y2hlck91dC5sZW5ndGgpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVyT3V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwb3N0RmluZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zdEZpbmRlcihudWxsLCByZXN1bHRzLCBtYXRjaGVyT3V0LCB4bWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHVzaC5hcHBseShyZXN1bHRzLCBtYXRjaGVyT3V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gbWF0Y2hlckZyb21Ub2tlbnModG9rZW5zKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNoZWNrQ29udGV4dCwgbWF0Y2hlciwgaiwgbGVuID0gdG9rZW5zLmxlbmd0aCwgbGVhZGluZ1JlbGF0aXZlID0gRXhwci5yZWxhdGl2ZVt0b2tlbnNbMF0udHlwZV0sIGltcGxpY2l0UmVsYXRpdmUgPSBsZWFkaW5nUmVsYXRpdmUgfHwgRXhwci5yZWxhdGl2ZVtcIiBcIl0sIGkgPSBsZWFkaW5nUmVsYXRpdmUgPyAxIDogMCwgXG4gICAgICAgICAgICAgICAgLy8gVGhlIGZvdW5kYXRpb25hbCBtYXRjaGVyIGVuc3VyZXMgdGhhdCBlbGVtZW50cyBhcmUgcmVhY2hhYmxlIGZyb20gdG9wLWxldmVsIGNvbnRleHQocylcbiAgICAgICAgICAgICAgICBtYXRjaENvbnRleHQgPSBhZGRDb21iaW5hdG9yKGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtID09PSBjaGVja0NvbnRleHQ7XG4gICAgICAgICAgICAgICAgfSwgaW1wbGljaXRSZWxhdGl2ZSwgdHJ1ZSksIG1hdGNoQW55Q29udGV4dCA9IGFkZENvbWJpbmF0b3IoZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluZGV4T2YuY2FsbChjaGVja0NvbnRleHQsIGVsZW0pID4gLTE7XG4gICAgICAgICAgICAgICAgfSwgaW1wbGljaXRSZWxhdGl2ZSwgdHJ1ZSksIG1hdGNoZXJzID0gW2Z1bmN0aW9uIChlbGVtLCBjb250ZXh0LCB4bWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4K1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSUUvRWRnZSBzb21ldGltZXMgdGhyb3cgYSBcIlBlcm1pc3Npb24gZGVuaWVkXCIgZXJyb3Igd2hlbiBzdHJpY3QtY29tcGFyaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0d28gZG9jdW1lbnRzOyBzaGFsbG93IGNvbXBhcmlzb25zIHdvcmsuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmV0ID0gKCFsZWFkaW5nUmVsYXRpdmUgJiYgKHhtbCB8fCBjb250ZXh0ICE9IG91dGVybW9zdENvbnRleHQpKSB8fCAoKGNoZWNrQ29udGV4dCA9IGNvbnRleHQpLm5vZGVUeXBlID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaENvbnRleHQoZWxlbSwgY29udGV4dCwgeG1sKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hBbnlDb250ZXh0KGVsZW0sIGNvbnRleHQsIHhtbCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXZvaWQgaGFuZ2luZyBvbnRvIGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIChzZWUgaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9zaXp6bGUvaXNzdWVzLzI5OSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrQ29udGV4dCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICAgICAgICAgICAgICB9XTtcbiAgICAgICAgICAgICAgICBmb3IgKDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgobWF0Y2hlciA9IEV4cHIucmVsYXRpdmVbdG9rZW5zW2ldLnR5cGVdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlcnMgPSBbYWRkQ29tYmluYXRvcihlbGVtZW50TWF0Y2hlcihtYXRjaGVycyksIG1hdGNoZXIpXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZXIgPSBFeHByLmZpbHRlclt0b2tlbnNbaV0udHlwZV0uYXBwbHkobnVsbCwgdG9rZW5zW2ldLm1hdGNoZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmV0dXJuIHNwZWNpYWwgdXBvbiBzZWVpbmcgYSBwb3NpdGlvbmFsIG1hdGNoZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaGVyW2V4cGFuZG9dKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmluZCB0aGUgbmV4dCByZWxhdGl2ZSBvcGVyYXRvciAoaWYgYW55KSBmb3IgcHJvcGVyIGhhbmRsaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaiA9ICsraTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKDsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChFeHByLnJlbGF0aXZlW3Rva2Vuc1tqXS50eXBlXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNldE1hdGNoZXIoaSA+IDEgJiYgZWxlbWVudE1hdGNoZXIobWF0Y2hlcnMpLCBpID4gMSAmJiB0b1NlbGVjdG9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBwcmVjZWRpbmcgdG9rZW4gd2FzIGEgZGVzY2VuZGFudCBjb21iaW5hdG9yLCBpbnNlcnQgYW4gaW1wbGljaXQgYW55LWVsZW1lbnQgYCpgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5zLnNsaWNlKDAsIGkgLSAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY29uY2F0KHsgdmFsdWU6IHRva2Vuc1tpIC0gMl0udHlwZSA9PT0gXCIgXCIgPyBcIipcIiA6IFwiXCIgfSkpLnJlcGxhY2UocnRyaW1DU1MsIFwiJDFcIiksIG1hdGNoZXIsIGkgPCBqICYmIG1hdGNoZXJGcm9tVG9rZW5zKHRva2Vucy5zbGljZShpLCBqKSksIGogPCBsZW4gJiYgbWF0Y2hlckZyb21Ub2tlbnMoKHRva2VucyA9IHRva2Vucy5zbGljZShqKSkpLCBqIDwgbGVuICYmIHRvU2VsZWN0b3IodG9rZW5zKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVycy5wdXNoKG1hdGNoZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50TWF0Y2hlcihtYXRjaGVycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBtYXRjaGVyRnJvbUdyb3VwTWF0Y2hlcnMoZWxlbWVudE1hdGNoZXJzLCBzZXRNYXRjaGVycykge1xuICAgICAgICAgICAgICAgIHZhciBieVNldCA9IHNldE1hdGNoZXJzLmxlbmd0aCA+IDAsIGJ5RWxlbWVudCA9IGVsZW1lbnRNYXRjaGVycy5sZW5ndGggPiAwLCBzdXBlck1hdGNoZXIgPSBmdW5jdGlvbiAoc2VlZCwgY29udGV4dCwgeG1sLCByZXN1bHRzLCBvdXRlcm1vc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW0sIGosIG1hdGNoZXIsIG1hdGNoZWRDb3VudCA9IDAsIGkgPSBcIjBcIiwgdW5tYXRjaGVkID0gc2VlZCAmJiBbXSwgc2V0TWF0Y2hlZCA9IFtdLCBjb250ZXh0QmFja3VwID0gb3V0ZXJtb3N0Q29udGV4dCwgXG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIG11c3QgYWx3YXlzIGhhdmUgZWl0aGVyIHNlZWQgZWxlbWVudHMgb3Igb3V0ZXJtb3N0IGNvbnRleHRcbiAgICAgICAgICAgICAgICAgICAgZWxlbXMgPSBzZWVkIHx8IGJ5RWxlbWVudCAmJiBFeHByLmZpbmQuVEFHKFwiKlwiLCBvdXRlcm1vc3QpLCBcbiAgICAgICAgICAgICAgICAgICAgLy8gVXNlIGludGVnZXIgZGlycnVucyBpZmYgdGhpcyBpcyB0aGUgb3V0ZXJtb3N0IG1hdGNoZXJcbiAgICAgICAgICAgICAgICAgICAgZGlycnVuc1VuaXF1ZSA9IChkaXJydW5zICs9IGNvbnRleHRCYWNrdXAgPT0gbnVsbCA/IDEgOiBNYXRoLnJhbmRvbSgpIHx8IDAuMSksIGxlbiA9IGVsZW1zLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG91dGVybW9zdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgMTErLCBFZGdlIDE3IC0gMTgrXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhIFwiUGVybWlzc2lvbiBkZW5pZWRcIiBlcnJvciB3aGVuIHN0cmljdC1jb21wYXJpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHR3byBkb2N1bWVudHM7IHNoYWxsb3cgY29tcGFyaXNvbnMgd29yay5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dGVybW9zdENvbnRleHQgPSBjb250ZXh0ID09IGRvY3VtZW50IHx8IGNvbnRleHQgfHwgb3V0ZXJtb3N0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZCBlbGVtZW50cyBwYXNzaW5nIGVsZW1lbnRNYXRjaGVycyBkaXJlY3RseSB0byByZXN1bHRzXG4gICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IGlPUyA8PTcgLSA5IG9ubHlcbiAgICAgICAgICAgICAgICAgICAgLy8gVG9sZXJhdGUgTm9kZUxpc3QgcHJvcGVydGllcyAoSUU6IFwibGVuZ3RoXCI7IFNhZmFyaTogPG51bWJlcj4pIG1hdGNoaW5nXG4gICAgICAgICAgICAgICAgICAgIC8vIGVsZW1lbnRzIGJ5IGlkLiAoc2VlIHRyYWMtMTQxNDIpXG4gICAgICAgICAgICAgICAgICAgIGZvciAoOyBpICE9PSBsZW4gJiYgKGVsZW0gPSBlbGVtc1tpXSkgIT0gbnVsbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYnlFbGVtZW50ICYmIGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSAxMSssIEVkZ2UgMTcgLSAxOCtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhIFwiUGVybWlzc2lvbiBkZW5pZWRcIiBlcnJvciB3aGVuIHN0cmljdC1jb21wYXJpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0d28gZG9jdW1lbnRzOyBzaGFsbG93IGNvbXBhcmlzb25zIHdvcmsuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY29udGV4dCAmJiBlbGVtLm93bmVyRG9jdW1lbnQgIT0gZG9jdW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0RG9jdW1lbnQoZWxlbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhtbCA9ICFkb2N1bWVudElzSFRNTDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKChtYXRjaGVyID0gZWxlbWVudE1hdGNoZXJzW2orK10pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaGVyKGVsZW0sIGNvbnRleHQgfHwgZG9jdW1lbnQsIHhtbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1c2guY2FsbChyZXN1bHRzLCBlbGVtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvdXRlcm1vc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlycnVucyA9IGRpcnJ1bnNVbmlxdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVHJhY2sgdW5tYXRjaGVkIGVsZW1lbnRzIGZvciBzZXQgZmlsdGVyc1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJ5U2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhleSB3aWxsIGhhdmUgZ29uZSB0aHJvdWdoIGFsbCBwb3NzaWJsZSBtYXRjaGVyc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZWxlbSA9ICFtYXRjaGVyICYmIGVsZW0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZWRDb3VudC0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBMZW5ndGhlbiB0aGUgYXJyYXkgZm9yIGV2ZXJ5IGVsZW1lbnQsIG1hdGNoZWQgb3Igbm90XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5tYXRjaGVkLnB1c2goZWxlbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIGBpYCBpcyBub3cgdGhlIGNvdW50IG9mIGVsZW1lbnRzIHZpc2l0ZWQgYWJvdmUsIGFuZCBhZGRpbmcgaXQgdG8gYG1hdGNoZWRDb3VudGBcbiAgICAgICAgICAgICAgICAgICAgLy8gbWFrZXMgdGhlIGxhdHRlciBub25uZWdhdGl2ZS5cbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZENvdW50ICs9IGk7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFwcGx5IHNldCBmaWx0ZXJzIHRvIHVubWF0Y2hlZCBlbGVtZW50c1xuICAgICAgICAgICAgICAgICAgICAvLyBOT1RFOiBUaGlzIGNhbiBiZSBza2lwcGVkIGlmIHRoZXJlIGFyZSBubyB1bm1hdGNoZWQgZWxlbWVudHMgKGkuZS4sIGBtYXRjaGVkQ291bnRgXG4gICAgICAgICAgICAgICAgICAgIC8vIGVxdWFscyBgaWApLCB1bmxlc3Mgd2UgZGlkbid0IHZpc2l0IF9hbnlfIGVsZW1lbnRzIGluIHRoZSBhYm92ZSBsb29wIGJlY2F1c2Ugd2UgaGF2ZVxuICAgICAgICAgICAgICAgICAgICAvLyBubyBlbGVtZW50IG1hdGNoZXJzIGFuZCBubyBzZWVkLlxuICAgICAgICAgICAgICAgICAgICAvLyBJbmNyZW1lbnRpbmcgYW4gaW5pdGlhbGx5LXN0cmluZyBcIjBcIiBgaWAgYWxsb3dzIGBpYCB0byByZW1haW4gYSBzdHJpbmcgb25seSBpbiB0aGF0XG4gICAgICAgICAgICAgICAgICAgIC8vIGNhc2UsIHdoaWNoIHdpbGwgcmVzdWx0IGluIGEgXCIwMFwiIGBtYXRjaGVkQ291bnRgIHRoYXQgZGlmZmVycyBmcm9tIGBpYCBidXQgaXMgYWxzb1xuICAgICAgICAgICAgICAgICAgICAvLyBudW1lcmljYWxseSB6ZXJvLlxuICAgICAgICAgICAgICAgICAgICBpZiAoYnlTZXQgJiYgaSAhPT0gbWF0Y2hlZENvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBqID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgobWF0Y2hlciA9IHNldE1hdGNoZXJzW2orK10pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlcih1bm1hdGNoZWQsIHNldE1hdGNoZWQsIGNvbnRleHQsIHhtbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlaW50ZWdyYXRlIGVsZW1lbnQgbWF0Y2hlcyB0byBlbGltaW5hdGUgdGhlIG5lZWQgZm9yIHNvcnRpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hlZENvdW50ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoISh1bm1hdGNoZWRbaV0gfHwgc2V0TWF0Y2hlZFtpXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRNYXRjaGVkW2ldID0gcG9wLmNhbGwocmVzdWx0cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRGlzY2FyZCBpbmRleCBwbGFjZWhvbGRlciB2YWx1ZXMgdG8gZ2V0IG9ubHkgYWN0dWFsIG1hdGNoZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRNYXRjaGVkID0gY29uZGVuc2Uoc2V0TWF0Y2hlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgbWF0Y2hlcyB0byByZXN1bHRzXG4gICAgICAgICAgICAgICAgICAgICAgICBwdXNoLmFwcGx5KHJlc3VsdHMsIHNldE1hdGNoZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2VlZGxlc3Mgc2V0IG1hdGNoZXMgc3VjY2VlZGluZyBtdWx0aXBsZSBzdWNjZXNzZnVsIG1hdGNoZXJzIHN0aXB1bGF0ZSBzb3J0aW5nXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3V0ZXJtb3N0ICYmICFzZWVkICYmIHNldE1hdGNoZWQubGVuZ3RoID4gMCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChtYXRjaGVkQ291bnQgKyBzZXRNYXRjaGVycy5sZW5ndGgpID4gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS51bmlxdWVTb3J0KHJlc3VsdHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIE92ZXJyaWRlIG1hbmlwdWxhdGlvbiBvZiBnbG9iYWxzIGJ5IG5lc3RlZCBtYXRjaGVyc1xuICAgICAgICAgICAgICAgICAgICBpZiAob3V0ZXJtb3N0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXJydW5zID0gZGlycnVuc1VuaXF1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dGVybW9zdENvbnRleHQgPSBjb250ZXh0QmFja3VwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bm1hdGNoZWQ7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYnlTZXQgP1xuICAgICAgICAgICAgICAgICAgICBtYXJrRnVuY3Rpb24oc3VwZXJNYXRjaGVyKSA6XG4gICAgICAgICAgICAgICAgICAgIHN1cGVyTWF0Y2hlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIGNvbXBpbGUoc2VsZWN0b3IsIG1hdGNoIC8qIEludGVybmFsIFVzZSBPbmx5ICovKSB7XG4gICAgICAgICAgICAgICAgdmFyIGksIHNldE1hdGNoZXJzID0gW10sIGVsZW1lbnRNYXRjaGVycyA9IFtdLCBjYWNoZWQgPSBjb21waWxlckNhY2hlW3NlbGVjdG9yICsgXCIgXCJdO1xuICAgICAgICAgICAgICAgIGlmICghY2FjaGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEdlbmVyYXRlIGEgZnVuY3Rpb24gb2YgcmVjdXJzaXZlIGZ1bmN0aW9ucyB0aGF0IGNhbiBiZSB1c2VkIHRvIGNoZWNrIGVhY2ggZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaCA9IHRva2VuaXplKHNlbGVjdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpID0gbWF0Y2gubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWNoZWQgPSBtYXRjaGVyRnJvbVRva2VucyhtYXRjaFtpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FjaGVkW2V4cGFuZG9dKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0TWF0Y2hlcnMucHVzaChjYWNoZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudE1hdGNoZXJzLnB1c2goY2FjaGVkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBDYWNoZSB0aGUgY29tcGlsZWQgZnVuY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgY2FjaGVkID0gY29tcGlsZXJDYWNoZShzZWxlY3RvciwgbWF0Y2hlckZyb21Hcm91cE1hdGNoZXJzKGVsZW1lbnRNYXRjaGVycywgc2V0TWF0Y2hlcnMpKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2F2ZSBzZWxlY3RvciBhbmQgdG9rZW5pemF0aW9uXG4gICAgICAgICAgICAgICAgICAgIGNhY2hlZC5zZWxlY3RvciA9IHNlbGVjdG9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBBIGxvdy1sZXZlbCBzZWxlY3Rpb24gZnVuY3Rpb24gdGhhdCB3b3JrcyB3aXRoIGpRdWVyeSdzIGNvbXBpbGVkXG4gICAgICAgICAgICAgKiAgc2VsZWN0b3IgZnVuY3Rpb25zXG4gICAgICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ3xGdW5jdGlvbn0gc2VsZWN0b3IgQSBzZWxlY3RvciBvciBhIHByZS1jb21waWxlZFxuICAgICAgICAgICAgICogIHNlbGVjdG9yIGZ1bmN0aW9uIGJ1aWx0IHdpdGggalF1ZXJ5IHNlbGVjdG9yIGNvbXBpbGVcbiAgICAgICAgICAgICAqIEBwYXJhbSB7RWxlbWVudH0gY29udGV4dFxuICAgICAgICAgICAgICogQHBhcmFtIHtBcnJheX0gW3Jlc3VsdHNdXG4gICAgICAgICAgICAgKiBAcGFyYW0ge0FycmF5fSBbc2VlZF0gQSBzZXQgb2YgZWxlbWVudHMgdG8gbWF0Y2ggYWdhaW5zdFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBmdW5jdGlvbiBzZWxlY3Qoc2VsZWN0b3IsIGNvbnRleHQsIHJlc3VsdHMsIHNlZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgaSwgdG9rZW5zLCB0b2tlbiwgdHlwZSwgZmluZCwgY29tcGlsZWQgPSB0eXBlb2Ygc2VsZWN0b3IgPT09IFwiZnVuY3Rpb25cIiAmJiBzZWxlY3RvciwgbWF0Y2ggPSAhc2VlZCAmJiB0b2tlbml6ZSgoc2VsZWN0b3IgPSBjb21waWxlZC5zZWxlY3RvciB8fCBzZWxlY3RvcikpO1xuICAgICAgICAgICAgICAgIHJlc3VsdHMgPSByZXN1bHRzIHx8IFtdO1xuICAgICAgICAgICAgICAgIC8vIFRyeSB0byBtaW5pbWl6ZSBvcGVyYXRpb25zIGlmIHRoZXJlIGlzIG9ubHkgb25lIHNlbGVjdG9yIGluIHRoZSBsaXN0IGFuZCBubyBzZWVkXG4gICAgICAgICAgICAgICAgLy8gKHRoZSBsYXR0ZXIgb2Ygd2hpY2ggZ3VhcmFudGVlcyB1cyBjb250ZXh0KVxuICAgICAgICAgICAgICAgIGlmIChtYXRjaC5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVkdWNlIGNvbnRleHQgaWYgdGhlIGxlYWRpbmcgY29tcG91bmQgc2VsZWN0b3IgaXMgYW4gSURcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5zID0gbWF0Y2hbMF0gPSBtYXRjaFswXS5zbGljZSgwKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRva2Vucy5sZW5ndGggPiAyICYmICh0b2tlbiA9IHRva2Vuc1swXSkudHlwZSA9PT0gXCJJRFwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lm5vZGVUeXBlID09PSA5ICYmIGRvY3VtZW50SXNIVE1MICYmIEV4cHIucmVsYXRpdmVbdG9rZW5zWzFdLnR5cGVdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0ID0gKEV4cHIuZmluZC5JRCh0b2tlbi5tYXRjaGVzWzBdLnJlcGxhY2UocnVuZXNjYXBlLCBmdW5lc2NhcGUpLCBjb250ZXh0KSB8fCBbXSlbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQcmVjb21waWxlZCBtYXRjaGVycyB3aWxsIHN0aWxsIHZlcmlmeSBhbmNlc3RyeSwgc28gc3RlcCB1cCBhIGxldmVsXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChjb21waWxlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQgPSBjb250ZXh0LnBhcmVudE5vZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RvciA9IHNlbGVjdG9yLnNsaWNlKHRva2Vucy5zaGlmdCgpLnZhbHVlLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gRmV0Y2ggYSBzZWVkIHNldCBmb3IgcmlnaHQtdG8tbGVmdCBtYXRjaGluZ1xuICAgICAgICAgICAgICAgICAgICBpID0gbWF0Y2hFeHByLm5lZWRzQ29udGV4dC50ZXN0KHNlbGVjdG9yKSA/IDAgOiB0b2tlbnMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbiA9IHRva2Vuc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFib3J0IGlmIHdlIGhpdCBhIGNvbWJpbmF0b3JcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChFeHByLnJlbGF0aXZlWyh0eXBlID0gdG9rZW4udHlwZSldKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGZpbmQgPSBFeHByLmZpbmRbdHlwZV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2VhcmNoLCBleHBhbmRpbmcgY29udGV4dCBmb3IgbGVhZGluZyBzaWJsaW5nIGNvbWJpbmF0b3JzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChzZWVkID0gZmluZCh0b2tlbi5tYXRjaGVzWzBdLnJlcGxhY2UocnVuZXNjYXBlLCBmdW5lc2NhcGUpLCByc2libGluZy50ZXN0KHRva2Vuc1swXS50eXBlKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXN0Q29udGV4dChjb250ZXh0LnBhcmVudE5vZGUpIHx8IGNvbnRleHQpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBzZWVkIGlzIGVtcHR5IG9yIG5vIHRva2VucyByZW1haW4sIHdlIGNhbiByZXR1cm4gZWFybHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5zLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3IgPSBzZWVkLmxlbmd0aCAmJiB0b1NlbGVjdG9yKHRva2Vucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1c2guYXBwbHkocmVzdWx0cywgc2VlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQ29tcGlsZSBhbmQgZXhlY3V0ZSBhIGZpbHRlcmluZyBmdW5jdGlvbiBpZiBvbmUgaXMgbm90IHByb3ZpZGVkXG4gICAgICAgICAgICAgICAgLy8gUHJvdmlkZSBgbWF0Y2hgIHRvIGF2b2lkIHJldG9rZW5pemF0aW9uIGlmIHdlIG1vZGlmaWVkIHRoZSBzZWxlY3RvciBhYm92ZVxuICAgICAgICAgICAgICAgIChjb21waWxlZCB8fCBjb21waWxlKHNlbGVjdG9yLCBtYXRjaCkpKHNlZWQsIGNvbnRleHQsICFkb2N1bWVudElzSFRNTCwgcmVzdWx0cywgIWNvbnRleHQgfHwgcnNpYmxpbmcudGVzdChzZWxlY3RvcikgJiYgdGVzdENvbnRleHQoY29udGV4dC5wYXJlbnROb2RlKSB8fCBjb250ZXh0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE9uZS10aW1lIGFzc2lnbm1lbnRzXG4gICAgICAgICAgICAvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIC0gNC4xK1xuICAgICAgICAgICAgLy8gU29ydCBzdGFiaWxpdHlcbiAgICAgICAgICAgIHN1cHBvcnQuc29ydFN0YWJsZSA9IGV4cGFuZG8uc3BsaXQoXCJcIikuc29ydChzb3J0T3JkZXIpLmpvaW4oXCJcIikgPT09IGV4cGFuZG87XG4gICAgICAgICAgICAvLyBJbml0aWFsaXplIGFnYWluc3QgdGhlIGRlZmF1bHQgZG9jdW1lbnRcbiAgICAgICAgICAgIHNldERvY3VtZW50KCk7XG4gICAgICAgICAgICAvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIC0gNC4xK1xuICAgICAgICAgICAgLy8gRGV0YWNoZWQgbm9kZXMgY29uZm91bmRpbmdseSBmb2xsb3cgKmVhY2ggb3RoZXIqXG4gICAgICAgICAgICBzdXBwb3J0LnNvcnREZXRhY2hlZCA9IGFzc2VydChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgICAgICAvLyBTaG91bGQgcmV0dXJuIDEsIGJ1dCByZXR1cm5zIDQgKGZvbGxvd2luZylcbiAgICAgICAgICAgICAgICByZXR1cm4gZWwuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZpZWxkc2V0XCIpKSAmIDE7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGpRdWVyeS5maW5kID0gZmluZDtcbiAgICAgICAgICAgIC8vIERlcHJlY2F0ZWRcbiAgICAgICAgICAgIGpRdWVyeS5leHByW1wiOlwiXSA9IGpRdWVyeS5leHByLnBzZXVkb3M7XG4gICAgICAgICAgICBqUXVlcnkudW5pcXVlID0galF1ZXJ5LnVuaXF1ZVNvcnQ7XG4gICAgICAgICAgICAvLyBUaGVzZSBoYXZlIGFsd2F5cyBiZWVuIHByaXZhdGUsIGJ1dCB0aGV5IHVzZWQgdG8gYmUgZG9jdW1lbnRlZCBhcyBwYXJ0IG9mXG4gICAgICAgICAgICAvLyBTaXp6bGUgc28gbGV0J3MgbWFpbnRhaW4gdGhlbSBmb3Igbm93IGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSBwdXJwb3Nlcy5cbiAgICAgICAgICAgIGZpbmQuY29tcGlsZSA9IGNvbXBpbGU7XG4gICAgICAgICAgICBmaW5kLnNlbGVjdCA9IHNlbGVjdDtcbiAgICAgICAgICAgIGZpbmQuc2V0RG9jdW1lbnQgPSBzZXREb2N1bWVudDtcbiAgICAgICAgICAgIGZpbmQudG9rZW5pemUgPSB0b2tlbml6ZTtcbiAgICAgICAgICAgIGZpbmQuZXNjYXBlID0galF1ZXJ5LmVzY2FwZVNlbGVjdG9yO1xuICAgICAgICAgICAgZmluZC5nZXRUZXh0ID0galF1ZXJ5LnRleHQ7XG4gICAgICAgICAgICBmaW5kLmlzWE1MID0galF1ZXJ5LmlzWE1MRG9jO1xuICAgICAgICAgICAgZmluZC5zZWxlY3RvcnMgPSBqUXVlcnkuZXhwcjtcbiAgICAgICAgICAgIGZpbmQuc3VwcG9ydCA9IGpRdWVyeS5zdXBwb3J0O1xuICAgICAgICAgICAgZmluZC51bmlxdWVTb3J0ID0galF1ZXJ5LnVuaXF1ZVNvcnQ7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlICovXG4gICAgICAgIH0pKCk7XG4gICAgICAgIHZhciBkaXIgPSBmdW5jdGlvbiAoZWxlbSwgZGlyLCB1bnRpbCkge1xuICAgICAgICAgICAgdmFyIG1hdGNoZWQgPSBbXSwgdHJ1bmNhdGUgPSB1bnRpbCAhPT0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgd2hpbGUgKChlbGVtID0gZWxlbVtkaXJdKSAmJiBlbGVtLm5vZGVUeXBlICE9PSA5KSB7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW0ubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRydW5jYXRlICYmIGpRdWVyeShlbGVtKS5pcyh1bnRpbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoZWQucHVzaChlbGVtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbWF0Y2hlZDtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHNpYmxpbmdzID0gZnVuY3Rpb24gKG4sIGVsZW0pIHtcbiAgICAgICAgICAgIHZhciBtYXRjaGVkID0gW107XG4gICAgICAgICAgICBmb3IgKDsgbjsgbiA9IG4ubmV4dFNpYmxpbmcpIHtcbiAgICAgICAgICAgICAgICBpZiAobi5ub2RlVHlwZSA9PT0gMSAmJiBuICE9PSBlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoZWQucHVzaChuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbWF0Y2hlZDtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHJuZWVkc0NvbnRleHQgPSBqUXVlcnkuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQ7XG4gICAgICAgIHZhciByc2luZ2xlVGFnID0gKC9ePChbYS16XVteXFwvXFwwPjpcXHgyMFxcdFxcclxcblxcZl0qKVtcXHgyMFxcdFxcclxcblxcZl0qXFwvPz4oPzo8XFwvXFwxPnwpJC9pKTtcbiAgICAgICAgLy8gSW1wbGVtZW50IHRoZSBpZGVudGljYWwgZnVuY3Rpb25hbGl0eSBmb3IgZmlsdGVyIGFuZCBub3RcbiAgICAgICAgZnVuY3Rpb24gd2lubm93KGVsZW1lbnRzLCBxdWFsaWZpZXIsIG5vdCkge1xuICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24ocXVhbGlmaWVyKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBqUXVlcnkuZ3JlcChlbGVtZW50cywgZnVuY3Rpb24gKGVsZW0sIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEhcXVhbGlmaWVyLmNhbGwoZWxlbSwgaSwgZWxlbSkgIT09IG5vdDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNpbmdsZSBlbGVtZW50XG4gICAgICAgICAgICBpZiAocXVhbGlmaWVyLm5vZGVUeXBlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGpRdWVyeS5ncmVwKGVsZW1lbnRzLCBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGVsZW0gPT09IHF1YWxpZmllcikgIT09IG5vdDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEFycmF5bGlrZSBvZiBlbGVtZW50cyAoalF1ZXJ5LCBhcmd1bWVudHMsIEFycmF5KVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBxdWFsaWZpZXIgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4galF1ZXJ5LmdyZXAoZWxlbWVudHMsIGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoaW5kZXhPZi5jYWxsKHF1YWxpZmllciwgZWxlbSkgPiAtMSkgIT09IG5vdDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEZpbHRlcmVkIGRpcmVjdGx5IGZvciBib3RoIHNpbXBsZSBhbmQgY29tcGxleCBzZWxlY3RvcnNcbiAgICAgICAgICAgIHJldHVybiBqUXVlcnkuZmlsdGVyKHF1YWxpZmllciwgZWxlbWVudHMsIG5vdCk7XG4gICAgICAgIH1cbiAgICAgICAgalF1ZXJ5LmZpbHRlciA9IGZ1bmN0aW9uIChleHByLCBlbGVtcywgbm90KSB7XG4gICAgICAgICAgICB2YXIgZWxlbSA9IGVsZW1zWzBdO1xuICAgICAgICAgICAgaWYgKG5vdCkge1xuICAgICAgICAgICAgICAgIGV4cHIgPSBcIjpub3QoXCIgKyBleHByICsgXCIpXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZWxlbXMubGVuZ3RoID09PSAxICYmIGVsZW0ubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4galF1ZXJ5LmZpbmQubWF0Y2hlc1NlbGVjdG9yKGVsZW0sIGV4cHIpID8gW2VsZW1dIDogW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4galF1ZXJ5LmZpbmQubWF0Y2hlcyhleHByLCBqUXVlcnkuZ3JlcChlbGVtcywgZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbS5ub2RlVHlwZSA9PT0gMTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfTtcbiAgICAgICAgalF1ZXJ5LmZuLmV4dGVuZCh7XG4gICAgICAgICAgICBmaW5kOiBmdW5jdGlvbiAoc2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICB2YXIgaSwgcmV0LCBsZW4gPSB0aGlzLmxlbmd0aCwgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzZWxlY3RvciAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wdXNoU3RhY2soalF1ZXJ5KHNlbGVjdG9yKS5maWx0ZXIoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGpRdWVyeS5jb250YWlucyhzZWxmW2ldLCB0aGlzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0ID0gdGhpcy5wdXNoU3RhY2soW10pO1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBqUXVlcnkuZmluZChzZWxlY3Rvciwgc2VsZltpXSwgcmV0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxlbiA+IDEgPyBqUXVlcnkudW5pcXVlU29ydChyZXQpIDogcmV0O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZpbHRlcjogZnVuY3Rpb24gKHNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHVzaFN0YWNrKHdpbm5vdyh0aGlzLCBzZWxlY3RvciB8fCBbXSwgZmFsc2UpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBub3Q6IGZ1bmN0aW9uIChzZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnB1c2hTdGFjayh3aW5ub3codGhpcywgc2VsZWN0b3IgfHwgW10sIHRydWUpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpczogZnVuY3Rpb24gKHNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICEhd2lubm93KHRoaXMsIFxuICAgICAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgYSBwb3NpdGlvbmFsL3JlbGF0aXZlIHNlbGVjdG9yLCBjaGVjayBtZW1iZXJzaGlwIGluIHRoZSByZXR1cm5lZCBzZXRcbiAgICAgICAgICAgICAgICAvLyBzbyAkKFwicDpmaXJzdFwiKS5pcyhcInA6bGFzdFwiKSB3b24ndCByZXR1cm4gdHJ1ZSBmb3IgYSBkb2Mgd2l0aCB0d28gXCJwXCIuXG4gICAgICAgICAgICAgICAgdHlwZW9mIHNlbGVjdG9yID09PSBcInN0cmluZ1wiICYmIHJuZWVkc0NvbnRleHQudGVzdChzZWxlY3RvcikgP1xuICAgICAgICAgICAgICAgICAgICBqUXVlcnkoc2VsZWN0b3IpIDpcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3IgfHwgW10sIGZhbHNlKS5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBJbml0aWFsaXplIGEgalF1ZXJ5IG9iamVjdFxuICAgICAgICAvLyBBIGNlbnRyYWwgcmVmZXJlbmNlIHRvIHRoZSByb290IGpRdWVyeShkb2N1bWVudClcbiAgICAgICAgdmFyIHJvb3RqUXVlcnksIFxuICAgICAgICAvLyBBIHNpbXBsZSB3YXkgdG8gY2hlY2sgZm9yIEhUTUwgc3RyaW5nc1xuICAgICAgICAvLyBQcmlvcml0aXplICNpZCBvdmVyIDx0YWc+IHRvIGF2b2lkIFhTUyB2aWEgbG9jYXRpb24uaGFzaCAodHJhYy05NTIxKVxuICAgICAgICAvLyBTdHJpY3QgSFRNTCByZWNvZ25pdGlvbiAodHJhYy0xMTI5MDogbXVzdCBzdGFydCB3aXRoIDwpXG4gICAgICAgIC8vIFNob3J0Y3V0IHNpbXBsZSAjaWQgY2FzZSBmb3Igc3BlZWRcbiAgICAgICAgcnF1aWNrRXhwciA9IC9eKD86XFxzKig8W1xcd1xcV10rPilbXj5dKnwjKFtcXHctXSspKSQvLCBpbml0ID0galF1ZXJ5LmZuLmluaXQgPSBmdW5jdGlvbiAoc2VsZWN0b3IsIGNvbnRleHQsIHJvb3QpIHtcbiAgICAgICAgICAgIHZhciBtYXRjaCwgZWxlbTtcbiAgICAgICAgICAgIC8vIEhBTkRMRTogJChcIlwiKSwgJChudWxsKSwgJCh1bmRlZmluZWQpLCAkKGZhbHNlKVxuICAgICAgICAgICAgaWYgKCFzZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTWV0aG9kIGluaXQoKSBhY2NlcHRzIGFuIGFsdGVybmF0ZSByb290alF1ZXJ5XG4gICAgICAgICAgICAvLyBzbyBtaWdyYXRlIGNhbiBzdXBwb3J0IGpRdWVyeS5zdWIgKGdoLTIxMDEpXG4gICAgICAgICAgICByb290ID0gcm9vdCB8fCByb290alF1ZXJ5O1xuICAgICAgICAgICAgLy8gSGFuZGxlIEhUTUwgc3RyaW5nc1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBzZWxlY3RvciA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RvclswXSA9PT0gXCI8XCIgJiZcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3Jbc2VsZWN0b3IubGVuZ3RoIC0gMV0gPT09IFwiPlwiICYmXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yLmxlbmd0aCA+PSAzKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFzc3VtZSB0aGF0IHN0cmluZ3MgdGhhdCBzdGFydCBhbmQgZW5kIHdpdGggPD4gYXJlIEhUTUwgYW5kIHNraXAgdGhlIHJlZ2V4IGNoZWNrXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoID0gW251bGwsIHNlbGVjdG9yLCBudWxsXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoID0gcnF1aWNrRXhwci5leGVjKHNlbGVjdG9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gTWF0Y2ggaHRtbCBvciBtYWtlIHN1cmUgbm8gY29udGV4dCBpcyBzcGVjaWZpZWQgZm9yICNpZFxuICAgICAgICAgICAgICAgIGlmIChtYXRjaCAmJiAobWF0Y2hbMV0gfHwgIWNvbnRleHQpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEhBTkRMRTogJChodG1sKSAtPiAkKGFycmF5KVxuICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hbMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQgPSBjb250ZXh0IGluc3RhbmNlb2YgalF1ZXJ5ID8gY29udGV4dFswXSA6IGNvbnRleHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBPcHRpb24gdG8gcnVuIHNjcmlwdHMgaXMgdHJ1ZSBmb3IgYmFjay1jb21wYXRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEludGVudGlvbmFsbHkgbGV0IHRoZSBlcnJvciBiZSB0aHJvd24gaWYgcGFyc2VIVE1MIGlzIG5vdCBwcmVzZW50XG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkubWVyZ2UodGhpcywgalF1ZXJ5LnBhcnNlSFRNTChtYXRjaFsxXSwgY29udGV4dCAmJiBjb250ZXh0Lm5vZGVUeXBlID8gY29udGV4dC5vd25lckRvY3VtZW50IHx8IGNvbnRleHQgOiBkb2N1bWVudCwgdHJ1ZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSEFORExFOiAkKGh0bWwsIHByb3BzKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJzaW5nbGVUYWcudGVzdChtYXRjaFsxXSkgJiYgalF1ZXJ5LmlzUGxhaW5PYmplY3QoY29udGV4dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKG1hdGNoIGluIGNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUHJvcGVydGllcyBvZiBjb250ZXh0IGFyZSBjYWxsZWQgYXMgbWV0aG9kcyBpZiBwb3NzaWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbih0aGlzW21hdGNoXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNbbWF0Y2hdKGNvbnRleHRbbWF0Y2hdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uLmFuZCBvdGhlcndpc2Ugc2V0IGFzIGF0dHJpYnV0ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXR0cihtYXRjaCwgY29udGV4dFttYXRjaF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBIQU5ETEU6ICQoI2lkKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1hdGNoWzJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW5qZWN0IHRoZSBlbGVtZW50IGRpcmVjdGx5IGludG8gdGhlIGpRdWVyeSBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzWzBdID0gZWxlbTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxlbmd0aCA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBIQU5ETEU6ICQoZXhwciwgJCguLi4pKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICghY29udGV4dCB8fCBjb250ZXh0LmpxdWVyeSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGNvbnRleHQgfHwgcm9vdCkuZmluZChzZWxlY3Rvcik7XG4gICAgICAgICAgICAgICAgICAgIC8vIEhBTkRMRTogJChleHByLCBjb250ZXh0KVxuICAgICAgICAgICAgICAgICAgICAvLyAod2hpY2ggaXMganVzdCBlcXVpdmFsZW50IHRvOiAkKGNvbnRleHQpLmZpbmQoZXhwcilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yKGNvbnRleHQpLmZpbmQoc2VsZWN0b3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBIQU5ETEU6ICQoRE9NRWxlbWVudClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHNlbGVjdG9yLm5vZGVUeXBlKSB7XG4gICAgICAgICAgICAgICAgdGhpc1swXSA9IHNlbGVjdG9yO1xuICAgICAgICAgICAgICAgIHRoaXMubGVuZ3RoID0gMTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICAvLyBIQU5ETEU6ICQoZnVuY3Rpb24pXG4gICAgICAgICAgICAgICAgLy8gU2hvcnRjdXQgZm9yIGRvY3VtZW50IHJlYWR5XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKHNlbGVjdG9yKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByb290LnJlYWR5ICE9PSB1bmRlZmluZWQgP1xuICAgICAgICAgICAgICAgICAgICByb290LnJlYWR5KHNlbGVjdG9yKSA6XG4gICAgICAgICAgICAgICAgICAgIC8vIEV4ZWN1dGUgaW1tZWRpYXRlbHkgaWYgcmVhZHkgaXMgbm90IHByZXNlbnRcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3IoalF1ZXJ5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBqUXVlcnkubWFrZUFycmF5KHNlbGVjdG9yLCB0aGlzKTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gR2l2ZSB0aGUgaW5pdCBmdW5jdGlvbiB0aGUgalF1ZXJ5IHByb3RvdHlwZSBmb3IgbGF0ZXIgaW5zdGFudGlhdGlvblxuICAgICAgICBpbml0LnByb3RvdHlwZSA9IGpRdWVyeS5mbjtcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBjZW50cmFsIHJlZmVyZW5jZVxuICAgICAgICByb290alF1ZXJ5ID0galF1ZXJ5KGRvY3VtZW50KTtcbiAgICAgICAgdmFyIHJwYXJlbnRzcHJldiA9IC9eKD86cGFyZW50c3xwcmV2KD86VW50aWx8QWxsKSkvLCBcbiAgICAgICAgLy8gTWV0aG9kcyBndWFyYW50ZWVkIHRvIHByb2R1Y2UgYSB1bmlxdWUgc2V0IHdoZW4gc3RhcnRpbmcgZnJvbSBhIHVuaXF1ZSBzZXRcbiAgICAgICAgZ3VhcmFudGVlZFVuaXF1ZSA9IHtcbiAgICAgICAgICAgIGNoaWxkcmVuOiB0cnVlLFxuICAgICAgICAgICAgY29udGVudHM6IHRydWUsXG4gICAgICAgICAgICBuZXh0OiB0cnVlLFxuICAgICAgICAgICAgcHJldjogdHJ1ZVxuICAgICAgICB9O1xuICAgICAgICBqUXVlcnkuZm4uZXh0ZW5kKHtcbiAgICAgICAgICAgIGhhczogZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICAgICAgICAgIHZhciB0YXJnZXRzID0galF1ZXJ5KHRhcmdldCwgdGhpcyksIGwgPSB0YXJnZXRzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoalF1ZXJ5LmNvbnRhaW5zKHRoaXMsIHRhcmdldHNbaV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjbG9zZXN0OiBmdW5jdGlvbiAoc2VsZWN0b3JzLCBjb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgdmFyIGN1ciwgaSA9IDAsIGwgPSB0aGlzLmxlbmd0aCwgbWF0Y2hlZCA9IFtdLCB0YXJnZXRzID0gdHlwZW9mIHNlbGVjdG9ycyAhPT0gXCJzdHJpbmdcIiAmJiBqUXVlcnkoc2VsZWN0b3JzKTtcbiAgICAgICAgICAgICAgICAvLyBQb3NpdGlvbmFsIHNlbGVjdG9ycyBuZXZlciBtYXRjaCwgc2luY2UgdGhlcmUncyBubyBfc2VsZWN0aW9uXyBjb250ZXh0XG4gICAgICAgICAgICAgICAgaWYgKCFybmVlZHNDb250ZXh0LnRlc3Qoc2VsZWN0b3JzKSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjdXIgPSB0aGlzW2ldOyBjdXIgJiYgY3VyICE9PSBjb250ZXh0OyBjdXIgPSBjdXIucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFsd2F5cyBza2lwIGRvY3VtZW50IGZyYWdtZW50c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXIubm9kZVR5cGUgPCAxMSAmJiAodGFyZ2V0cyA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldHMuaW5kZXgoY3VyKSA+IC0xIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRG9uJ3QgcGFzcyBub24tZWxlbWVudHMgdG8galF1ZXJ5I2ZpbmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyLm5vZGVUeXBlID09PSAxICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuZmluZC5tYXRjaGVzU2VsZWN0b3IoY3VyLCBzZWxlY3RvcnMpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVkLnB1c2goY3VyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnB1c2hTdGFjayhtYXRjaGVkLmxlbmd0aCA+IDEgPyBqUXVlcnkudW5pcXVlU29ydChtYXRjaGVkKSA6IG1hdGNoZWQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIERldGVybWluZSB0aGUgcG9zaXRpb24gb2YgYW4gZWxlbWVudCB3aXRoaW4gdGhlIHNldFxuICAgICAgICAgICAgaW5kZXg6IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgLy8gTm8gYXJndW1lbnQsIHJldHVybiBpbmRleCBpbiBwYXJlbnRcbiAgICAgICAgICAgICAgICBpZiAoIWVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICh0aGlzWzBdICYmIHRoaXNbMF0ucGFyZW50Tm9kZSkgPyB0aGlzLmZpcnN0KCkucHJldkFsbCgpLmxlbmd0aCA6IC0xO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBJbmRleCBpbiBzZWxlY3RvclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZWxlbSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5kZXhPZi5jYWxsKGpRdWVyeShlbGVtKSwgdGhpc1swXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIExvY2F0ZSB0aGUgcG9zaXRpb24gb2YgdGhlIGRlc2lyZWQgZWxlbWVudFxuICAgICAgICAgICAgICAgIHJldHVybiBpbmRleE9mLmNhbGwodGhpcywgXG4gICAgICAgICAgICAgICAgLy8gSWYgaXQgcmVjZWl2ZXMgYSBqUXVlcnkgb2JqZWN0LCB0aGUgZmlyc3QgZWxlbWVudCBpcyB1c2VkXG4gICAgICAgICAgICAgICAgZWxlbS5qcXVlcnkgPyBlbGVtWzBdIDogZWxlbSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYWRkOiBmdW5jdGlvbiAoc2VsZWN0b3IsIGNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wdXNoU3RhY2soalF1ZXJ5LnVuaXF1ZVNvcnQoalF1ZXJ5Lm1lcmdlKHRoaXMuZ2V0KCksIGpRdWVyeShzZWxlY3RvciwgY29udGV4dCkpKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYWRkQmFjazogZnVuY3Rpb24gKHNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWRkKHNlbGVjdG9yID09IG51bGwgP1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXZPYmplY3QgOiB0aGlzLnByZXZPYmplY3QuZmlsdGVyKHNlbGVjdG9yKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBmdW5jdGlvbiBzaWJsaW5nKGN1ciwgZGlyKSB7XG4gICAgICAgICAgICB3aGlsZSAoKGN1ciA9IGN1cltkaXJdKSAmJiBjdXIubm9kZVR5cGUgIT09IDEpIHsgfVxuICAgICAgICAgICAgcmV0dXJuIGN1cjtcbiAgICAgICAgfVxuICAgICAgICBqUXVlcnkuZWFjaCh7XG4gICAgICAgICAgICBwYXJlbnQ6IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhcmVudCA9IGVsZW0ucGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyZW50ICYmIHBhcmVudC5ub2RlVHlwZSAhPT0gMTEgPyBwYXJlbnQgOiBudWxsO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhcmVudHM6IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRpcihlbGVtLCBcInBhcmVudE5vZGVcIik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGFyZW50c1VudGlsOiBmdW5jdGlvbiAoZWxlbSwgX2ksIHVudGlsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRpcihlbGVtLCBcInBhcmVudE5vZGVcIiwgdW50aWwpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5leHQ6IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNpYmxpbmcoZWxlbSwgXCJuZXh0U2libGluZ1wiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwcmV2OiBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzaWJsaW5nKGVsZW0sIFwicHJldmlvdXNTaWJsaW5nXCIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5leHRBbGw6IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRpcihlbGVtLCBcIm5leHRTaWJsaW5nXCIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHByZXZBbGw6IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRpcihlbGVtLCBcInByZXZpb3VzU2libGluZ1wiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBuZXh0VW50aWw6IGZ1bmN0aW9uIChlbGVtLCBfaSwgdW50aWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGlyKGVsZW0sIFwibmV4dFNpYmxpbmdcIiwgdW50aWwpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHByZXZVbnRpbDogZnVuY3Rpb24gKGVsZW0sIF9pLCB1bnRpbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkaXIoZWxlbSwgXCJwcmV2aW91c1NpYmxpbmdcIiwgdW50aWwpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNpYmxpbmdzOiBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzaWJsaW5ncygoZWxlbS5wYXJlbnROb2RlIHx8IHt9KS5maXJzdENoaWxkLCBlbGVtKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjaGlsZHJlbjogZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2libGluZ3MoZWxlbS5maXJzdENoaWxkKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb250ZW50czogZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbS5jb250ZW50RG9jdW1lbnQgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSAxMStcbiAgICAgICAgICAgICAgICAgICAgLy8gPG9iamVjdD4gZWxlbWVudHMgd2l0aCBubyBgZGF0YWAgYXR0cmlidXRlIGhhcyBhbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAgLy8gYGNvbnRlbnREb2N1bWVudGAgd2l0aCBhIGBudWxsYCBwcm90b3R5cGUuXG4gICAgICAgICAgICAgICAgICAgIGdldFByb3RvKGVsZW0uY29udGVudERvY3VtZW50KSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbS5jb250ZW50RG9jdW1lbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDkgLSAxMSBvbmx5LCBpT1MgNyBvbmx5LCBBbmRyb2lkIEJyb3dzZXIgPD00LjMgb25seVxuICAgICAgICAgICAgICAgIC8vIFRyZWF0IHRoZSB0ZW1wbGF0ZSBlbGVtZW50IGFzIGEgcmVndWxhciBvbmUgaW4gYnJvd3NlcnMgdGhhdFxuICAgICAgICAgICAgICAgIC8vIGRvbid0IHN1cHBvcnQgaXQuXG4gICAgICAgICAgICAgICAgaWYgKG5vZGVOYW1lKGVsZW0sIFwidGVtcGxhdGVcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbSA9IGVsZW0uY29udGVudCB8fCBlbGVtO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4galF1ZXJ5Lm1lcmdlKFtdLCBlbGVtLmNoaWxkTm9kZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbiAobmFtZSwgZm4pIHtcbiAgICAgICAgICAgIGpRdWVyeS5mbltuYW1lXSA9IGZ1bmN0aW9uICh1bnRpbCwgc2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWF0Y2hlZCA9IGpRdWVyeS5tYXAodGhpcywgZm4sIHVudGlsKTtcbiAgICAgICAgICAgICAgICBpZiAobmFtZS5zbGljZSgtNSkgIT09IFwiVW50aWxcIikge1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvciA9IHVudGlsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0b3IgJiYgdHlwZW9mIHNlbGVjdG9yID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoZWQgPSBqUXVlcnkuZmlsdGVyKHNlbGVjdG9yLCBtYXRjaGVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgZHVwbGljYXRlc1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWd1YXJhbnRlZWRVbmlxdWVbbmFtZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS51bmlxdWVTb3J0KG1hdGNoZWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFJldmVyc2Ugb3JkZXIgZm9yIHBhcmVudHMqIGFuZCBwcmV2LWRlcml2YXRpdmVzXG4gICAgICAgICAgICAgICAgICAgIGlmIChycGFyZW50c3ByZXYudGVzdChuYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZC5yZXZlcnNlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHVzaFN0YWNrKG1hdGNoZWQpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBybm90aHRtbHdoaXRlID0gKC9bXlxceDIwXFx0XFxyXFxuXFxmXSsvZyk7XG4gICAgICAgIC8vIENvbnZlcnQgU3RyaW5nLWZvcm1hdHRlZCBvcHRpb25zIGludG8gT2JqZWN0LWZvcm1hdHRlZCBvbmVzXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZU9wdGlvbnMob3B0aW9ucykge1xuICAgICAgICAgICAgdmFyIG9iamVjdCA9IHt9O1xuICAgICAgICAgICAgalF1ZXJ5LmVhY2gob3B0aW9ucy5tYXRjaChybm90aHRtbHdoaXRlKSB8fCBbXSwgZnVuY3Rpb24gKF8sIGZsYWcpIHtcbiAgICAgICAgICAgICAgICBvYmplY3RbZmxhZ10gPSB0cnVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICB9XG4gICAgICAgIC8qXG4gICAgICAgICogQ3JlYXRlIGEgY2FsbGJhY2sgbGlzdCB1c2luZyB0aGUgZm9sbG93aW5nIHBhcmFtZXRlcnM6XG4gICAgICAgICpcbiAgICAgICAgKlx0b3B0aW9uczogYW4gb3B0aW9uYWwgbGlzdCBvZiBzcGFjZS1zZXBhcmF0ZWQgb3B0aW9ucyB0aGF0IHdpbGwgY2hhbmdlIGhvd1xuICAgICAgICAqXHRcdFx0dGhlIGNhbGxiYWNrIGxpc3QgYmVoYXZlcyBvciBhIG1vcmUgdHJhZGl0aW9uYWwgb3B0aW9uIG9iamVjdFxuICAgICAgICAqXG4gICAgICAgICogQnkgZGVmYXVsdCBhIGNhbGxiYWNrIGxpc3Qgd2lsbCBhY3QgbGlrZSBhbiBldmVudCBjYWxsYmFjayBsaXN0IGFuZCBjYW4gYmVcbiAgICAgICAgKiBcImZpcmVkXCIgbXVsdGlwbGUgdGltZXMuXG4gICAgICAgICpcbiAgICAgICAgKiBQb3NzaWJsZSBvcHRpb25zOlxuICAgICAgICAqXG4gICAgICAgICpcdG9uY2U6XHRcdFx0d2lsbCBlbnN1cmUgdGhlIGNhbGxiYWNrIGxpc3QgY2FuIG9ubHkgYmUgZmlyZWQgb25jZSAobGlrZSBhIERlZmVycmVkKVxuICAgICAgICAqXG4gICAgICAgICpcdG1lbW9yeTpcdFx0XHR3aWxsIGtlZXAgdHJhY2sgb2YgcHJldmlvdXMgdmFsdWVzIGFuZCB3aWxsIGNhbGwgYW55IGNhbGxiYWNrIGFkZGVkXG4gICAgICAgICpcdFx0XHRcdFx0YWZ0ZXIgdGhlIGxpc3QgaGFzIGJlZW4gZmlyZWQgcmlnaHQgYXdheSB3aXRoIHRoZSBsYXRlc3QgXCJtZW1vcml6ZWRcIlxuICAgICAgICAqXHRcdFx0XHRcdHZhbHVlcyAobGlrZSBhIERlZmVycmVkKVxuICAgICAgICAqXG4gICAgICAgICpcdHVuaXF1ZTpcdFx0XHR3aWxsIGVuc3VyZSBhIGNhbGxiYWNrIGNhbiBvbmx5IGJlIGFkZGVkIG9uY2UgKG5vIGR1cGxpY2F0ZSBpbiB0aGUgbGlzdClcbiAgICAgICAgKlxuICAgICAgICAqXHRzdG9wT25GYWxzZTpcdGludGVycnVwdCBjYWxsaW5ncyB3aGVuIGEgY2FsbGJhY2sgcmV0dXJucyBmYWxzZVxuICAgICAgICAqXG4gICAgICAgICovXG4gICAgICAgIGpRdWVyeS5DYWxsYmFja3MgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICAgICAgLy8gQ29udmVydCBvcHRpb25zIGZyb20gU3RyaW5nLWZvcm1hdHRlZCB0byBPYmplY3QtZm9ybWF0dGVkIGlmIG5lZWRlZFxuICAgICAgICAgICAgLy8gKHdlIGNoZWNrIGluIGNhY2hlIGZpcnN0KVxuICAgICAgICAgICAgb3B0aW9ucyA9IHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiID9cbiAgICAgICAgICAgICAgICBjcmVhdGVPcHRpb25zKG9wdGlvbnMpIDpcbiAgICAgICAgICAgICAgICBqUXVlcnkuZXh0ZW5kKHt9LCBvcHRpb25zKTtcbiAgICAgICAgICAgIHZhciAvLyBGbGFnIHRvIGtub3cgaWYgbGlzdCBpcyBjdXJyZW50bHkgZmlyaW5nXG4gICAgICAgICAgICBmaXJpbmcsIFxuICAgICAgICAgICAgLy8gTGFzdCBmaXJlIHZhbHVlIGZvciBub24tZm9yZ2V0dGFibGUgbGlzdHNcbiAgICAgICAgICAgIG1lbW9yeSwgXG4gICAgICAgICAgICAvLyBGbGFnIHRvIGtub3cgaWYgbGlzdCB3YXMgYWxyZWFkeSBmaXJlZFxuICAgICAgICAgICAgZmlyZWQsIFxuICAgICAgICAgICAgLy8gRmxhZyB0byBwcmV2ZW50IGZpcmluZ1xuICAgICAgICAgICAgbG9ja2VkLCBcbiAgICAgICAgICAgIC8vIEFjdHVhbCBjYWxsYmFjayBsaXN0XG4gICAgICAgICAgICBsaXN0ID0gW10sIFxuICAgICAgICAgICAgLy8gUXVldWUgb2YgZXhlY3V0aW9uIGRhdGEgZm9yIHJlcGVhdGFibGUgbGlzdHNcbiAgICAgICAgICAgIHF1ZXVlID0gW10sIFxuICAgICAgICAgICAgLy8gSW5kZXggb2YgY3VycmVudGx5IGZpcmluZyBjYWxsYmFjayAobW9kaWZpZWQgYnkgYWRkL3JlbW92ZSBhcyBuZWVkZWQpXG4gICAgICAgICAgICBmaXJpbmdJbmRleCA9IC0xLCBcbiAgICAgICAgICAgIC8vIEZpcmUgY2FsbGJhY2tzXG4gICAgICAgICAgICBmaXJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIC8vIEVuZm9yY2Ugc2luZ2xlLWZpcmluZ1xuICAgICAgICAgICAgICAgIGxvY2tlZCA9IGxvY2tlZCB8fCBvcHRpb25zLm9uY2U7XG4gICAgICAgICAgICAgICAgLy8gRXhlY3V0ZSBjYWxsYmFja3MgZm9yIGFsbCBwZW5kaW5nIGV4ZWN1dGlvbnMsXG4gICAgICAgICAgICAgICAgLy8gcmVzcGVjdGluZyBmaXJpbmdJbmRleCBvdmVycmlkZXMgYW5kIHJ1bnRpbWUgY2hhbmdlc1xuICAgICAgICAgICAgICAgIGZpcmVkID0gZmlyaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBmb3IgKDsgcXVldWUubGVuZ3RoOyBmaXJpbmdJbmRleCA9IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lbW9yeSA9IHF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICgrK2ZpcmluZ0luZGV4IDwgbGlzdC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJ1biBjYWxsYmFjayBhbmQgY2hlY2sgZm9yIGVhcmx5IHRlcm1pbmF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGlzdFtmaXJpbmdJbmRleF0uYXBwbHkobWVtb3J5WzBdLCBtZW1vcnlbMV0pID09PSBmYWxzZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuc3RvcE9uRmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBKdW1wIHRvIGVuZCBhbmQgZm9yZ2V0IHRoZSBkYXRhIHNvIC5hZGQgZG9lc24ndCByZS1maXJlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyaW5nSW5kZXggPSBsaXN0Lmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZW1vcnkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBGb3JnZXQgdGhlIGRhdGEgaWYgd2UncmUgZG9uZSB3aXRoIGl0XG4gICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zLm1lbW9yeSkge1xuICAgICAgICAgICAgICAgICAgICBtZW1vcnkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmlyaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgLy8gQ2xlYW4gdXAgaWYgd2UncmUgZG9uZSBmaXJpbmcgZm9yIGdvb2RcbiAgICAgICAgICAgICAgICBpZiAobG9ja2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEtlZXAgYW4gZW1wdHkgbGlzdCBpZiB3ZSBoYXZlIGRhdGEgZm9yIGZ1dHVyZSBhZGQgY2FsbHNcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lbW9yeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdCA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCB0aGlzIG9iamVjdCBpcyBzcGVudFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBcbiAgICAgICAgICAgIC8vIEFjdHVhbCBDYWxsYmFja3Mgb2JqZWN0XG4gICAgICAgICAgICBzZWxmID0ge1xuICAgICAgICAgICAgICAgIC8vIEFkZCBhIGNhbGxiYWNrIG9yIGEgY29sbGVjdGlvbiBvZiBjYWxsYmFja3MgdG8gdGhlIGxpc3RcbiAgICAgICAgICAgICAgICBhZGQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHdlIGhhdmUgbWVtb3J5IGZyb20gYSBwYXN0IHJ1biwgd2Ugc2hvdWxkIGZpcmUgYWZ0ZXIgYWRkaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVtb3J5ICYmICFmaXJpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJpbmdJbmRleCA9IGxpc3QubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKG1lbW9yeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAoZnVuY3Rpb24gYWRkKGFyZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuZWFjaChhcmdzLCBmdW5jdGlvbiAoXywgYXJnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGFyZykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucy51bmlxdWUgfHwgIXNlbGYuaGFzKGFyZykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0LnB1c2goYXJnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChhcmcgJiYgYXJnLmxlbmd0aCAmJiB0b1R5cGUoYXJnKSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW5zcGVjdCByZWN1cnNpdmVseVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkKGFyZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVtb3J5ICYmICFmaXJpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgYSBjYWxsYmFjayBmcm9tIHRoZSBsaXN0XG4gICAgICAgICAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeS5lYWNoKGFyZ3VtZW50cywgZnVuY3Rpb24gKF8sIGFyZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKChpbmRleCA9IGpRdWVyeS5pbkFycmF5KGFyZywgbGlzdCwgaW5kZXgpKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBmaXJpbmcgaW5kZXhlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA8PSBmaXJpbmdJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJpbmdJbmRleC0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgYSBnaXZlbiBjYWxsYmFjayBpcyBpbiB0aGUgbGlzdC5cbiAgICAgICAgICAgICAgICAvLyBJZiBubyBhcmd1bWVudCBpcyBnaXZlbiwgcmV0dXJuIHdoZXRoZXIgb3Igbm90IGxpc3QgaGFzIGNhbGxiYWNrcyBhdHRhY2hlZC5cbiAgICAgICAgICAgICAgICBoYXM6IGZ1bmN0aW9uIChmbikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm4gP1xuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmluQXJyYXkoZm4sIGxpc3QpID4gLTEgOlxuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdC5sZW5ndGggPiAwO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGFsbCBjYWxsYmFja3MgZnJvbSB0aGUgbGlzdFxuICAgICAgICAgICAgICAgIGVtcHR5OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsaXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0ID0gW107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvLyBEaXNhYmxlIC5maXJlIGFuZCAuYWRkXG4gICAgICAgICAgICAgICAgLy8gQWJvcnQgYW55IGN1cnJlbnQvcGVuZGluZyBleGVjdXRpb25zXG4gICAgICAgICAgICAgICAgLy8gQ2xlYXIgYWxsIGNhbGxiYWNrcyBhbmQgdmFsdWVzXG4gICAgICAgICAgICAgICAgZGlzYWJsZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBsb2NrZWQgPSBxdWV1ZSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBsaXN0ID0gbWVtb3J5ID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBkaXNhYmxlZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gIWxpc3Q7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvLyBEaXNhYmxlIC5maXJlXG4gICAgICAgICAgICAgICAgLy8gQWxzbyBkaXNhYmxlIC5hZGQgdW5sZXNzIHdlIGhhdmUgbWVtb3J5IChzaW5jZSBpdCB3b3VsZCBoYXZlIG5vIGVmZmVjdClcbiAgICAgICAgICAgICAgICAvLyBBYm9ydCBhbnkgcGVuZGluZyBleGVjdXRpb25zXG4gICAgICAgICAgICAgICAgbG9jazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBsb2NrZWQgPSBxdWV1ZSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW1lbW9yeSAmJiAhZmlyaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0ID0gbWVtb3J5ID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGxvY2tlZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gISFsb2NrZWQ7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvLyBDYWxsIGFsbCBjYWxsYmFja3Mgd2l0aCB0aGUgZ2l2ZW4gY29udGV4dCBhbmQgYXJndW1lbnRzXG4gICAgICAgICAgICAgICAgZmlyZVdpdGg6IGZ1bmN0aW9uIChjb250ZXh0LCBhcmdzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghbG9ja2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzID0gYXJncyB8fCBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MgPSBbY29udGV4dCwgYXJncy5zbGljZSA/IGFyZ3Muc2xpY2UoKSA6IGFyZ3NdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcXVldWUucHVzaChhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZmlyaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLy8gQ2FsbCBhbGwgdGhlIGNhbGxiYWNrcyB3aXRoIHRoZSBnaXZlbiBhcmd1bWVudHNcbiAgICAgICAgICAgICAgICBmaXJlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuZmlyZVdpdGgodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvLyBUbyBrbm93IGlmIHRoZSBjYWxsYmFja3MgaGF2ZSBhbHJlYWR5IGJlZW4gY2FsbGVkIGF0IGxlYXN0IG9uY2VcbiAgICAgICAgICAgICAgICBmaXJlZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gISFmaXJlZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICAgIH07XG4gICAgICAgIGZ1bmN0aW9uIElkZW50aXR5KHYpIHtcbiAgICAgICAgICAgIHJldHVybiB2O1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIFRocm93ZXIoZXgpIHtcbiAgICAgICAgICAgIHRocm93IGV4O1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGFkb3B0VmFsdWUodmFsdWUsIHJlc29sdmUsIHJlamVjdCwgbm9WYWx1ZSkge1xuICAgICAgICAgICAgdmFyIG1ldGhvZDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIHByb21pc2UgYXNwZWN0IGZpcnN0IHRvIHByaXZpbGVnZSBzeW5jaHJvbm91cyBiZWhhdmlvclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAmJiBpc0Z1bmN0aW9uKChtZXRob2QgPSB2YWx1ZS5wcm9taXNlKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kLmNhbGwodmFsdWUpLmRvbmUocmVzb2x2ZSkuZmFpbChyZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICAvLyBPdGhlciB0aGVuYWJsZXNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgJiYgaXNGdW5jdGlvbigobWV0aG9kID0gdmFsdWUudGhlbikpKSB7XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZC5jYWxsKHZhbHVlLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICAvLyBPdGhlciBub24tdGhlbmFibGVzXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBDb250cm9sIGByZXNvbHZlYCBhcmd1bWVudHMgYnkgbGV0dGluZyBBcnJheSNzbGljZSBjYXN0IGJvb2xlYW4gYG5vVmFsdWVgIHRvIGludGVnZXI6XG4gICAgICAgICAgICAgICAgICAgIC8vICogZmFsc2U6IFsgdmFsdWUgXS5zbGljZSggMCApID0+IHJlc29sdmUoIHZhbHVlIClcbiAgICAgICAgICAgICAgICAgICAgLy8gKiB0cnVlOiBbIHZhbHVlIF0uc2xpY2UoIDEgKSA9PiByZXNvbHZlKClcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZS5hcHBseSh1bmRlZmluZWQsIFt2YWx1ZV0uc2xpY2Uobm9WYWx1ZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBGb3IgUHJvbWlzZXMvQSssIGNvbnZlcnQgZXhjZXB0aW9ucyBpbnRvIHJlamVjdGlvbnNcbiAgICAgICAgICAgICAgICAvLyBTaW5jZSBqUXVlcnkud2hlbiBkb2Vzbid0IHVud3JhcCB0aGVuYWJsZXMsIHdlIGNhbiBza2lwIHRoZSBleHRyYSBjaGVja3MgYXBwZWFyaW5nIGluXG4gICAgICAgICAgICAgICAgLy8gRGVmZXJyZWQjdGhlbiB0byBjb25kaXRpb25hbGx5IHN1cHByZXNzIHJlamVjdGlvbi5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IEFuZHJvaWQgNC4wIG9ubHlcbiAgICAgICAgICAgICAgICAvLyBTdHJpY3QgbW9kZSBmdW5jdGlvbnMgaW52b2tlZCB3aXRob3V0IC5jYWxsLy5hcHBseSBnZXQgZ2xvYmFsLW9iamVjdCBjb250ZXh0XG4gICAgICAgICAgICAgICAgcmVqZWN0LmFwcGx5KHVuZGVmaW5lZCwgW3ZhbHVlXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgalF1ZXJ5LmV4dGVuZCh7XG4gICAgICAgICAgICBEZWZlcnJlZDogZnVuY3Rpb24gKGZ1bmMpIHtcbiAgICAgICAgICAgICAgICB2YXIgdHVwbGVzID0gW1xuICAgICAgICAgICAgICAgICAgICAvLyBhY3Rpb24sIGFkZCBsaXN0ZW5lciwgY2FsbGJhY2tzLFxuICAgICAgICAgICAgICAgICAgICAvLyAuLi4gLnRoZW4gaGFuZGxlcnMsIGFyZ3VtZW50IGluZGV4LCBbZmluYWwgc3RhdGVdXG4gICAgICAgICAgICAgICAgICAgIFtcIm5vdGlmeVwiLCBcInByb2dyZXNzXCIsIGpRdWVyeS5DYWxsYmFja3MoXCJtZW1vcnlcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuQ2FsbGJhY2tzKFwibWVtb3J5XCIpLCAyXSxcbiAgICAgICAgICAgICAgICAgICAgW1wicmVzb2x2ZVwiLCBcImRvbmVcIiwgalF1ZXJ5LkNhbGxiYWNrcyhcIm9uY2UgbWVtb3J5XCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LkNhbGxiYWNrcyhcIm9uY2UgbWVtb3J5XCIpLCAwLCBcInJlc29sdmVkXCJdLFxuICAgICAgICAgICAgICAgICAgICBbXCJyZWplY3RcIiwgXCJmYWlsXCIsIGpRdWVyeS5DYWxsYmFja3MoXCJvbmNlIG1lbW9yeVwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5DYWxsYmFja3MoXCJvbmNlIG1lbW9yeVwiKSwgMSwgXCJyZWplY3RlZFwiXVxuICAgICAgICAgICAgICAgIF0sIHN0YXRlID0gXCJwZW5kaW5nXCIsIHByb21pc2UgPSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGFsd2F5czogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQuZG9uZShhcmd1bWVudHMpLmZhaWwoYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcImNhdGNoXCI6IGZ1bmN0aW9uIChmbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb21pc2UudGhlbihudWxsLCBmbik7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIC8vIEtlZXAgcGlwZSBmb3IgYmFjay1jb21wYXRcbiAgICAgICAgICAgICAgICAgICAgcGlwZTogZnVuY3Rpb24gKCAvKiBmbkRvbmUsIGZuRmFpbCwgZm5Qcm9ncmVzcyAqLykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZucyA9IGFyZ3VtZW50cztcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBqUXVlcnkuRGVmZXJyZWQoZnVuY3Rpb24gKG5ld0RlZmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmVhY2godHVwbGVzLCBmdW5jdGlvbiAoX2ksIHR1cGxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1hcCB0dXBsZXMgKHByb2dyZXNzLCBkb25lLCBmYWlsKSB0byBhcmd1bWVudHMgKGRvbmUsIGZhaWwsIHByb2dyZXNzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZm4gPSBpc0Z1bmN0aW9uKGZuc1t0dXBsZVs0XV0pICYmIGZuc1t0dXBsZVs0XV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRlZmVycmVkLnByb2dyZXNzKGZ1bmN0aW9uKCkgeyBiaW5kIHRvIG5ld0RlZmVyIG9yIG5ld0RlZmVyLm5vdGlmeSB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBkZWZlcnJlZC5kb25lKGZ1bmN0aW9uKCkgeyBiaW5kIHRvIG5ld0RlZmVyIG9yIG5ld0RlZmVyLnJlc29sdmUgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZGVmZXJyZWQuZmFpbChmdW5jdGlvbigpIHsgYmluZCB0byBuZXdEZWZlciBvciBuZXdEZWZlci5yZWplY3QgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWRbdHVwbGVbMV1dKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXR1cm5lZCA9IGZuICYmIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmV0dXJuZWQgJiYgaXNGdW5jdGlvbihyZXR1cm5lZC5wcm9taXNlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybmVkLnByb21pc2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucHJvZ3Jlc3MobmV3RGVmZXIubm90aWZ5KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZG9uZShuZXdEZWZlci5yZXNvbHZlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmFpbChuZXdEZWZlci5yZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RGVmZXJbdHVwbGVbMF0gKyBcIldpdGhcIl0odGhpcywgZm4gPyBbcmV0dXJuZWRdIDogYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm5zID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLnByb21pc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdGhlbjogZnVuY3Rpb24gKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkLCBvblByb2dyZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWF4RGVwdGggPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gcmVzb2x2ZShkZXB0aCwgZGVmZXJyZWQsIGhhbmRsZXIsIHNwZWNpYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXMsIGFyZ3MgPSBhcmd1bWVudHMsIG1pZ2h0VGhyb3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmV0dXJuZWQsIHRoZW47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy4zLjMuM1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNTlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElnbm9yZSBkb3VibGUtcmVzb2x1dGlvbiBhdHRlbXB0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlcHRoIDwgbWF4RGVwdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5lZCA9IGhhbmRsZXIuYXBwbHkodGhhdCwgYXJncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy4xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC00OFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJldHVybmVkID09PSBkZWZlcnJlZC5wcm9taXNlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiVGhlbmFibGUgc2VsZi1yZXNvbHV0aW9uXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogUHJvbWlzZXMvQSsgc2VjdGlvbnMgMi4zLjMuMSwgMy41XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC01NFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNzVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJldHJpZXZlIGB0aGVuYCBvbmx5IG9uY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZW4gPSByZXR1cm5lZCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb24gMi4zLjRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC02NFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgY2hlY2sgb2JqZWN0cyBhbmQgZnVuY3Rpb25zIGZvciB0aGVuYWJpbGl0eVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0eXBlb2YgcmV0dXJuZWQgPT09IFwib2JqZWN0XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIHJldHVybmVkID09PSBcImZ1bmN0aW9uXCIpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuZWQudGhlbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBhIHJldHVybmVkIHRoZW5hYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbih0aGVuKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNwZWNpYWwgcHJvY2Vzc29ycyAobm90aWZ5KSBqdXN0IHdhaXQgZm9yIHJlc29sdXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3BlY2lhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGVuLmNhbGwocmV0dXJuZWQsIHJlc29sdmUobWF4RGVwdGgsIGRlZmVycmVkLCBJZGVudGl0eSwgc3BlY2lhbCksIHJlc29sdmUobWF4RGVwdGgsIGRlZmVycmVkLCBUaHJvd2VyLCBzcGVjaWFsKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vcm1hbCBwcm9jZXNzb3JzIChyZXNvbHZlKSBhbHNvIGhvb2sgaW50byBwcm9ncmVzc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi4uYW5kIGRpc3JlZ2FyZCBvbGRlciByZXNvbHV0aW9uIHZhbHVlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhEZXB0aCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGVuLmNhbGwocmV0dXJuZWQsIHJlc29sdmUobWF4RGVwdGgsIGRlZmVycmVkLCBJZGVudGl0eSwgc3BlY2lhbCksIHJlc29sdmUobWF4RGVwdGgsIGRlZmVycmVkLCBUaHJvd2VyLCBzcGVjaWFsKSwgcmVzb2x2ZShtYXhEZXB0aCwgZGVmZXJyZWQsIElkZW50aXR5LCBkZWZlcnJlZC5ub3RpZnlXaXRoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBhbGwgb3RoZXIgcmV0dXJuZWQgdmFsdWVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IHN1YnN0aXR1dGUgaGFuZGxlcnMgcGFzcyBvbiBjb250ZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW5kIG11bHRpcGxlIHZhbHVlcyAobm9uLXNwZWMgYmVoYXZpb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhhbmRsZXIgIT09IElkZW50aXR5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MgPSBbcmV0dXJuZWRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQcm9jZXNzIHRoZSB2YWx1ZShzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERlZmF1bHQgcHJvY2VzcyBpcyByZXNvbHZlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHNwZWNpYWwgfHwgZGVmZXJyZWQucmVzb2x2ZVdpdGgpKHRoYXQsIGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT25seSBub3JtYWwgcHJvY2Vzc29ycyAocmVzb2x2ZSkgY2F0Y2ggYW5kIHJlamVjdCBleGNlcHRpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3MgPSBzcGVjaWFsID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pZ2h0VGhyb3cgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pZ2h0VGhyb3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGpRdWVyeS5EZWZlcnJlZC5leGNlcHRpb25Ib29rKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuRGVmZXJyZWQuZXhjZXB0aW9uSG9vayhlLCBwcm9jZXNzLmVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy4zLjMuNC4xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTYxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElnbm9yZSBwb3N0LXJlc29sdXRpb24gZXhjZXB0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVwdGggKyAxID49IG1heERlcHRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IHN1YnN0aXR1dGUgaGFuZGxlcnMgcGFzcyBvbiBjb250ZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhbmQgbXVsdGlwbGUgdmFsdWVzIChub24tc3BlYyBiZWhhdmlvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYW5kbGVyICE9PSBUaHJvd2VyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhhdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzID0gW2VdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0V2l0aCh0aGF0LCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb24gMi4zLjMuMy4xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTU3XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlLXJlc29sdmUgcHJvbWlzZXMgaW1tZWRpYXRlbHkgdG8gZG9kZ2UgZmFsc2UgcmVqZWN0aW9uIGZyb21cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3Vic2VxdWVudCBlcnJvcnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlcHRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDYWxsIGFuIG9wdGlvbmFsIGhvb2sgdG8gcmVjb3JkIHRoZSBlcnJvciwgaW4gY2FzZSBvZiBleGNlcHRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNpbmNlIGl0J3Mgb3RoZXJ3aXNlIGxvc3Qgd2hlbiBleGVjdXRpb24gZ29lcyBhc3luY1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGpRdWVyeS5EZWZlcnJlZC5nZXRFcnJvckhvb2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzLmVycm9yID0galF1ZXJ5LkRlZmVycmVkLmdldEVycm9ySG9vaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBkZXByZWNhdGVkIGFsaWFzIG9mIHRoZSBhYm92ZS4gV2hpbGUgdGhlIG5hbWUgc3VnZ2VzdHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm5pbmcgdGhlIHN0YWNrLCBub3QgYW4gZXJyb3IgaW5zdGFuY2UsIGpRdWVyeSBqdXN0IHBhc3Nlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGl0IGRpcmVjdGx5IHRvIGBjb25zb2xlLndhcm5gIHNvIGJvdGggd2lsbCB3b3JrOyBhbiBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGp1c3QgYmV0dGVyIGNvb3BlcmF0ZXMgd2l0aCBzb3VyY2UgbWFwcy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGpRdWVyeS5EZWZlcnJlZC5nZXRTdGFja0hvb2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzLmVycm9yID0galF1ZXJ5LkRlZmVycmVkLmdldFN0YWNrSG9vaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQocHJvY2Vzcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGpRdWVyeS5EZWZlcnJlZChmdW5jdGlvbiAobmV3RGVmZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBwcm9ncmVzc19oYW5kbGVycy5hZGQoIC4uLiApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHVwbGVzWzBdWzNdLmFkZChyZXNvbHZlKDAsIG5ld0RlZmVyLCBpc0Z1bmN0aW9uKG9uUHJvZ3Jlc3MpID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Qcm9ncmVzcyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElkZW50aXR5LCBuZXdEZWZlci5ub3RpZnlXaXRoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZnVsZmlsbGVkX2hhbmRsZXJzLmFkZCggLi4uIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0dXBsZXNbMV1bM10uYWRkKHJlc29sdmUoMCwgbmV3RGVmZXIsIGlzRnVuY3Rpb24ob25GdWxmaWxsZWQpID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25GdWxmaWxsZWQgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJZGVudGl0eSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlamVjdGVkX2hhbmRsZXJzLmFkZCggLi4uIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0dXBsZXNbMl1bM10uYWRkKHJlc29sdmUoMCwgbmV3RGVmZXIsIGlzRnVuY3Rpb24ob25SZWplY3RlZCkgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblJlamVjdGVkIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhyb3dlcikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkucHJvbWlzZSgpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAvLyBHZXQgYSBwcm9taXNlIGZvciB0aGlzIGRlZmVycmVkXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIG9iaiBpcyBwcm92aWRlZCwgdGhlIHByb21pc2UgYXNwZWN0IGlzIGFkZGVkIHRvIHRoZSBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAgcHJvbWlzZTogZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iaiAhPSBudWxsID8galF1ZXJ5LmV4dGVuZChvYmosIHByb21pc2UpIDogcHJvbWlzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIGRlZmVycmVkID0ge307XG4gICAgICAgICAgICAgICAgLy8gQWRkIGxpc3Qtc3BlY2lmaWMgbWV0aG9kc1xuICAgICAgICAgICAgICAgIGpRdWVyeS5lYWNoKHR1cGxlcywgZnVuY3Rpb24gKGksIHR1cGxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsaXN0ID0gdHVwbGVbMl0sIHN0YXRlU3RyaW5nID0gdHVwbGVbNV07XG4gICAgICAgICAgICAgICAgICAgIC8vIHByb21pc2UucHJvZ3Jlc3MgPSBsaXN0LmFkZFxuICAgICAgICAgICAgICAgICAgICAvLyBwcm9taXNlLmRvbmUgPSBsaXN0LmFkZFxuICAgICAgICAgICAgICAgICAgICAvLyBwcm9taXNlLmZhaWwgPSBsaXN0LmFkZFxuICAgICAgICAgICAgICAgICAgICBwcm9taXNlW3R1cGxlWzFdXSA9IGxpc3QuYWRkO1xuICAgICAgICAgICAgICAgICAgICAvLyBIYW5kbGUgc3RhdGVcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlU3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0LmFkZChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3RhdGUgPSBcInJlc29sdmVkXCIgKGkuZS4sIGZ1bGZpbGxlZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzdGF0ZSA9IFwicmVqZWN0ZWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlID0gc3RhdGVTdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlamVjdGVkX2NhbGxiYWNrcy5kaXNhYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmdWxmaWxsZWRfY2FsbGJhY2tzLmRpc2FibGVcbiAgICAgICAgICAgICAgICAgICAgICAgIHR1cGxlc1szIC0gaV1bMl0uZGlzYWJsZSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZWplY3RlZF9oYW5kbGVycy5kaXNhYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmdWxmaWxsZWRfaGFuZGxlcnMuZGlzYWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgdHVwbGVzWzMgLSBpXVszXS5kaXNhYmxlLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHByb2dyZXNzX2NhbGxiYWNrcy5sb2NrXG4gICAgICAgICAgICAgICAgICAgICAgICB0dXBsZXNbMF1bMl0ubG9jaywgXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBwcm9ncmVzc19oYW5kbGVycy5sb2NrXG4gICAgICAgICAgICAgICAgICAgICAgICB0dXBsZXNbMF1bM10ubG9jayk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gcHJvZ3Jlc3NfaGFuZGxlcnMuZmlyZVxuICAgICAgICAgICAgICAgICAgICAvLyBmdWxmaWxsZWRfaGFuZGxlcnMuZmlyZVxuICAgICAgICAgICAgICAgICAgICAvLyByZWplY3RlZF9oYW5kbGVycy5maXJlXG4gICAgICAgICAgICAgICAgICAgIGxpc3QuYWRkKHR1cGxlWzNdLmZpcmUpO1xuICAgICAgICAgICAgICAgICAgICAvLyBkZWZlcnJlZC5ub3RpZnkgPSBmdW5jdGlvbigpIHsgZGVmZXJyZWQubm90aWZ5V2l0aCguLi4pIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gZGVmZXJyZWQucmVzb2x2ZSA9IGZ1bmN0aW9uKCkgeyBkZWZlcnJlZC5yZXNvbHZlV2l0aCguLi4pIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gZGVmZXJyZWQucmVqZWN0ID0gZnVuY3Rpb24oKSB7IGRlZmVycmVkLnJlamVjdFdpdGgoLi4uKSB9XG4gICAgICAgICAgICAgICAgICAgIGRlZmVycmVkW3R1cGxlWzBdXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkW3R1cGxlWzBdICsgXCJXaXRoXCJdKHRoaXMgPT09IGRlZmVycmVkID8gdW5kZWZpbmVkIDogdGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAvLyBkZWZlcnJlZC5ub3RpZnlXaXRoID0gbGlzdC5maXJlV2l0aFxuICAgICAgICAgICAgICAgICAgICAvLyBkZWZlcnJlZC5yZXNvbHZlV2l0aCA9IGxpc3QuZmlyZVdpdGhcbiAgICAgICAgICAgICAgICAgICAgLy8gZGVmZXJyZWQucmVqZWN0V2l0aCA9IGxpc3QuZmlyZVdpdGhcbiAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWRbdHVwbGVbMF0gKyBcIldpdGhcIl0gPSBsaXN0LmZpcmVXaXRoO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIE1ha2UgdGhlIGRlZmVycmVkIGEgcHJvbWlzZVxuICAgICAgICAgICAgICAgIHByb21pc2UucHJvbWlzZShkZWZlcnJlZCk7XG4gICAgICAgICAgICAgICAgLy8gQ2FsbCBnaXZlbiBmdW5jIGlmIGFueVxuICAgICAgICAgICAgICAgIGlmIChmdW5jKSB7XG4gICAgICAgICAgICAgICAgICAgIGZ1bmMuY2FsbChkZWZlcnJlZCwgZGVmZXJyZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBBbGwgZG9uZSFcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gRGVmZXJyZWQgaGVscGVyXG4gICAgICAgICAgICB3aGVuOiBmdW5jdGlvbiAoc2luZ2xlVmFsdWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgXG4gICAgICAgICAgICAgICAgLy8gY291bnQgb2YgdW5jb21wbGV0ZWQgc3Vib3JkaW5hdGVzXG4gICAgICAgICAgICAgICAgcmVtYWluaW5nID0gYXJndW1lbnRzLmxlbmd0aCwgXG4gICAgICAgICAgICAgICAgLy8gY291bnQgb2YgdW5wcm9jZXNzZWQgYXJndW1lbnRzXG4gICAgICAgICAgICAgICAgaSA9IHJlbWFpbmluZywgXG4gICAgICAgICAgICAgICAgLy8gc3Vib3JkaW5hdGUgZnVsZmlsbG1lbnQgZGF0YVxuICAgICAgICAgICAgICAgIHJlc29sdmVDb250ZXh0cyA9IEFycmF5KGkpLCByZXNvbHZlVmFsdWVzID0gc2xpY2UuY2FsbChhcmd1bWVudHMpLCBcbiAgICAgICAgICAgICAgICAvLyB0aGUgcHJpbWFyeSBEZWZlcnJlZFxuICAgICAgICAgICAgICAgIHByaW1hcnkgPSBqUXVlcnkuRGVmZXJyZWQoKSwgXG4gICAgICAgICAgICAgICAgLy8gc3Vib3JkaW5hdGUgY2FsbGJhY2sgZmFjdG9yeVxuICAgICAgICAgICAgICAgIHVwZGF0ZUZ1bmMgPSBmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlQ29udGV4dHNbaV0gPSB0aGlzO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZVZhbHVlc1tpXSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gc2xpY2UuY2FsbChhcmd1bWVudHMpIDogdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISgtLXJlbWFpbmluZykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmltYXJ5LnJlc29sdmVXaXRoKHJlc29sdmVDb250ZXh0cywgcmVzb2x2ZVZhbHVlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAvLyBTaW5nbGUtIGFuZCBlbXB0eSBhcmd1bWVudHMgYXJlIGFkb3B0ZWQgbGlrZSBQcm9taXNlLnJlc29sdmVcbiAgICAgICAgICAgICAgICBpZiAocmVtYWluaW5nIDw9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgYWRvcHRWYWx1ZShzaW5nbGVWYWx1ZSwgcHJpbWFyeS5kb25lKHVwZGF0ZUZ1bmMoaSkpLnJlc29sdmUsIHByaW1hcnkucmVqZWN0LCAhcmVtYWluaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gVXNlIC50aGVuKCkgdG8gdW53cmFwIHNlY29uZGFyeSB0aGVuYWJsZXMgKGNmLiBnaC0zMDAwKVxuICAgICAgICAgICAgICAgICAgICBpZiAocHJpbWFyeS5zdGF0ZSgpID09PSBcInBlbmRpbmdcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNGdW5jdGlvbihyZXNvbHZlVmFsdWVzW2ldICYmIHJlc29sdmVWYWx1ZXNbaV0udGhlbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmltYXJ5LnRoZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBNdWx0aXBsZSBhcmd1bWVudHMgYXJlIGFnZ3JlZ2F0ZWQgbGlrZSBQcm9taXNlLmFsbCBhcnJheSBlbGVtZW50c1xuICAgICAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgYWRvcHRWYWx1ZShyZXNvbHZlVmFsdWVzW2ldLCB1cGRhdGVGdW5jKGkpLCBwcmltYXJ5LnJlamVjdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBwcmltYXJ5LnByb21pc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFRoZXNlIHVzdWFsbHkgaW5kaWNhdGUgYSBwcm9ncmFtbWVyIG1pc3Rha2UgZHVyaW5nIGRldmVsb3BtZW50LFxuICAgICAgICAvLyB3YXJuIGFib3V0IHRoZW0gQVNBUCByYXRoZXIgdGhhbiBzd2FsbG93aW5nIHRoZW0gYnkgZGVmYXVsdC5cbiAgICAgICAgdmFyIHJlcnJvck5hbWVzID0gL14oRXZhbHxJbnRlcm5hbHxSYW5nZXxSZWZlcmVuY2V8U3ludGF4fFR5cGV8VVJJKUVycm9yJC87XG4gICAgICAgIC8vIElmIGBqUXVlcnkuRGVmZXJyZWQuZ2V0RXJyb3JIb29rYCBpcyBkZWZpbmVkLCBgYXN5bmNFcnJvcmAgaXMgYW4gZXJyb3JcbiAgICAgICAgLy8gY2FwdHVyZWQgYmVmb3JlIHRoZSBhc3luYyBiYXJyaWVyIHRvIGdldCB0aGUgb3JpZ2luYWwgZXJyb3IgY2F1c2VcbiAgICAgICAgLy8gd2hpY2ggbWF5IG90aGVyd2lzZSBiZSBoaWRkZW4uXG4gICAgICAgIGpRdWVyeS5EZWZlcnJlZC5leGNlcHRpb25Ib29rID0gZnVuY3Rpb24gKGVycm9yLCBhc3luY0Vycm9yKSB7XG4gICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA4IC0gOSBvbmx5XG4gICAgICAgICAgICAvLyBDb25zb2xlIGV4aXN0cyB3aGVuIGRldiB0b29scyBhcmUgb3Blbiwgd2hpY2ggY2FuIGhhcHBlbiBhdCBhbnkgdGltZVxuICAgICAgICAgICAgaWYgKHdpbmRvdy5jb25zb2xlICYmIHdpbmRvdy5jb25zb2xlLndhcm4gJiYgZXJyb3IgJiYgcmVycm9yTmFtZXMudGVzdChlcnJvci5uYW1lKSkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLndhcm4oXCJqUXVlcnkuRGVmZXJyZWQgZXhjZXB0aW9uOiBcIiArIGVycm9yLm1lc3NhZ2UsIGVycm9yLnN0YWNrLCBhc3luY0Vycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgalF1ZXJ5LnJlYWR5RXhjZXB0aW9uID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gVGhlIGRlZmVycmVkIHVzZWQgb24gRE9NIHJlYWR5XG4gICAgICAgIHZhciByZWFkeUxpc3QgPSBqUXVlcnkuRGVmZXJyZWQoKTtcbiAgICAgICAgalF1ZXJ5LmZuLnJlYWR5ID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgICAgICByZWFkeUxpc3RcbiAgICAgICAgICAgICAgICAudGhlbihmbilcbiAgICAgICAgICAgICAgICAvLyBXcmFwIGpRdWVyeS5yZWFkeUV4Y2VwdGlvbiBpbiBhIGZ1bmN0aW9uIHNvIHRoYXQgdGhlIGxvb2t1cFxuICAgICAgICAgICAgICAgIC8vIGhhcHBlbnMgYXQgdGhlIHRpbWUgb2YgZXJyb3IgaGFuZGxpbmcgaW5zdGVhZCBvZiBjYWxsYmFja1xuICAgICAgICAgICAgICAgIC8vIHJlZ2lzdHJhdGlvbi5cbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgalF1ZXJ5LnJlYWR5RXhjZXB0aW9uKGVycm9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIGpRdWVyeS5leHRlbmQoe1xuICAgICAgICAgICAgLy8gSXMgdGhlIERPTSByZWFkeSB0byBiZSB1c2VkPyBTZXQgdG8gdHJ1ZSBvbmNlIGl0IG9jY3Vycy5cbiAgICAgICAgICAgIGlzUmVhZHk6IGZhbHNlLFxuICAgICAgICAgICAgLy8gQSBjb3VudGVyIHRvIHRyYWNrIGhvdyBtYW55IGl0ZW1zIHRvIHdhaXQgZm9yIGJlZm9yZVxuICAgICAgICAgICAgLy8gdGhlIHJlYWR5IGV2ZW50IGZpcmVzLiBTZWUgdHJhYy02NzgxXG4gICAgICAgICAgICByZWFkeVdhaXQ6IDEsXG4gICAgICAgICAgICAvLyBIYW5kbGUgd2hlbiB0aGUgRE9NIGlzIHJlYWR5XG4gICAgICAgICAgICByZWFkeTogZnVuY3Rpb24gKHdhaXQpIHtcbiAgICAgICAgICAgICAgICAvLyBBYm9ydCBpZiB0aGVyZSBhcmUgcGVuZGluZyBob2xkcyBvciB3ZSdyZSBhbHJlYWR5IHJlYWR5XG4gICAgICAgICAgICAgICAgaWYgKHdhaXQgPT09IHRydWUgPyAtLWpRdWVyeS5yZWFkeVdhaXQgOiBqUXVlcnkuaXNSZWFkeSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFJlbWVtYmVyIHRoYXQgdGhlIERPTSBpcyByZWFkeVxuICAgICAgICAgICAgICAgIGpRdWVyeS5pc1JlYWR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAvLyBJZiBhIG5vcm1hbCBET00gUmVhZHkgZXZlbnQgZmlyZWQsIGRlY3JlbWVudCwgYW5kIHdhaXQgaWYgbmVlZCBiZVxuICAgICAgICAgICAgICAgIGlmICh3YWl0ICE9PSB0cnVlICYmIC0talF1ZXJ5LnJlYWR5V2FpdCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBJZiB0aGVyZSBhcmUgZnVuY3Rpb25zIGJvdW5kLCB0byBleGVjdXRlXG4gICAgICAgICAgICAgICAgcmVhZHlMaXN0LnJlc29sdmVXaXRoKGRvY3VtZW50LCBbalF1ZXJ5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBqUXVlcnkucmVhZHkudGhlbiA9IHJlYWR5TGlzdC50aGVuO1xuICAgICAgICAvLyBUaGUgcmVhZHkgZXZlbnQgaGFuZGxlciBhbmQgc2VsZiBjbGVhbnVwIG1ldGhvZFxuICAgICAgICBmdW5jdGlvbiBjb21wbGV0ZWQoKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBjb21wbGV0ZWQpO1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIGNvbXBsZXRlZCk7XG4gICAgICAgICAgICBqUXVlcnkucmVhZHkoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDYXRjaCBjYXNlcyB3aGVyZSAkKGRvY3VtZW50KS5yZWFkeSgpIGlzIGNhbGxlZFxuICAgICAgICAvLyBhZnRlciB0aGUgYnJvd3NlciBldmVudCBoYXMgYWxyZWFkeSBvY2N1cnJlZC5cbiAgICAgICAgLy8gU3VwcG9ydDogSUUgPD05IC0gMTAgb25seVxuICAgICAgICAvLyBPbGRlciBJRSBzb21ldGltZXMgc2lnbmFscyBcImludGVyYWN0aXZlXCIgdG9vIHNvb25cbiAgICAgICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09IFwiY29tcGxldGVcIiB8fFxuICAgICAgICAgICAgKGRvY3VtZW50LnJlYWR5U3RhdGUgIT09IFwibG9hZGluZ1wiICYmICFkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwpKSB7XG4gICAgICAgICAgICAvLyBIYW5kbGUgaXQgYXN5bmNocm9ub3VzbHkgdG8gYWxsb3cgc2NyaXB0cyB0aGUgb3Bwb3J0dW5pdHkgdG8gZGVsYXkgcmVhZHlcbiAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGpRdWVyeS5yZWFkeSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBVc2UgdGhlIGhhbmR5IGV2ZW50IGNhbGxiYWNrXG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBjb21wbGV0ZWQpO1xuICAgICAgICAgICAgLy8gQSBmYWxsYmFjayB0byB3aW5kb3cub25sb2FkLCB0aGF0IHdpbGwgYWx3YXlzIHdvcmtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBjb21wbGV0ZWQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIE11bHRpZnVuY3Rpb25hbCBtZXRob2QgdG8gZ2V0IGFuZCBzZXQgdmFsdWVzIG9mIGEgY29sbGVjdGlvblxuICAgICAgICAvLyBUaGUgdmFsdWUvcyBjYW4gb3B0aW9uYWxseSBiZSBleGVjdXRlZCBpZiBpdCdzIGEgZnVuY3Rpb25cbiAgICAgICAgdmFyIGFjY2VzcyA9IGZ1bmN0aW9uIChlbGVtcywgZm4sIGtleSwgdmFsdWUsIGNoYWluYWJsZSwgZW1wdHlHZXQsIHJhdykge1xuICAgICAgICAgICAgdmFyIGkgPSAwLCBsZW4gPSBlbGVtcy5sZW5ndGgsIGJ1bGsgPSBrZXkgPT0gbnVsbDtcbiAgICAgICAgICAgIC8vIFNldHMgbWFueSB2YWx1ZXNcbiAgICAgICAgICAgIGlmICh0b1R5cGUoa2V5KSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgIGNoYWluYWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgZm9yIChpIGluIGtleSkge1xuICAgICAgICAgICAgICAgICAgICBhY2Nlc3MoZWxlbXMsIGZuLCBpLCBrZXlbaV0sIHRydWUsIGVtcHR5R2V0LCByYXcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBTZXRzIG9uZSB2YWx1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNoYWluYWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKCFpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICByYXcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYnVsaykge1xuICAgICAgICAgICAgICAgICAgICAvLyBCdWxrIG9wZXJhdGlvbnMgcnVuIGFnYWluc3QgdGhlIGVudGlyZSBzZXRcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJhdykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm4uY2FsbChlbGVtcywgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm4gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi4uZXhjZXB0IHdoZW4gZXhlY3V0aW5nIGZ1bmN0aW9uIHZhbHVlc1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnVsayA9IGZuO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm4gPSBmdW5jdGlvbiAoZWxlbSwgX2tleSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYnVsay5jYWxsKGpRdWVyeShlbGVtKSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZm4pIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm4oZWxlbXNbaV0sIGtleSwgcmF3ID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUuY2FsbChlbGVtc1tpXSwgaSwgZm4oZWxlbXNbaV0sIGtleSkpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaGFpbmFibGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBHZXRzXG4gICAgICAgICAgICBpZiAoYnVsaykge1xuICAgICAgICAgICAgICAgIHJldHVybiBmbi5jYWxsKGVsZW1zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBsZW4gPyBmbihlbGVtc1swXSwga2V5KSA6IGVtcHR5R2V0O1xuICAgICAgICB9O1xuICAgICAgICAvLyBNYXRjaGVzIGRhc2hlZCBzdHJpbmcgZm9yIGNhbWVsaXppbmdcbiAgICAgICAgdmFyIHJtc1ByZWZpeCA9IC9eLW1zLS8sIHJkYXNoQWxwaGEgPSAvLShbYS16XSkvZztcbiAgICAgICAgLy8gVXNlZCBieSBjYW1lbENhc2UgYXMgY2FsbGJhY2sgdG8gcmVwbGFjZSgpXG4gICAgICAgIGZ1bmN0aW9uIGZjYW1lbENhc2UoX2FsbCwgbGV0dGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gbGV0dGVyLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ29udmVydCBkYXNoZWQgdG8gY2FtZWxDYXNlOyB1c2VkIGJ5IHRoZSBjc3MgYW5kIGRhdGEgbW9kdWxlc1xuICAgICAgICAvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSwgRWRnZSAxMiAtIDE1XG4gICAgICAgIC8vIE1pY3Jvc29mdCBmb3Jnb3QgdG8gaHVtcCB0aGVpciB2ZW5kb3IgcHJlZml4ICh0cmFjLTk1NzIpXG4gICAgICAgIGZ1bmN0aW9uIGNhbWVsQ2FzZShzdHJpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiBzdHJpbmcucmVwbGFjZShybXNQcmVmaXgsIFwibXMtXCIpLnJlcGxhY2UocmRhc2hBbHBoYSwgZmNhbWVsQ2FzZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFjY2VwdERhdGEgPSBmdW5jdGlvbiAob3duZXIpIHtcbiAgICAgICAgICAgIC8vIEFjY2VwdHMgb25seTpcbiAgICAgICAgICAgIC8vICAtIE5vZGVcbiAgICAgICAgICAgIC8vICAgIC0gTm9kZS5FTEVNRU5UX05PREVcbiAgICAgICAgICAgIC8vICAgIC0gTm9kZS5ET0NVTUVOVF9OT0RFXG4gICAgICAgICAgICAvLyAgLSBPYmplY3RcbiAgICAgICAgICAgIC8vICAgIC0gQW55XG4gICAgICAgICAgICByZXR1cm4gb3duZXIubm9kZVR5cGUgPT09IDEgfHwgb3duZXIubm9kZVR5cGUgPT09IDkgfHwgISgrb3duZXIubm9kZVR5cGUpO1xuICAgICAgICB9O1xuICAgICAgICBmdW5jdGlvbiBEYXRhKCkge1xuICAgICAgICAgICAgdGhpcy5leHBhbmRvID0galF1ZXJ5LmV4cGFuZG8gKyBEYXRhLnVpZCsrO1xuICAgICAgICB9XG4gICAgICAgIERhdGEudWlkID0gMTtcbiAgICAgICAgRGF0YS5wcm90b3R5cGUgPSB7XG4gICAgICAgICAgICBjYWNoZTogZnVuY3Rpb24gKG93bmVyKSB7XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIG93bmVyIG9iamVjdCBhbHJlYWR5IGhhcyBhIGNhY2hlXG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gb3duZXJbdGhpcy5leHBhbmRvXTtcbiAgICAgICAgICAgICAgICAvLyBJZiBub3QsIGNyZWF0ZSBvbmVcbiAgICAgICAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0ge307XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIGNhbiBhY2NlcHQgZGF0YSBmb3Igbm9uLWVsZW1lbnQgbm9kZXMgaW4gbW9kZXJuIGJyb3dzZXJzLFxuICAgICAgICAgICAgICAgICAgICAvLyBidXQgd2Ugc2hvdWxkIG5vdCwgc2VlIHRyYWMtODMzNS5cbiAgICAgICAgICAgICAgICAgICAgLy8gQWx3YXlzIHJldHVybiBhbiBlbXB0eSBvYmplY3QuXG4gICAgICAgICAgICAgICAgICAgIGlmIChhY2NlcHREYXRhKG93bmVyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgaXQgaXMgYSBub2RlIHVubGlrZWx5IHRvIGJlIHN0cmluZ2lmeS1lZCBvciBsb29wZWQgb3ZlclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdXNlIHBsYWluIGFzc2lnbm1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvd25lci5ub2RlVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG93bmVyW3RoaXMuZXhwYW5kb10gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2Ugc2VjdXJlIGl0IGluIGEgbm9uLWVudW1lcmFibGUgcHJvcGVydHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25maWd1cmFibGUgbXVzdCBiZSB0cnVlIHRvIGFsbG93IHRoZSBwcm9wZXJ0eSB0byBiZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRlbGV0ZWQgd2hlbiBkYXRhIGlzIHJlbW92ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvd25lciwgdGhpcy5leHBhbmRvLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKG93bmVyLCBkYXRhLCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHZhciBwcm9wLCBjYWNoZSA9IHRoaXMuY2FjaGUob3duZXIpO1xuICAgICAgICAgICAgICAgIC8vIEhhbmRsZTogWyBvd25lciwga2V5LCB2YWx1ZSBdIGFyZ3NcbiAgICAgICAgICAgICAgICAvLyBBbHdheXMgdXNlIGNhbWVsQ2FzZSBrZXkgKGdoLTIyNTcpXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhY2hlW2NhbWVsQ2FzZShkYXRhKV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gSGFuZGxlOiBbIG93bmVyLCB7IHByb3BlcnRpZXMgfSBdIGFyZ3NcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENvcHkgdGhlIHByb3BlcnRpZXMgb25lLWJ5LW9uZSB0byB0aGUgY2FjaGUgb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgIGZvciAocHJvcCBpbiBkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWNoZVtjYW1lbENhc2UocHJvcCldID0gZGF0YVtwcm9wXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAob3duZXIsIGtleSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBrZXkgPT09IHVuZGVmaW5lZCA/XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FjaGUob3duZXIpIDpcbiAgICAgICAgICAgICAgICAgICAgLy8gQWx3YXlzIHVzZSBjYW1lbENhc2Uga2V5IChnaC0yMjU3KVxuICAgICAgICAgICAgICAgICAgICBvd25lclt0aGlzLmV4cGFuZG9dICYmIG93bmVyW3RoaXMuZXhwYW5kb11bY2FtZWxDYXNlKGtleSldO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFjY2VzczogZnVuY3Rpb24gKG93bmVyLCBrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgLy8gSW4gY2FzZXMgd2hlcmUgZWl0aGVyOlxuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gICAxLiBObyBrZXkgd2FzIHNwZWNpZmllZFxuICAgICAgICAgICAgICAgIC8vICAgMi4gQSBzdHJpbmcga2V5IHdhcyBzcGVjaWZpZWQsIGJ1dCBubyB2YWx1ZSBwcm92aWRlZFxuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gVGFrZSB0aGUgXCJyZWFkXCIgcGF0aCBhbmQgYWxsb3cgdGhlIGdldCBtZXRob2QgdG8gZGV0ZXJtaW5lXG4gICAgICAgICAgICAgICAgLy8gd2hpY2ggdmFsdWUgdG8gcmV0dXJuLCByZXNwZWN0aXZlbHkgZWl0aGVyOlxuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gICAxLiBUaGUgZW50aXJlIGNhY2hlIG9iamVjdFxuICAgICAgICAgICAgICAgIC8vICAgMi4gVGhlIGRhdGEgc3RvcmVkIGF0IHRoZSBrZXlcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIGlmIChrZXkgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgICAgICAgICAoKGtleSAmJiB0eXBlb2Yga2V5ID09PSBcInN0cmluZ1wiKSAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXQob3duZXIsIGtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFdoZW4gdGhlIGtleSBpcyBub3QgYSBzdHJpbmcsIG9yIGJvdGggYSBrZXkgYW5kIHZhbHVlXG4gICAgICAgICAgICAgICAgLy8gYXJlIHNwZWNpZmllZCwgc2V0IG9yIGV4dGVuZCAoZXhpc3Rpbmcgb2JqZWN0cykgd2l0aCBlaXRoZXI6XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyAgIDEuIEFuIG9iamVjdCBvZiBwcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgLy8gICAyLiBBIGtleSBhbmQgdmFsdWVcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0KG93bmVyLCBrZXksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAvLyBTaW5jZSB0aGUgXCJzZXRcIiBwYXRoIGNhbiBoYXZlIHR3byBwb3NzaWJsZSBlbnRyeSBwb2ludHNcbiAgICAgICAgICAgICAgICAvLyByZXR1cm4gdGhlIGV4cGVjdGVkIGRhdGEgYmFzZWQgb24gd2hpY2ggcGF0aCB3YXMgdGFrZW5bKl1cbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZCA/IHZhbHVlIDoga2V5O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlbW92ZTogZnVuY3Rpb24gKG93bmVyLCBrZXkpIHtcbiAgICAgICAgICAgICAgICB2YXIgaSwgY2FjaGUgPSBvd25lclt0aGlzLmV4cGFuZG9dO1xuICAgICAgICAgICAgICAgIGlmIChjYWNoZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQgYXJyYXkgb3Igc3BhY2Ugc2VwYXJhdGVkIHN0cmluZyBvZiBrZXlzXG4gICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIGtleSBpcyBhbiBhcnJheSBvZiBrZXlzLi4uXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBhbHdheXMgc2V0IGNhbWVsQ2FzZSBrZXlzLCBzbyByZW1vdmUgdGhhdC5cbiAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGtleS5tYXAoY2FtZWxDYXNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGNhbWVsQ2FzZShrZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgYSBrZXkgd2l0aCB0aGUgc3BhY2VzIGV4aXN0cywgdXNlIGl0LlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCBjcmVhdGUgYW4gYXJyYXkgYnkgbWF0Y2hpbmcgbm9uLXdoaXRlc3BhY2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGtleSBpbiBjYWNoZSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW2tleV0gOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChrZXkubWF0Y2gocm5vdGh0bWx3aGl0ZSkgfHwgW10pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGkgPSBrZXkubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgY2FjaGVba2V5W2ldXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdGhlIGV4cGFuZG8gaWYgdGhlcmUncyBubyBtb3JlIGRhdGFcbiAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSB1bmRlZmluZWQgfHwgalF1ZXJ5LmlzRW1wdHlPYmplY3QoY2FjaGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IENocm9tZSA8PTM1IC0gNDVcbiAgICAgICAgICAgICAgICAgICAgLy8gV2Via2l0ICYgQmxpbmsgcGVyZm9ybWFuY2Ugc3VmZmVycyB3aGVuIGRlbGV0aW5nIHByb3BlcnRpZXNcbiAgICAgICAgICAgICAgICAgICAgLy8gZnJvbSBET00gbm9kZXMsIHNvIHNldCB0byB1bmRlZmluZWQgaW5zdGVhZFxuICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0zNzg2MDcgKGJ1ZyByZXN0cmljdGVkKVxuICAgICAgICAgICAgICAgICAgICBpZiAob3duZXIubm9kZVR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG93bmVyW3RoaXMuZXhwYW5kb10gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgb3duZXJbdGhpcy5leHBhbmRvXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBoYXNEYXRhOiBmdW5jdGlvbiAob3duZXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2FjaGUgPSBvd25lclt0aGlzLmV4cGFuZG9dO1xuICAgICAgICAgICAgICAgIHJldHVybiBjYWNoZSAhPT0gdW5kZWZpbmVkICYmICFqUXVlcnkuaXNFbXB0eU9iamVjdChjYWNoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciBkYXRhUHJpdiA9IG5ldyBEYXRhKCk7XG4gICAgICAgIHZhciBkYXRhVXNlciA9IG5ldyBEYXRhKCk7XG4gICAgICAgIC8vXHRJbXBsZW1lbnRhdGlvbiBTdW1tYXJ5XG4gICAgICAgIC8vXG4gICAgICAgIC8vXHQxLiBFbmZvcmNlIEFQSSBzdXJmYWNlIGFuZCBzZW1hbnRpYyBjb21wYXRpYmlsaXR5IHdpdGggMS45LnggYnJhbmNoXG4gICAgICAgIC8vXHQyLiBJbXByb3ZlIHRoZSBtb2R1bGUncyBtYWludGFpbmFiaWxpdHkgYnkgcmVkdWNpbmcgdGhlIHN0b3JhZ2VcbiAgICAgICAgLy9cdFx0cGF0aHMgdG8gYSBzaW5nbGUgbWVjaGFuaXNtLlxuICAgICAgICAvL1x0My4gVXNlIHRoZSBzYW1lIHNpbmdsZSBtZWNoYW5pc20gdG8gc3VwcG9ydCBcInByaXZhdGVcIiBhbmQgXCJ1c2VyXCIgZGF0YS5cbiAgICAgICAgLy9cdDQuIF9OZXZlcl8gZXhwb3NlIFwicHJpdmF0ZVwiIGRhdGEgdG8gdXNlciBjb2RlIChUT0RPOiBEcm9wIF9kYXRhLCBfcmVtb3ZlRGF0YSlcbiAgICAgICAgLy9cdDUuIEF2b2lkIGV4cG9zaW5nIGltcGxlbWVudGF0aW9uIGRldGFpbHMgb24gdXNlciBvYmplY3RzIChlZy4gZXhwYW5kbyBwcm9wZXJ0aWVzKVxuICAgICAgICAvL1x0Ni4gUHJvdmlkZSBhIGNsZWFyIHBhdGggZm9yIGltcGxlbWVudGF0aW9uIHVwZ3JhZGUgdG8gV2Vha01hcCBpbiAyMDE0XG4gICAgICAgIHZhciByYnJhY2UgPSAvXig/Olxce1tcXHdcXFddKlxcfXxcXFtbXFx3XFxXXSpcXF0pJC8sIHJtdWx0aURhc2ggPSAvW0EtWl0vZztcbiAgICAgICAgZnVuY3Rpb24gZ2V0RGF0YShkYXRhKSB7XG4gICAgICAgICAgICBpZiAoZGF0YSA9PT0gXCJ0cnVlXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhID09PSBcImZhbHNlXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YSA9PT0gXCJudWxsXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE9ubHkgY29udmVydCB0byBhIG51bWJlciBpZiBpdCBkb2Vzbid0IGNoYW5nZSB0aGUgc3RyaW5nXG4gICAgICAgICAgICBpZiAoZGF0YSA9PT0gK2RhdGEgKyBcIlwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICtkYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJicmFjZS50ZXN0KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBkYXRhQXR0cihlbGVtLCBrZXksIGRhdGEpIHtcbiAgICAgICAgICAgIHZhciBuYW1lO1xuICAgICAgICAgICAgLy8gSWYgbm90aGluZyB3YXMgZm91bmQgaW50ZXJuYWxseSwgdHJ5IHRvIGZldGNoIGFueVxuICAgICAgICAgICAgLy8gZGF0YSBmcm9tIHRoZSBIVE1MNSBkYXRhLSogYXR0cmlidXRlXG4gICAgICAgICAgICBpZiAoZGF0YSA9PT0gdW5kZWZpbmVkICYmIGVsZW0ubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICBuYW1lID0gXCJkYXRhLVwiICsga2V5LnJlcGxhY2Uocm11bHRpRGFzaCwgXCItJCZcIikudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICBkYXRhID0gZWxlbS5nZXRBdHRyaWJ1dGUobmFtZSk7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gZ2V0RGF0YShkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkgeyB9XG4gICAgICAgICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBzZXQgdGhlIGRhdGEgc28gaXQgaXNuJ3QgY2hhbmdlZCBsYXRlclxuICAgICAgICAgICAgICAgICAgICBkYXRhVXNlci5zZXQoZWxlbSwga2V5LCBkYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgalF1ZXJ5LmV4dGVuZCh7XG4gICAgICAgICAgICBoYXNEYXRhOiBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhVXNlci5oYXNEYXRhKGVsZW0pIHx8IGRhdGFQcml2Lmhhc0RhdGEoZWxlbSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGF0YTogZnVuY3Rpb24gKGVsZW0sIG5hbWUsIGRhdGEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YVVzZXIuYWNjZXNzKGVsZW0sIG5hbWUsIGRhdGEpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlbW92ZURhdGE6IGZ1bmN0aW9uIChlbGVtLCBuYW1lKSB7XG4gICAgICAgICAgICAgICAgZGF0YVVzZXIucmVtb3ZlKGVsZW0sIG5hbWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIFRPRE86IE5vdyB0aGF0IGFsbCBjYWxscyB0byBfZGF0YSBhbmQgX3JlbW92ZURhdGEgaGF2ZSBiZWVuIHJlcGxhY2VkXG4gICAgICAgICAgICAvLyB3aXRoIGRpcmVjdCBjYWxscyB0byBkYXRhUHJpdiBtZXRob2RzLCB0aGVzZSBjYW4gYmUgZGVwcmVjYXRlZC5cbiAgICAgICAgICAgIF9kYXRhOiBmdW5jdGlvbiAoZWxlbSwgbmFtZSwgZGF0YSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhUHJpdi5hY2Nlc3MoZWxlbSwgbmFtZSwgZGF0YSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3JlbW92ZURhdGE6IGZ1bmN0aW9uIChlbGVtLCBuYW1lKSB7XG4gICAgICAgICAgICAgICAgZGF0YVByaXYucmVtb3ZlKGVsZW0sIG5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgalF1ZXJ5LmZuLmV4dGVuZCh7XG4gICAgICAgICAgICBkYXRhOiBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHZhciBpLCBuYW1lLCBkYXRhLCBlbGVtID0gdGhpc1swXSwgYXR0cnMgPSBlbGVtICYmIGVsZW0uYXR0cmlidXRlcztcbiAgICAgICAgICAgICAgICAvLyBHZXRzIGFsbCB2YWx1ZXNcbiAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gZGF0YVVzZXIuZ2V0KGVsZW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW0ubm9kZVR5cGUgPT09IDEgJiYgIWRhdGFQcml2LmdldChlbGVtLCBcImhhc0RhdGFBdHRyc1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBhdHRycy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSAxMSBvbmx5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBhdHRycyBlbGVtZW50cyBjYW4gYmUgbnVsbCAodHJhYy0xNDg5NClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJzW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lID0gYXR0cnNbaV0ubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuYW1lLmluZGV4T2YoXCJkYXRhLVwiKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgPSBjYW1lbENhc2UobmFtZS5zbGljZSg1KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YUF0dHIoZWxlbSwgbmFtZSwgZGF0YVtuYW1lXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVByaXYuc2V0KGVsZW0sIFwiaGFzRGF0YUF0dHJzXCIsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBTZXRzIG11bHRpcGxlIHZhbHVlc1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Yga2V5ID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVVzZXIuc2V0KHRoaXMsIGtleSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjZXNzKHRoaXMsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGNhbGxpbmcgalF1ZXJ5IG9iamVjdCAoZWxlbWVudCBtYXRjaGVzKSBpcyBub3QgZW1wdHlcbiAgICAgICAgICAgICAgICAgICAgLy8gKGFuZCB0aGVyZWZvcmUgaGFzIGFuIGVsZW1lbnQgYXBwZWFycyBhdCB0aGlzWyAwIF0pIGFuZCB0aGVcbiAgICAgICAgICAgICAgICAgICAgLy8gYHZhbHVlYCBwYXJhbWV0ZXIgd2FzIG5vdCB1bmRlZmluZWQuIEFuIGVtcHR5IGpRdWVyeSBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAgLy8gd2lsbCByZXN1bHQgaW4gYHVuZGVmaW5lZGAgZm9yIGVsZW0gPSB0aGlzWyAwIF0gd2hpY2ggd2lsbFxuICAgICAgICAgICAgICAgICAgICAvLyB0aHJvdyBhbiBleGNlcHRpb24gaWYgYW4gYXR0ZW1wdCB0byByZWFkIGEgZGF0YSBjYWNoZSBpcyBtYWRlLlxuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbSAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBdHRlbXB0IHRvIGdldCBkYXRhIGZyb20gdGhlIGNhY2hlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUga2V5IHdpbGwgYWx3YXlzIGJlIGNhbWVsQ2FzZWQgaW4gRGF0YVxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IGRhdGFVc2VyLmdldChlbGVtLCBrZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXR0ZW1wdCB0byBcImRpc2NvdmVyXCIgdGhlIGRhdGEgaW5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhUTUw1IGN1c3RvbSBkYXRhLSogYXR0cnNcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBkYXRhQXR0cihlbGVtLCBrZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgdHJpZWQgcmVhbGx5IGhhcmQsIGJ1dCB0aGUgZGF0YSBkb2Vzbid0IGV4aXN0LlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgZGF0YS4uLlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgYWx3YXlzIHN0b3JlIHRoZSBjYW1lbENhc2VkIGtleVxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVVzZXIuc2V0KHRoaXMsIGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LCBudWxsLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCA+IDEsIG51bGwsIHRydWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlbW92ZURhdGE6IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YVVzZXIucmVtb3ZlKHRoaXMsIGtleSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBqUXVlcnkuZXh0ZW5kKHtcbiAgICAgICAgICAgIHF1ZXVlOiBmdW5jdGlvbiAoZWxlbSwgdHlwZSwgZGF0YSkge1xuICAgICAgICAgICAgICAgIHZhciBxdWV1ZTtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICB0eXBlID0gKHR5cGUgfHwgXCJmeFwiKSArIFwicXVldWVcIjtcbiAgICAgICAgICAgICAgICAgICAgcXVldWUgPSBkYXRhUHJpdi5nZXQoZWxlbSwgdHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNwZWVkIHVwIGRlcXVldWUgYnkgZ2V0dGluZyBvdXQgcXVpY2tseSBpZiB0aGlzIGlzIGp1c3QgYSBsb29rdXBcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcXVldWUgfHwgQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXVlID0gZGF0YVByaXYuYWNjZXNzKGVsZW0sIHR5cGUsIGpRdWVyeS5tYWtlQXJyYXkoZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVldWUucHVzaChkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcXVldWUgfHwgW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlcXVldWU6IGZ1bmN0aW9uIChlbGVtLCB0eXBlKSB7XG4gICAgICAgICAgICAgICAgdHlwZSA9IHR5cGUgfHwgXCJmeFwiO1xuICAgICAgICAgICAgICAgIHZhciBxdWV1ZSA9IGpRdWVyeS5xdWV1ZShlbGVtLCB0eXBlKSwgc3RhcnRMZW5ndGggPSBxdWV1ZS5sZW5ndGgsIGZuID0gcXVldWUuc2hpZnQoKSwgaG9va3MgPSBqUXVlcnkuX3F1ZXVlSG9va3MoZWxlbSwgdHlwZSksIG5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeS5kZXF1ZXVlKGVsZW0sIHR5cGUpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIGZ4IHF1ZXVlIGlzIGRlcXVldWVkLCBhbHdheXMgcmVtb3ZlIHRoZSBwcm9ncmVzcyBzZW50aW5lbFxuICAgICAgICAgICAgICAgIGlmIChmbiA9PT0gXCJpbnByb2dyZXNzXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgZm4gPSBxdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICBzdGFydExlbmd0aC0tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZm4pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQWRkIGEgcHJvZ3Jlc3Mgc2VudGluZWwgdG8gcHJldmVudCB0aGUgZnggcXVldWUgZnJvbSBiZWluZ1xuICAgICAgICAgICAgICAgICAgICAvLyBhdXRvbWF0aWNhbGx5IGRlcXVldWVkXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSBcImZ4XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXVlLnVuc2hpZnQoXCJpbnByb2dyZXNzXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIENsZWFyIHVwIHRoZSBsYXN0IHF1ZXVlIHN0b3AgZnVuY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGhvb2tzLnN0b3A7XG4gICAgICAgICAgICAgICAgICAgIGZuLmNhbGwoZWxlbSwgbmV4dCwgaG9va3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIXN0YXJ0TGVuZ3RoICYmIGhvb2tzKSB7XG4gICAgICAgICAgICAgICAgICAgIGhvb2tzLmVtcHR5LmZpcmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gTm90IHB1YmxpYyAtIGdlbmVyYXRlIGEgcXVldWVIb29rcyBvYmplY3QsIG9yIHJldHVybiB0aGUgY3VycmVudCBvbmVcbiAgICAgICAgICAgIF9xdWV1ZUhvb2tzOiBmdW5jdGlvbiAoZWxlbSwgdHlwZSkge1xuICAgICAgICAgICAgICAgIHZhciBrZXkgPSB0eXBlICsgXCJxdWV1ZUhvb2tzXCI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGFQcml2LmdldChlbGVtLCBrZXkpIHx8IGRhdGFQcml2LmFjY2VzcyhlbGVtLCBrZXksIHtcbiAgICAgICAgICAgICAgICAgICAgZW1wdHk6IGpRdWVyeS5DYWxsYmFja3MoXCJvbmNlIG1lbW9yeVwiKS5hZGQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVByaXYucmVtb3ZlKGVsZW0sIFt0eXBlICsgXCJxdWV1ZVwiLCBrZXldKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGpRdWVyeS5mbi5leHRlbmQoe1xuICAgICAgICAgICAgcXVldWU6IGZ1bmN0aW9uICh0eXBlLCBkYXRhKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNldHRlciA9IDI7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0eXBlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSB0eXBlO1xuICAgICAgICAgICAgICAgICAgICB0eXBlID0gXCJmeFwiO1xuICAgICAgICAgICAgICAgICAgICBzZXR0ZXItLTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCBzZXR0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGpRdWVyeS5xdWV1ZSh0aGlzWzBdLCB0eXBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEgPT09IHVuZGVmaW5lZCA/XG4gICAgICAgICAgICAgICAgICAgIHRoaXMgOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHF1ZXVlID0galF1ZXJ5LnF1ZXVlKHRoaXMsIHR5cGUsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRW5zdXJlIGEgaG9va3MgZm9yIHRoaXMgcXVldWVcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5fcXVldWVIb29rcyh0aGlzLCB0eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSBcImZ4XCIgJiYgcXVldWVbMF0gIT09IFwiaW5wcm9ncmVzc1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmRlcXVldWUodGhpcywgdHlwZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlcXVldWU6IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeS5kZXF1ZXVlKHRoaXMsIHR5cGUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNsZWFyUXVldWU6IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucXVldWUodHlwZSB8fCBcImZ4XCIsIFtdKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBHZXQgYSBwcm9taXNlIHJlc29sdmVkIHdoZW4gcXVldWVzIG9mIGEgY2VydGFpbiB0eXBlXG4gICAgICAgICAgICAvLyBhcmUgZW1wdGllZCAoZnggaXMgdGhlIHR5cGUgYnkgZGVmYXVsdClcbiAgICAgICAgICAgIHByb21pc2U6IGZ1bmN0aW9uICh0eXBlLCBvYmopIHtcbiAgICAgICAgICAgICAgICB2YXIgdG1wLCBjb3VudCA9IDEsIGRlZmVyID0galF1ZXJ5LkRlZmVycmVkKCksIGVsZW1lbnRzID0gdGhpcywgaSA9IHRoaXMubGVuZ3RoLCByZXNvbHZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoISgtLWNvdW50KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXIucmVzb2x2ZVdpdGgoZWxlbWVudHMsIFtlbGVtZW50c10pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHR5cGUgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqID0gdHlwZTtcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHlwZSA9IHR5cGUgfHwgXCJmeFwiO1xuICAgICAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgdG1wID0gZGF0YVByaXYuZ2V0KGVsZW1lbnRzW2ldLCB0eXBlICsgXCJxdWV1ZUhvb2tzXCIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodG1wICYmIHRtcC5lbXB0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRtcC5lbXB0eS5hZGQocmVzb2x2ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBkZWZlci5wcm9taXNlKG9iaik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgcG51bSA9ICgvWystXT8oPzpcXGQqXFwufClcXGQrKD86W2VFXVsrLV0/XFxkK3wpLykuc291cmNlO1xuICAgICAgICB2YXIgcmNzc051bSA9IG5ldyBSZWdFeHAoXCJeKD86KFsrLV0pPXwpKFwiICsgcG51bSArIFwiKShbYS16JV0qKSRcIiwgXCJpXCIpO1xuICAgICAgICB2YXIgY3NzRXhwYW5kID0gW1wiVG9wXCIsIFwiUmlnaHRcIiwgXCJCb3R0b21cIiwgXCJMZWZ0XCJdO1xuICAgICAgICB2YXIgZG9jdW1lbnRFbGVtZW50ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICB2YXIgaXNBdHRhY2hlZCA9IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICByZXR1cm4galF1ZXJ5LmNvbnRhaW5zKGVsZW0ub3duZXJEb2N1bWVudCwgZWxlbSk7XG4gICAgICAgIH0sIGNvbXBvc2VkID0geyBjb21wb3NlZDogdHJ1ZSB9O1xuICAgICAgICAvLyBTdXBwb3J0OiBJRSA5IC0gMTErLCBFZGdlIDEyIC0gMTgrLCBpT1MgMTAuMCAtIDEwLjIgb25seVxuICAgICAgICAvLyBDaGVjayBhdHRhY2htZW50IGFjcm9zcyBzaGFkb3cgRE9NIGJvdW5kYXJpZXMgd2hlbiBwb3NzaWJsZSAoZ2gtMzUwNClcbiAgICAgICAgLy8gU3VwcG9ydDogaU9TIDEwLjAtMTAuMiBvbmx5XG4gICAgICAgIC8vIEVhcmx5IGlPUyAxMCB2ZXJzaW9ucyBzdXBwb3J0IGBhdHRhY2hTaGFkb3dgIGJ1dCBub3QgYGdldFJvb3ROb2RlYCxcbiAgICAgICAgLy8gbGVhZGluZyB0byBlcnJvcnMuIFdlIG5lZWQgdG8gY2hlY2sgZm9yIGBnZXRSb290Tm9kZWAuXG4gICAgICAgIGlmIChkb2N1bWVudEVsZW1lbnQuZ2V0Um9vdE5vZGUpIHtcbiAgICAgICAgICAgIGlzQXR0YWNoZWQgPSBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBqUXVlcnkuY29udGFpbnMoZWxlbS5vd25lckRvY3VtZW50LCBlbGVtKSB8fFxuICAgICAgICAgICAgICAgICAgICBlbGVtLmdldFJvb3ROb2RlKGNvbXBvc2VkKSA9PT0gZWxlbS5vd25lckRvY3VtZW50O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaXNIaWRkZW5XaXRoaW5UcmVlID0gZnVuY3Rpb24gKGVsZW0sIGVsKSB7XG4gICAgICAgICAgICAvLyBpc0hpZGRlbldpdGhpblRyZWUgbWlnaHQgYmUgY2FsbGVkIGZyb20galF1ZXJ5I2ZpbHRlciBmdW5jdGlvbjtcbiAgICAgICAgICAgIC8vIGluIHRoYXQgY2FzZSwgZWxlbWVudCB3aWxsIGJlIHNlY29uZCBhcmd1bWVudFxuICAgICAgICAgICAgZWxlbSA9IGVsIHx8IGVsZW07XG4gICAgICAgICAgICAvLyBJbmxpbmUgc3R5bGUgdHJ1bXBzIGFsbFxuICAgICAgICAgICAgcmV0dXJuIGVsZW0uc3R5bGUuZGlzcGxheSA9PT0gXCJub25lXCIgfHxcbiAgICAgICAgICAgICAgICBlbGVtLnN0eWxlLmRpc3BsYXkgPT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCBjaGVjayBjb21wdXRlZCBzdHlsZVxuICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBGaXJlZm94IDw9NDMgLSA0NVxuICAgICAgICAgICAgICAgICAgICAvLyBEaXNjb25uZWN0ZWQgZWxlbWVudHMgY2FuIGhhdmUgY29tcHV0ZWQgZGlzcGxheTogbm9uZSwgc28gZmlyc3QgY29uZmlybSB0aGF0IGVsZW0gaXNcbiAgICAgICAgICAgICAgICAgICAgLy8gaW4gdGhlIGRvY3VtZW50LlxuICAgICAgICAgICAgICAgICAgICBpc0F0dGFjaGVkKGVsZW0pICYmXG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeS5jc3MoZWxlbSwgXCJkaXNwbGF5XCIpID09PSBcIm5vbmVcIjtcbiAgICAgICAgfTtcbiAgICAgICAgZnVuY3Rpb24gYWRqdXN0Q1NTKGVsZW0sIHByb3AsIHZhbHVlUGFydHMsIHR3ZWVuKSB7XG4gICAgICAgICAgICB2YXIgYWRqdXN0ZWQsIHNjYWxlLCBtYXhJdGVyYXRpb25zID0gMjAsIGN1cnJlbnRWYWx1ZSA9IHR3ZWVuID9cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0d2Vlbi5jdXIoKTtcbiAgICAgICAgICAgICAgICB9IDpcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBqUXVlcnkuY3NzKGVsZW0sIHByb3AsIFwiXCIpO1xuICAgICAgICAgICAgICAgIH0sIGluaXRpYWwgPSBjdXJyZW50VmFsdWUoKSwgdW5pdCA9IHZhbHVlUGFydHMgJiYgdmFsdWVQYXJ0c1szXSB8fCAoalF1ZXJ5LmNzc051bWJlcltwcm9wXSA/IFwiXCIgOiBcInB4XCIpLCBcbiAgICAgICAgICAgIC8vIFN0YXJ0aW5nIHZhbHVlIGNvbXB1dGF0aW9uIGlzIHJlcXVpcmVkIGZvciBwb3RlbnRpYWwgdW5pdCBtaXNtYXRjaGVzXG4gICAgICAgICAgICBpbml0aWFsSW5Vbml0ID0gZWxlbS5ub2RlVHlwZSAmJlxuICAgICAgICAgICAgICAgIChqUXVlcnkuY3NzTnVtYmVyW3Byb3BdIHx8IHVuaXQgIT09IFwicHhcIiAmJiAraW5pdGlhbCkgJiZcbiAgICAgICAgICAgICAgICByY3NzTnVtLmV4ZWMoalF1ZXJ5LmNzcyhlbGVtLCBwcm9wKSk7XG4gICAgICAgICAgICBpZiAoaW5pdGlhbEluVW5pdCAmJiBpbml0aWFsSW5Vbml0WzNdICE9PSB1bml0KSB7XG4gICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogRmlyZWZveCA8PTU0XG4gICAgICAgICAgICAgICAgLy8gSGFsdmUgdGhlIGl0ZXJhdGlvbiB0YXJnZXQgdmFsdWUgdG8gcHJldmVudCBpbnRlcmZlcmVuY2UgZnJvbSBDU1MgdXBwZXIgYm91bmRzIChnaC0yMTQ0KVxuICAgICAgICAgICAgICAgIGluaXRpYWwgPSBpbml0aWFsIC8gMjtcbiAgICAgICAgICAgICAgICAvLyBUcnVzdCB1bml0cyByZXBvcnRlZCBieSBqUXVlcnkuY3NzXG4gICAgICAgICAgICAgICAgdW5pdCA9IHVuaXQgfHwgaW5pdGlhbEluVW5pdFszXTtcbiAgICAgICAgICAgICAgICAvLyBJdGVyYXRpdmVseSBhcHByb3hpbWF0ZSBmcm9tIGEgbm9uemVybyBzdGFydGluZyBwb2ludFxuICAgICAgICAgICAgICAgIGluaXRpYWxJblVuaXQgPSAraW5pdGlhbCB8fCAxO1xuICAgICAgICAgICAgICAgIHdoaWxlIChtYXhJdGVyYXRpb25zLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRXZhbHVhdGUgYW5kIHVwZGF0ZSBvdXIgYmVzdCBndWVzcyAoZG91YmxpbmcgZ3Vlc3NlcyB0aGF0IHplcm8gb3V0KS5cbiAgICAgICAgICAgICAgICAgICAgLy8gRmluaXNoIGlmIHRoZSBzY2FsZSBlcXVhbHMgb3IgY3Jvc3NlcyAxIChtYWtpbmcgdGhlIG9sZCpuZXcgcHJvZHVjdCBub24tcG9zaXRpdmUpLlxuICAgICAgICAgICAgICAgICAgICBqUXVlcnkuc3R5bGUoZWxlbSwgcHJvcCwgaW5pdGlhbEluVW5pdCArIHVuaXQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoKDEgLSBzY2FsZSkgKiAoMSAtIChzY2FsZSA9IGN1cnJlbnRWYWx1ZSgpIC8gaW5pdGlhbCB8fCAwLjUpKSA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhJdGVyYXRpb25zID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpbml0aWFsSW5Vbml0ID0gaW5pdGlhbEluVW5pdCAvIHNjYWxlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbml0aWFsSW5Vbml0ID0gaW5pdGlhbEluVW5pdCAqIDI7XG4gICAgICAgICAgICAgICAgalF1ZXJ5LnN0eWxlKGVsZW0sIHByb3AsIGluaXRpYWxJblVuaXQgKyB1bml0KTtcbiAgICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgd2UgdXBkYXRlIHRoZSB0d2VlbiBwcm9wZXJ0aWVzIGxhdGVyIG9uXG4gICAgICAgICAgICAgICAgdmFsdWVQYXJ0cyA9IHZhbHVlUGFydHMgfHwgW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmFsdWVQYXJ0cykge1xuICAgICAgICAgICAgICAgIGluaXRpYWxJblVuaXQgPSAraW5pdGlhbEluVW5pdCB8fCAraW5pdGlhbCB8fCAwO1xuICAgICAgICAgICAgICAgIC8vIEFwcGx5IHJlbGF0aXZlIG9mZnNldCAoKz0vLT0pIGlmIHNwZWNpZmllZFxuICAgICAgICAgICAgICAgIGFkanVzdGVkID0gdmFsdWVQYXJ0c1sxXSA/XG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxJblVuaXQgKyAodmFsdWVQYXJ0c1sxXSArIDEpICogdmFsdWVQYXJ0c1syXSA6XG4gICAgICAgICAgICAgICAgICAgICt2YWx1ZVBhcnRzWzJdO1xuICAgICAgICAgICAgICAgIGlmICh0d2Vlbikge1xuICAgICAgICAgICAgICAgICAgICB0d2Vlbi51bml0ID0gdW5pdDtcbiAgICAgICAgICAgICAgICAgICAgdHdlZW4uc3RhcnQgPSBpbml0aWFsSW5Vbml0O1xuICAgICAgICAgICAgICAgICAgICB0d2Vlbi5lbmQgPSBhZGp1c3RlZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYWRqdXN0ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRlZmF1bHREaXNwbGF5TWFwID0ge307XG4gICAgICAgIGZ1bmN0aW9uIGdldERlZmF1bHREaXNwbGF5KGVsZW0pIHtcbiAgICAgICAgICAgIHZhciB0ZW1wLCBkb2MgPSBlbGVtLm93bmVyRG9jdW1lbnQsIG5vZGVOYW1lID0gZWxlbS5ub2RlTmFtZSwgZGlzcGxheSA9IGRlZmF1bHREaXNwbGF5TWFwW25vZGVOYW1lXTtcbiAgICAgICAgICAgIGlmIChkaXNwbGF5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRpc3BsYXk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ZW1wID0gZG9jLmJvZHkuYXBwZW5kQ2hpbGQoZG9jLmNyZWF0ZUVsZW1lbnQobm9kZU5hbWUpKTtcbiAgICAgICAgICAgIGRpc3BsYXkgPSBqUXVlcnkuY3NzKHRlbXAsIFwiZGlzcGxheVwiKTtcbiAgICAgICAgICAgIHRlbXAucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0ZW1wKTtcbiAgICAgICAgICAgIGlmIChkaXNwbGF5ID09PSBcIm5vbmVcIikge1xuICAgICAgICAgICAgICAgIGRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0RGlzcGxheU1hcFtub2RlTmFtZV0gPSBkaXNwbGF5O1xuICAgICAgICAgICAgcmV0dXJuIGRpc3BsYXk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gc2hvd0hpZGUoZWxlbWVudHMsIHNob3cpIHtcbiAgICAgICAgICAgIHZhciBkaXNwbGF5LCBlbGVtLCB2YWx1ZXMgPSBbXSwgaW5kZXggPSAwLCBsZW5ndGggPSBlbGVtZW50cy5sZW5ndGg7XG4gICAgICAgICAgICAvLyBEZXRlcm1pbmUgbmV3IGRpc3BsYXkgdmFsdWUgZm9yIGVsZW1lbnRzIHRoYXQgbmVlZCB0byBjaGFuZ2VcbiAgICAgICAgICAgIGZvciAoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgIGVsZW0gPSBlbGVtZW50c1tpbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKCFlbGVtLnN0eWxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkaXNwbGF5ID0gZWxlbS5zdHlsZS5kaXNwbGF5O1xuICAgICAgICAgICAgICAgIGlmIChzaG93KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNpbmNlIHdlIGZvcmNlIHZpc2liaWxpdHkgdXBvbiBjYXNjYWRlLWhpZGRlbiBlbGVtZW50cywgYW4gaW1tZWRpYXRlIChhbmQgc2xvdylcbiAgICAgICAgICAgICAgICAgICAgLy8gY2hlY2sgaXMgcmVxdWlyZWQgaW4gdGhpcyBmaXJzdCBsb29wIHVubGVzcyB3ZSBoYXZlIGEgbm9uZW1wdHkgZGlzcGxheSB2YWx1ZSAoZWl0aGVyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlubGluZSBvciBhYm91dC10by1iZS1yZXN0b3JlZClcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpc3BsYXkgPT09IFwibm9uZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXNbaW5kZXhdID0gZGF0YVByaXYuZ2V0KGVsZW0sIFwiZGlzcGxheVwiKSB8fCBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF2YWx1ZXNbaW5kZXhdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbS5zdHlsZS5kaXNwbGF5ID09PSBcIlwiICYmIGlzSGlkZGVuV2l0aGluVHJlZShlbGVtKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzW2luZGV4XSA9IGdldERlZmF1bHREaXNwbGF5KGVsZW0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGlzcGxheSAhPT0gXCJub25lXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlc1tpbmRleF0gPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbWVtYmVyIHdoYXQgd2UncmUgb3ZlcndyaXRpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFQcml2LnNldChlbGVtLCBcImRpc3BsYXlcIiwgZGlzcGxheSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTZXQgdGhlIGRpc3BsYXkgb2YgdGhlIGVsZW1lbnRzIGluIGEgc2Vjb25kIGxvb3AgdG8gYXZvaWQgY29uc3RhbnQgcmVmbG93XG4gICAgICAgICAgICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWVzW2luZGV4XSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRzW2luZGV4XS5zdHlsZS5kaXNwbGF5ID0gdmFsdWVzW2luZGV4XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudHM7XG4gICAgICAgIH1cbiAgICAgICAgalF1ZXJ5LmZuLmV4dGVuZCh7XG4gICAgICAgICAgICBzaG93OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNob3dIaWRlKHRoaXMsIHRydWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGhpZGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2hvd0hpZGUodGhpcyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdG9nZ2xlOiBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGUgPyB0aGlzLnNob3coKSA6IHRoaXMuaGlkZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzSGlkZGVuV2l0aGluVHJlZSh0aGlzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KHRoaXMpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeSh0aGlzKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHZhciByY2hlY2thYmxlVHlwZSA9ICgvXig/OmNoZWNrYm94fHJhZGlvKSQvaSk7XG4gICAgICAgIHZhciBydGFnTmFtZSA9ICgvPChbYS16XVteXFwvXFwwPlxceDIwXFx0XFxyXFxuXFxmXSopL2kpO1xuICAgICAgICB2YXIgcnNjcmlwdFR5cGUgPSAoL14kfF5tb2R1bGUkfFxcLyg/OmphdmF8ZWNtYSlzY3JpcHQvaSk7XG4gICAgICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksIGRpdiA9IGZyYWdtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgICAgICAgIC8vIFN1cHBvcnQ6IEFuZHJvaWQgNC4wIC0gNC4zIG9ubHlcbiAgICAgICAgICAgIC8vIENoZWNrIHN0YXRlIGxvc3QgaWYgdGhlIG5hbWUgaXMgc2V0ICh0cmFjLTExMjE3KVxuICAgICAgICAgICAgLy8gU3VwcG9ydDogV2luZG93cyBXZWIgQXBwcyAoV1dBKVxuICAgICAgICAgICAgLy8gYG5hbWVgIGFuZCBgdHlwZWAgbXVzdCB1c2UgLnNldEF0dHJpYnV0ZSBmb3IgV1dBICh0cmFjLTE0OTAxKVxuICAgICAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInJhZGlvXCIpO1xuICAgICAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKFwiY2hlY2tlZFwiLCBcImNoZWNrZWRcIik7XG4gICAgICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsIFwidFwiKTtcbiAgICAgICAgICAgIGRpdi5hcHBlbmRDaGlsZChpbnB1dCk7XG4gICAgICAgICAgICAvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4xIG9ubHlcbiAgICAgICAgICAgIC8vIE9sZGVyIFdlYktpdCBkb2Vzbid0IGNsb25lIGNoZWNrZWQgc3RhdGUgY29ycmVjdGx5IGluIGZyYWdtZW50c1xuICAgICAgICAgICAgc3VwcG9ydC5jaGVja0Nsb25lID0gZGl2LmNsb25lTm9kZSh0cnVlKS5jbG9uZU5vZGUodHJ1ZSkubGFzdENoaWxkLmNoZWNrZWQ7XG4gICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHlcbiAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0ZXh0YXJlYSAoYW5kIGNoZWNrYm94KSBkZWZhdWx0VmFsdWUgaXMgcHJvcGVybHkgY2xvbmVkXG4gICAgICAgICAgICBkaXYuaW5uZXJIVE1MID0gXCI8dGV4dGFyZWE+eDwvdGV4dGFyZWE+XCI7XG4gICAgICAgICAgICBzdXBwb3J0Lm5vQ2xvbmVDaGVja2VkID0gISFkaXYuY2xvbmVOb2RlKHRydWUpLmxhc3RDaGlsZC5kZWZhdWx0VmFsdWU7XG4gICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuICAgICAgICAgICAgLy8gSUUgPD05IHJlcGxhY2VzIDxvcHRpb24+IHRhZ3Mgd2l0aCB0aGVpciBjb250ZW50cyB3aGVuIGluc2VydGVkIG91dHNpZGUgb2ZcbiAgICAgICAgICAgIC8vIHRoZSBzZWxlY3QgZWxlbWVudC5cbiAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgPSBcIjxvcHRpb24+PC9vcHRpb24+XCI7XG4gICAgICAgICAgICBzdXBwb3J0Lm9wdGlvbiA9ICEhZGl2Lmxhc3RDaGlsZDtcbiAgICAgICAgfSkoKTtcbiAgICAgICAgLy8gV2UgaGF2ZSB0byBjbG9zZSB0aGVzZSB0YWdzIHRvIHN1cHBvcnQgWEhUTUwgKHRyYWMtMTMyMDApXG4gICAgICAgIHZhciB3cmFwTWFwID0ge1xuICAgICAgICAgICAgLy8gWEhUTUwgcGFyc2VycyBkbyBub3QgbWFnaWNhbGx5IGluc2VydCBlbGVtZW50cyBpbiB0aGVcbiAgICAgICAgICAgIC8vIHNhbWUgd2F5IHRoYXQgdGFnIHNvdXAgcGFyc2VycyBkby4gU28gd2UgY2Fubm90IHNob3J0ZW5cbiAgICAgICAgICAgIC8vIHRoaXMgYnkgb21pdHRpbmcgPHRib2R5PiBvciBvdGhlciByZXF1aXJlZCBlbGVtZW50cy5cbiAgICAgICAgICAgIHRoZWFkOiBbMSwgXCI8dGFibGU+XCIsIFwiPC90YWJsZT5cIl0sXG4gICAgICAgICAgICBjb2w6IFsyLCBcIjx0YWJsZT48Y29sZ3JvdXA+XCIsIFwiPC9jb2xncm91cD48L3RhYmxlPlwiXSxcbiAgICAgICAgICAgIHRyOiBbMiwgXCI8dGFibGU+PHRib2R5PlwiLCBcIjwvdGJvZHk+PC90YWJsZT5cIl0sXG4gICAgICAgICAgICB0ZDogWzMsIFwiPHRhYmxlPjx0Ym9keT48dHI+XCIsIFwiPC90cj48L3Rib2R5PjwvdGFibGU+XCJdLFxuICAgICAgICAgICAgX2RlZmF1bHQ6IFswLCBcIlwiLCBcIlwiXVxuICAgICAgICB9O1xuICAgICAgICB3cmFwTWFwLnRib2R5ID0gd3JhcE1hcC50Zm9vdCA9IHdyYXBNYXAuY29sZ3JvdXAgPSB3cmFwTWFwLmNhcHRpb24gPSB3cmFwTWFwLnRoZWFkO1xuICAgICAgICB3cmFwTWFwLnRoID0gd3JhcE1hcC50ZDtcbiAgICAgICAgLy8gU3VwcG9ydDogSUUgPD05IG9ubHlcbiAgICAgICAgaWYgKCFzdXBwb3J0Lm9wdGlvbikge1xuICAgICAgICAgICAgd3JhcE1hcC5vcHRncm91cCA9IHdyYXBNYXAub3B0aW9uID0gWzEsIFwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPlwiLCBcIjwvc2VsZWN0PlwiXTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBnZXRBbGwoY29udGV4dCwgdGFnKSB7XG4gICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSBvbmx5XG4gICAgICAgICAgICAvLyBVc2UgdHlwZW9mIHRvIGF2b2lkIHplcm8tYXJndW1lbnQgbWV0aG9kIGludm9jYXRpb24gb24gaG9zdCBvYmplY3RzICh0cmFjLTE1MTUxKVxuICAgICAgICAgICAgdmFyIHJldDtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgIHJldCA9IGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUodGFnIHx8IFwiKlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICByZXQgPSBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwodGFnIHx8IFwiKlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldCA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRhZyA9PT0gdW5kZWZpbmVkIHx8IHRhZyAmJiBub2RlTmFtZShjb250ZXh0LCB0YWcpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGpRdWVyeS5tZXJnZShbY29udGV4dF0sIHJldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICB9XG4gICAgICAgIC8vIE1hcmsgc2NyaXB0cyBhcyBoYXZpbmcgYWxyZWFkeSBiZWVuIGV2YWx1YXRlZFxuICAgICAgICBmdW5jdGlvbiBzZXRHbG9iYWxFdmFsKGVsZW1zLCByZWZFbGVtZW50cykge1xuICAgICAgICAgICAgdmFyIGkgPSAwLCBsID0gZWxlbXMubGVuZ3RoO1xuICAgICAgICAgICAgZm9yICg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICBkYXRhUHJpdi5zZXQoZWxlbXNbaV0sIFwiZ2xvYmFsRXZhbFwiLCAhcmVmRWxlbWVudHMgfHwgZGF0YVByaXYuZ2V0KHJlZkVsZW1lbnRzW2ldLCBcImdsb2JhbEV2YWxcIikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciByaHRtbCA9IC88fCYjP1xcdys7LztcbiAgICAgICAgZnVuY3Rpb24gYnVpbGRGcmFnbWVudChlbGVtcywgY29udGV4dCwgc2NyaXB0cywgc2VsZWN0aW9uLCBpZ25vcmVkKSB7XG4gICAgICAgICAgICB2YXIgZWxlbSwgdG1wLCB0YWcsIHdyYXAsIGF0dGFjaGVkLCBqLCBmcmFnbWVudCA9IGNvbnRleHQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLCBub2RlcyA9IFtdLCBpID0gMCwgbCA9IGVsZW1zLmxlbmd0aDtcbiAgICAgICAgICAgIGZvciAoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZWxlbSA9IGVsZW1zW2ldO1xuICAgICAgICAgICAgICAgIGlmIChlbGVtIHx8IGVsZW0gPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQWRkIG5vZGVzIGRpcmVjdGx5XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b1R5cGUoZWxlbSkgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93cyBvbiBhbmNpZW50IFdlYktpdFxuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5Lm1lcmdlKG5vZGVzLCBlbGVtLm5vZGVUeXBlID8gW2VsZW1dIDogZWxlbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IG5vbi1odG1sIGludG8gYSB0ZXh0IG5vZGVcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICghcmh0bWwudGVzdChlbGVtKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZXMucHVzaChjb250ZXh0LmNyZWF0ZVRleHROb2RlKGVsZW0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgaHRtbCBpbnRvIERPTSBub2Rlc1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG1wID0gdG1wIHx8IGZyYWdtZW50LmFwcGVuZENoaWxkKGNvbnRleHQuY3JlYXRlRWxlbWVudChcImRpdlwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEZXNlcmlhbGl6ZSBhIHN0YW5kYXJkIHJlcHJlc2VudGF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWcgPSAocnRhZ05hbWUuZXhlYyhlbGVtKSB8fCBbXCJcIiwgXCJcIl0pWzFdLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB3cmFwID0gd3JhcE1hcFt0YWddIHx8IHdyYXBNYXAuX2RlZmF1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB0bXAuaW5uZXJIVE1MID0gd3JhcFsxXSArIGpRdWVyeS5odG1sUHJlZmlsdGVyKGVsZW0pICsgd3JhcFsyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERlc2NlbmQgdGhyb3VnaCB3cmFwcGVycyB0byB0aGUgcmlnaHQgY29udGVudFxuICAgICAgICAgICAgICAgICAgICAgICAgaiA9IHdyYXBbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoai0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wID0gdG1wLmxhc3RDaGlsZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93cyBvbiBhbmNpZW50IFdlYktpdFxuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5Lm1lcmdlKG5vZGVzLCB0bXAuY2hpbGROb2Rlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZW1lbWJlciB0aGUgdG9wLWxldmVsIGNvbnRhaW5lclxuICAgICAgICAgICAgICAgICAgICAgICAgdG1wID0gZnJhZ21lbnQuZmlyc3RDaGlsZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVuc3VyZSB0aGUgY3JlYXRlZCBub2RlcyBhcmUgb3JwaGFuZWQgKHRyYWMtMTIzOTIpXG4gICAgICAgICAgICAgICAgICAgICAgICB0bXAudGV4dENvbnRlbnQgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUmVtb3ZlIHdyYXBwZXIgZnJvbSBmcmFnbWVudFxuICAgICAgICAgICAgZnJhZ21lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xuICAgICAgICAgICAgaSA9IDA7XG4gICAgICAgICAgICB3aGlsZSAoKGVsZW0gPSBub2Rlc1tpKytdKSkge1xuICAgICAgICAgICAgICAgIC8vIFNraXAgZWxlbWVudHMgYWxyZWFkeSBpbiB0aGUgY29udGV4dCBjb2xsZWN0aW9uICh0cmFjLTQwODcpXG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdGlvbiAmJiBqUXVlcnkuaW5BcnJheShlbGVtLCBzZWxlY3Rpb24pID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlnbm9yZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlnbm9yZWQucHVzaChlbGVtKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYXR0YWNoZWQgPSBpc0F0dGFjaGVkKGVsZW0pO1xuICAgICAgICAgICAgICAgIC8vIEFwcGVuZCB0byBmcmFnbWVudFxuICAgICAgICAgICAgICAgIHRtcCA9IGdldEFsbChmcmFnbWVudC5hcHBlbmRDaGlsZChlbGVtKSwgXCJzY3JpcHRcIik7XG4gICAgICAgICAgICAgICAgLy8gUHJlc2VydmUgc2NyaXB0IGV2YWx1YXRpb24gaGlzdG9yeVxuICAgICAgICAgICAgICAgIGlmIChhdHRhY2hlZCkge1xuICAgICAgICAgICAgICAgICAgICBzZXRHbG9iYWxFdmFsKHRtcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIENhcHR1cmUgZXhlY3V0YWJsZXNcbiAgICAgICAgICAgICAgICBpZiAoc2NyaXB0cykge1xuICAgICAgICAgICAgICAgICAgICBqID0gMDtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKChlbGVtID0gdG1wW2orK10pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocnNjcmlwdFR5cGUudGVzdChlbGVtLnR5cGUgfHwgXCJcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JpcHRzLnB1c2goZWxlbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZnJhZ21lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJ0eXBlbmFtZXNwYWNlID0gL14oW14uXSopKD86XFwuKC4rKXwpLztcbiAgICAgICAgZnVuY3Rpb24gcmV0dXJuVHJ1ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHJldHVybkZhbHNlKCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIG9uKGVsZW0sIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4sIG9uZSkge1xuICAgICAgICAgICAgdmFyIG9yaWdGbiwgdHlwZTtcbiAgICAgICAgICAgIC8vIFR5cGVzIGNhbiBiZSBhIG1hcCBvZiB0eXBlcy9oYW5kbGVyc1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB0eXBlcyA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgIC8vICggdHlwZXMtT2JqZWN0LCBzZWxlY3RvciwgZGF0YSApXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzZWxlY3RvciAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICAvLyAoIHR5cGVzLU9iamVjdCwgZGF0YSApXG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSBkYXRhIHx8IHNlbGVjdG9yO1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yICh0eXBlIGluIHR5cGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uKGVsZW0sIHR5cGUsIHNlbGVjdG9yLCBkYXRhLCB0eXBlc1t0eXBlXSwgb25lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsZW07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YSA9PSBudWxsICYmIGZuID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyAoIHR5cGVzLCBmbiApXG4gICAgICAgICAgICAgICAgZm4gPSBzZWxlY3RvcjtcbiAgICAgICAgICAgICAgICBkYXRhID0gc2VsZWN0b3IgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChmbiA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzZWxlY3RvciA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICAvLyAoIHR5cGVzLCBzZWxlY3RvciwgZm4gKVxuICAgICAgICAgICAgICAgICAgICBmbiA9IGRhdGE7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyAoIHR5cGVzLCBkYXRhLCBmbiApXG4gICAgICAgICAgICAgICAgICAgIGZuID0gZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHNlbGVjdG9yO1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZm4gPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgZm4gPSByZXR1cm5GYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCFmbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbGVtO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9uZSA9PT0gMSkge1xuICAgICAgICAgICAgICAgIG9yaWdGbiA9IGZuO1xuICAgICAgICAgICAgICAgIGZuID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENhbiB1c2UgYW4gZW1wdHkgc2V0LCBzaW5jZSBldmVudCBjb250YWlucyB0aGUgaW5mb1xuICAgICAgICAgICAgICAgICAgICBqUXVlcnkoKS5vZmYoZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3JpZ0ZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAvLyBVc2Ugc2FtZSBndWlkIHNvIGNhbGxlciBjYW4gcmVtb3ZlIHVzaW5nIG9yaWdGblxuICAgICAgICAgICAgICAgIGZuLmd1aWQgPSBvcmlnRm4uZ3VpZCB8fCAob3JpZ0ZuLmd1aWQgPSBqUXVlcnkuZ3VpZCsrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBlbGVtLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGpRdWVyeS5ldmVudC5hZGQodGhpcywgdHlwZXMsIGZuLCBkYXRhLCBzZWxlY3Rvcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvKlxuICAgICAgICAqIEhlbHBlciBmdW5jdGlvbnMgZm9yIG1hbmFnaW5nIGV2ZW50cyAtLSBub3QgcGFydCBvZiB0aGUgcHVibGljIGludGVyZmFjZS5cbiAgICAgICAgKiBQcm9wcyB0byBEZWFuIEVkd2FyZHMnIGFkZEV2ZW50IGxpYnJhcnkgZm9yIG1hbnkgb2YgdGhlIGlkZWFzLlxuICAgICAgICAqL1xuICAgICAgICBqUXVlcnkuZXZlbnQgPSB7XG4gICAgICAgICAgICBnbG9iYWw6IHt9LFxuICAgICAgICAgICAgYWRkOiBmdW5jdGlvbiAoZWxlbSwgdHlwZXMsIGhhbmRsZXIsIGRhdGEsIHNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhhbmRsZU9iakluLCBldmVudEhhbmRsZSwgdG1wLCBldmVudHMsIHQsIGhhbmRsZU9iaiwgc3BlY2lhbCwgaGFuZGxlcnMsIHR5cGUsIG5hbWVzcGFjZXMsIG9yaWdUeXBlLCBlbGVtRGF0YSA9IGRhdGFQcml2LmdldChlbGVtKTtcbiAgICAgICAgICAgICAgICAvLyBPbmx5IGF0dGFjaCBldmVudHMgdG8gb2JqZWN0cyB0aGF0IGFjY2VwdCBkYXRhXG4gICAgICAgICAgICAgICAgaWYgKCFhY2NlcHREYXRhKGVsZW0pKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQ2FsbGVyIGNhbiBwYXNzIGluIGFuIG9iamVjdCBvZiBjdXN0b20gZGF0YSBpbiBsaWV1IG9mIHRoZSBoYW5kbGVyXG4gICAgICAgICAgICAgICAgaWYgKGhhbmRsZXIuaGFuZGxlcikge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVPYmpJbiA9IGhhbmRsZXI7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXIgPSBoYW5kbGVPYmpJbi5oYW5kbGVyO1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvciA9IGhhbmRsZU9iakluLnNlbGVjdG9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBFbnN1cmUgdGhhdCBpbnZhbGlkIHNlbGVjdG9ycyB0aHJvdyBleGNlcHRpb25zIGF0IGF0dGFjaCB0aW1lXG4gICAgICAgICAgICAgICAgLy8gRXZhbHVhdGUgYWdhaW5zdCBkb2N1bWVudEVsZW1lbnQgaW4gY2FzZSBlbGVtIGlzIGEgbm9uLWVsZW1lbnQgbm9kZSAoZS5nLiwgZG9jdW1lbnQpXG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeS5maW5kLm1hdGNoZXNTZWxlY3Rvcihkb2N1bWVudEVsZW1lbnQsIHNlbGVjdG9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoYXQgdGhlIGhhbmRsZXIgaGFzIGEgdW5pcXVlIElELCB1c2VkIHRvIGZpbmQvcmVtb3ZlIGl0IGxhdGVyXG4gICAgICAgICAgICAgICAgaWYgKCFoYW5kbGVyLmd1aWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlci5ndWlkID0galF1ZXJ5Lmd1aWQrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gSW5pdCB0aGUgZWxlbWVudCdzIGV2ZW50IHN0cnVjdHVyZSBhbmQgbWFpbiBoYW5kbGVyLCBpZiB0aGlzIGlzIHRoZSBmaXJzdFxuICAgICAgICAgICAgICAgIGlmICghKGV2ZW50cyA9IGVsZW1EYXRhLmV2ZW50cykpIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRzID0gZWxlbURhdGEuZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCEoZXZlbnRIYW5kbGUgPSBlbGVtRGF0YS5oYW5kbGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50SGFuZGxlID0gZWxlbURhdGEuaGFuZGxlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERpc2NhcmQgdGhlIHNlY29uZCBldmVudCBvZiBhIGpRdWVyeS5ldmVudC50cmlnZ2VyKCkgYW5kXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB3aGVuIGFuIGV2ZW50IGlzIGNhbGxlZCBhZnRlciBhIHBhZ2UgaGFzIHVubG9hZGVkXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mIGpRdWVyeSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBqUXVlcnkuZXZlbnQudHJpZ2dlcmVkICE9PSBlLnR5cGUgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5ldmVudC5kaXNwYXRjaC5hcHBseShlbGVtLCBhcmd1bWVudHMpIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBIYW5kbGUgbXVsdGlwbGUgZXZlbnRzIHNlcGFyYXRlZCBieSBhIHNwYWNlXG4gICAgICAgICAgICAgICAgdHlwZXMgPSAodHlwZXMgfHwgXCJcIikubWF0Y2gocm5vdGh0bWx3aGl0ZSkgfHwgW1wiXCJdO1xuICAgICAgICAgICAgICAgIHQgPSB0eXBlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHQtLSkge1xuICAgICAgICAgICAgICAgICAgICB0bXAgPSBydHlwZW5hbWVzcGFjZS5leGVjKHR5cGVzW3RdKSB8fCBbXTtcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9IG9yaWdUeXBlID0gdG1wWzFdO1xuICAgICAgICAgICAgICAgICAgICBuYW1lc3BhY2VzID0gKHRtcFsyXSB8fCBcIlwiKS5zcGxpdChcIi5cIikuc29ydCgpO1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGVyZSAqbXVzdCogYmUgYSB0eXBlLCBubyBhdHRhY2hpbmcgbmFtZXNwYWNlLW9ubHkgaGFuZGxlcnNcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBJZiBldmVudCBjaGFuZ2VzIGl0cyB0eXBlLCB1c2UgdGhlIHNwZWNpYWwgZXZlbnQgaGFuZGxlcnMgZm9yIHRoZSBjaGFuZ2VkIHR5cGVcbiAgICAgICAgICAgICAgICAgICAgc3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsW3R5cGVdIHx8IHt9O1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiBzZWxlY3RvciBkZWZpbmVkLCBkZXRlcm1pbmUgc3BlY2lhbCBldmVudCBhcGkgdHlwZSwgb3RoZXJ3aXNlIGdpdmVuIHR5cGVcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9IChzZWxlY3RvciA/IHNwZWNpYWwuZGVsZWdhdGVUeXBlIDogc3BlY2lhbC5iaW5kVHlwZSkgfHwgdHlwZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHNwZWNpYWwgYmFzZWQgb24gbmV3bHkgcmVzZXQgdHlwZVxuICAgICAgICAgICAgICAgICAgICBzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbdHlwZV0gfHwge307XG4gICAgICAgICAgICAgICAgICAgIC8vIGhhbmRsZU9iaiBpcyBwYXNzZWQgdG8gYWxsIGV2ZW50IGhhbmRsZXJzXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZU9iaiA9IGpRdWVyeS5leHRlbmQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdUeXBlOiBvcmlnVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVyOiBoYW5kbGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ3VpZDogaGFuZGxlci5ndWlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6IHNlbGVjdG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmVlZHNDb250ZXh0OiBzZWxlY3RvciAmJiBqUXVlcnkuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQudGVzdChzZWxlY3RvciksXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lc3BhY2U6IG5hbWVzcGFjZXMuam9pbihcIi5cIilcbiAgICAgICAgICAgICAgICAgICAgfSwgaGFuZGxlT2JqSW4pO1xuICAgICAgICAgICAgICAgICAgICAvLyBJbml0IHRoZSBldmVudCBoYW5kbGVyIHF1ZXVlIGlmIHdlJ3JlIHRoZSBmaXJzdFxuICAgICAgICAgICAgICAgICAgICBpZiAoIShoYW5kbGVycyA9IGV2ZW50c1t0eXBlXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXJzID0gZXZlbnRzW3R5cGVdID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVycy5kZWxlZ2F0ZUNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgdXNlIGFkZEV2ZW50TGlzdGVuZXIgaWYgdGhlIHNwZWNpYWwgZXZlbnRzIGhhbmRsZXIgcmV0dXJucyBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzcGVjaWFsLnNldHVwIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3BlY2lhbC5zZXR1cC5jYWxsKGVsZW0sIGRhdGEsIG5hbWVzcGFjZXMsIGV2ZW50SGFuZGxlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbS5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBldmVudEhhbmRsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzcGVjaWFsLmFkZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3BlY2lhbC5hZGQuY2FsbChlbGVtLCBoYW5kbGVPYmopO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFoYW5kbGVPYmouaGFuZGxlci5ndWlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlT2JqLmhhbmRsZXIuZ3VpZCA9IGhhbmRsZXIuZ3VpZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBBZGQgdG8gdGhlIGVsZW1lbnQncyBoYW5kbGVyIGxpc3QsIGRlbGVnYXRlcyBpbiBmcm9udFxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXJzLnNwbGljZShoYW5kbGVycy5kZWxlZ2F0ZUNvdW50KyssIDAsIGhhbmRsZU9iaik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVycy5wdXNoKGhhbmRsZU9iaik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gS2VlcCB0cmFjayBvZiB3aGljaCBldmVudHMgaGF2ZSBldmVyIGJlZW4gdXNlZCwgZm9yIGV2ZW50IG9wdGltaXphdGlvblxuICAgICAgICAgICAgICAgICAgICBqUXVlcnkuZXZlbnQuZ2xvYmFsW3R5cGVdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gRGV0YWNoIGFuIGV2ZW50IG9yIHNldCBvZiBldmVudHMgZnJvbSBhbiBlbGVtZW50XG4gICAgICAgICAgICByZW1vdmU6IGZ1bmN0aW9uIChlbGVtLCB0eXBlcywgaGFuZGxlciwgc2VsZWN0b3IsIG1hcHBlZFR5cGVzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGosIG9yaWdDb3VudCwgdG1wLCBldmVudHMsIHQsIGhhbmRsZU9iaiwgc3BlY2lhbCwgaGFuZGxlcnMsIHR5cGUsIG5hbWVzcGFjZXMsIG9yaWdUeXBlLCBlbGVtRGF0YSA9IGRhdGFQcml2Lmhhc0RhdGEoZWxlbSkgJiYgZGF0YVByaXYuZ2V0KGVsZW0pO1xuICAgICAgICAgICAgICAgIGlmICghZWxlbURhdGEgfHwgIShldmVudHMgPSBlbGVtRGF0YS5ldmVudHMpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gT25jZSBmb3IgZWFjaCB0eXBlLm5hbWVzcGFjZSBpbiB0eXBlczsgdHlwZSBtYXkgYmUgb21pdHRlZFxuICAgICAgICAgICAgICAgIHR5cGVzID0gKHR5cGVzIHx8IFwiXCIpLm1hdGNoKHJub3RodG1sd2hpdGUpIHx8IFtcIlwiXTtcbiAgICAgICAgICAgICAgICB0ID0gdHlwZXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHdoaWxlICh0LS0pIHtcbiAgICAgICAgICAgICAgICAgICAgdG1wID0gcnR5cGVuYW1lc3BhY2UuZXhlYyh0eXBlc1t0XSkgfHwgW107XG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSBvcmlnVHlwZSA9IHRtcFsxXTtcbiAgICAgICAgICAgICAgICAgICAgbmFtZXNwYWNlcyA9ICh0bXBbMl0gfHwgXCJcIikuc3BsaXQoXCIuXCIpLnNvcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gVW5iaW5kIGFsbCBldmVudHMgKG9uIHRoaXMgbmFtZXNwYWNlLCBpZiBwcm92aWRlZCkgZm9yIHRoZSBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgIGlmICghdHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh0eXBlIGluIGV2ZW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5ldmVudC5yZW1vdmUoZWxlbSwgdHlwZSArIHR5cGVzW3RdLCBoYW5kbGVyLCBzZWxlY3RvciwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbdHlwZV0gfHwge307XG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSAoc2VsZWN0b3IgPyBzcGVjaWFsLmRlbGVnYXRlVHlwZSA6IHNwZWNpYWwuYmluZFR5cGUpIHx8IHR5cGU7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXJzID0gZXZlbnRzW3R5cGVdIHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICB0bXAgPSB0bXBbMl0gJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBSZWdFeHAoXCIoXnxcXFxcLilcIiArIG5hbWVzcGFjZXMuam9pbihcIlxcXFwuKD86LipcXFxcLnwpXCIpICsgXCIoXFxcXC58JClcIik7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBtYXRjaGluZyBldmVudHNcbiAgICAgICAgICAgICAgICAgICAgb3JpZ0NvdW50ID0gaiA9IGhhbmRsZXJzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGotLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlT2JqID0gaGFuZGxlcnNbal07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKG1hcHBlZFR5cGVzIHx8IG9yaWdUeXBlID09PSBoYW5kbGVPYmoub3JpZ1R5cGUpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKCFoYW5kbGVyIHx8IGhhbmRsZXIuZ3VpZCA9PT0gaGFuZGxlT2JqLmd1aWQpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKCF0bXAgfHwgdG1wLnRlc3QoaGFuZGxlT2JqLm5hbWVzcGFjZSkpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKCFzZWxlY3RvciB8fCBzZWxlY3RvciA9PT0gaGFuZGxlT2JqLnNlbGVjdG9yIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yID09PSBcIioqXCIgJiYgaGFuZGxlT2JqLnNlbGVjdG9yKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXJzLnNwbGljZShqLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFuZGxlT2JqLnNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXJzLmRlbGVnYXRlQ291bnQtLTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNwZWNpYWwucmVtb3ZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwZWNpYWwucmVtb3ZlLmNhbGwoZWxlbSwgaGFuZGxlT2JqKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGdlbmVyaWMgZXZlbnQgaGFuZGxlciBpZiB3ZSByZW1vdmVkIHNvbWV0aGluZyBhbmQgbm8gbW9yZSBoYW5kbGVycyBleGlzdFxuICAgICAgICAgICAgICAgICAgICAvLyAoYXZvaWRzIHBvdGVudGlhbCBmb3IgZW5kbGVzcyByZWN1cnNpb24gZHVyaW5nIHJlbW92YWwgb2Ygc3BlY2lhbCBldmVudCBoYW5kbGVycylcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9yaWdDb3VudCAmJiAhaGFuZGxlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNwZWNpYWwudGVhcmRvd24gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGVjaWFsLnRlYXJkb3duLmNhbGwoZWxlbSwgbmFtZXNwYWNlcywgZWxlbURhdGEuaGFuZGxlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkucmVtb3ZlRXZlbnQoZWxlbSwgdHlwZSwgZWxlbURhdGEuaGFuZGxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBldmVudHNbdHlwZV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGRhdGEgYW5kIHRoZSBleHBhbmRvIGlmIGl0J3Mgbm8gbG9uZ2VyIHVzZWRcbiAgICAgICAgICAgICAgICBpZiAoalF1ZXJ5LmlzRW1wdHlPYmplY3QoZXZlbnRzKSkge1xuICAgICAgICAgICAgICAgICAgICBkYXRhUHJpdi5yZW1vdmUoZWxlbSwgXCJoYW5kbGUgZXZlbnRzXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkaXNwYXRjaDogZnVuY3Rpb24gKG5hdGl2ZUV2ZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIGksIGosIHJldCwgbWF0Y2hlZCwgaGFuZGxlT2JqLCBoYW5kbGVyUXVldWUsIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCksIFxuICAgICAgICAgICAgICAgIC8vIE1ha2UgYSB3cml0YWJsZSBqUXVlcnkuRXZlbnQgZnJvbSB0aGUgbmF0aXZlIGV2ZW50IG9iamVjdFxuICAgICAgICAgICAgICAgIGV2ZW50ID0galF1ZXJ5LmV2ZW50LmZpeChuYXRpdmVFdmVudCksIGhhbmRsZXJzID0gKGRhdGFQcml2LmdldCh0aGlzLCBcImV2ZW50c1wiKSB8fCBPYmplY3QuY3JlYXRlKG51bGwpKVtldmVudC50eXBlXSB8fCBbXSwgc3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsW2V2ZW50LnR5cGVdIHx8IHt9O1xuICAgICAgICAgICAgICAgIC8vIFVzZSB0aGUgZml4LWVkIGpRdWVyeS5FdmVudCByYXRoZXIgdGhhbiB0aGUgKHJlYWQtb25seSkgbmF0aXZlIGV2ZW50XG4gICAgICAgICAgICAgICAgYXJnc1swXSA9IGV2ZW50O1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZXZlbnQuZGVsZWdhdGVUYXJnZXQgPSB0aGlzO1xuICAgICAgICAgICAgICAgIC8vIENhbGwgdGhlIHByZURpc3BhdGNoIGhvb2sgZm9yIHRoZSBtYXBwZWQgdHlwZSwgYW5kIGxldCBpdCBiYWlsIGlmIGRlc2lyZWRcbiAgICAgICAgICAgICAgICBpZiAoc3BlY2lhbC5wcmVEaXNwYXRjaCAmJiBzcGVjaWFsLnByZURpc3BhdGNoLmNhbGwodGhpcywgZXZlbnQpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIERldGVybWluZSBoYW5kbGVyc1xuICAgICAgICAgICAgICAgIGhhbmRsZXJRdWV1ZSA9IGpRdWVyeS5ldmVudC5oYW5kbGVycy5jYWxsKHRoaXMsIGV2ZW50LCBoYW5kbGVycyk7XG4gICAgICAgICAgICAgICAgLy8gUnVuIGRlbGVnYXRlcyBmaXJzdDsgdGhleSBtYXkgd2FudCB0byBzdG9wIHByb3BhZ2F0aW9uIGJlbmVhdGggdXNcbiAgICAgICAgICAgICAgICBpID0gMDtcbiAgICAgICAgICAgICAgICB3aGlsZSAoKG1hdGNoZWQgPSBoYW5kbGVyUXVldWVbaSsrXSkgJiYgIWV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQuY3VycmVudFRhcmdldCA9IG1hdGNoZWQuZWxlbTtcbiAgICAgICAgICAgICAgICAgICAgaiA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICgoaGFuZGxlT2JqID0gbWF0Y2hlZC5oYW5kbGVyc1tqKytdKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgIWV2ZW50LmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBldmVudCBpcyBuYW1lc3BhY2VkLCB0aGVuIGVhY2ggaGFuZGxlciBpcyBvbmx5IGludm9rZWQgaWYgaXQgaXNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNwZWNpYWxseSB1bml2ZXJzYWwgb3IgaXRzIG5hbWVzcGFjZXMgYXJlIGEgc3VwZXJzZXQgb2YgdGhlIGV2ZW50J3MuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWV2ZW50LnJuYW1lc3BhY2UgfHwgaGFuZGxlT2JqLm5hbWVzcGFjZSA9PT0gZmFsc2UgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5ybmFtZXNwYWNlLnRlc3QoaGFuZGxlT2JqLm5hbWVzcGFjZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5oYW5kbGVPYmogPSBoYW5kbGVPYmo7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuZGF0YSA9IGhhbmRsZU9iai5kYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldCA9ICgoalF1ZXJ5LmV2ZW50LnNwZWNpYWxbaGFuZGxlT2JqLm9yaWdUeXBlXSB8fCB7fSkuaGFuZGxlIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZU9iai5oYW5kbGVyKS5hcHBseShtYXRjaGVkLmVsZW0sIGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGV2ZW50LnJlc3VsdCA9IHJldCkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQ2FsbCB0aGUgcG9zdERpc3BhdGNoIGhvb2sgZm9yIHRoZSBtYXBwZWQgdHlwZVxuICAgICAgICAgICAgICAgIGlmIChzcGVjaWFsLnBvc3REaXNwYXRjaCkge1xuICAgICAgICAgICAgICAgICAgICBzcGVjaWFsLnBvc3REaXNwYXRjaC5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGV2ZW50LnJlc3VsdDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBoYW5kbGVyczogZnVuY3Rpb24gKGV2ZW50LCBoYW5kbGVycykge1xuICAgICAgICAgICAgICAgIHZhciBpLCBoYW5kbGVPYmosIHNlbCwgbWF0Y2hlZEhhbmRsZXJzLCBtYXRjaGVkU2VsZWN0b3JzLCBoYW5kbGVyUXVldWUgPSBbXSwgZGVsZWdhdGVDb3VudCA9IGhhbmRsZXJzLmRlbGVnYXRlQ291bnQsIGN1ciA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgICAgICAgICAvLyBGaW5kIGRlbGVnYXRlIGhhbmRsZXJzXG4gICAgICAgICAgICAgICAgaWYgKGRlbGVnYXRlQ291bnQgJiZcbiAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgPD05XG4gICAgICAgICAgICAgICAgICAgIC8vIEJsYWNrLWhvbGUgU1ZHIDx1c2U+IGluc3RhbmNlIHRyZWVzICh0cmFjLTEzMTgwKVxuICAgICAgICAgICAgICAgICAgICBjdXIubm9kZVR5cGUgJiZcbiAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogRmlyZWZveCA8PTQyXG4gICAgICAgICAgICAgICAgICAgIC8vIFN1cHByZXNzIHNwZWMtdmlvbGF0aW5nIGNsaWNrcyBpbmRpY2F0aW5nIGEgbm9uLXByaW1hcnkgcG9pbnRlciBidXR0b24gKHRyYWMtMzg2MSlcbiAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0zLUV2ZW50cy8jZXZlbnQtdHlwZS1jbGlja1xuICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSAxMSBvbmx5XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uLmJ1dCBub3QgYXJyb3cga2V5IFwiY2xpY2tzXCIgb2YgcmFkaW8gaW5wdXRzLCB3aGljaCBjYW4gaGF2ZSBgYnV0dG9uYCAtMSAoZ2gtMjM0MylcbiAgICAgICAgICAgICAgICAgICAgIShldmVudC50eXBlID09PSBcImNsaWNrXCIgJiYgZXZlbnQuYnV0dG9uID49IDEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoOyBjdXIgIT09IHRoaXM7IGN1ciA9IGN1ci5wYXJlbnROb2RlIHx8IHRoaXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvbid0IGNoZWNrIG5vbi1lbGVtZW50cyAodHJhYy0xMzIwOClcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvbid0IHByb2Nlc3MgY2xpY2tzIG9uIGRpc2FibGVkIGVsZW1lbnRzICh0cmFjLTY5MTEsIHRyYWMtODE2NSwgdHJhYy0xMTM4MiwgdHJhYy0xMTc2NClcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXIubm9kZVR5cGUgPT09IDEgJiYgIShldmVudC50eXBlID09PSBcImNsaWNrXCIgJiYgY3VyLmRpc2FibGVkID09PSB0cnVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZWRIYW5kbGVycyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZWRTZWxlY3RvcnMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZGVsZWdhdGVDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZU9iaiA9IGhhbmRsZXJzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEb24ndCBjb25mbGljdCB3aXRoIE9iamVjdC5wcm90b3R5cGUgcHJvcGVydGllcyAodHJhYy0xMzIwMylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsID0gaGFuZGxlT2JqLnNlbGVjdG9yICsgXCIgXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaGVkU2VsZWN0b3JzW3NlbF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZFNlbGVjdG9yc1tzZWxdID0gaGFuZGxlT2JqLm5lZWRzQ29udGV4dCA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KHNlbCwgdGhpcykuaW5kZXgoY3VyKSA+IC0xIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuZmluZChzZWwsIHRoaXMsIG51bGwsIFtjdXJdKS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoZWRTZWxlY3RvcnNbc2VsXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZEhhbmRsZXJzLnB1c2goaGFuZGxlT2JqKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hlZEhhbmRsZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVyUXVldWUucHVzaCh7IGVsZW06IGN1ciwgaGFuZGxlcnM6IG1hdGNoZWRIYW5kbGVycyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQWRkIHRoZSByZW1haW5pbmcgKGRpcmVjdGx5LWJvdW5kKSBoYW5kbGVyc1xuICAgICAgICAgICAgICAgIGN1ciA9IHRoaXM7XG4gICAgICAgICAgICAgICAgaWYgKGRlbGVnYXRlQ291bnQgPCBoYW5kbGVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlclF1ZXVlLnB1c2goeyBlbGVtOiBjdXIsIGhhbmRsZXJzOiBoYW5kbGVycy5zbGljZShkZWxlZ2F0ZUNvdW50KSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZXJRdWV1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhZGRQcm9wOiBmdW5jdGlvbiAobmFtZSwgaG9vaykge1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShqUXVlcnkuRXZlbnQucHJvdG90eXBlLCBuYW1lLCB7XG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBpc0Z1bmN0aW9uKGhvb2spID9cbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vcmlnaW5hbEV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBob29rKHRoaXMub3JpZ2luYWxFdmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSA6XG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3JpZ2luYWxFdmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5vcmlnaW5hbEV2ZW50W25hbWVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgbmFtZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmaXg6IGZ1bmN0aW9uIChvcmlnaW5hbEV2ZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsRXZlbnRbalF1ZXJ5LmV4cGFuZG9dID9cbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudCA6XG4gICAgICAgICAgICAgICAgICAgIG5ldyBqUXVlcnkuRXZlbnQob3JpZ2luYWxFdmVudCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3BlY2lhbDoge1xuICAgICAgICAgICAgICAgIGxvYWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUHJldmVudCB0cmlnZ2VyZWQgaW1hZ2UubG9hZCBldmVudHMgZnJvbSBidWJibGluZyB0byB3aW5kb3cubG9hZFxuICAgICAgICAgICAgICAgICAgICBub0J1YmJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY2xpY2s6IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVXRpbGl6ZSBuYXRpdmUgZXZlbnQgdG8gZW5zdXJlIGNvcnJlY3Qgc3RhdGUgZm9yIGNoZWNrYWJsZSBpbnB1dHNcbiAgICAgICAgICAgICAgICAgICAgc2V0dXA6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGb3IgbXV0dWFsIGNvbXByZXNzaWJpbGl0eSB3aXRoIF9kZWZhdWx0LCByZXBsYWNlIGB0aGlzYCBhY2Nlc3Mgd2l0aCBhIGxvY2FsIHZhci5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGB8fCBkYXRhYCBpcyBkZWFkIGNvZGUgbWVhbnQgb25seSB0byBwcmVzZXJ2ZSB0aGUgdmFyaWFibGUgdGhyb3VnaCBtaW5pZmljYXRpb24uXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWwgPSB0aGlzIHx8IGRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDbGFpbSB0aGUgZmlyc3QgaGFuZGxlclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJjaGVja2FibGVUeXBlLnRlc3QoZWwudHlwZSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbC5jbGljayAmJiBub2RlTmFtZShlbCwgXCJpbnB1dFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRhdGFQcml2LnNldCggZWwsIFwiY2xpY2tcIiwgLi4uIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXZlcmFnZU5hdGl2ZShlbCwgXCJjbGlja1wiLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJldHVybiBmYWxzZSB0byBhbGxvdyBub3JtYWwgcHJvY2Vzc2luZyBpbiB0aGUgY2FsbGVyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXI6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGb3IgbXV0dWFsIGNvbXByZXNzaWJpbGl0eSB3aXRoIF9kZWZhdWx0LCByZXBsYWNlIGB0aGlzYCBhY2Nlc3Mgd2l0aCBhIGxvY2FsIHZhci5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGB8fCBkYXRhYCBpcyBkZWFkIGNvZGUgbWVhbnQgb25seSB0byBwcmVzZXJ2ZSB0aGUgdmFyaWFibGUgdGhyb3VnaCBtaW5pZmljYXRpb24uXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWwgPSB0aGlzIHx8IGRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGb3JjZSBzZXR1cCBiZWZvcmUgdHJpZ2dlcmluZyBhIGNsaWNrXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmNoZWNrYWJsZVR5cGUudGVzdChlbC50eXBlKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsLmNsaWNrICYmIG5vZGVOYW1lKGVsLCBcImlucHV0XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZXJhZ2VOYXRpdmUoZWwsIFwiY2xpY2tcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXR1cm4gbm9uLWZhbHNlIHRvIGFsbG93IG5vcm1hbCBldmVudC1wYXRoIHByb3BhZ2F0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgLy8gRm9yIGNyb3NzLWJyb3dzZXIgY29uc2lzdGVuY3ksIHN1cHByZXNzIG5hdGl2ZSAuY2xpY2soKSBvbiBsaW5rc1xuICAgICAgICAgICAgICAgICAgICAvLyBBbHNvIHByZXZlbnQgaXQgaWYgd2UncmUgY3VycmVudGx5IGluc2lkZSBhIGxldmVyYWdlZCBuYXRpdmUtZXZlbnQgc3RhY2tcbiAgICAgICAgICAgICAgICAgICAgX2RlZmF1bHQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByY2hlY2thYmxlVHlwZS50ZXN0KHRhcmdldC50eXBlKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC5jbGljayAmJiBub2RlTmFtZSh0YXJnZXQsIFwiaW5wdXRcIikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhUHJpdi5nZXQodGFyZ2V0LCBcImNsaWNrXCIpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZU5hbWUodGFyZ2V0LCBcImFcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGJlZm9yZXVubG9hZDoge1xuICAgICAgICAgICAgICAgICAgICBwb3N0RGlzcGF0Y2g6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogRmlyZWZveCAyMCtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZpcmVmb3ggZG9lc24ndCBhbGVydCBpZiB0aGUgcmV0dXJuVmFsdWUgZmllbGQgaXMgbm90IHNldC5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5yZXN1bHQgIT09IHVuZGVmaW5lZCAmJiBldmVudC5vcmlnaW5hbEV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZSA9IGV2ZW50LnJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLy8gRW5zdXJlIHRoZSBwcmVzZW5jZSBvZiBhbiBldmVudCBsaXN0ZW5lciB0aGF0IGhhbmRsZXMgbWFudWFsbHktdHJpZ2dlcmVkXG4gICAgICAgIC8vIHN5bnRoZXRpYyBldmVudHMgYnkgaW50ZXJydXB0aW5nIHByb2dyZXNzIHVudGlsIHJlaW52b2tlZCBpbiByZXNwb25zZSB0b1xuICAgICAgICAvLyAqbmF0aXZlKiBldmVudHMgdGhhdCBpdCBmaXJlcyBkaXJlY3RseSwgZW5zdXJpbmcgdGhhdCBzdGF0ZSBjaGFuZ2VzIGhhdmVcbiAgICAgICAgLy8gYWxyZWFkeSBvY2N1cnJlZCBiZWZvcmUgb3RoZXIgbGlzdGVuZXJzIGFyZSBpbnZva2VkLlxuICAgICAgICBmdW5jdGlvbiBsZXZlcmFnZU5hdGl2ZShlbCwgdHlwZSwgaXNTZXR1cCkge1xuICAgICAgICAgICAgLy8gTWlzc2luZyBgaXNTZXR1cGAgaW5kaWNhdGVzIGEgdHJpZ2dlciBjYWxsLCB3aGljaCBtdXN0IGZvcmNlIHNldHVwIHRocm91Z2ggalF1ZXJ5LmV2ZW50LmFkZFxuICAgICAgICAgICAgaWYgKCFpc1NldHVwKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGFQcml2LmdldChlbCwgdHlwZSkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBqUXVlcnkuZXZlbnQuYWRkKGVsLCB0eXBlLCByZXR1cm5UcnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUmVnaXN0ZXIgdGhlIGNvbnRyb2xsZXIgYXMgYSBzcGVjaWFsIHVuaXZlcnNhbCBoYW5kbGVyIGZvciBhbGwgZXZlbnQgbmFtZXNwYWNlc1xuICAgICAgICAgICAgZGF0YVByaXYuc2V0KGVsLCB0eXBlLCBmYWxzZSk7XG4gICAgICAgICAgICBqUXVlcnkuZXZlbnQuYWRkKGVsLCB0eXBlLCB7XG4gICAgICAgICAgICAgICAgbmFtZXNwYWNlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBoYW5kbGVyOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCwgc2F2ZWQgPSBkYXRhUHJpdi5nZXQodGhpcywgdHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICgoZXZlbnQuaXNUcmlnZ2VyICYgMSkgJiYgdGhpc1t0eXBlXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW50ZXJydXB0IHByb2Nlc3Npbmcgb2YgdGhlIG91dGVyIHN5bnRoZXRpYyAudHJpZ2dlcigpZWQgZXZlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2F2ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdG9yZSBhcmd1bWVudHMgZm9yIHVzZSB3aGVuIGhhbmRsaW5nIHRoZSBpbm5lciBuYXRpdmUgZXZlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGVyZSB3aWxsIGFsd2F5cyBiZSBhdCBsZWFzdCBvbmUgYXJndW1lbnQgKGFuIGV2ZW50IG9iamVjdCksIHNvIHRoaXMgYXJyYXlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3aWxsIG5vdCBiZSBjb25mdXNlZCB3aXRoIGEgbGVmdG92ZXIgY2FwdHVyZSBvYmplY3QuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZWQgPSBzbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVByaXYuc2V0KHRoaXMsIHR5cGUsIHNhdmVkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUcmlnZ2VyIHRoZSBuYXRpdmUgZXZlbnQgYW5kIGNhcHR1cmUgaXRzIHJlc3VsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNbdHlwZV0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBkYXRhUHJpdi5nZXQodGhpcywgdHlwZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVByaXYuc2V0KHRoaXMsIHR5cGUsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2F2ZWQgIT09IHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDYW5jZWwgdGhlIG91dGVyIHN5bnRoZXRpYyBldmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhpcyBpcyBhbiBpbm5lciBzeW50aGV0aWMgZXZlbnQgZm9yIGFuIGV2ZW50IHdpdGggYSBidWJibGluZyBzdXJyb2dhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAoZm9jdXMgb3IgYmx1ciksIGFzc3VtZSB0aGF0IHRoZSBzdXJyb2dhdGUgYWxyZWFkeSBwcm9wYWdhdGVkIGZyb20gdHJpZ2dlcmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBuYXRpdmUgZXZlbnQgYW5kIHByZXZlbnQgdGhhdCBmcm9tIGhhcHBlbmluZyBhZ2FpbiBoZXJlLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgdGVjaG5pY2FsbHkgZ2V0cyB0aGUgb3JkZXJpbmcgd3Jvbmcgdy5yLnQuIHRvIGAudHJpZ2dlcigpYCAoaW4gd2hpY2ggdGhlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYnViYmxpbmcgc3Vycm9nYXRlIHByb3BhZ2F0ZXMgKmFmdGVyKiB0aGUgbm9uLWJ1YmJsaW5nIGJhc2UpLCBidXQgdGhhdCBzZWVtc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxlc3MgYmFkIHRoYW4gZHVwbGljYXRpb24uXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICgoalF1ZXJ5LmV2ZW50LnNwZWNpYWxbdHlwZV0gfHwge30pLmRlbGVnYXRlVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhpcyBpcyBhIG5hdGl2ZSBldmVudCB0cmlnZ2VyZWQgYWJvdmUsIGV2ZXJ5dGhpbmcgaXMgbm93IGluIG9yZGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGaXJlIGFuIGlubmVyIHN5bnRoZXRpYyBldmVudCB3aXRoIHRoZSBvcmlnaW5hbCBhcmd1bWVudHNcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzYXZlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi4uYW5kIGNhcHR1cmUgdGhlIHJlc3VsdFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVByaXYuc2V0KHRoaXMsIHR5cGUsIGpRdWVyeS5ldmVudC50cmlnZ2VyKHNhdmVkWzBdLCBzYXZlZC5zbGljZSgxKSwgdGhpcykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWJvcnQgaGFuZGxpbmcgb2YgdGhlIG5hdGl2ZSBldmVudCBieSBhbGwgalF1ZXJ5IGhhbmRsZXJzIHdoaWxlIGFsbG93aW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBuYXRpdmUgaGFuZGxlcnMgb24gdGhlIHNhbWUgZWxlbWVudCB0byBydW4uIE9uIHRhcmdldCwgdGhpcyBpcyBhY2hpZXZlZFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYnkgc3RvcHBpbmcgaW1tZWRpYXRlIHByb3BhZ2F0aW9uIGp1c3Qgb24gdGhlIGpRdWVyeSBldmVudC4gSG93ZXZlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBuYXRpdmUgZXZlbnQgaXMgcmUtd3JhcHBlZCBieSBhIGpRdWVyeSBvbmUgb24gZWFjaCBsZXZlbCBvZiB0aGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHByb3BhZ2F0aW9uIHNvIHRoZSBvbmx5IHdheSB0byBzdG9wIGl0IGZvciBqUXVlcnkgaXMgdG8gc3RvcCBpdCBmb3JcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGV2ZXJ5b25lIHZpYSBuYXRpdmUgYHN0b3BQcm9wYWdhdGlvbigpYC4gVGhpcyBpcyBub3QgYSBwcm9ibGVtIGZvclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZm9jdXMvYmx1ciB3aGljaCBkb24ndCBidWJibGUsIGJ1dCBpdCBkb2VzIGFsc28gc3RvcCBjbGljayBvbiBjaGVja2JveGVzXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhbmQgcmFkaW9zLiBXZSBhY2NlcHQgdGhpcyBsaW1pdGF0aW9uLlxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudC5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9IHJldHVyblRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBqUXVlcnkucmVtb3ZlRXZlbnQgPSBmdW5jdGlvbiAoZWxlbSwgdHlwZSwgaGFuZGxlKSB7XG4gICAgICAgICAgICAvLyBUaGlzIFwiaWZcIiBpcyBuZWVkZWQgZm9yIHBsYWluIG9iamVjdHNcbiAgICAgICAgICAgIGlmIChlbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICBlbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgalF1ZXJ5LkV2ZW50ID0gZnVuY3Rpb24gKHNyYywgcHJvcHMpIHtcbiAgICAgICAgICAgIC8vIEFsbG93IGluc3RhbnRpYXRpb24gd2l0aG91dCB0aGUgJ25ldycga2V5d29yZFxuICAgICAgICAgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIGpRdWVyeS5FdmVudCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IGpRdWVyeS5FdmVudChzcmMsIHByb3BzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEV2ZW50IG9iamVjdFxuICAgICAgICAgICAgaWYgKHNyYyAmJiBzcmMudHlwZSkge1xuICAgICAgICAgICAgICAgIHRoaXMub3JpZ2luYWxFdmVudCA9IHNyYztcbiAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBzcmMudHlwZTtcbiAgICAgICAgICAgICAgICAvLyBFdmVudHMgYnViYmxpbmcgdXAgdGhlIGRvY3VtZW50IG1heSBoYXZlIGJlZW4gbWFya2VkIGFzIHByZXZlbnRlZFxuICAgICAgICAgICAgICAgIC8vIGJ5IGEgaGFuZGxlciBsb3dlciBkb3duIHRoZSB0cmVlOyByZWZsZWN0IHRoZSBjb3JyZWN0IHZhbHVlLlxuICAgICAgICAgICAgICAgIHRoaXMuaXNEZWZhdWx0UHJldmVudGVkID0gc3JjLmRlZmF1bHRQcmV2ZW50ZWQgfHxcbiAgICAgICAgICAgICAgICAgICAgc3JjLmRlZmF1bHRQcmV2ZW50ZWQgPT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogQW5kcm9pZCA8PTIuMyBvbmx5XG4gICAgICAgICAgICAgICAgICAgICAgICBzcmMucmV0dXJuVmFsdWUgPT09IGZhbHNlID9cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuVHJ1ZSA6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybkZhbHNlO1xuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSB0YXJnZXQgcHJvcGVydGllc1xuICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IFNhZmFyaSA8PTYgLSA3IG9ubHlcbiAgICAgICAgICAgICAgICAvLyBUYXJnZXQgc2hvdWxkIG5vdCBiZSBhIHRleHQgbm9kZSAodHJhYy01MDQsIHRyYWMtMTMxNDMpXG4gICAgICAgICAgICAgICAgdGhpcy50YXJnZXQgPSAoc3JjLnRhcmdldCAmJiBzcmMudGFyZ2V0Lm5vZGVUeXBlID09PSAzKSA/XG4gICAgICAgICAgICAgICAgICAgIHNyYy50YXJnZXQucGFyZW50Tm9kZSA6XG4gICAgICAgICAgICAgICAgICAgIHNyYy50YXJnZXQ7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VGFyZ2V0ID0gc3JjLmN1cnJlbnRUYXJnZXQ7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWxhdGVkVGFyZ2V0ID0gc3JjLnJlbGF0ZWRUYXJnZXQ7XG4gICAgICAgICAgICAgICAgLy8gRXZlbnQgdHlwZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy50eXBlID0gc3JjO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUHV0IGV4cGxpY2l0bHkgcHJvdmlkZWQgcHJvcGVydGllcyBvbnRvIHRoZSBldmVudCBvYmplY3RcbiAgICAgICAgICAgIGlmIChwcm9wcykge1xuICAgICAgICAgICAgICAgIGpRdWVyeS5leHRlbmQodGhpcywgcHJvcHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQ3JlYXRlIGEgdGltZXN0YW1wIGlmIGluY29taW5nIGV2ZW50IGRvZXNuJ3QgaGF2ZSBvbmVcbiAgICAgICAgICAgIHRoaXMudGltZVN0YW1wID0gc3JjICYmIHNyYy50aW1lU3RhbXAgfHwgRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIC8vIE1hcmsgaXQgYXMgZml4ZWRcbiAgICAgICAgICAgIHRoaXNbalF1ZXJ5LmV4cGFuZG9dID0gdHJ1ZTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8galF1ZXJ5LkV2ZW50IGlzIGJhc2VkIG9uIERPTTMgRXZlbnRzIGFzIHNwZWNpZmllZCBieSB0aGUgRUNNQVNjcmlwdCBMYW5ndWFnZSBCaW5kaW5nXG4gICAgICAgIC8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDAzL1dELURPTS1MZXZlbC0zLUV2ZW50cy0yMDAzMDMzMS9lY21hLXNjcmlwdC1iaW5kaW5nLmh0bWxcbiAgICAgICAgalF1ZXJ5LkV2ZW50LnByb3RvdHlwZSA9IHtcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yOiBqUXVlcnkuRXZlbnQsXG4gICAgICAgICAgICBpc0RlZmF1bHRQcmV2ZW50ZWQ6IHJldHVybkZhbHNlLFxuICAgICAgICAgICAgaXNQcm9wYWdhdGlvblN0b3BwZWQ6IHJldHVybkZhbHNlLFxuICAgICAgICAgICAgaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ6IHJldHVybkZhbHNlLFxuICAgICAgICAgICAgaXNTaW11bGF0ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgcHJldmVudERlZmF1bHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgZSA9IHRoaXMub3JpZ2luYWxFdmVudDtcbiAgICAgICAgICAgICAgICB0aGlzLmlzRGVmYXVsdFByZXZlbnRlZCA9IHJldHVyblRydWU7XG4gICAgICAgICAgICAgICAgaWYgKGUgJiYgIXRoaXMuaXNTaW11bGF0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdG9wUHJvcGFnYXRpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgZSA9IHRoaXMub3JpZ2luYWxFdmVudDtcbiAgICAgICAgICAgICAgICB0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkID0gcmV0dXJuVHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoZSAmJiAhdGhpcy5pc1NpbXVsYXRlZCkge1xuICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgZSA9IHRoaXMub3JpZ2luYWxFdmVudDtcbiAgICAgICAgICAgICAgICB0aGlzLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkID0gcmV0dXJuVHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoZSAmJiAhdGhpcy5pc1NpbXVsYXRlZCkge1xuICAgICAgICAgICAgICAgICAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvLyBJbmNsdWRlcyBhbGwgY29tbW9uIGV2ZW50IHByb3BzIGluY2x1ZGluZyBLZXlFdmVudCBhbmQgTW91c2VFdmVudCBzcGVjaWZpYyBwcm9wc1xuICAgICAgICBqUXVlcnkuZWFjaCh7XG4gICAgICAgICAgICBhbHRLZXk6IHRydWUsXG4gICAgICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNoYW5nZWRUb3VjaGVzOiB0cnVlLFxuICAgICAgICAgICAgY3RybEtleTogdHJ1ZSxcbiAgICAgICAgICAgIGRldGFpbDogdHJ1ZSxcbiAgICAgICAgICAgIGV2ZW50UGhhc2U6IHRydWUsXG4gICAgICAgICAgICBtZXRhS2V5OiB0cnVlLFxuICAgICAgICAgICAgcGFnZVg6IHRydWUsXG4gICAgICAgICAgICBwYWdlWTogdHJ1ZSxcbiAgICAgICAgICAgIHNoaWZ0S2V5OiB0cnVlLFxuICAgICAgICAgICAgdmlldzogdHJ1ZSxcbiAgICAgICAgICAgIFwiY2hhclwiOiB0cnVlLFxuICAgICAgICAgICAgY29kZTogdHJ1ZSxcbiAgICAgICAgICAgIGNoYXJDb2RlOiB0cnVlLFxuICAgICAgICAgICAga2V5OiB0cnVlLFxuICAgICAgICAgICAga2V5Q29kZTogdHJ1ZSxcbiAgICAgICAgICAgIGJ1dHRvbjogdHJ1ZSxcbiAgICAgICAgICAgIGJ1dHRvbnM6IHRydWUsXG4gICAgICAgICAgICBjbGllbnRYOiB0cnVlLFxuICAgICAgICAgICAgY2xpZW50WTogdHJ1ZSxcbiAgICAgICAgICAgIG9mZnNldFg6IHRydWUsXG4gICAgICAgICAgICBvZmZzZXRZOiB0cnVlLFxuICAgICAgICAgICAgcG9pbnRlcklkOiB0cnVlLFxuICAgICAgICAgICAgcG9pbnRlclR5cGU6IHRydWUsXG4gICAgICAgICAgICBzY3JlZW5YOiB0cnVlLFxuICAgICAgICAgICAgc2NyZWVuWTogdHJ1ZSxcbiAgICAgICAgICAgIHRhcmdldFRvdWNoZXM6IHRydWUsXG4gICAgICAgICAgICB0b0VsZW1lbnQ6IHRydWUsXG4gICAgICAgICAgICB0b3VjaGVzOiB0cnVlLFxuICAgICAgICAgICAgd2hpY2g6IHRydWVcbiAgICAgICAgfSwgalF1ZXJ5LmV2ZW50LmFkZFByb3ApO1xuICAgICAgICBqUXVlcnkuZWFjaCh7IGZvY3VzOiBcImZvY3VzaW5cIiwgYmx1cjogXCJmb2N1c291dFwiIH0sIGZ1bmN0aW9uICh0eXBlLCBkZWxlZ2F0ZVR5cGUpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGZvY3VzTWFwcGVkSGFuZGxlcihuYXRpdmVFdmVudCkge1xuICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5kb2N1bWVudE1vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgMTErXG4gICAgICAgICAgICAgICAgICAgIC8vIEF0dGFjaCBhIHNpbmdsZSBmb2N1c2luL2ZvY3Vzb3V0IGhhbmRsZXIgb24gdGhlIGRvY3VtZW50IHdoaWxlIHNvbWVvbmUgd2FudHNcbiAgICAgICAgICAgICAgICAgICAgLy8gZm9jdXMvYmx1ci4gVGhpcyBpcyBiZWNhdXNlIHRoZSBmb3JtZXIgYXJlIHN5bmNocm9ub3VzIGluIElFIHdoaWxlIHRoZSBsYXR0ZXJcbiAgICAgICAgICAgICAgICAgICAgLy8gYXJlIGFzeW5jLiBJbiBvdGhlciBicm93c2VycywgYWxsIHRob3NlIGhhbmRsZXJzIGFyZSBpbnZva2VkIHN5bmNocm9ub3VzbHkuXG4gICAgICAgICAgICAgICAgICAgIC8vIGBoYW5kbGVgIGZyb20gcHJpdmF0ZSBkYXRhIHdvdWxkIGFscmVhZHkgd3JhcCB0aGUgZXZlbnQsIGJ1dCB3ZSBuZWVkXG4gICAgICAgICAgICAgICAgICAgIC8vIHRvIGNoYW5nZSB0aGUgYHR5cGVgIGhlcmUuXG4gICAgICAgICAgICAgICAgICAgIHZhciBoYW5kbGUgPSBkYXRhUHJpdi5nZXQodGhpcywgXCJoYW5kbGVcIiksIGV2ZW50ID0galF1ZXJ5LmV2ZW50LmZpeChuYXRpdmVFdmVudCk7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnR5cGUgPSBuYXRpdmVFdmVudC50eXBlID09PSBcImZvY3VzaW5cIiA/IFwiZm9jdXNcIiA6IFwiYmx1clwiO1xuICAgICAgICAgICAgICAgICAgICBldmVudC5pc1NpbXVsYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIC8vIEZpcnN0LCBoYW5kbGUgZm9jdXNpbi9mb2N1c291dFxuICAgICAgICAgICAgICAgICAgICBoYW5kbGUobmF0aXZlRXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAvLyAuLi50aGVuLCBoYW5kbGUgZm9jdXMvYmx1clxuICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICAvLyBmb2N1cy9ibHVyIGRvbid0IGJ1YmJsZSB3aGlsZSBmb2N1c2luL2ZvY3Vzb3V0IGRvOyBzaW11bGF0ZSB0aGUgZm9ybWVyIGJ5IG9ubHlcbiAgICAgICAgICAgICAgICAgICAgLy8gaW52b2tpbmcgdGhlIGhhbmRsZXIgYXQgdGhlIGxvd2VyIGxldmVsLlxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBldmVudC5jdXJyZW50VGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgc2V0dXAgcGFydCBjYWxscyBgbGV2ZXJhZ2VOYXRpdmVgLCB3aGljaCwgaW4gdHVybiwgY2FsbHNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGBqUXVlcnkuZXZlbnQuYWRkYCwgc28gZXZlbnQgaGFuZGxlIHdpbGwgYWxyZWFkeSBoYXZlIGJlZW4gc2V0XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBieSB0aGlzIHBvaW50LlxuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlKGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRm9yIG5vbi1JRSBicm93c2VycywgYXR0YWNoIGEgc2luZ2xlIGNhcHR1cmluZyBoYW5kbGVyIG9uIHRoZSBkb2N1bWVudFxuICAgICAgICAgICAgICAgICAgICAvLyB3aGlsZSBzb21lb25lIHdhbnRzIGZvY3VzaW4vZm9jdXNvdXQuXG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeS5ldmVudC5zaW11bGF0ZShkZWxlZ2F0ZVR5cGUsIG5hdGl2ZUV2ZW50LnRhcmdldCwgalF1ZXJ5LmV2ZW50LmZpeChuYXRpdmVFdmVudCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGpRdWVyeS5ldmVudC5zcGVjaWFsW3R5cGVdID0ge1xuICAgICAgICAgICAgICAgIC8vIFV0aWxpemUgbmF0aXZlIGV2ZW50IGlmIHBvc3NpYmxlIHNvIGJsdXIvZm9jdXMgc2VxdWVuY2UgaXMgY29ycmVjdFxuICAgICAgICAgICAgICAgIHNldHVwOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhdHRhY2hlcztcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2xhaW0gdGhlIGZpcnN0IGhhbmRsZXJcbiAgICAgICAgICAgICAgICAgICAgLy8gZGF0YVByaXYuc2V0KCB0aGlzLCBcImZvY3VzXCIsIC4uLiApXG4gICAgICAgICAgICAgICAgICAgIC8vIGRhdGFQcml2LnNldCggdGhpcywgXCJibHVyXCIsIC4uLiApXG4gICAgICAgICAgICAgICAgICAgIGxldmVyYWdlTmF0aXZlKHRoaXMsIHR5cGUsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuZG9jdW1lbnRNb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA5IC0gMTErXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSB1c2UgdGhlIHNhbWUgbmF0aXZlIGhhbmRsZXIgZm9yIGZvY3VzaW4gJiBmb2N1cyAoYW5kIGZvY3Vzb3V0ICYgYmx1cilcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNvIHdlIG5lZWQgdG8gY29vcmRpbmF0ZSBzZXR1cCAmIHRlYXJkb3duIHBhcnRzIGJldHdlZW4gdGhvc2UgZXZlbnRzLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXNlIGBkZWxlZ2F0ZVR5cGVgIGFzIHRoZSBrZXkgYXMgYHR5cGVgIGlzIGFscmVhZHkgdXNlZCBieSBgbGV2ZXJhZ2VOYXRpdmVgLlxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0YWNoZXMgPSBkYXRhUHJpdi5nZXQodGhpcywgZGVsZWdhdGVUeXBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYXR0YWNoZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoZGVsZWdhdGVUeXBlLCBmb2N1c01hcHBlZEhhbmRsZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVByaXYuc2V0KHRoaXMsIGRlbGVnYXRlVHlwZSwgKGF0dGFjaGVzIHx8IDApICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXR1cm4gZmFsc2UgdG8gYWxsb3cgbm9ybWFsIHByb2Nlc3NpbmcgaW4gdGhlIGNhbGxlclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0cmlnZ2VyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEZvcmNlIHNldHVwIGJlZm9yZSB0cmlnZ2VyXG4gICAgICAgICAgICAgICAgICAgIGxldmVyYWdlTmF0aXZlKHRoaXMsIHR5cGUpO1xuICAgICAgICAgICAgICAgICAgICAvLyBSZXR1cm4gbm9uLWZhbHNlIHRvIGFsbG93IG5vcm1hbCBldmVudC1wYXRoIHByb3BhZ2F0aW9uXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdGVhcmRvd246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGF0dGFjaGVzO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuZG9jdW1lbnRNb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRhY2hlcyA9IGRhdGFQcml2LmdldCh0aGlzLCBkZWxlZ2F0ZVR5cGUpIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYXR0YWNoZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoZGVsZWdhdGVUeXBlLCBmb2N1c01hcHBlZEhhbmRsZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFQcml2LnJlbW92ZSh0aGlzLCBkZWxlZ2F0ZVR5cGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVByaXYuc2V0KHRoaXMsIGRlbGVnYXRlVHlwZSwgYXR0YWNoZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmV0dXJuIGZhbHNlIHRvIGluZGljYXRlIHN0YW5kYXJkIHRlYXJkb3duIHNob3VsZCBiZSBhcHBsaWVkXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC8vIFN1cHByZXNzIG5hdGl2ZSBmb2N1cyBvciBibHVyIGlmIHdlJ3JlIGN1cnJlbnRseSBpbnNpZGVcbiAgICAgICAgICAgICAgICAvLyBhIGxldmVyYWdlZCBuYXRpdmUtZXZlbnQgc3RhY2tcbiAgICAgICAgICAgICAgICBfZGVmYXVsdDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhUHJpdi5nZXQoZXZlbnQudGFyZ2V0LCB0eXBlKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGRlbGVnYXRlVHlwZTogZGVsZWdhdGVUeXBlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gU3VwcG9ydDogRmlyZWZveCA8PTQ0XG4gICAgICAgICAgICAvLyBGaXJlZm94IGRvZXNuJ3QgaGF2ZSBmb2N1cyhpbiB8IG91dCkgZXZlbnRzXG4gICAgICAgICAgICAvLyBSZWxhdGVkIHRpY2tldCAtIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTY4Nzc4N1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIFN1cHBvcnQ6IENocm9tZSA8PTQ4IC0gNDksIFNhZmFyaSA8PTkuMCAtIDkuMVxuICAgICAgICAgICAgLy8gZm9jdXMoaW4gfCBvdXQpIGV2ZW50cyBmaXJlIGFmdGVyIGZvY3VzICYgYmx1ciBldmVudHMsXG4gICAgICAgICAgICAvLyB3aGljaCBpcyBzcGVjIHZpb2xhdGlvbiAtIGh0dHA6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0zLUV2ZW50cy8jZXZlbnRzLWZvY3VzZXZlbnQtZXZlbnQtb3JkZXJcbiAgICAgICAgICAgIC8vIFJlbGF0ZWQgdGlja2V0IC0gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NDQ5ODU3XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgOSAtIDExK1xuICAgICAgICAgICAgLy8gVG8gcHJlc2VydmUgcmVsYXRpdmUgZm9jdXNpbi9mb2N1cyAmIGZvY3Vzb3V0L2JsdXIgZXZlbnQgb3JkZXIgZ3VhcmFudGVlZCBvbiB0aGUgMy54IGJyYW5jaCxcbiAgICAgICAgICAgIC8vIGF0dGFjaCBhIHNpbmdsZSBoYW5kbGVyIGZvciBib3RoIGV2ZW50cyBpbiBJRS5cbiAgICAgICAgICAgIGpRdWVyeS5ldmVudC5zcGVjaWFsW2RlbGVnYXRlVHlwZV0gPSB7XG4gICAgICAgICAgICAgICAgc2V0dXA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSGFuZGxlOiByZWd1bGFyIG5vZGVzICh2aWEgYHRoaXMub3duZXJEb2N1bWVudGApLCB3aW5kb3dcbiAgICAgICAgICAgICAgICAgICAgLy8gKHZpYSBgdGhpcy5kb2N1bWVudGApICYgZG9jdW1lbnQgKHZpYSBgdGhpc2ApLlxuICAgICAgICAgICAgICAgICAgICB2YXIgZG9jID0gdGhpcy5vd25lckRvY3VtZW50IHx8IHRoaXMuZG9jdW1lbnQgfHwgdGhpcywgZGF0YUhvbGRlciA9IGRvY3VtZW50LmRvY3VtZW50TW9kZSA/IHRoaXMgOiBkb2MsIGF0dGFjaGVzID0gZGF0YVByaXYuZ2V0KGRhdGFIb2xkZXIsIGRlbGVnYXRlVHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDkgLSAxMStcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgdXNlIHRoZSBzYW1lIG5hdGl2ZSBoYW5kbGVyIGZvciBmb2N1c2luICYgZm9jdXMgKGFuZCBmb2N1c291dCAmIGJsdXIpXG4gICAgICAgICAgICAgICAgICAgIC8vIHNvIHdlIG5lZWQgdG8gY29vcmRpbmF0ZSBzZXR1cCAmIHRlYXJkb3duIHBhcnRzIGJldHdlZW4gdGhvc2UgZXZlbnRzLlxuICAgICAgICAgICAgICAgICAgICAvLyBVc2UgYGRlbGVnYXRlVHlwZWAgYXMgdGhlIGtleSBhcyBgdHlwZWAgaXMgYWxyZWFkeSB1c2VkIGJ5IGBsZXZlcmFnZU5hdGl2ZWAuXG4gICAgICAgICAgICAgICAgICAgIGlmICghYXR0YWNoZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5kb2N1bWVudE1vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoZGVsZWdhdGVUeXBlLCBmb2N1c01hcHBlZEhhbmRsZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgZm9jdXNNYXBwZWRIYW5kbGVyLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBkYXRhUHJpdi5zZXQoZGF0YUhvbGRlciwgZGVsZWdhdGVUeXBlLCAoYXR0YWNoZXMgfHwgMCkgKyAxKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRlYXJkb3duOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkb2MgPSB0aGlzLm93bmVyRG9jdW1lbnQgfHwgdGhpcy5kb2N1bWVudCB8fCB0aGlzLCBkYXRhSG9sZGVyID0gZG9jdW1lbnQuZG9jdW1lbnRNb2RlID8gdGhpcyA6IGRvYywgYXR0YWNoZXMgPSBkYXRhUHJpdi5nZXQoZGF0YUhvbGRlciwgZGVsZWdhdGVUeXBlKSAtIDE7XG4gICAgICAgICAgICAgICAgICAgIGlmICghYXR0YWNoZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5kb2N1bWVudE1vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoZGVsZWdhdGVUeXBlLCBmb2N1c01hcHBlZEhhbmRsZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgZm9jdXNNYXBwZWRIYW5kbGVyLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFQcml2LnJlbW92ZShkYXRhSG9sZGVyLCBkZWxlZ2F0ZVR5cGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVByaXYuc2V0KGRhdGFIb2xkZXIsIGRlbGVnYXRlVHlwZSwgYXR0YWNoZXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIENyZWF0ZSBtb3VzZWVudGVyL2xlYXZlIGV2ZW50cyB1c2luZyBtb3VzZW92ZXIvb3V0IGFuZCBldmVudC10aW1lIGNoZWNrc1xuICAgICAgICAvLyBzbyB0aGF0IGV2ZW50IGRlbGVnYXRpb24gd29ya3MgaW4galF1ZXJ5LlxuICAgICAgICAvLyBEbyB0aGUgc2FtZSBmb3IgcG9pbnRlcmVudGVyL3BvaW50ZXJsZWF2ZSBhbmQgcG9pbnRlcm92ZXIvcG9pbnRlcm91dFxuICAgICAgICAvL1xuICAgICAgICAvLyBTdXBwb3J0OiBTYWZhcmkgNyBvbmx5XG4gICAgICAgIC8vIFNhZmFyaSBzZW5kcyBtb3VzZWVudGVyIHRvbyBvZnRlbjsgc2VlOlxuICAgICAgICAvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00NzAyNThcbiAgICAgICAgLy8gZm9yIHRoZSBkZXNjcmlwdGlvbiBvZiB0aGUgYnVnIChpdCBleGlzdGVkIGluIG9sZGVyIENocm9tZSB2ZXJzaW9ucyBhcyB3ZWxsKS5cbiAgICAgICAgalF1ZXJ5LmVhY2goe1xuICAgICAgICAgICAgbW91c2VlbnRlcjogXCJtb3VzZW92ZXJcIixcbiAgICAgICAgICAgIG1vdXNlbGVhdmU6IFwibW91c2VvdXRcIixcbiAgICAgICAgICAgIHBvaW50ZXJlbnRlcjogXCJwb2ludGVyb3ZlclwiLFxuICAgICAgICAgICAgcG9pbnRlcmxlYXZlOiBcInBvaW50ZXJvdXRcIlxuICAgICAgICB9LCBmdW5jdGlvbiAob3JpZywgZml4KSB7XG4gICAgICAgICAgICBqUXVlcnkuZXZlbnQuc3BlY2lhbFtvcmlnXSA9IHtcbiAgICAgICAgICAgICAgICBkZWxlZ2F0ZVR5cGU6IGZpeCxcbiAgICAgICAgICAgICAgICBiaW5kVHlwZTogZml4LFxuICAgICAgICAgICAgICAgIGhhbmRsZTogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXQsIHRhcmdldCA9IHRoaXMsIHJlbGF0ZWQgPSBldmVudC5yZWxhdGVkVGFyZ2V0LCBoYW5kbGVPYmogPSBldmVudC5oYW5kbGVPYmo7XG4gICAgICAgICAgICAgICAgICAgIC8vIEZvciBtb3VzZWVudGVyL2xlYXZlIGNhbGwgdGhlIGhhbmRsZXIgaWYgcmVsYXRlZCBpcyBvdXRzaWRlIHRoZSB0YXJnZXQuXG4gICAgICAgICAgICAgICAgICAgIC8vIE5COiBObyByZWxhdGVkVGFyZ2V0IGlmIHRoZSBtb3VzZSBsZWZ0L2VudGVyZWQgdGhlIGJyb3dzZXIgd2luZG93XG4gICAgICAgICAgICAgICAgICAgIGlmICghcmVsYXRlZCB8fCAocmVsYXRlZCAhPT0gdGFyZ2V0ICYmICFqUXVlcnkuY29udGFpbnModGFyZ2V0LCByZWxhdGVkKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnR5cGUgPSBoYW5kbGVPYmoub3JpZ1R5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXQgPSBoYW5kbGVPYmouaGFuZGxlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQudHlwZSA9IGZpeDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICBqUXVlcnkuZm4uZXh0ZW5kKHtcbiAgICAgICAgICAgIG9uOiBmdW5jdGlvbiAodHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBvbih0aGlzLCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbmU6IGZ1bmN0aW9uICh0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9uKHRoaXMsIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4sIDEpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9mZjogZnVuY3Rpb24gKHR5cGVzLCBzZWxlY3RvciwgZm4pIHtcbiAgICAgICAgICAgICAgICB2YXIgaGFuZGxlT2JqLCB0eXBlO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlcyAmJiB0eXBlcy5wcmV2ZW50RGVmYXVsdCAmJiB0eXBlcy5oYW5kbGVPYmopIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gKCBldmVudCApICBkaXNwYXRjaGVkIGpRdWVyeS5FdmVudFxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVPYmogPSB0eXBlcy5oYW5kbGVPYmo7XG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeSh0eXBlcy5kZWxlZ2F0ZVRhcmdldCkub2ZmKGhhbmRsZU9iai5uYW1lc3BhY2UgP1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlT2JqLm9yaWdUeXBlICsgXCIuXCIgKyBoYW5kbGVPYmoubmFtZXNwYWNlIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZU9iai5vcmlnVHlwZSwgaGFuZGxlT2JqLnNlbGVjdG9yLCBoYW5kbGVPYmouaGFuZGxlcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHR5cGVzID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICggdHlwZXMtb2JqZWN0IFssIHNlbGVjdG9yXSApXG4gICAgICAgICAgICAgICAgICAgIGZvciAodHlwZSBpbiB0eXBlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vZmYodHlwZSwgc2VsZWN0b3IsIHR5cGVzW3R5cGVdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdG9yID09PSBmYWxzZSB8fCB0eXBlb2Ygc2VsZWN0b3IgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICAvLyAoIHR5cGVzIFssIGZuXSApXG4gICAgICAgICAgICAgICAgICAgIGZuID0gc2VsZWN0b3I7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZm4gPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGZuID0gcmV0dXJuRmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBqUXVlcnkuZXZlbnQucmVtb3ZlKHRoaXMsIHR5cGVzLCBmbiwgc2VsZWN0b3IpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIFxuICAgICAgICAvLyBTdXBwb3J0OiBJRSA8PTEwIC0gMTEsIEVkZ2UgMTIgLSAxMyBvbmx5XG4gICAgICAgIC8vIEluIElFL0VkZ2UgdXNpbmcgcmVnZXggZ3JvdXBzIGhlcmUgY2F1c2VzIHNldmVyZSBzbG93ZG93bnMuXG4gICAgICAgIC8vIFNlZSBodHRwczovL2Nvbm5lY3QubWljcm9zb2Z0LmNvbS9JRS9mZWVkYmFjay9kZXRhaWxzLzE3MzY1MTIvXG4gICAgICAgIHJub0lubmVyaHRtbCA9IC88c2NyaXB0fDxzdHlsZXw8bGluay9pLCBcbiAgICAgICAgLy8gY2hlY2tlZD1cImNoZWNrZWRcIiBvciBjaGVja2VkXG4gICAgICAgIHJjaGVja2VkID0gL2NoZWNrZWRcXHMqKD86W149XXw9XFxzKi5jaGVja2VkLikvaSwgcmNsZWFuU2NyaXB0ID0gL15cXHMqPCFcXFtDREFUQVxcW3xcXF1cXF0+XFxzKiQvZztcbiAgICAgICAgLy8gUHJlZmVyIGEgdGJvZHkgb3ZlciBpdHMgcGFyZW50IHRhYmxlIGZvciBjb250YWluaW5nIG5ldyByb3dzXG4gICAgICAgIGZ1bmN0aW9uIG1hbmlwdWxhdGlvblRhcmdldChlbGVtLCBjb250ZW50KSB7XG4gICAgICAgICAgICBpZiAobm9kZU5hbWUoZWxlbSwgXCJ0YWJsZVwiKSAmJlxuICAgICAgICAgICAgICAgIG5vZGVOYW1lKGNvbnRlbnQubm9kZVR5cGUgIT09IDExID8gY29udGVudCA6IGNvbnRlbnQuZmlyc3RDaGlsZCwgXCJ0clwiKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBqUXVlcnkoZWxlbSkuY2hpbGRyZW4oXCJ0Ym9keVwiKVswXSB8fCBlbGVtO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGVsZW07XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVwbGFjZS9yZXN0b3JlIHRoZSB0eXBlIGF0dHJpYnV0ZSBvZiBzY3JpcHQgZWxlbWVudHMgZm9yIHNhZmUgRE9NIG1hbmlwdWxhdGlvblxuICAgICAgICBmdW5jdGlvbiBkaXNhYmxlU2NyaXB0KGVsZW0pIHtcbiAgICAgICAgICAgIGVsZW0udHlwZSA9IChlbGVtLmdldEF0dHJpYnV0ZShcInR5cGVcIikgIT09IG51bGwpICsgXCIvXCIgKyBlbGVtLnR5cGU7XG4gICAgICAgICAgICByZXR1cm4gZWxlbTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiByZXN0b3JlU2NyaXB0KGVsZW0pIHtcbiAgICAgICAgICAgIGlmICgoZWxlbS50eXBlIHx8IFwiXCIpLnNsaWNlKDAsIDUpID09PSBcInRydWUvXCIpIHtcbiAgICAgICAgICAgICAgICBlbGVtLnR5cGUgPSBlbGVtLnR5cGUuc2xpY2UoNSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBlbGVtLnJlbW92ZUF0dHJpYnV0ZShcInR5cGVcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZWxlbTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBjbG9uZUNvcHlFdmVudChzcmMsIGRlc3QpIHtcbiAgICAgICAgICAgIHZhciBpLCBsLCB0eXBlLCBwZGF0YU9sZCwgdWRhdGFPbGQsIHVkYXRhQ3VyLCBldmVudHM7XG4gICAgICAgICAgICBpZiAoZGVzdC5ub2RlVHlwZSAhPT0gMSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIDEuIENvcHkgcHJpdmF0ZSBkYXRhOiBldmVudHMsIGhhbmRsZXJzLCBldGMuXG4gICAgICAgICAgICBpZiAoZGF0YVByaXYuaGFzRGF0YShzcmMpKSB7XG4gICAgICAgICAgICAgICAgcGRhdGFPbGQgPSBkYXRhUHJpdi5nZXQoc3JjKTtcbiAgICAgICAgICAgICAgICBldmVudHMgPSBwZGF0YU9sZC5ldmVudHM7XG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50cykge1xuICAgICAgICAgICAgICAgICAgICBkYXRhUHJpdi5yZW1vdmUoZGVzdCwgXCJoYW5kbGUgZXZlbnRzXCIpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHR5cGUgaW4gZXZlbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwLCBsID0gZXZlbnRzW3R5cGVdLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5ldmVudC5hZGQoZGVzdCwgdHlwZSwgZXZlbnRzW3R5cGVdW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIDIuIENvcHkgdXNlciBkYXRhXG4gICAgICAgICAgICBpZiAoZGF0YVVzZXIuaGFzRGF0YShzcmMpKSB7XG4gICAgICAgICAgICAgICAgdWRhdGFPbGQgPSBkYXRhVXNlci5hY2Nlc3Moc3JjKTtcbiAgICAgICAgICAgICAgICB1ZGF0YUN1ciA9IGpRdWVyeS5leHRlbmQoe30sIHVkYXRhT2xkKTtcbiAgICAgICAgICAgICAgICBkYXRhVXNlci5zZXQoZGVzdCwgdWRhdGFDdXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEZpeCBJRSBidWdzLCBzZWUgc3VwcG9ydCB0ZXN0c1xuICAgICAgICBmdW5jdGlvbiBmaXhJbnB1dChzcmMsIGRlc3QpIHtcbiAgICAgICAgICAgIHZhciBub2RlTmFtZSA9IGRlc3Qubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIC8vIEZhaWxzIHRvIHBlcnNpc3QgdGhlIGNoZWNrZWQgc3RhdGUgb2YgYSBjbG9uZWQgY2hlY2tib3ggb3IgcmFkaW8gYnV0dG9uLlxuICAgICAgICAgICAgaWYgKG5vZGVOYW1lID09PSBcImlucHV0XCIgJiYgcmNoZWNrYWJsZVR5cGUudGVzdChzcmMudHlwZSkpIHtcbiAgICAgICAgICAgICAgICBkZXN0LmNoZWNrZWQgPSBzcmMuY2hlY2tlZDtcbiAgICAgICAgICAgICAgICAvLyBGYWlscyB0byByZXR1cm4gdGhlIHNlbGVjdGVkIG9wdGlvbiB0byB0aGUgZGVmYXVsdCBzZWxlY3RlZCBzdGF0ZSB3aGVuIGNsb25pbmcgb3B0aW9uc1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobm9kZU5hbWUgPT09IFwiaW5wdXRcIiB8fCBub2RlTmFtZSA9PT0gXCJ0ZXh0YXJlYVwiKSB7XG4gICAgICAgICAgICAgICAgZGVzdC5kZWZhdWx0VmFsdWUgPSBzcmMuZGVmYXVsdFZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGRvbU1hbmlwKGNvbGxlY3Rpb24sIGFyZ3MsIGNhbGxiYWNrLCBpZ25vcmVkKSB7XG4gICAgICAgICAgICAvLyBGbGF0dGVuIGFueSBuZXN0ZWQgYXJyYXlzXG4gICAgICAgICAgICBhcmdzID0gZmxhdChhcmdzKTtcbiAgICAgICAgICAgIHZhciBmcmFnbWVudCwgZmlyc3QsIHNjcmlwdHMsIGhhc1NjcmlwdHMsIG5vZGUsIGRvYywgaSA9IDAsIGwgPSBjb2xsZWN0aW9uLmxlbmd0aCwgaU5vQ2xvbmUgPSBsIC0gMSwgdmFsdWUgPSBhcmdzWzBdLCB2YWx1ZUlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uKHZhbHVlKTtcbiAgICAgICAgICAgIC8vIFdlIGNhbid0IGNsb25lTm9kZSBmcmFnbWVudHMgdGhhdCBjb250YWluIGNoZWNrZWQsIGluIFdlYktpdFxuICAgICAgICAgICAgaWYgKHZhbHVlSXNGdW5jdGlvbiB8fFxuICAgICAgICAgICAgICAgIChsID4gMSAmJiB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgIXN1cHBvcnQuY2hlY2tDbG9uZSAmJiByY2hlY2tlZC50ZXN0KHZhbHVlKSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sbGVjdGlvbi5lYWNoKGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZiA9IGNvbGxlY3Rpb24uZXEoaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVJc0Z1bmN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzWzBdID0gdmFsdWUuY2FsbCh0aGlzLCBpbmRleCwgc2VsZi5odG1sKCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGRvbU1hbmlwKHNlbGYsIGFyZ3MsIGNhbGxiYWNrLCBpZ25vcmVkKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsKSB7XG4gICAgICAgICAgICAgICAgZnJhZ21lbnQgPSBidWlsZEZyYWdtZW50KGFyZ3MsIGNvbGxlY3Rpb25bMF0ub3duZXJEb2N1bWVudCwgZmFsc2UsIGNvbGxlY3Rpb24sIGlnbm9yZWQpO1xuICAgICAgICAgICAgICAgIGZpcnN0ID0gZnJhZ21lbnQuZmlyc3RDaGlsZDtcbiAgICAgICAgICAgICAgICBpZiAoZnJhZ21lbnQuY2hpbGROb2Rlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgZnJhZ21lbnQgPSBmaXJzdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gUmVxdWlyZSBlaXRoZXIgbmV3IGNvbnRlbnQgb3IgYW4gaW50ZXJlc3QgaW4gaWdub3JlZCBlbGVtZW50cyB0byBpbnZva2UgdGhlIGNhbGxiYWNrXG4gICAgICAgICAgICAgICAgaWYgKGZpcnN0IHx8IGlnbm9yZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NyaXB0cyA9IGpRdWVyeS5tYXAoZ2V0QWxsKGZyYWdtZW50LCBcInNjcmlwdFwiKSwgZGlzYWJsZVNjcmlwdCk7XG4gICAgICAgICAgICAgICAgICAgIGhhc1NjcmlwdHMgPSBzY3JpcHRzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgLy8gVXNlIHRoZSBvcmlnaW5hbCBmcmFnbWVudCBmb3IgdGhlIGxhc3QgaXRlbVxuICAgICAgICAgICAgICAgICAgICAvLyBpbnN0ZWFkIG9mIHRoZSBmaXJzdCBiZWNhdXNlIGl0IGNhbiBlbmQgdXBcbiAgICAgICAgICAgICAgICAgICAgLy8gYmVpbmcgZW1wdGllZCBpbmNvcnJlY3RseSBpbiBjZXJ0YWluIHNpdHVhdGlvbnMgKHRyYWMtODA3MCkuXG4gICAgICAgICAgICAgICAgICAgIGZvciAoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlID0gZnJhZ21lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaU5vQ2xvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlID0galF1ZXJ5LmNsb25lKG5vZGUsIHRydWUsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEtlZXAgcmVmZXJlbmNlcyB0byBjbG9uZWQgc2NyaXB0cyBmb3IgbGF0ZXIgcmVzdG9yYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFzU2NyaXB0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHksIFBoYW50b21KUyAxIG9ubHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93cyBvbiBhbmNpZW50IFdlYktpdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkubWVyZ2Uoc2NyaXB0cywgZ2V0QWxsKG5vZGUsIFwic2NyaXB0XCIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsKGNvbGxlY3Rpb25baV0sIG5vZGUsIGkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChoYXNTY3JpcHRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2MgPSBzY3JpcHRzW3NjcmlwdHMubGVuZ3RoIC0gMV0ub3duZXJEb2N1bWVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlLWVuYWJsZSBzY3JpcHRzXG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkubWFwKHNjcmlwdHMsIHJlc3RvcmVTY3JpcHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXZhbHVhdGUgZXhlY3V0YWJsZSBzY3JpcHRzIG9uIGZpcnN0IGRvY3VtZW50IGluc2VydGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGhhc1NjcmlwdHM7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSBzY3JpcHRzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyc2NyaXB0VHlwZS50ZXN0KG5vZGUudHlwZSB8fCBcIlwiKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhZGF0YVByaXYuYWNjZXNzKG5vZGUsIFwiZ2xvYmFsRXZhbFwiKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuY29udGFpbnMoZG9jLCBub2RlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5zcmMgJiYgKG5vZGUudHlwZSB8fCBcIlwiKS50b0xvd2VyQ2FzZSgpICE9PSBcIm1vZHVsZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPcHRpb25hbCBBSkFYIGRlcGVuZGVuY3ksIGJ1dCB3b24ndCBydW4gc2NyaXB0cyBpZiBub3QgcHJlc2VudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGpRdWVyeS5fZXZhbFVybCAmJiAhbm9kZS5ub01vZHVsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5fZXZhbFVybChub2RlLnNyYywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub25jZTogbm9kZS5ub25jZSB8fCBub2RlLmdldEF0dHJpYnV0ZShcIm5vbmNlXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZG9jKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVud3JhcCBhIENEQVRBIHNlY3Rpb24gY29udGFpbmluZyBzY3JpcHQgY29udGVudHMuIFRoaXMgc2hvdWxkbid0IGJlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBuZWVkZWQgYXMgaW4gWE1MIGRvY3VtZW50cyB0aGV5J3JlIGFscmVhZHkgbm90IHZpc2libGUgd2hlblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW5zcGVjdGluZyBlbGVtZW50IGNvbnRlbnRzIGFuZCBpbiBIVE1MIGRvY3VtZW50cyB0aGV5IGhhdmUgbm9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG1lYW5pbmcgYnV0IHdlJ3JlIHByZXNlcnZpbmcgdGhhdCBsb2dpYyBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBjb21wbGV0ZWx5IGluIDQuMC4gU2VlIGdoLTQ5MDQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBET01FdmFsKG5vZGUudGV4dENvbnRlbnQucmVwbGFjZShyY2xlYW5TY3JpcHQsIFwiXCIpLCBub2RlLCBkb2MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb247XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlKGVsZW0sIHNlbGVjdG9yLCBrZWVwRGF0YSkge1xuICAgICAgICAgICAgdmFyIG5vZGUsIG5vZGVzID0gc2VsZWN0b3IgPyBqUXVlcnkuZmlsdGVyKHNlbGVjdG9yLCBlbGVtKSA6IGVsZW0sIGkgPSAwO1xuICAgICAgICAgICAgZm9yICg7IChub2RlID0gbm9kZXNbaV0pICE9IG51bGw7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICgha2VlcERhdGEgJiYgbm9kZS5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBqUXVlcnkuY2xlYW5EYXRhKGdldEFsbChub2RlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChub2RlLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtlZXBEYXRhICYmIGlzQXR0YWNoZWQobm9kZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEdsb2JhbEV2YWwoZ2V0QWxsKG5vZGUsIFwic2NyaXB0XCIpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGVsZW07XG4gICAgICAgIH1cbiAgICAgICAgalF1ZXJ5LmV4dGVuZCh7XG4gICAgICAgICAgICBodG1sUHJlZmlsdGVyOiBmdW5jdGlvbiAoaHRtbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBodG1sO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNsb25lOiBmdW5jdGlvbiAoZWxlbSwgZGF0YUFuZEV2ZW50cywgZGVlcERhdGFBbmRFdmVudHMpIHtcbiAgICAgICAgICAgICAgICB2YXIgaSwgbCwgc3JjRWxlbWVudHMsIGRlc3RFbGVtZW50cywgY2xvbmUgPSBlbGVtLmNsb25lTm9kZSh0cnVlKSwgaW5QYWdlID0gaXNBdHRhY2hlZChlbGVtKTtcbiAgICAgICAgICAgICAgICAvLyBGaXggSUUgY2xvbmluZyBpc3N1ZXNcbiAgICAgICAgICAgICAgICBpZiAoIXN1cHBvcnQubm9DbG9uZUNoZWNrZWQgJiYgKGVsZW0ubm9kZVR5cGUgPT09IDEgfHwgZWxlbS5ub2RlVHlwZSA9PT0gMTEpICYmXG4gICAgICAgICAgICAgICAgICAgICFqUXVlcnkuaXNYTUxEb2MoZWxlbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgZXNjaGV3IGpRdWVyeSNmaW5kIGhlcmUgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnM6XG4gICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vanNwZXJmLmNvbS9nZXRhbGwtdnMtc2l6emxlLzJcbiAgICAgICAgICAgICAgICAgICAgZGVzdEVsZW1lbnRzID0gZ2V0QWxsKGNsb25lKTtcbiAgICAgICAgICAgICAgICAgICAgc3JjRWxlbWVudHMgPSBnZXRBbGwoZWxlbSk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDAsIGwgPSBzcmNFbGVtZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpeElucHV0KHNyY0VsZW1lbnRzW2ldLCBkZXN0RWxlbWVudHNbaV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIENvcHkgdGhlIGV2ZW50cyBmcm9tIHRoZSBvcmlnaW5hbCB0byB0aGUgY2xvbmVcbiAgICAgICAgICAgICAgICBpZiAoZGF0YUFuZEV2ZW50cykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVlcERhdGFBbmRFdmVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNyY0VsZW1lbnRzID0gc3JjRWxlbWVudHMgfHwgZ2V0QWxsKGVsZW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVzdEVsZW1lbnRzID0gZGVzdEVsZW1lbnRzIHx8IGdldEFsbChjbG9uZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwLCBsID0gc3JjRWxlbWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvbmVDb3B5RXZlbnQoc3JjRWxlbWVudHNbaV0sIGRlc3RFbGVtZW50c1tpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9uZUNvcHlFdmVudChlbGVtLCBjbG9uZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gUHJlc2VydmUgc2NyaXB0IGV2YWx1YXRpb24gaGlzdG9yeVxuICAgICAgICAgICAgICAgIGRlc3RFbGVtZW50cyA9IGdldEFsbChjbG9uZSwgXCJzY3JpcHRcIik7XG4gICAgICAgICAgICAgICAgaWYgKGRlc3RFbGVtZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldEdsb2JhbEV2YWwoZGVzdEVsZW1lbnRzLCAhaW5QYWdlICYmIGdldEFsbChlbGVtLCBcInNjcmlwdFwiKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFJldHVybiB0aGUgY2xvbmVkIHNldFxuICAgICAgICAgICAgICAgIHJldHVybiBjbG9uZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjbGVhbkRhdGE6IGZ1bmN0aW9uIChlbGVtcykge1xuICAgICAgICAgICAgICAgIHZhciBkYXRhLCBlbGVtLCB0eXBlLCBzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWwsIGkgPSAwO1xuICAgICAgICAgICAgICAgIGZvciAoOyAoZWxlbSA9IGVsZW1zW2ldKSAhPT0gdW5kZWZpbmVkOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFjY2VwdERhdGEoZWxlbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZGF0YSA9IGVsZW1bZGF0YVByaXYuZXhwYW5kb10pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuZXZlbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodHlwZSBpbiBkYXRhLmV2ZW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNwZWNpYWxbdHlwZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuZXZlbnQucmVtb3ZlKGVsZW0sIHR5cGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgYSBzaG9ydGN1dCB0byBhdm9pZCBqUXVlcnkuZXZlbnQucmVtb3ZlJ3Mgb3ZlcmhlYWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5yZW1vdmVFdmVudChlbGVtLCB0eXBlLCBkYXRhLmhhbmRsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogQ2hyb21lIDw9MzUgLSA0NStcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBc3NpZ24gdW5kZWZpbmVkIGluc3RlYWQgb2YgdXNpbmcgZGVsZXRlLCBzZWUgRGF0YSNyZW1vdmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtW2RhdGFQcml2LmV4cGFuZG9dID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1bZGF0YVVzZXIuZXhwYW5kb10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBDaHJvbWUgPD0zNSAtIDQ1K1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFzc2lnbiB1bmRlZmluZWQgaW5zdGVhZCBvZiB1c2luZyBkZWxldGUsIHNlZSBEYXRhI3JlbW92ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1bZGF0YVVzZXIuZXhwYW5kb10gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBqUXVlcnkuZm4uZXh0ZW5kKHtcbiAgICAgICAgICAgIGRldGFjaDogZnVuY3Rpb24gKHNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlbW92ZSh0aGlzLCBzZWxlY3RvciwgdHJ1ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbiAoc2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVtb3ZlKHRoaXMsIHNlbGVjdG9yKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0ZXh0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjZXNzKHRoaXMsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/XG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkudGV4dCh0aGlzKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtcHR5KCkuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubm9kZVR5cGUgPT09IDEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gMTEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRleHRDb250ZW50ID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSwgbnVsbCwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFwcGVuZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkb21NYW5pcCh0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm5vZGVUeXBlID09PSAxIHx8IHRoaXMubm9kZVR5cGUgPT09IDExIHx8IHRoaXMubm9kZVR5cGUgPT09IDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXQgPSBtYW5pcHVsYXRpb25UYXJnZXQodGhpcywgZWxlbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQuYXBwZW5kQ2hpbGQoZWxlbSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwcmVwZW5kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvbU1hbmlwKHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubm9kZVR5cGUgPT09IDEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gMTEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9IG1hbmlwdWxhdGlvblRhcmdldCh0aGlzLCBlbGVtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC5pbnNlcnRCZWZvcmUoZWxlbSwgdGFyZ2V0LmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYmVmb3JlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvbU1hbmlwKHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlbGVtLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFmdGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvbU1hbmlwKHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlbGVtLCB0aGlzLm5leHRTaWJsaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVtcHR5OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVsZW0sIGkgPSAwO1xuICAgICAgICAgICAgICAgIGZvciAoOyAoZWxlbSA9IHRoaXNbaV0pICE9IG51bGw7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbS5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUHJldmVudCBtZW1vcnkgbGVha3NcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5jbGVhbkRhdGEoZ2V0QWxsKGVsZW0sIGZhbHNlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgYW55IHJlbWFpbmluZyBub2Rlc1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2xvbmU6IGZ1bmN0aW9uIChkYXRhQW5kRXZlbnRzLCBkZWVwRGF0YUFuZEV2ZW50cykge1xuICAgICAgICAgICAgICAgIGRhdGFBbmRFdmVudHMgPSBkYXRhQW5kRXZlbnRzID09IG51bGwgPyBmYWxzZSA6IGRhdGFBbmRFdmVudHM7XG4gICAgICAgICAgICAgICAgZGVlcERhdGFBbmRFdmVudHMgPSBkZWVwRGF0YUFuZEV2ZW50cyA9PSBudWxsID8gZGF0YUFuZEV2ZW50cyA6IGRlZXBEYXRhQW5kRXZlbnRzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBqUXVlcnkuY2xvbmUodGhpcywgZGF0YUFuZEV2ZW50cywgZGVlcERhdGFBbmRFdmVudHMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGh0bWw6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhY2Nlc3ModGhpcywgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtID0gdGhpc1swXSB8fCB7fSwgaSA9IDAsIGwgPSB0aGlzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZW0uaW5uZXJIVE1MO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFNlZSBpZiB3ZSBjYW4gdGFrZSBhIHNob3J0Y3V0IGFuZCBqdXN0IHVzZSBpbm5lckhUTUxcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiAmJiAhcm5vSW5uZXJodG1sLnRlc3QodmFsdWUpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAhd3JhcE1hcFsocnRhZ05hbWUuZXhlYyh2YWx1ZSkgfHwgW1wiXCIsIFwiXCJdKVsxXS50b0xvd2VyQ2FzZSgpXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBqUXVlcnkuaHRtbFByZWZpbHRlcih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0gPSB0aGlzW2ldIHx8IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgZWxlbWVudCBub2RlcyBhbmQgcHJldmVudCBtZW1vcnkgbGVha3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW0ubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5jbGVhbkRhdGEoZ2V0QWxsKGVsZW0sIGZhbHNlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtLmlubmVySFRNTCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0gPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHVzaW5nIGlubmVySFRNTCB0aHJvd3MgYW4gZXhjZXB0aW9uLCB1c2UgdGhlIGZhbGxiYWNrIG1ldGhvZFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtcHR5KCkuYXBwZW5kKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIG51bGwsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZXBsYWNlV2l0aDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBpZ25vcmVkID0gW107XG4gICAgICAgICAgICAgICAgLy8gTWFrZSB0aGUgY2hhbmdlcywgcmVwbGFjaW5nIGVhY2ggbm9uLWlnbm9yZWQgY29udGV4dCBlbGVtZW50IHdpdGggdGhlIG5ldyBjb250ZW50XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvbU1hbmlwKHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudCA9IHRoaXMucGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGpRdWVyeS5pbkFycmF5KHRoaXMsIGlnbm9yZWQpIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmNsZWFuRGF0YShnZXRBbGwodGhpcykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudC5yZXBsYWNlQ2hpbGQoZWxlbSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gRm9yY2UgY2FsbGJhY2sgaW52b2NhdGlvblxuICAgICAgICAgICAgICAgIH0sIGlnbm9yZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgalF1ZXJ5LmVhY2goe1xuICAgICAgICAgICAgYXBwZW5kVG86IFwiYXBwZW5kXCIsXG4gICAgICAgICAgICBwcmVwZW5kVG86IFwicHJlcGVuZFwiLFxuICAgICAgICAgICAgaW5zZXJ0QmVmb3JlOiBcImJlZm9yZVwiLFxuICAgICAgICAgICAgaW5zZXJ0QWZ0ZXI6IFwiYWZ0ZXJcIixcbiAgICAgICAgICAgIHJlcGxhY2VBbGw6IFwicmVwbGFjZVdpdGhcIlxuICAgICAgICB9LCBmdW5jdGlvbiAobmFtZSwgb3JpZ2luYWwpIHtcbiAgICAgICAgICAgIGpRdWVyeS5mbltuYW1lXSA9IGZ1bmN0aW9uIChzZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgIHZhciBlbGVtcywgcmV0ID0gW10sIGluc2VydCA9IGpRdWVyeShzZWxlY3RvciksIGxhc3QgPSBpbnNlcnQubGVuZ3RoIC0gMSwgaSA9IDA7XG4gICAgICAgICAgICAgICAgZm9yICg7IGkgPD0gbGFzdDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1zID0gaSA9PT0gbGFzdCA/IHRoaXMgOiB0aGlzLmNsb25lKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBqUXVlcnkoaW5zZXJ0W2ldKVtvcmlnaW5hbF0oZWxlbXMpO1xuICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHksIFBoYW50b21KUyAxIG9ubHlcbiAgICAgICAgICAgICAgICAgICAgLy8gLmdldCgpIGJlY2F1c2UgcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93cyBvbiBhbmNpZW50IFdlYktpdFxuICAgICAgICAgICAgICAgICAgICBwdXNoLmFwcGx5KHJldCwgZWxlbXMuZ2V0KCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wdXNoU3RhY2socmV0KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgcm51bW5vbnB4ID0gbmV3IFJlZ0V4cChcIl4oXCIgKyBwbnVtICsgXCIpKD8hcHgpW2EteiVdKyRcIiwgXCJpXCIpO1xuICAgICAgICB2YXIgcmN1c3RvbVByb3AgPSAvXi0tLztcbiAgICAgICAgdmFyIGdldFN0eWxlcyA9IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHksIEZpcmVmb3ggPD0zMCAodHJhYy0xNTA5OCwgdHJhYy0xNDE1MClcbiAgICAgICAgICAgIC8vIElFIHRocm93cyBvbiBlbGVtZW50cyBjcmVhdGVkIGluIHBvcHVwc1xuICAgICAgICAgICAgLy8gRkYgbWVhbndoaWxlIHRocm93cyBvbiBmcmFtZSBlbGVtZW50cyB0aHJvdWdoIFwiZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZVwiXG4gICAgICAgICAgICB2YXIgdmlldyA9IGVsZW0ub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldztcbiAgICAgICAgICAgIGlmICghdmlldyB8fCAhdmlldy5vcGVuZXIpIHtcbiAgICAgICAgICAgICAgICB2aWV3ID0gd2luZG93O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHN3YXAgPSBmdW5jdGlvbiAoZWxlbSwgb3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHZhciByZXQsIG5hbWUsIG9sZCA9IHt9O1xuICAgICAgICAgICAgLy8gUmVtZW1iZXIgdGhlIG9sZCB2YWx1ZXMsIGFuZCBpbnNlcnQgdGhlIG5ldyBvbmVzXG4gICAgICAgICAgICBmb3IgKG5hbWUgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgICAgIG9sZFtuYW1lXSA9IGVsZW0uc3R5bGVbbmFtZV07XG4gICAgICAgICAgICAgICAgZWxlbS5zdHlsZVtuYW1lXSA9IG9wdGlvbnNbbmFtZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXQgPSBjYWxsYmFjay5jYWxsKGVsZW0pO1xuICAgICAgICAgICAgLy8gUmV2ZXJ0IHRoZSBvbGQgdmFsdWVzXG4gICAgICAgICAgICBmb3IgKG5hbWUgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgICAgIGVsZW0uc3R5bGVbbmFtZV0gPSBvbGRbbmFtZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICB9O1xuICAgICAgICB2YXIgcmJveFN0eWxlID0gbmV3IFJlZ0V4cChjc3NFeHBhbmQuam9pbihcInxcIiksIFwiaVwiKTtcbiAgICAgICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIEV4ZWN1dGluZyBib3RoIHBpeGVsUG9zaXRpb24gJiBib3hTaXppbmdSZWxpYWJsZSB0ZXN0cyByZXF1aXJlIG9ubHkgb25lIGxheW91dFxuICAgICAgICAgICAgLy8gc28gdGhleSdyZSBleGVjdXRlZCBhdCB0aGUgc2FtZSB0aW1lIHRvIHNhdmUgdGhlIHNlY29uZCBjb21wdXRhdGlvbi5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGNvbXB1dGVTdHlsZVRlc3RzKCkge1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgYSBzaW5nbGV0b24sIHdlIG5lZWQgdG8gZXhlY3V0ZSBpdCBvbmx5IG9uY2VcbiAgICAgICAgICAgICAgICBpZiAoIWRpdikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5jc3NUZXh0ID0gXCJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi0xMTExMXB4O3dpZHRoOjYwcHg7XCIgK1xuICAgICAgICAgICAgICAgICAgICBcIm1hcmdpbi10b3A6MXB4O3BhZGRpbmc6MDtib3JkZXI6MFwiO1xuICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5jc3NUZXh0ID1cbiAgICAgICAgICAgICAgICAgICAgXCJwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmJsb2NrO2JveC1zaXppbmc6Ym9yZGVyLWJveDtvdmVyZmxvdzpzY3JvbGw7XCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJtYXJnaW46YXV0bztib3JkZXI6MXB4O3BhZGRpbmc6MXB4O1wiICtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwid2lkdGg6NjAlO3RvcDoxJVwiO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChjb250YWluZXIpLmFwcGVuZENoaWxkKGRpdik7XG4gICAgICAgICAgICAgICAgdmFyIGRpdlN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZGl2KTtcbiAgICAgICAgICAgICAgICBwaXhlbFBvc2l0aW9uVmFsID0gZGl2U3R5bGUudG9wICE9PSBcIjElXCI7XG4gICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogQW5kcm9pZCA0LjAgLSA0LjMgb25seSwgRmlyZWZveCA8PTMgLSA0NFxuICAgICAgICAgICAgICAgIHJlbGlhYmxlTWFyZ2luTGVmdFZhbCA9IHJvdW5kUGl4ZWxNZWFzdXJlcyhkaXZTdHlsZS5tYXJnaW5MZWZ0KSA9PT0gMTI7XG4gICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogQW5kcm9pZCA0LjAgLSA0LjMgb25seSwgU2FmYXJpIDw9OS4xIC0gMTAuMSwgaU9TIDw9Ny4wIC0gOS4zXG4gICAgICAgICAgICAgICAgLy8gU29tZSBzdHlsZXMgY29tZSBiYWNrIHdpdGggcGVyY2VudGFnZSB2YWx1ZXMsIGV2ZW4gdGhvdWdoIHRoZXkgc2hvdWxkbid0XG4gICAgICAgICAgICAgICAgZGl2LnN0eWxlLnJpZ2h0ID0gXCI2MCVcIjtcbiAgICAgICAgICAgICAgICBwaXhlbEJveFN0eWxlc1ZhbCA9IHJvdW5kUGl4ZWxNZWFzdXJlcyhkaXZTdHlsZS5yaWdodCkgPT09IDM2O1xuICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDkgLSAxMSBvbmx5XG4gICAgICAgICAgICAgICAgLy8gRGV0ZWN0IG1pc3JlcG9ydGluZyBvZiBjb250ZW50IGRpbWVuc2lvbnMgZm9yIGJveC1zaXppbmc6Ym9yZGVyLWJveCBlbGVtZW50c1xuICAgICAgICAgICAgICAgIGJveFNpemluZ1JlbGlhYmxlVmFsID0gcm91bmRQaXhlbE1lYXN1cmVzKGRpdlN0eWxlLndpZHRoKSA9PT0gMzY7XG4gICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgOSBvbmx5XG4gICAgICAgICAgICAgICAgLy8gRGV0ZWN0IG92ZXJmbG93OnNjcm9sbCBzY3Jld2luZXNzIChnaC0zNjk5KVxuICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IENocm9tZSA8PTY0XG4gICAgICAgICAgICAgICAgLy8gRG9uJ3QgZ2V0IHRyaWNrZWQgd2hlbiB6b29tIGFmZmVjdHMgb2Zmc2V0V2lkdGggKGdoLTQwMjkpXG4gICAgICAgICAgICAgICAgZGl2LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgICAgICAgICAgIHNjcm9sbGJveFNpemVWYWwgPSByb3VuZFBpeGVsTWVhc3VyZXMoZGl2Lm9mZnNldFdpZHRoIC8gMykgPT09IDEyO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50RWxlbWVudC5yZW1vdmVDaGlsZChjb250YWluZXIpO1xuICAgICAgICAgICAgICAgIC8vIE51bGxpZnkgdGhlIGRpdiBzbyBpdCB3b3VsZG4ndCBiZSBzdG9yZWQgaW4gdGhlIG1lbW9yeSBhbmRcbiAgICAgICAgICAgICAgICAvLyBpdCB3aWxsIGFsc28gYmUgYSBzaWduIHRoYXQgY2hlY2tzIGFscmVhZHkgcGVyZm9ybWVkXG4gICAgICAgICAgICAgICAgZGl2ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIHJvdW5kUGl4ZWxNZWFzdXJlcyhtZWFzdXJlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hdGgucm91bmQocGFyc2VGbG9hdChtZWFzdXJlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcGl4ZWxQb3NpdGlvblZhbCwgYm94U2l6aW5nUmVsaWFibGVWYWwsIHNjcm9sbGJveFNpemVWYWwsIHBpeGVsQm94U3R5bGVzVmFsLCByZWxpYWJsZVRyRGltZW5zaW9uc1ZhbCwgcmVsaWFibGVNYXJnaW5MZWZ0VmFsLCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgLy8gRmluaXNoIGVhcmx5IGluIGxpbWl0ZWQgKG5vbi1icm93c2VyKSBlbnZpcm9ubWVudHNcbiAgICAgICAgICAgIGlmICghZGl2LnN0eWxlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgPD05IC0gMTEgb25seVxuICAgICAgICAgICAgLy8gU3R5bGUgb2YgY2xvbmVkIGVsZW1lbnQgYWZmZWN0cyBzb3VyY2UgZWxlbWVudCBjbG9uZWQgKHRyYWMtODkwOClcbiAgICAgICAgICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCA9IFwiY29udGVudC1ib3hcIjtcbiAgICAgICAgICAgIGRpdi5jbG9uZU5vZGUodHJ1ZSkuc3R5bGUuYmFja2dyb3VuZENsaXAgPSBcIlwiO1xuICAgICAgICAgICAgc3VwcG9ydC5jbGVhckNsb25lU3R5bGUgPSBkaXYuc3R5bGUuYmFja2dyb3VuZENsaXAgPT09IFwiY29udGVudC1ib3hcIjtcbiAgICAgICAgICAgIGpRdWVyeS5leHRlbmQoc3VwcG9ydCwge1xuICAgICAgICAgICAgICAgIGJveFNpemluZ1JlbGlhYmxlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXB1dGVTdHlsZVRlc3RzKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBib3hTaXppbmdSZWxpYWJsZVZhbDtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHBpeGVsQm94U3R5bGVzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXB1dGVTdHlsZVRlc3RzKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwaXhlbEJveFN0eWxlc1ZhbDtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHBpeGVsUG9zaXRpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcHV0ZVN0eWxlVGVzdHMoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBpeGVsUG9zaXRpb25WYWw7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZWxpYWJsZU1hcmdpbkxlZnQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcHV0ZVN0eWxlVGVzdHMoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlbGlhYmxlTWFyZ2luTGVmdFZhbDtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNjcm9sbGJveFNpemU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcHV0ZVN0eWxlVGVzdHMoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNjcm9sbGJveFNpemVWYWw7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA5IC0gMTErLCBFZGdlIDE1IC0gMTgrXG4gICAgICAgICAgICAgICAgLy8gSUUvRWRnZSBtaXNyZXBvcnQgYGdldENvbXB1dGVkU3R5bGVgIG9mIHRhYmxlIHJvd3Mgd2l0aCB3aWR0aC9oZWlnaHRcbiAgICAgICAgICAgICAgICAvLyBzZXQgaW4gQ1NTIHdoaWxlIGBvZmZzZXQqYCBwcm9wZXJ0aWVzIHJlcG9ydCBjb3JyZWN0IHZhbHVlcy5cbiAgICAgICAgICAgICAgICAvLyBCZWhhdmlvciBpbiBJRSA5IGlzIG1vcmUgc3VidGxlIHRoYW4gaW4gbmV3ZXIgdmVyc2lvbnMgJiBpdCBwYXNzZXNcbiAgICAgICAgICAgICAgICAvLyBzb21lIHZlcnNpb25zIG9mIHRoaXMgdGVzdDsgbWFrZSBzdXJlIG5vdCB0byBtYWtlIGl0IHBhc3MgdGhlcmUhXG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBGaXJlZm94IDcwK1xuICAgICAgICAgICAgICAgIC8vIE9ubHkgRmlyZWZveCBpbmNsdWRlcyBib3JkZXIgd2lkdGhzXG4gICAgICAgICAgICAgICAgLy8gaW4gY29tcHV0ZWQgZGltZW5zaW9ucy4gKGdoLTQ1MjkpXG4gICAgICAgICAgICAgICAgcmVsaWFibGVUckRpbWVuc2lvbnM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhYmxlLCB0ciwgdHJDaGlsZCwgdHJTdHlsZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlbGlhYmxlVHJEaW1lbnNpb25zVmFsID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRhYmxlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ckNoaWxkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlLnN0eWxlLmNzc1RleHQgPSBcInBvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTExMTExcHg7Ym9yZGVyLWNvbGxhcHNlOnNlcGFyYXRlXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ci5zdHlsZS5jc3NUZXh0ID0gXCJib3gtc2l6aW5nOmNvbnRlbnQtYm94O2JvcmRlcjoxcHggc29saWRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IENocm9tZSA4NitcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhlaWdodCBzZXQgdGhyb3VnaCBjc3NUZXh0IGRvZXMgbm90IGdldCBhcHBsaWVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29tcHV0ZWQgaGVpZ2h0IHRoZW4gY29tZXMgYmFjayBhcyAwLlxuICAgICAgICAgICAgICAgICAgICAgICAgdHIuc3R5bGUuaGVpZ2h0ID0gXCIxcHhcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyQ2hpbGQuc3R5bGUuaGVpZ2h0ID0gXCI5cHhcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IEFuZHJvaWQgOCBDaHJvbWUgODYrXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJbiBvdXIgYm9keUJhY2tncm91bmQuaHRtbCBpZnJhbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBkaXNwbGF5IGZvciBhbGwgZGl2IGVsZW1lbnRzIGlzIHNldCB0byBcImlubGluZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2hpY2ggY2F1c2VzIGEgcHJvYmxlbSBvbmx5IGluIEFuZHJvaWQgOCBDaHJvbWUgODYuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBFbnN1cmluZyB0aGUgZGl2IGlzIGBkaXNwbGF5OiBibG9ja2BcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGdldHMgYXJvdW5kIHRoaXMgaXNzdWUuXG4gICAgICAgICAgICAgICAgICAgICAgICB0ckNoaWxkLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudEVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kQ2hpbGQodGFibGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZENoaWxkKHRyKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmRDaGlsZCh0ckNoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyU3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0cik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWxpYWJsZVRyRGltZW5zaW9uc1ZhbCA9IChwYXJzZUludCh0clN0eWxlLmhlaWdodCwgMTApICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZUludCh0clN0eWxlLmJvcmRlclRvcFdpZHRoLCAxMCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlSW50KHRyU3R5bGUuYm9yZGVyQm90dG9tV2lkdGgsIDEwKSkgPT09IHRyLm9mZnNldEhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50RWxlbWVudC5yZW1vdmVDaGlsZCh0YWJsZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlbGlhYmxlVHJEaW1lbnNpb25zVmFsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KSgpO1xuICAgICAgICBmdW5jdGlvbiBjdXJDU1MoZWxlbSwgbmFtZSwgY29tcHV0ZWQpIHtcbiAgICAgICAgICAgIHZhciB3aWR0aCwgbWluV2lkdGgsIG1heFdpZHRoLCByZXQsIGlzQ3VzdG9tUHJvcCA9IHJjdXN0b21Qcm9wLnRlc3QobmFtZSksIFxuICAgICAgICAgICAgLy8gU3VwcG9ydDogRmlyZWZveCA1MStcbiAgICAgICAgICAgIC8vIFJldHJpZXZpbmcgc3R5bGUgYmVmb3JlIGNvbXB1dGVkIHNvbWVob3dcbiAgICAgICAgICAgIC8vIGZpeGVzIGFuIGlzc3VlIHdpdGggZ2V0dGluZyB3cm9uZyB2YWx1ZXNcbiAgICAgICAgICAgIC8vIG9uIGRldGFjaGVkIGVsZW1lbnRzXG4gICAgICAgICAgICBzdHlsZSA9IGVsZW0uc3R5bGU7XG4gICAgICAgICAgICBjb21wdXRlZCA9IGNvbXB1dGVkIHx8IGdldFN0eWxlcyhlbGVtKTtcbiAgICAgICAgICAgIC8vIGdldFByb3BlcnR5VmFsdWUgaXMgbmVlZGVkIGZvcjpcbiAgICAgICAgICAgIC8vICAgLmNzcygnZmlsdGVyJykgKElFIDkgb25seSwgdHJhYy0xMjUzNylcbiAgICAgICAgICAgIC8vICAgLmNzcygnLS1jdXN0b21Qcm9wZXJ0eSkgKGdoLTMxNDQpXG4gICAgICAgICAgICBpZiAoY29tcHV0ZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMStcbiAgICAgICAgICAgICAgICAvLyBJRSBvbmx5IHN1cHBvcnRzIGBcImZsb2F0XCJgIGluIGBnZXRQcm9wZXJ0eVZhbHVlYDsgaW4gY29tcHV0ZWQgc3R5bGVzXG4gICAgICAgICAgICAgICAgLy8gaXQncyBvbmx5IGF2YWlsYWJsZSBhcyBgXCJjc3NGbG9hdFwiYC4gV2Ugbm8gbG9uZ2VyIG1vZGlmeSBwcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgLy8gc2VudCB0byBgLmNzcygpYCBhcGFydCBmcm9tIGNhbWVsQ2FzaW5nLCBzbyB3ZSBuZWVkIHRvIGNoZWNrIGJvdGguXG4gICAgICAgICAgICAgICAgLy8gTm9ybWFsbHksIHRoaXMgd291bGQgY3JlYXRlIGRpZmZlcmVuY2UgaW4gYmVoYXZpb3I6IGlmXG4gICAgICAgICAgICAgICAgLy8gYGdldFByb3BlcnR5VmFsdWVgIHJldHVybnMgYW4gZW1wdHkgc3RyaW5nLCB0aGUgdmFsdWUgcmV0dXJuZWRcbiAgICAgICAgICAgICAgICAvLyBieSBgLmNzcygpYCB3b3VsZCBiZSBgdW5kZWZpbmVkYC4gVGhpcyBpcyB1c3VhbGx5IHRoZSBjYXNlIGZvclxuICAgICAgICAgICAgICAgIC8vIGRpc2Nvbm5lY3RlZCBlbGVtZW50cy4gSG93ZXZlciwgaW4gSUUgZXZlbiBkaXNjb25uZWN0ZWQgZWxlbWVudHNcbiAgICAgICAgICAgICAgICAvLyB3aXRoIG5vIHN0eWxlcyByZXR1cm4gYFwibm9uZVwiYCBmb3IgYGdldFByb3BlcnR5VmFsdWUoIFwiZmxvYXRcIiApYFxuICAgICAgICAgICAgICAgIHJldCA9IGNvbXB1dGVkLmdldFByb3BlcnR5VmFsdWUobmFtZSkgfHwgY29tcHV0ZWRbbmFtZV07XG4gICAgICAgICAgICAgICAgaWYgKGlzQ3VzdG9tUHJvcCAmJiByZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogRmlyZWZveCAxMDUrLCBDaHJvbWUgPD0xMDUrXG4gICAgICAgICAgICAgICAgICAgIC8vIFNwZWMgcmVxdWlyZXMgdHJpbW1pbmcgd2hpdGVzcGFjZSBmb3IgY3VzdG9tIHByb3BlcnRpZXMgKGdoLTQ5MjYpLlxuICAgICAgICAgICAgICAgICAgICAvLyBGaXJlZm94IG9ubHkgdHJpbXMgbGVhZGluZyB3aGl0ZXNwYWNlLiBDaHJvbWUganVzdCBjb2xsYXBzZXNcbiAgICAgICAgICAgICAgICAgICAgLy8gYm90aCBsZWFkaW5nICYgdHJhaWxpbmcgd2hpdGVzcGFjZSB0byBhIHNpbmdsZSBzcGFjZS5cbiAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgLy8gRmFsbCBiYWNrIHRvIGB1bmRlZmluZWRgIGlmIGVtcHR5IHN0cmluZyByZXR1cm5lZC5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBjb2xsYXBzZXMgYSBtaXNzaW5nIGRlZmluaXRpb24gd2l0aCBwcm9wZXJ0eSBkZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgIC8vIGFuZCBzZXQgdG8gYW4gZW1wdHkgc3RyaW5nIGJ1dCB0aGVyZSdzIG5vIHN0YW5kYXJkIEFQSVxuICAgICAgICAgICAgICAgICAgICAvLyBhbGxvd2luZyB1cyB0byBkaWZmZXJlbnRpYXRlIHRoZW0gd2l0aG91dCBhIHBlcmZvcm1hbmNlIHBlbmFsdHlcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5kIHJldHVybmluZyBgdW5kZWZpbmVkYCBhbGlnbnMgd2l0aCBvbGRlciBqUXVlcnkuXG4gICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgIC8vIHJ0cmltQ1NTIHRyZWF0cyBVKzAwMEQgQ0FSUklBR0UgUkVUVVJOIGFuZCBVKzAwMEMgRk9STSBGRUVEXG4gICAgICAgICAgICAgICAgICAgIC8vIGFzIHdoaXRlc3BhY2Ugd2hpbGUgQ1NTIGRvZXMgbm90LCBidXQgdGhpcyBpcyBub3QgYSBwcm9ibGVtXG4gICAgICAgICAgICAgICAgICAgIC8vIGJlY2F1c2UgQ1NTIHByZXByb2Nlc3NpbmcgcmVwbGFjZXMgdGhlbSB3aXRoIFUrMDAwQSBMSU5FIEZFRURcbiAgICAgICAgICAgICAgICAgICAgLy8gKHdoaWNoICppcyogQ1NTIHdoaXRlc3BhY2UpXG4gICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9jc3Mtc3ludGF4LTMvI2lucHV0LXByZXByb2Nlc3NpbmdcbiAgICAgICAgICAgICAgICAgICAgcmV0ID0gcmV0LnJlcGxhY2UocnRyaW1DU1MsIFwiJDFcIikgfHwgdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocmV0ID09PSBcIlwiICYmICFpc0F0dGFjaGVkKGVsZW0pKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldCA9IGpRdWVyeS5zdHlsZShlbGVtLCBuYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQSB0cmlidXRlIHRvIHRoZSBcImF3ZXNvbWUgaGFjayBieSBEZWFuIEVkd2FyZHNcIlxuICAgICAgICAgICAgICAgIC8vIEFuZHJvaWQgQnJvd3NlciByZXR1cm5zIHBlcmNlbnRhZ2UgZm9yIHNvbWUgdmFsdWVzLFxuICAgICAgICAgICAgICAgIC8vIGJ1dCB3aWR0aCBzZWVtcyB0byBiZSByZWxpYWJseSBwaXhlbHMuXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBpcyBhZ2FpbnN0IHRoZSBDU1NPTSBkcmFmdCBzcGVjOlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3NvbS8jcmVzb2x2ZWQtdmFsdWVzXG4gICAgICAgICAgICAgICAgaWYgKCFzdXBwb3J0LnBpeGVsQm94U3R5bGVzKCkgJiYgcm51bW5vbnB4LnRlc3QocmV0KSAmJiByYm94U3R5bGUudGVzdChuYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBSZW1lbWJlciB0aGUgb3JpZ2luYWwgdmFsdWVzXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoID0gc3R5bGUud2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIG1pbldpZHRoID0gc3R5bGUubWluV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIG1heFdpZHRoID0gc3R5bGUubWF4V2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIC8vIFB1dCBpbiB0aGUgbmV3IHZhbHVlcyB0byBnZXQgYSBjb21wdXRlZCB2YWx1ZSBvdXRcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUubWluV2lkdGggPSBzdHlsZS5tYXhXaWR0aCA9IHN0eWxlLndpZHRoID0gcmV0O1xuICAgICAgICAgICAgICAgICAgICByZXQgPSBjb21wdXRlZC53aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmV2ZXJ0IHRoZSBjaGFuZ2VkIHZhbHVlc1xuICAgICAgICAgICAgICAgICAgICBzdHlsZS53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgICAgICAgICBzdHlsZS5taW5XaWR0aCA9IG1pbldpZHRoO1xuICAgICAgICAgICAgICAgICAgICBzdHlsZS5tYXhXaWR0aCA9IG1heFdpZHRoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXQgIT09IHVuZGVmaW5lZCA/XG4gICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgPD05IC0gMTEgb25seVxuICAgICAgICAgICAgICAgIC8vIElFIHJldHVybnMgekluZGV4IHZhbHVlIGFzIGFuIGludGVnZXIuXG4gICAgICAgICAgICAgICAgcmV0ICsgXCJcIiA6XG4gICAgICAgICAgICAgICAgcmV0O1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGFkZEdldEhvb2tJZihjb25kaXRpb25GbiwgaG9va0ZuKSB7XG4gICAgICAgICAgICAvLyBEZWZpbmUgdGhlIGhvb2ssIHdlJ2xsIGNoZWNrIG9uIHRoZSBmaXJzdCBydW4gaWYgaXQncyByZWFsbHkgbmVlZGVkLlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmRpdGlvbkZuKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhvb2sgbm90IG5lZWRlZCAob3IgaXQncyBub3QgcG9zc2libGUgdG8gdXNlIGl0IGR1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdG8gbWlzc2luZyBkZXBlbmRlbmN5KSwgcmVtb3ZlIGl0LlxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuZ2V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIEhvb2sgbmVlZGVkOyByZWRlZmluZSBpdCBzbyB0aGF0IHRoZSBzdXBwb3J0IHRlc3QgaXMgbm90IGV4ZWN1dGVkIGFnYWluLlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHRoaXMuZ2V0ID0gaG9va0ZuKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNzc1ByZWZpeGVzID0gW1wiV2Via2l0XCIsIFwiTW96XCIsIFwibXNcIl0sIGVtcHR5U3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLnN0eWxlLCB2ZW5kb3JQcm9wcyA9IHt9O1xuICAgICAgICAvLyBSZXR1cm4gYSB2ZW5kb3ItcHJlZml4ZWQgcHJvcGVydHkgb3IgdW5kZWZpbmVkXG4gICAgICAgIGZ1bmN0aW9uIHZlbmRvclByb3BOYW1lKG5hbWUpIHtcbiAgICAgICAgICAgIC8vIENoZWNrIGZvciB2ZW5kb3IgcHJlZml4ZWQgbmFtZXNcbiAgICAgICAgICAgIHZhciBjYXBOYW1lID0gbmFtZVswXS50b1VwcGVyQ2FzZSgpICsgbmFtZS5zbGljZSgxKSwgaSA9IGNzc1ByZWZpeGVzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgICAgICBuYW1lID0gY3NzUHJlZml4ZXNbaV0gKyBjYXBOYW1lO1xuICAgICAgICAgICAgICAgIGlmIChuYW1lIGluIGVtcHR5U3R5bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFJldHVybiBhIHBvdGVudGlhbGx5LW1hcHBlZCBqUXVlcnkuY3NzUHJvcHMgb3IgdmVuZG9yIHByZWZpeGVkIHByb3BlcnR5XG4gICAgICAgIGZ1bmN0aW9uIGZpbmFsUHJvcE5hbWUobmFtZSkge1xuICAgICAgICAgICAgdmFyIGZpbmFsID0galF1ZXJ5LmNzc1Byb3BzW25hbWVdIHx8IHZlbmRvclByb3BzW25hbWVdO1xuICAgICAgICAgICAgaWYgKGZpbmFsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpbmFsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5hbWUgaW4gZW1wdHlTdHlsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZlbmRvclByb3BzW25hbWVdID0gdmVuZG9yUHJvcE5hbWUobmFtZSkgfHwgbmFtZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgXG4gICAgICAgIC8vIFN3YXBwYWJsZSBpZiBkaXNwbGF5IGlzIG5vbmUgb3Igc3RhcnRzIHdpdGggdGFibGVcbiAgICAgICAgLy8gZXhjZXB0IFwidGFibGVcIiwgXCJ0YWJsZS1jZWxsXCIsIG9yIFwidGFibGUtY2FwdGlvblwiXG4gICAgICAgIC8vIFNlZSBoZXJlIGZvciBkaXNwbGF5IHZhbHVlczogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9DU1MvZGlzcGxheVxuICAgICAgICByZGlzcGxheXN3YXAgPSAvXihub25lfHRhYmxlKD8hLWNbZWFdKS4rKS8sIGNzc1Nob3cgPSB7IHBvc2l0aW9uOiBcImFic29sdXRlXCIsIHZpc2liaWxpdHk6IFwiaGlkZGVuXCIsIGRpc3BsYXk6IFwiYmxvY2tcIiB9LCBjc3NOb3JtYWxUcmFuc2Zvcm0gPSB7XG4gICAgICAgICAgICBsZXR0ZXJTcGFjaW5nOiBcIjBcIixcbiAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiNDAwXCJcbiAgICAgICAgfTtcbiAgICAgICAgZnVuY3Rpb24gc2V0UG9zaXRpdmVOdW1iZXIoX2VsZW0sIHZhbHVlLCBzdWJ0cmFjdCkge1xuICAgICAgICAgICAgLy8gQW55IHJlbGF0aXZlICgrLy0pIHZhbHVlcyBoYXZlIGFscmVhZHkgYmVlblxuICAgICAgICAgICAgLy8gbm9ybWFsaXplZCBhdCB0aGlzIHBvaW50XG4gICAgICAgICAgICB2YXIgbWF0Y2hlcyA9IHJjc3NOdW0uZXhlYyh2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gbWF0Y2hlcyA/XG4gICAgICAgICAgICAgICAgLy8gR3VhcmQgYWdhaW5zdCB1bmRlZmluZWQgXCJzdWJ0cmFjdFwiLCBlLmcuLCB3aGVuIHVzZWQgYXMgaW4gY3NzSG9va3NcbiAgICAgICAgICAgICAgICBNYXRoLm1heCgwLCBtYXRjaGVzWzJdIC0gKHN1YnRyYWN0IHx8IDApKSArIChtYXRjaGVzWzNdIHx8IFwicHhcIikgOlxuICAgICAgICAgICAgICAgIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGJveE1vZGVsQWRqdXN0bWVudChlbGVtLCBkaW1lbnNpb24sIGJveCwgaXNCb3JkZXJCb3gsIHN0eWxlcywgY29tcHV0ZWRWYWwpIHtcbiAgICAgICAgICAgIHZhciBpID0gZGltZW5zaW9uID09PSBcIndpZHRoXCIgPyAxIDogMCwgZXh0cmEgPSAwLCBkZWx0YSA9IDAsIG1hcmdpbkRlbHRhID0gMDtcbiAgICAgICAgICAgIC8vIEFkanVzdG1lbnQgbWF5IG5vdCBiZSBuZWNlc3NhcnlcbiAgICAgICAgICAgIGlmIChib3ggPT09IChpc0JvcmRlckJveCA/IFwiYm9yZGVyXCIgOiBcImNvbnRlbnRcIikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoOyBpIDwgNDsgaSArPSAyKSB7XG4gICAgICAgICAgICAgICAgLy8gQm90aCBib3ggbW9kZWxzIGV4Y2x1ZGUgbWFyZ2luXG4gICAgICAgICAgICAgICAgLy8gQ291bnQgbWFyZ2luIGRlbHRhIHNlcGFyYXRlbHkgdG8gb25seSBhZGQgaXQgYWZ0ZXIgc2Nyb2xsIGd1dHRlciBhZGp1c3RtZW50LlxuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgbmVlZGVkIHRvIG1ha2UgbmVnYXRpdmUgbWFyZ2lucyB3b3JrIHdpdGggYG91dGVySGVpZ2h0KCB0cnVlIClgIChnaC0zOTgyKS5cbiAgICAgICAgICAgICAgICBpZiAoYm94ID09PSBcIm1hcmdpblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbkRlbHRhICs9IGpRdWVyeS5jc3MoZWxlbSwgYm94ICsgY3NzRXhwYW5kW2ldLCB0cnVlLCBzdHlsZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBJZiB3ZSBnZXQgaGVyZSB3aXRoIGEgY29udGVudC1ib3gsIHdlJ3JlIHNlZWtpbmcgXCJwYWRkaW5nXCIgb3IgXCJib3JkZXJcIiBvciBcIm1hcmdpblwiXG4gICAgICAgICAgICAgICAgaWYgKCFpc0JvcmRlckJveCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBBZGQgcGFkZGluZ1xuICAgICAgICAgICAgICAgICAgICBkZWx0YSArPSBqUXVlcnkuY3NzKGVsZW0sIFwicGFkZGluZ1wiICsgY3NzRXhwYW5kW2ldLCB0cnVlLCBzdHlsZXMpO1xuICAgICAgICAgICAgICAgICAgICAvLyBGb3IgXCJib3JkZXJcIiBvciBcIm1hcmdpblwiLCBhZGQgYm9yZGVyXG4gICAgICAgICAgICAgICAgICAgIGlmIChib3ggIT09IFwicGFkZGluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWx0YSArPSBqUXVlcnkuY3NzKGVsZW0sIFwiYm9yZGVyXCIgKyBjc3NFeHBhbmRbaV0gKyBcIldpZHRoXCIsIHRydWUsIHN0eWxlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBCdXQgc3RpbGwga2VlcCB0cmFjayBvZiBpdCBvdGhlcndpc2VcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhICs9IGpRdWVyeS5jc3MoZWxlbSwgXCJib3JkZXJcIiArIGNzc0V4cGFuZFtpXSArIFwiV2lkdGhcIiwgdHJ1ZSwgc3R5bGVzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSBnZXQgaGVyZSB3aXRoIGEgYm9yZGVyLWJveCAoY29udGVudCArIHBhZGRpbmcgKyBib3JkZXIpLCB3ZSdyZSBzZWVraW5nIFwiY29udGVudFwiIG9yXG4gICAgICAgICAgICAgICAgICAgIC8vIFwicGFkZGluZ1wiIG9yIFwibWFyZ2luXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEZvciBcImNvbnRlbnRcIiwgc3VidHJhY3QgcGFkZGluZ1xuICAgICAgICAgICAgICAgICAgICBpZiAoYm94ID09PSBcImNvbnRlbnRcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsdGEgLT0galF1ZXJ5LmNzcyhlbGVtLCBcInBhZGRpbmdcIiArIGNzc0V4cGFuZFtpXSwgdHJ1ZSwgc3R5bGVzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBGb3IgXCJjb250ZW50XCIgb3IgXCJwYWRkaW5nXCIsIHN1YnRyYWN0IGJvcmRlclxuICAgICAgICAgICAgICAgICAgICBpZiAoYm94ICE9PSBcIm1hcmdpblwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWx0YSAtPSBqUXVlcnkuY3NzKGVsZW0sIFwiYm9yZGVyXCIgKyBjc3NFeHBhbmRbaV0gKyBcIldpZHRoXCIsIHRydWUsIHN0eWxlcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBBY2NvdW50IGZvciBwb3NpdGl2ZSBjb250ZW50LWJveCBzY3JvbGwgZ3V0dGVyIHdoZW4gcmVxdWVzdGVkIGJ5IHByb3ZpZGluZyBjb21wdXRlZFZhbFxuICAgICAgICAgICAgaWYgKCFpc0JvcmRlckJveCAmJiBjb21wdXRlZFZhbCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gb2Zmc2V0V2lkdGgvb2Zmc2V0SGVpZ2h0IGlzIGEgcm91bmRlZCBzdW0gb2YgY29udGVudCwgcGFkZGluZywgc2Nyb2xsIGd1dHRlciwgYW5kIGJvcmRlclxuICAgICAgICAgICAgICAgIC8vIEFzc3VtaW5nIGludGVnZXIgc2Nyb2xsIGd1dHRlciwgc3VidHJhY3QgdGhlIHJlc3QgYW5kIHJvdW5kIGRvd25cbiAgICAgICAgICAgICAgICBkZWx0YSArPSBNYXRoLm1heCgwLCBNYXRoLmNlaWwoZWxlbVtcIm9mZnNldFwiICsgZGltZW5zaW9uWzBdLnRvVXBwZXJDYXNlKCkgKyBkaW1lbnNpb24uc2xpY2UoMSldIC1cbiAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWRWYWwgLVxuICAgICAgICAgICAgICAgICAgICBkZWx0YSAtXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhIC1cbiAgICAgICAgICAgICAgICAgICAgMC41XG4gICAgICAgICAgICAgICAgLy8gSWYgb2Zmc2V0V2lkdGgvb2Zmc2V0SGVpZ2h0IGlzIHVua25vd24sIHRoZW4gd2UgY2FuJ3QgZGV0ZXJtaW5lIGNvbnRlbnQtYm94IHNjcm9sbCBndXR0ZXJcbiAgICAgICAgICAgICAgICAvLyBVc2UgYW4gZXhwbGljaXQgemVybyB0byBhdm9pZCBOYU4gKGdoLTM5NjQpXG4gICAgICAgICAgICAgICAgKSkgfHwgMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkZWx0YSArIG1hcmdpbkRlbHRhO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGdldFdpZHRoT3JIZWlnaHQoZWxlbSwgZGltZW5zaW9uLCBleHRyYSkge1xuICAgICAgICAgICAgLy8gU3RhcnQgd2l0aCBjb21wdXRlZCBzdHlsZVxuICAgICAgICAgICAgdmFyIHN0eWxlcyA9IGdldFN0eWxlcyhlbGVtKSwgXG4gICAgICAgICAgICAvLyBUbyBhdm9pZCBmb3JjaW5nIGEgcmVmbG93LCBvbmx5IGZldGNoIGJveFNpemluZyBpZiB3ZSBuZWVkIGl0IChnaC00MzIyKS5cbiAgICAgICAgICAgIC8vIEZha2UgY29udGVudC1ib3ggdW50aWwgd2Uga25vdyBpdCdzIG5lZWRlZCB0byBrbm93IHRoZSB0cnVlIHZhbHVlLlxuICAgICAgICAgICAgYm94U2l6aW5nTmVlZGVkID0gIXN1cHBvcnQuYm94U2l6aW5nUmVsaWFibGUoKSB8fCBleHRyYSwgaXNCb3JkZXJCb3ggPSBib3hTaXppbmdOZWVkZWQgJiZcbiAgICAgICAgICAgICAgICBqUXVlcnkuY3NzKGVsZW0sIFwiYm94U2l6aW5nXCIsIGZhbHNlLCBzdHlsZXMpID09PSBcImJvcmRlci1ib3hcIiwgdmFsdWVJc0JvcmRlckJveCA9IGlzQm9yZGVyQm94LCB2YWwgPSBjdXJDU1MoZWxlbSwgZGltZW5zaW9uLCBzdHlsZXMpLCBvZmZzZXRQcm9wID0gXCJvZmZzZXRcIiArIGRpbWVuc2lvblswXS50b1VwcGVyQ2FzZSgpICsgZGltZW5zaW9uLnNsaWNlKDEpO1xuICAgICAgICAgICAgLy8gU3VwcG9ydDogRmlyZWZveCA8PTU0XG4gICAgICAgICAgICAvLyBSZXR1cm4gYSBjb25mb3VuZGluZyBub24tcGl4ZWwgdmFsdWUgb3IgZmVpZ24gaWdub3JhbmNlLCBhcyBhcHByb3ByaWF0ZS5cbiAgICAgICAgICAgIGlmIChybnVtbm9ucHgudGVzdCh2YWwpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFleHRyYSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YWwgPSBcImF1dG9cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDkgLSAxMSBvbmx5XG4gICAgICAgICAgICAvLyBVc2Ugb2Zmc2V0V2lkdGgvb2Zmc2V0SGVpZ2h0IGZvciB3aGVuIGJveCBzaXppbmcgaXMgdW5yZWxpYWJsZS5cbiAgICAgICAgICAgIC8vIEluIHRob3NlIGNhc2VzLCB0aGUgY29tcHV0ZWQgdmFsdWUgY2FuIGJlIHRydXN0ZWQgdG8gYmUgYm9yZGVyLWJveC5cbiAgICAgICAgICAgIGlmICgoIXN1cHBvcnQuYm94U2l6aW5nUmVsaWFibGUoKSAmJiBpc0JvcmRlckJveCB8fFxuICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDEwIC0gMTErLCBFZGdlIDE1IC0gMTgrXG4gICAgICAgICAgICAgICAgLy8gSUUvRWRnZSBtaXNyZXBvcnQgYGdldENvbXB1dGVkU3R5bGVgIG9mIHRhYmxlIHJvd3Mgd2l0aCB3aWR0aC9oZWlnaHRcbiAgICAgICAgICAgICAgICAvLyBzZXQgaW4gQ1NTIHdoaWxlIGBvZmZzZXQqYCBwcm9wZXJ0aWVzIHJlcG9ydCBjb3JyZWN0IHZhbHVlcy5cbiAgICAgICAgICAgICAgICAvLyBJbnRlcmVzdGluZ2x5LCBpbiBzb21lIGNhc2VzIElFIDkgZG9lc24ndCBzdWZmZXIgZnJvbSB0aGlzIGlzc3VlLlxuICAgICAgICAgICAgICAgICFzdXBwb3J0LnJlbGlhYmxlVHJEaW1lbnNpb25zKCkgJiYgbm9kZU5hbWUoZWxlbSwgXCJ0clwiKSB8fFxuICAgICAgICAgICAgICAgIC8vIEZhbGwgYmFjayB0byBvZmZzZXRXaWR0aC9vZmZzZXRIZWlnaHQgd2hlbiB2YWx1ZSBpcyBcImF1dG9cIlxuICAgICAgICAgICAgICAgIC8vIFRoaXMgaGFwcGVucyBmb3IgaW5saW5lIGVsZW1lbnRzIHdpdGggbm8gZXhwbGljaXQgc2V0dGluZyAoZ2gtMzU3MSlcbiAgICAgICAgICAgICAgICB2YWwgPT09IFwiYXV0b1wiIHx8XG4gICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMSAtIDQuMyBvbmx5XG4gICAgICAgICAgICAgICAgLy8gQWxzbyB1c2Ugb2Zmc2V0V2lkdGgvb2Zmc2V0SGVpZ2h0IGZvciBtaXNyZXBvcnRlZCBpbmxpbmUgZGltZW5zaW9ucyAoZ2gtMzYwMilcbiAgICAgICAgICAgICAgICAhcGFyc2VGbG9hdCh2YWwpICYmIGpRdWVyeS5jc3MoZWxlbSwgXCJkaXNwbGF5XCIsIGZhbHNlLCBzdHlsZXMpID09PSBcImlubGluZVwiKSAmJlxuICAgICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgZWxlbWVudCBpcyB2aXNpYmxlICYgY29ubmVjdGVkXG4gICAgICAgICAgICAgICAgZWxlbS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGlzQm9yZGVyQm94ID0galF1ZXJ5LmNzcyhlbGVtLCBcImJveFNpemluZ1wiLCBmYWxzZSwgc3R5bGVzKSA9PT0gXCJib3JkZXItYm94XCI7XG4gICAgICAgICAgICAgICAgLy8gV2hlcmUgYXZhaWxhYmxlLCBvZmZzZXRXaWR0aC9vZmZzZXRIZWlnaHQgYXBwcm94aW1hdGUgYm9yZGVyIGJveCBkaW1lbnNpb25zLlxuICAgICAgICAgICAgICAgIC8vIFdoZXJlIG5vdCBhdmFpbGFibGUgKGUuZy4sIFNWRyksIGFzc3VtZSB1bnJlbGlhYmxlIGJveC1zaXppbmcgYW5kIGludGVycHJldCB0aGVcbiAgICAgICAgICAgICAgICAvLyByZXRyaWV2ZWQgdmFsdWUgYXMgYSBjb250ZW50IGJveCBkaW1lbnNpb24uXG4gICAgICAgICAgICAgICAgdmFsdWVJc0JvcmRlckJveCA9IG9mZnNldFByb3AgaW4gZWxlbTtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWVJc0JvcmRlckJveCkge1xuICAgICAgICAgICAgICAgICAgICB2YWwgPSBlbGVtW29mZnNldFByb3BdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE5vcm1hbGl6ZSBcIlwiIGFuZCBhdXRvXG4gICAgICAgICAgICB2YWwgPSBwYXJzZUZsb2F0KHZhbCkgfHwgMDtcbiAgICAgICAgICAgIC8vIEFkanVzdCBmb3IgdGhlIGVsZW1lbnQncyBib3ggbW9kZWxcbiAgICAgICAgICAgIHJldHVybiAodmFsICtcbiAgICAgICAgICAgICAgICBib3hNb2RlbEFkanVzdG1lbnQoZWxlbSwgZGltZW5zaW9uLCBleHRyYSB8fCAoaXNCb3JkZXJCb3ggPyBcImJvcmRlclwiIDogXCJjb250ZW50XCIpLCB2YWx1ZUlzQm9yZGVyQm94LCBzdHlsZXMsIFxuICAgICAgICAgICAgICAgIC8vIFByb3ZpZGUgdGhlIGN1cnJlbnQgY29tcHV0ZWQgc2l6ZSB0byByZXF1ZXN0IHNjcm9sbCBndXR0ZXIgY2FsY3VsYXRpb24gKGdoLTM1ODkpXG4gICAgICAgICAgICAgICAgdmFsKSkgKyBcInB4XCI7XG4gICAgICAgIH1cbiAgICAgICAgalF1ZXJ5LmV4dGVuZCh7XG4gICAgICAgICAgICAvLyBBZGQgaW4gc3R5bGUgcHJvcGVydHkgaG9va3MgZm9yIG92ZXJyaWRpbmcgdGhlIGRlZmF1bHRcbiAgICAgICAgICAgIC8vIGJlaGF2aW9yIG9mIGdldHRpbmcgYW5kIHNldHRpbmcgYSBzdHlsZSBwcm9wZXJ0eVxuICAgICAgICAgICAgY3NzSG9va3M6IHtcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiB7XG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKGVsZW0sIGNvbXB1dGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29tcHV0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBzaG91bGQgYWx3YXlzIGdldCBhIG51bWJlciBiYWNrIGZyb20gb3BhY2l0eVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXQgPSBjdXJDU1MoZWxlbSwgXCJvcGFjaXR5XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQgPT09IFwiXCIgPyBcIjFcIiA6IHJldDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBEb24ndCBhdXRvbWF0aWNhbGx5IGFkZCBcInB4XCIgdG8gdGhlc2UgcG9zc2libHktdW5pdGxlc3MgcHJvcGVydGllc1xuICAgICAgICAgICAgY3NzTnVtYmVyOiB7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6IHRydWUsXG4gICAgICAgICAgICAgICAgYXNwZWN0UmF0aW86IHRydWUsXG4gICAgICAgICAgICAgICAgYm9yZGVySW1hZ2VTbGljZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjb2x1bW5Db3VudDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBmbGV4R3JvdzogdHJ1ZSxcbiAgICAgICAgICAgICAgICBmbGV4U2hyaW5rOiB0cnVlLFxuICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IHRydWUsXG4gICAgICAgICAgICAgICAgZ3JpZEFyZWE6IHRydWUsXG4gICAgICAgICAgICAgICAgZ3JpZENvbHVtbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBncmlkQ29sdW1uRW5kOiB0cnVlLFxuICAgICAgICAgICAgICAgIGdyaWRDb2x1bW5TdGFydDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBncmlkUm93OiB0cnVlLFxuICAgICAgICAgICAgICAgIGdyaWRSb3dFbmQ6IHRydWUsXG4gICAgICAgICAgICAgICAgZ3JpZFJvd1N0YXJ0OiB0cnVlLFxuICAgICAgICAgICAgICAgIGxpbmVIZWlnaHQ6IHRydWUsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBvcmRlcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBvcnBoYW5zOiB0cnVlLFxuICAgICAgICAgICAgICAgIHNjYWxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIHdpZG93czogdHJ1ZSxcbiAgICAgICAgICAgICAgICB6SW5kZXg6IHRydWUsXG4gICAgICAgICAgICAgICAgem9vbTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAvLyBTVkctcmVsYXRlZFxuICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiB0cnVlLFxuICAgICAgICAgICAgICAgIGZsb29kT3BhY2l0eTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzdG9wT3BhY2l0eTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzdHJva2VNaXRlcmxpbWl0OiB0cnVlLFxuICAgICAgICAgICAgICAgIHN0cm9rZU9wYWNpdHk6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBBZGQgaW4gcHJvcGVydGllcyB3aG9zZSBuYW1lcyB5b3Ugd2lzaCB0byBmaXggYmVmb3JlXG4gICAgICAgICAgICAvLyBzZXR0aW5nIG9yIGdldHRpbmcgdGhlIHZhbHVlXG4gICAgICAgICAgICBjc3NQcm9wczoge30sXG4gICAgICAgICAgICAvLyBHZXQgYW5kIHNldCB0aGUgc3R5bGUgcHJvcGVydHkgb24gYSBET00gTm9kZVxuICAgICAgICAgICAgc3R5bGU6IGZ1bmN0aW9uIChlbGVtLCBuYW1lLCB2YWx1ZSwgZXh0cmEpIHtcbiAgICAgICAgICAgICAgICAvLyBEb24ndCBzZXQgc3R5bGVzIG9uIHRleHQgYW5kIGNvbW1lbnQgbm9kZXNcbiAgICAgICAgICAgICAgICBpZiAoIWVsZW0gfHwgZWxlbS5ub2RlVHlwZSA9PT0gMyB8fCBlbGVtLm5vZGVUeXBlID09PSA4IHx8ICFlbGVtLnN0eWxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoYXQgd2UncmUgd29ya2luZyB3aXRoIHRoZSByaWdodCBuYW1lXG4gICAgICAgICAgICAgICAgdmFyIHJldCwgdHlwZSwgaG9va3MsIG9yaWdOYW1lID0gY2FtZWxDYXNlKG5hbWUpLCBpc0N1c3RvbVByb3AgPSByY3VzdG9tUHJvcC50ZXN0KG5hbWUpLCBzdHlsZSA9IGVsZW0uc3R5bGU7XG4gICAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoYXQgd2UncmUgd29ya2luZyB3aXRoIHRoZSByaWdodCBuYW1lLiBXZSBkb24ndFxuICAgICAgICAgICAgICAgIC8vIHdhbnQgdG8gcXVlcnkgdGhlIHZhbHVlIGlmIGl0IGlzIGEgQ1NTIGN1c3RvbSBwcm9wZXJ0eVxuICAgICAgICAgICAgICAgIC8vIHNpbmNlIHRoZXkgYXJlIHVzZXItZGVmaW5lZC5cbiAgICAgICAgICAgICAgICBpZiAoIWlzQ3VzdG9tUHJvcCkge1xuICAgICAgICAgICAgICAgICAgICBuYW1lID0gZmluYWxQcm9wTmFtZShvcmlnTmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEdldHMgaG9vayBmb3IgdGhlIHByZWZpeGVkIHZlcnNpb24sIHRoZW4gdW5wcmVmaXhlZCB2ZXJzaW9uXG4gICAgICAgICAgICAgICAgaG9va3MgPSBqUXVlcnkuY3NzSG9va3NbbmFtZV0gfHwgalF1ZXJ5LmNzc0hvb2tzW29yaWdOYW1lXTtcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB3ZSdyZSBzZXR0aW5nIGEgdmFsdWVcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IFwiKz1cIiBvciBcIi09XCIgdG8gcmVsYXRpdmUgbnVtYmVycyAodHJhYy03MzQ1KVxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gXCJzdHJpbmdcIiAmJiAocmV0ID0gcmNzc051bS5leGVjKHZhbHVlKSkgJiYgcmV0WzFdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGFkanVzdENTUyhlbGVtLCBuYW1lLCByZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRml4ZXMgYnVnIHRyYWMtOTIzN1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA9IFwibnVtYmVyXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoYXQgbnVsbCBhbmQgTmFOIHZhbHVlcyBhcmVuJ3Qgc2V0ICh0cmFjLTcxMTYpXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IHZhbHVlICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIGEgbnVtYmVyIHdhcyBwYXNzZWQgaW4sIGFkZCB0aGUgdW5pdCAoZXhjZXB0IGZvciBjZXJ0YWluIENTUyBwcm9wZXJ0aWVzKVxuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgaXNDdXN0b21Qcm9wIGNoZWNrIGNhbiBiZSByZW1vdmVkIGluIGpRdWVyeSA0LjAgd2hlbiB3ZSBvbmx5IGF1dG8tYXBwZW5kXG4gICAgICAgICAgICAgICAgICAgIC8vIFwicHhcIiB0byBhIGZldyBoYXJkY29kZWQgdmFsdWVzLlxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gXCJudW1iZXJcIiAmJiAhaXNDdXN0b21Qcm9wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSArPSByZXQgJiYgcmV0WzNdIHx8IChqUXVlcnkuY3NzTnVtYmVyW29yaWdOYW1lXSA/IFwiXCIgOiBcInB4XCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIGJhY2tncm91bmQtKiBwcm9wcyBhZmZlY3Qgb3JpZ2luYWwgY2xvbmUncyB2YWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzdXBwb3J0LmNsZWFyQ2xvbmVTdHlsZSAmJiB2YWx1ZSA9PT0gXCJcIiAmJiBuYW1lLmluZGV4T2YoXCJiYWNrZ3JvdW5kXCIpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZVtuYW1lXSA9IFwiaW5oZXJpdFwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIGEgaG9vayB3YXMgcHJvdmlkZWQsIHVzZSB0aGF0IHZhbHVlLCBvdGhlcndpc2UganVzdCBzZXQgdGhlIHNwZWNpZmllZCB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWhvb2tzIHx8ICEoXCJzZXRcIiBpbiBob29rcykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICh2YWx1ZSA9IGhvb2tzLnNldChlbGVtLCB2YWx1ZSwgZXh0cmEpKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNDdXN0b21Qcm9wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGUuc2V0UHJvcGVydHkobmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVbbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgYSBob29rIHdhcyBwcm92aWRlZCBnZXQgdGhlIG5vbi1jb21wdXRlZCB2YWx1ZSBmcm9tIHRoZXJlXG4gICAgICAgICAgICAgICAgICAgIGlmIChob29rcyAmJiBcImdldFwiIGluIGhvb2tzICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAocmV0ID0gaG9va3MuZ2V0KGVsZW0sIGZhbHNlLCBleHRyYSkpICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIGp1c3QgZ2V0IHRoZSB2YWx1ZSBmcm9tIHRoZSBzdHlsZSBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0eWxlW25hbWVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjc3M6IGZ1bmN0aW9uIChlbGVtLCBuYW1lLCBleHRyYSwgc3R5bGVzKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbCwgbnVtLCBob29rcywgb3JpZ05hbWUgPSBjYW1lbENhc2UobmFtZSksIGlzQ3VzdG9tUHJvcCA9IHJjdXN0b21Qcm9wLnRlc3QobmFtZSk7XG4gICAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoYXQgd2UncmUgd29ya2luZyB3aXRoIHRoZSByaWdodCBuYW1lLiBXZSBkb24ndFxuICAgICAgICAgICAgICAgIC8vIHdhbnQgdG8gbW9kaWZ5IHRoZSB2YWx1ZSBpZiBpdCBpcyBhIENTUyBjdXN0b20gcHJvcGVydHlcbiAgICAgICAgICAgICAgICAvLyBzaW5jZSB0aGV5IGFyZSB1c2VyLWRlZmluZWQuXG4gICAgICAgICAgICAgICAgaWYgKCFpc0N1c3RvbVByb3ApIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZSA9IGZpbmFsUHJvcE5hbWUob3JpZ05hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBUcnkgcHJlZml4ZWQgbmFtZSBmb2xsb3dlZCBieSB0aGUgdW5wcmVmaXhlZCBuYW1lXG4gICAgICAgICAgICAgICAgaG9va3MgPSBqUXVlcnkuY3NzSG9va3NbbmFtZV0gfHwgalF1ZXJ5LmNzc0hvb2tzW29yaWdOYW1lXTtcbiAgICAgICAgICAgICAgICAvLyBJZiBhIGhvb2sgd2FzIHByb3ZpZGVkIGdldCB0aGUgY29tcHV0ZWQgdmFsdWUgZnJvbSB0aGVyZVxuICAgICAgICAgICAgICAgIGlmIChob29rcyAmJiBcImdldFwiIGluIGhvb2tzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbCA9IGhvb2tzLmdldChlbGVtLCB0cnVlLCBleHRyYSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgaWYgYSB3YXkgdG8gZ2V0IHRoZSBjb21wdXRlZCB2YWx1ZSBleGlzdHMsIHVzZSB0aGF0XG4gICAgICAgICAgICAgICAgaWYgKHZhbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbCA9IGN1ckNTUyhlbGVtLCBuYW1lLCBzdHlsZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IFwibm9ybWFsXCIgdG8gY29tcHV0ZWQgdmFsdWVcbiAgICAgICAgICAgICAgICBpZiAodmFsID09PSBcIm5vcm1hbFwiICYmIG5hbWUgaW4gY3NzTm9ybWFsVHJhbnNmb3JtKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbCA9IGNzc05vcm1hbFRyYW5zZm9ybVtuYW1lXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gTWFrZSBudW1lcmljIGlmIGZvcmNlZCBvciBhIHF1YWxpZmllciB3YXMgcHJvdmlkZWQgYW5kIHZhbCBsb29rcyBudW1lcmljXG4gICAgICAgICAgICAgICAgaWYgKGV4dHJhID09PSBcIlwiIHx8IGV4dHJhKSB7XG4gICAgICAgICAgICAgICAgICAgIG51bSA9IHBhcnNlRmxvYXQodmFsKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV4dHJhID09PSB0cnVlIHx8IGlzRmluaXRlKG51bSkgPyBudW0gfHwgMCA6IHZhbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGpRdWVyeS5lYWNoKFtcImhlaWdodFwiLCBcIndpZHRoXCJdLCBmdW5jdGlvbiAoX2ksIGRpbWVuc2lvbikge1xuICAgICAgICAgICAgalF1ZXJ5LmNzc0hvb2tzW2RpbWVuc2lvbl0gPSB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoZWxlbSwgY29tcHV0ZWQsIGV4dHJhKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb21wdXRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2VydGFpbiBlbGVtZW50cyBjYW4gaGF2ZSBkaW1lbnNpb24gaW5mbyBpZiB3ZSBpbnZpc2libHkgc2hvdyB0aGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBidXQgaXQgbXVzdCBoYXZlIGEgY3VycmVudCBkaXNwbGF5IHN0eWxlIHRoYXQgd291bGQgYmVuZWZpdFxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJkaXNwbGF5c3dhcC50ZXN0KGpRdWVyeS5jc3MoZWxlbSwgXCJkaXNwbGF5XCIpKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IFNhZmFyaSA4K1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRhYmxlIGNvbHVtbnMgaW4gU2FmYXJpIGhhdmUgbm9uLXplcm8gb2Zmc2V0V2lkdGggJiB6ZXJvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggdW5sZXNzIGRpc3BsYXkgaXMgY2hhbmdlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSdW5uaW5nIGdldEJvdW5kaW5nQ2xpZW50UmVjdCBvbiBhIGRpc2Nvbm5lY3RlZCBub2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW4gSUUgdGhyb3dzIGFuIGVycm9yLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICghZWxlbS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCB8fCAhZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCkgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3YXAoZWxlbSwgY3NzU2hvdywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0V2lkdGhPckhlaWdodChlbGVtLCBkaW1lbnNpb24sIGV4dHJhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0V2lkdGhPckhlaWdodChlbGVtLCBkaW1lbnNpb24sIGV4dHJhKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoZWxlbSwgdmFsdWUsIGV4dHJhKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXRjaGVzLCBzdHlsZXMgPSBnZXRTdHlsZXMoZWxlbSksIFxuICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IHJlYWQgc3R5bGVzLnBvc2l0aW9uIGlmIHRoZSB0ZXN0IGhhcyBhIGNoYW5jZSB0byBmYWlsXG4gICAgICAgICAgICAgICAgICAgIC8vIHRvIGF2b2lkIGZvcmNpbmcgYSByZWZsb3cuXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbGJveFNpemVCdWdneSA9ICFzdXBwb3J0LnNjcm9sbGJveFNpemUoKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVzLnBvc2l0aW9uID09PSBcImFic29sdXRlXCIsIFxuICAgICAgICAgICAgICAgICAgICAvLyBUbyBhdm9pZCBmb3JjaW5nIGEgcmVmbG93LCBvbmx5IGZldGNoIGJveFNpemluZyBpZiB3ZSBuZWVkIGl0IChnaC0zOTkxKVxuICAgICAgICAgICAgICAgICAgICBib3hTaXppbmdOZWVkZWQgPSBzY3JvbGxib3hTaXplQnVnZ3kgfHwgZXh0cmEsIGlzQm9yZGVyQm94ID0gYm94U2l6aW5nTmVlZGVkICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuY3NzKGVsZW0sIFwiYm94U2l6aW5nXCIsIGZhbHNlLCBzdHlsZXMpID09PSBcImJvcmRlci1ib3hcIiwgc3VidHJhY3QgPSBleHRyYSA/XG4gICAgICAgICAgICAgICAgICAgICAgICBib3hNb2RlbEFkanVzdG1lbnQoZWxlbSwgZGltZW5zaW9uLCBleHRyYSwgaXNCb3JkZXJCb3gsIHN0eWxlcykgOlxuICAgICAgICAgICAgICAgICAgICAgICAgMDtcbiAgICAgICAgICAgICAgICAgICAgLy8gQWNjb3VudCBmb3IgdW5yZWxpYWJsZSBib3JkZXItYm94IGRpbWVuc2lvbnMgYnkgY29tcGFyaW5nIG9mZnNldCogdG8gY29tcHV0ZWQgYW5kXG4gICAgICAgICAgICAgICAgICAgIC8vIGZha2luZyBhIGNvbnRlbnQtYm94IHRvIGdldCBib3JkZXIgYW5kIHBhZGRpbmcgKGdoLTM2OTkpXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0JvcmRlckJveCAmJiBzY3JvbGxib3hTaXplQnVnZ3kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRyYWN0IC09IE1hdGguY2VpbChlbGVtW1wib2Zmc2V0XCIgKyBkaW1lbnNpb25bMF0udG9VcHBlckNhc2UoKSArIGRpbWVuc2lvbi5zbGljZSgxKV0gLVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlRmxvYXQoc3R5bGVzW2RpbWVuc2lvbl0pIC1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3hNb2RlbEFkanVzdG1lbnQoZWxlbSwgZGltZW5zaW9uLCBcImJvcmRlclwiLCBmYWxzZSwgc3R5bGVzKSAtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMC41KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IHRvIHBpeGVscyBpZiB2YWx1ZSBhZGp1c3RtZW50IGlzIG5lZWRlZFxuICAgICAgICAgICAgICAgICAgICBpZiAoc3VidHJhY3QgJiYgKG1hdGNoZXMgPSByY3NzTnVtLmV4ZWModmFsdWUpKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKG1hdGNoZXNbM10gfHwgXCJweFwiKSAhPT0gXCJweFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtLnN0eWxlW2RpbWVuc2lvbl0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0galF1ZXJ5LmNzcyhlbGVtLCBkaW1lbnNpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXRQb3NpdGl2ZU51bWJlcihlbGVtLCB2YWx1ZSwgc3VidHJhY3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICBqUXVlcnkuY3NzSG9va3MubWFyZ2luTGVmdCA9IGFkZEdldEhvb2tJZihzdXBwb3J0LnJlbGlhYmxlTWFyZ2luTGVmdCwgZnVuY3Rpb24gKGVsZW0sIGNvbXB1dGVkKSB7XG4gICAgICAgICAgICBpZiAoY29tcHV0ZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKHBhcnNlRmxvYXQoY3VyQ1NTKGVsZW0sIFwibWFyZ2luTGVmdFwiKSkgfHxcbiAgICAgICAgICAgICAgICAgICAgZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0IC1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN3YXAoZWxlbSwgeyBtYXJnaW5MZWZ0OiAwIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkpICsgXCJweFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gVGhlc2UgaG9va3MgYXJlIHVzZWQgYnkgYW5pbWF0ZSB0byBleHBhbmQgcHJvcGVydGllc1xuICAgICAgICBqUXVlcnkuZWFjaCh7XG4gICAgICAgICAgICBtYXJnaW46IFwiXCIsXG4gICAgICAgICAgICBwYWRkaW5nOiBcIlwiLFxuICAgICAgICAgICAgYm9yZGVyOiBcIldpZHRoXCJcbiAgICAgICAgfSwgZnVuY3Rpb24gKHByZWZpeCwgc3VmZml4KSB7XG4gICAgICAgICAgICBqUXVlcnkuY3NzSG9va3NbcHJlZml4ICsgc3VmZml4XSA9IHtcbiAgICAgICAgICAgICAgICBleHBhbmQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IDAsIGV4cGFuZGVkID0ge30sIFxuICAgICAgICAgICAgICAgICAgICAvLyBBc3N1bWVzIGEgc2luZ2xlIG51bWJlciBpZiBub3QgYSBzdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgcGFydHMgPSB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgPyB2YWx1ZS5zcGxpdChcIiBcIikgOiBbdmFsdWVdO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKDsgaSA8IDQ7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXhwYW5kZWRbcHJlZml4ICsgY3NzRXhwYW5kW2ldICsgc3VmZml4XSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydHNbaV0gfHwgcGFydHNbaSAtIDJdIHx8IHBhcnRzWzBdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBleHBhbmRlZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKHByZWZpeCAhPT0gXCJtYXJnaW5cIikge1xuICAgICAgICAgICAgICAgIGpRdWVyeS5jc3NIb29rc1twcmVmaXggKyBzdWZmaXhdLnNldCA9IHNldFBvc2l0aXZlTnVtYmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgalF1ZXJ5LmZuLmV4dGVuZCh7XG4gICAgICAgICAgICBjc3M6IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhY2Nlc3ModGhpcywgZnVuY3Rpb24gKGVsZW0sIG5hbWUsIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdHlsZXMsIGxlbiwgbWFwID0ge30sIGkgPSAwO1xuICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShuYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVzID0gZ2V0U3R5bGVzKGVsZW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVuID0gbmFtZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwW25hbWVbaV1dID0galF1ZXJ5LmNzcyhlbGVtLCBuYW1lW2ldLCBmYWxzZSwgc3R5bGVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtYXA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWQgP1xuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LnN0eWxlKGVsZW0sIG5hbWUsIHZhbHVlKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuY3NzKGVsZW0sIG5hbWUpO1xuICAgICAgICAgICAgICAgIH0sIG5hbWUsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoID4gMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBmdW5jdGlvbiBUd2VlbihlbGVtLCBvcHRpb25zLCBwcm9wLCBlbmQsIGVhc2luZykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBUd2Vlbi5wcm90b3R5cGUuaW5pdChlbGVtLCBvcHRpb25zLCBwcm9wLCBlbmQsIGVhc2luZyk7XG4gICAgICAgIH1cbiAgICAgICAgalF1ZXJ5LlR3ZWVuID0gVHdlZW47XG4gICAgICAgIFR3ZWVuLnByb3RvdHlwZSA9IHtcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yOiBUd2VlbixcbiAgICAgICAgICAgIGluaXQ6IGZ1bmN0aW9uIChlbGVtLCBvcHRpb25zLCBwcm9wLCBlbmQsIGVhc2luZywgdW5pdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbSA9IGVsZW07XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wID0gcHJvcDtcbiAgICAgICAgICAgICAgICB0aGlzLmVhc2luZyA9IGVhc2luZyB8fCBqUXVlcnkuZWFzaW5nLl9kZWZhdWx0O1xuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydCA9IHRoaXMubm93ID0gdGhpcy5jdXIoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVuZCA9IGVuZDtcbiAgICAgICAgICAgICAgICB0aGlzLnVuaXQgPSB1bml0IHx8IChqUXVlcnkuY3NzTnVtYmVyW3Byb3BdID8gXCJcIiA6IFwicHhcIik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY3VyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhvb2tzID0gVHdlZW4ucHJvcEhvb2tzW3RoaXMucHJvcF07XG4gICAgICAgICAgICAgICAgcmV0dXJuIGhvb2tzICYmIGhvb2tzLmdldCA/XG4gICAgICAgICAgICAgICAgICAgIGhvb2tzLmdldCh0aGlzKSA6XG4gICAgICAgICAgICAgICAgICAgIFR3ZWVuLnByb3BIb29rcy5fZGVmYXVsdC5nZXQodGhpcyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcnVuOiBmdW5jdGlvbiAocGVyY2VudCkge1xuICAgICAgICAgICAgICAgIHZhciBlYXNlZCwgaG9va3MgPSBUd2Vlbi5wcm9wSG9va3NbdGhpcy5wcm9wXTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmR1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9zID0gZWFzZWQgPSBqUXVlcnkuZWFzaW5nW3RoaXMuZWFzaW5nXShwZXJjZW50LCB0aGlzLm9wdGlvbnMuZHVyYXRpb24gKiBwZXJjZW50LCAwLCAxLCB0aGlzLm9wdGlvbnMuZHVyYXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3MgPSBlYXNlZCA9IHBlcmNlbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMubm93ID0gKHRoaXMuZW5kIC0gdGhpcy5zdGFydCkgKiBlYXNlZCArIHRoaXMuc3RhcnQ7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zdGVwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5zdGVwLmNhbGwodGhpcy5lbGVtLCB0aGlzLm5vdywgdGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChob29rcyAmJiBob29rcy5zZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgaG9va3Muc2V0KHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgVHdlZW4ucHJvcEhvb2tzLl9kZWZhdWx0LnNldCh0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIFR3ZWVuLnByb3RvdHlwZS5pbml0LnByb3RvdHlwZSA9IFR3ZWVuLnByb3RvdHlwZTtcbiAgICAgICAgVHdlZW4ucHJvcEhvb2tzID0ge1xuICAgICAgICAgICAgX2RlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICh0d2Vlbikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAvLyBVc2UgYSBwcm9wZXJ0eSBvbiB0aGUgZWxlbWVudCBkaXJlY3RseSB3aGVuIGl0IGlzIG5vdCBhIERPTSBlbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAvLyBvciB3aGVuIHRoZXJlIGlzIG5vIG1hdGNoaW5nIHN0eWxlIHByb3BlcnR5IHRoYXQgZXhpc3RzLlxuICAgICAgICAgICAgICAgICAgICBpZiAodHdlZW4uZWxlbS5ub2RlVHlwZSAhPT0gMSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgdHdlZW4uZWxlbVt0d2Vlbi5wcm9wXSAhPSBudWxsICYmIHR3ZWVuLmVsZW0uc3R5bGVbdHdlZW4ucHJvcF0gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR3ZWVuLmVsZW1bdHdlZW4ucHJvcF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gUGFzc2luZyBhbiBlbXB0eSBzdHJpbmcgYXMgYSAzcmQgcGFyYW1ldGVyIHRvIC5jc3Mgd2lsbCBhdXRvbWF0aWNhbGx5XG4gICAgICAgICAgICAgICAgICAgIC8vIGF0dGVtcHQgYSBwYXJzZUZsb2F0IGFuZCBmYWxsYmFjayB0byBhIHN0cmluZyBpZiB0aGUgcGFyc2UgZmFpbHMuXG4gICAgICAgICAgICAgICAgICAgIC8vIFNpbXBsZSB2YWx1ZXMgc3VjaCBhcyBcIjEwcHhcIiBhcmUgcGFyc2VkIHRvIEZsb2F0O1xuICAgICAgICAgICAgICAgICAgICAvLyBjb21wbGV4IHZhbHVlcyBzdWNoIGFzIFwicm90YXRlKDFyYWQpXCIgYXJlIHJldHVybmVkIGFzLWlzLlxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBqUXVlcnkuY3NzKHR3ZWVuLmVsZW0sIHR3ZWVuLnByb3AsIFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAvLyBFbXB0eSBzdHJpbmdzLCBudWxsLCB1bmRlZmluZWQgYW5kIFwiYXV0b1wiIGFyZSBjb252ZXJ0ZWQgdG8gMC5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFyZXN1bHQgfHwgcmVzdWx0ID09PSBcImF1dG9cIiA/IDAgOiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh0d2Vlbikge1xuICAgICAgICAgICAgICAgICAgICAvLyBVc2Ugc3RlcCBob29rIGZvciBiYWNrIGNvbXBhdC5cbiAgICAgICAgICAgICAgICAgICAgLy8gVXNlIGNzc0hvb2sgaWYgaXRzIHRoZXJlLlxuICAgICAgICAgICAgICAgICAgICAvLyBVc2UgLnN0eWxlIGlmIGF2YWlsYWJsZSBhbmQgdXNlIHBsYWluIHByb3BlcnRpZXMgd2hlcmUgYXZhaWxhYmxlLlxuICAgICAgICAgICAgICAgICAgICBpZiAoalF1ZXJ5LmZ4LnN0ZXBbdHdlZW4ucHJvcF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5meC5zdGVwW3R3ZWVuLnByb3BdKHR3ZWVuKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0d2Vlbi5lbGVtLm5vZGVUeXBlID09PSAxICYmIChqUXVlcnkuY3NzSG9va3NbdHdlZW4ucHJvcF0gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR3ZWVuLmVsZW0uc3R5bGVbZmluYWxQcm9wTmFtZSh0d2Vlbi5wcm9wKV0gIT0gbnVsbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5zdHlsZSh0d2Vlbi5lbGVtLCB0d2Vlbi5wcm9wLCB0d2Vlbi5ub3cgKyB0d2Vlbi51bml0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR3ZWVuLmVsZW1bdHdlZW4ucHJvcF0gPSB0d2Vlbi5ub3c7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG4gICAgICAgIC8vIFBhbmljIGJhc2VkIGFwcHJvYWNoIHRvIHNldHRpbmcgdGhpbmdzIG9uIGRpc2Nvbm5lY3RlZCBub2Rlc1xuICAgICAgICBUd2Vlbi5wcm9wSG9va3Muc2Nyb2xsVG9wID0gVHdlZW4ucHJvcEhvb2tzLnNjcm9sbExlZnQgPSB7XG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh0d2Vlbikge1xuICAgICAgICAgICAgICAgIGlmICh0d2Vlbi5lbGVtLm5vZGVUeXBlICYmIHR3ZWVuLmVsZW0ucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgICAgICB0d2Vlbi5lbGVtW3R3ZWVuLnByb3BdID0gdHdlZW4ubm93O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgalF1ZXJ5LmVhc2luZyA9IHtcbiAgICAgICAgICAgIGxpbmVhcjogZnVuY3Rpb24gKHApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzd2luZzogZnVuY3Rpb24gKHApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMC41IC0gTWF0aC5jb3MocCAqIE1hdGguUEkpIC8gMjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfZGVmYXVsdDogXCJzd2luZ1wiXG4gICAgICAgIH07XG4gICAgICAgIGpRdWVyeS5meCA9IFR3ZWVuLnByb3RvdHlwZS5pbml0O1xuICAgICAgICAvLyBCYWNrIGNvbXBhdCA8MS44IGV4dGVuc2lvbiBwb2ludFxuICAgICAgICBqUXVlcnkuZnguc3RlcCA9IHt9O1xuICAgICAgICB2YXIgZnhOb3csIGluUHJvZ3Jlc3MsIHJmeHR5cGVzID0gL14oPzp0b2dnbGV8c2hvd3xoaWRlKSQvLCBycnVuID0gL3F1ZXVlSG9va3MkLztcbiAgICAgICAgZnVuY3Rpb24gc2NoZWR1bGUoKSB7XG4gICAgICAgICAgICBpZiAoaW5Qcm9ncmVzcykge1xuICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5oaWRkZW4gPT09IGZhbHNlICYmIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShzY2hlZHVsZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChzY2hlZHVsZSwgalF1ZXJ5LmZ4LmludGVydmFsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgalF1ZXJ5LmZ4LnRpY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBBbmltYXRpb25zIGNyZWF0ZWQgc3luY2hyb25vdXNseSB3aWxsIHJ1biBzeW5jaHJvbm91c2x5XG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUZ4Tm93KCkge1xuICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGZ4Tm93ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gKGZ4Tm93ID0gRGF0ZS5ub3coKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gR2VuZXJhdGUgcGFyYW1ldGVycyB0byBjcmVhdGUgYSBzdGFuZGFyZCBhbmltYXRpb25cbiAgICAgICAgZnVuY3Rpb24gZ2VuRngodHlwZSwgaW5jbHVkZVdpZHRoKSB7XG4gICAgICAgICAgICB2YXIgd2hpY2gsIGkgPSAwLCBhdHRycyA9IHsgaGVpZ2h0OiB0eXBlIH07XG4gICAgICAgICAgICAvLyBJZiB3ZSBpbmNsdWRlIHdpZHRoLCBzdGVwIHZhbHVlIGlzIDEgdG8gZG8gYWxsIGNzc0V4cGFuZCB2YWx1ZXMsXG4gICAgICAgICAgICAvLyBvdGhlcndpc2Ugc3RlcCB2YWx1ZSBpcyAyIHRvIHNraXAgb3ZlciBMZWZ0IGFuZCBSaWdodFxuICAgICAgICAgICAgaW5jbHVkZVdpZHRoID0gaW5jbHVkZVdpZHRoID8gMSA6IDA7XG4gICAgICAgICAgICBmb3IgKDsgaSA8IDQ7IGkgKz0gMiAtIGluY2x1ZGVXaWR0aCkge1xuICAgICAgICAgICAgICAgIHdoaWNoID0gY3NzRXhwYW5kW2ldO1xuICAgICAgICAgICAgICAgIGF0dHJzW1wibWFyZ2luXCIgKyB3aGljaF0gPSBhdHRyc1tcInBhZGRpbmdcIiArIHdoaWNoXSA9IHR5cGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaW5jbHVkZVdpZHRoKSB7XG4gICAgICAgICAgICAgICAgYXR0cnMub3BhY2l0eSA9IGF0dHJzLndpZHRoID0gdHlwZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhdHRycztcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVUd2Vlbih2YWx1ZSwgcHJvcCwgYW5pbWF0aW9uKSB7XG4gICAgICAgICAgICB2YXIgdHdlZW4sIGNvbGxlY3Rpb24gPSAoQW5pbWF0aW9uLnR3ZWVuZXJzW3Byb3BdIHx8IFtdKS5jb25jYXQoQW5pbWF0aW9uLnR3ZWVuZXJzW1wiKlwiXSksIGluZGV4ID0gMCwgbGVuZ3RoID0gY29sbGVjdGlvbi5sZW5ndGg7XG4gICAgICAgICAgICBmb3IgKDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICBpZiAoKHR3ZWVuID0gY29sbGVjdGlvbltpbmRleF0uY2FsbChhbmltYXRpb24sIHByb3AsIHZhbHVlKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UncmUgZG9uZSB3aXRoIHRoaXMgcHJvcGVydHlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR3ZWVuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBkZWZhdWx0UHJlZmlsdGVyKGVsZW0sIHByb3BzLCBvcHRzKSB7XG4gICAgICAgICAgICB2YXIgcHJvcCwgdmFsdWUsIHRvZ2dsZSwgaG9va3MsIG9sZGZpcmUsIHByb3BUd2VlbiwgcmVzdG9yZURpc3BsYXksIGRpc3BsYXksIGlzQm94ID0gXCJ3aWR0aFwiIGluIHByb3BzIHx8IFwiaGVpZ2h0XCIgaW4gcHJvcHMsIGFuaW0gPSB0aGlzLCBvcmlnID0ge30sIHN0eWxlID0gZWxlbS5zdHlsZSwgaGlkZGVuID0gZWxlbS5ub2RlVHlwZSAmJiBpc0hpZGRlbldpdGhpblRyZWUoZWxlbSksIGRhdGFTaG93ID0gZGF0YVByaXYuZ2V0KGVsZW0sIFwiZnhzaG93XCIpO1xuICAgICAgICAgICAgLy8gUXVldWUtc2tpcHBpbmcgYW5pbWF0aW9ucyBoaWphY2sgdGhlIGZ4IGhvb2tzXG4gICAgICAgICAgICBpZiAoIW9wdHMucXVldWUpIHtcbiAgICAgICAgICAgICAgICBob29rcyA9IGpRdWVyeS5fcXVldWVIb29rcyhlbGVtLCBcImZ4XCIpO1xuICAgICAgICAgICAgICAgIGlmIChob29rcy51bnF1ZXVlZCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGhvb2tzLnVucXVldWVkID0gMDtcbiAgICAgICAgICAgICAgICAgICAgb2xkZmlyZSA9IGhvb2tzLmVtcHR5LmZpcmU7XG4gICAgICAgICAgICAgICAgICAgIGhvb2tzLmVtcHR5LmZpcmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWhvb2tzLnVucXVldWVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkZmlyZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBob29rcy51bnF1ZXVlZCsrO1xuICAgICAgICAgICAgICAgIGFuaW0uYWx3YXlzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRW5zdXJlIHRoZSBjb21wbGV0ZSBoYW5kbGVyIGlzIGNhbGxlZCBiZWZvcmUgdGhpcyBjb21wbGV0ZXNcbiAgICAgICAgICAgICAgICAgICAgYW5pbS5hbHdheXMoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaG9va3MudW5xdWV1ZWQtLTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghalF1ZXJ5LnF1ZXVlKGVsZW0sIFwiZnhcIikubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9va3MuZW1wdHkuZmlyZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIERldGVjdCBzaG93L2hpZGUgYW5pbWF0aW9uc1xuICAgICAgICAgICAgZm9yIChwcm9wIGluIHByb3BzKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBwcm9wc1twcm9wXTtcbiAgICAgICAgICAgICAgICBpZiAocmZ4dHlwZXMudGVzdCh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHByb3BzW3Byb3BdO1xuICAgICAgICAgICAgICAgICAgICB0b2dnbGUgPSB0b2dnbGUgfHwgdmFsdWUgPT09IFwidG9nZ2xlXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gKGhpZGRlbiA/IFwiaGlkZVwiIDogXCJzaG93XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBQcmV0ZW5kIHRvIGJlIGhpZGRlbiBpZiB0aGlzIGlzIGEgXCJzaG93XCIgYW5kXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGVyZSBpcyBzdGlsbCBkYXRhIGZyb20gYSBzdG9wcGVkIHNob3cvaGlkZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcInNob3dcIiAmJiBkYXRhU2hvdyAmJiBkYXRhU2hvd1twcm9wXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlkZGVuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZ25vcmUgYWxsIG90aGVyIG5vLW9wIHNob3cvaGlkZSBkYXRhXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBvcmlnW3Byb3BdID0gZGF0YVNob3cgJiYgZGF0YVNob3dbcHJvcF0gfHwgalF1ZXJ5LnN0eWxlKGVsZW0sIHByb3ApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEJhaWwgb3V0IGlmIHRoaXMgaXMgYSBuby1vcCBsaWtlIC5oaWRlKCkuaGlkZSgpXG4gICAgICAgICAgICBwcm9wVHdlZW4gPSAhalF1ZXJ5LmlzRW1wdHlPYmplY3QocHJvcHMpO1xuICAgICAgICAgICAgaWYgKCFwcm9wVHdlZW4gJiYgalF1ZXJ5LmlzRW1wdHlPYmplY3Qob3JpZykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSZXN0cmljdCBcIm92ZXJmbG93XCIgYW5kIFwiZGlzcGxheVwiIHN0eWxlcyBkdXJpbmcgYm94IGFuaW1hdGlvbnNcbiAgICAgICAgICAgIGlmIChpc0JveCAmJiBlbGVtLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgPD05IC0gMTEsIEVkZ2UgMTIgLSAxNVxuICAgICAgICAgICAgICAgIC8vIFJlY29yZCBhbGwgMyBvdmVyZmxvdyBhdHRyaWJ1dGVzIGJlY2F1c2UgSUUgZG9lcyBub3QgaW5mZXIgdGhlIHNob3J0aGFuZFxuICAgICAgICAgICAgICAgIC8vIGZyb20gaWRlbnRpY2FsbHktdmFsdWVkIG92ZXJmbG93WCBhbmQgb3ZlcmZsb3dZIGFuZCBFZGdlIGp1c3QgbWlycm9yc1xuICAgICAgICAgICAgICAgIC8vIHRoZSBvdmVyZmxvd1ggdmFsdWUgdGhlcmUuXG4gICAgICAgICAgICAgICAgb3B0cy5vdmVyZmxvdyA9IFtzdHlsZS5vdmVyZmxvdywgc3R5bGUub3ZlcmZsb3dYLCBzdHlsZS5vdmVyZmxvd1ldO1xuICAgICAgICAgICAgICAgIC8vIElkZW50aWZ5IGEgZGlzcGxheSB0eXBlLCBwcmVmZXJyaW5nIG9sZCBzaG93L2hpZGUgZGF0YSBvdmVyIHRoZSBDU1MgY2FzY2FkZVxuICAgICAgICAgICAgICAgIHJlc3RvcmVEaXNwbGF5ID0gZGF0YVNob3cgJiYgZGF0YVNob3cuZGlzcGxheTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdG9yZURpc3BsYXkgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXN0b3JlRGlzcGxheSA9IGRhdGFQcml2LmdldChlbGVtLCBcImRpc3BsYXlcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRpc3BsYXkgPSBqUXVlcnkuY3NzKGVsZW0sIFwiZGlzcGxheVwiKTtcbiAgICAgICAgICAgICAgICBpZiAoZGlzcGxheSA9PT0gXCJub25lXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3RvcmVEaXNwbGF5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5ID0gcmVzdG9yZURpc3BsYXk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBHZXQgbm9uZW1wdHkgdmFsdWUocykgYnkgdGVtcG9yYXJpbHkgZm9yY2luZyB2aXNpYmlsaXR5XG4gICAgICAgICAgICAgICAgICAgICAgICBzaG93SGlkZShbZWxlbV0sIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdG9yZURpc3BsYXkgPSBlbGVtLnN0eWxlLmRpc3BsYXkgfHwgcmVzdG9yZURpc3BsYXk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5ID0galF1ZXJ5LmNzcyhlbGVtLCBcImRpc3BsYXlcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaG93SGlkZShbZWxlbV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEFuaW1hdGUgaW5saW5lIGVsZW1lbnRzIGFzIGlubGluZS1ibG9ja1xuICAgICAgICAgICAgICAgIGlmIChkaXNwbGF5ID09PSBcImlubGluZVwiIHx8IGRpc3BsYXkgPT09IFwiaW5saW5lLWJsb2NrXCIgJiYgcmVzdG9yZURpc3BsYXkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoalF1ZXJ5LmNzcyhlbGVtLCBcImZsb2F0XCIpID09PSBcIm5vbmVcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVzdG9yZSB0aGUgb3JpZ2luYWwgZGlzcGxheSB2YWx1ZSBhdCB0aGUgZW5kIG9mIHB1cmUgc2hvdy9oaWRlIGFuaW1hdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcHJvcFR3ZWVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbS5kb25lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGUuZGlzcGxheSA9IHJlc3RvcmVEaXNwbGF5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN0b3JlRGlzcGxheSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXkgPSBzdHlsZS5kaXNwbGF5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN0b3JlRGlzcGxheSA9IGRpc3BsYXkgPT09IFwibm9uZVwiID8gXCJcIiA6IGRpc3BsYXk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGUuZGlzcGxheSA9IFwiaW5saW5lLWJsb2NrXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0cy5vdmVyZmxvdykge1xuICAgICAgICAgICAgICAgIHN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcbiAgICAgICAgICAgICAgICBhbmltLmFsd2F5cyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlLm92ZXJmbG93ID0gb3B0cy5vdmVyZmxvd1swXTtcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUub3ZlcmZsb3dYID0gb3B0cy5vdmVyZmxvd1sxXTtcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUub3ZlcmZsb3dZID0gb3B0cy5vdmVyZmxvd1syXTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEltcGxlbWVudCBzaG93L2hpZGUgYW5pbWF0aW9uc1xuICAgICAgICAgICAgcHJvcFR3ZWVuID0gZmFsc2U7XG4gICAgICAgICAgICBmb3IgKHByb3AgaW4gb3JpZykge1xuICAgICAgICAgICAgICAgIC8vIEdlbmVyYWwgc2hvdy9oaWRlIHNldHVwIGZvciB0aGlzIGVsZW1lbnQgYW5pbWF0aW9uXG4gICAgICAgICAgICAgICAgaWYgKCFwcm9wVHdlZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFTaG93KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJoaWRkZW5cIiBpbiBkYXRhU2hvdykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZGRlbiA9IGRhdGFTaG93LmhpZGRlbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFTaG93ID0gZGF0YVByaXYuYWNjZXNzKGVsZW0sIFwiZnhzaG93XCIsIHsgZGlzcGxheTogcmVzdG9yZURpc3BsYXkgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gU3RvcmUgaGlkZGVuL3Zpc2libGUgZm9yIHRvZ2dsZSBzbyBgLnN0b3AoKS50b2dnbGUoKWAgXCJyZXZlcnNlc1wiXG4gICAgICAgICAgICAgICAgICAgIGlmICh0b2dnbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFTaG93LmhpZGRlbiA9ICFoaWRkZW47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gU2hvdyBlbGVtZW50cyBiZWZvcmUgYW5pbWF0aW5nIHRoZW1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGhpZGRlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0hpZGUoW2VsZW1dLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1sb29wLWZ1bmMgKi9cbiAgICAgICAgICAgICAgICAgICAgYW5pbS5kb25lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tbG9vcC1mdW5jICovXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgZmluYWwgc3RlcCBvZiBhIFwiaGlkZVwiIGFuaW1hdGlvbiBpcyBhY3R1YWxseSBoaWRpbmcgdGhlIGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaGlkZGVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0hpZGUoW2VsZW1dKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFQcml2LnJlbW92ZShlbGVtLCBcImZ4c2hvd1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAocHJvcCBpbiBvcmlnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LnN0eWxlKGVsZW0sIHByb3AsIG9yaWdbcHJvcF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gUGVyLXByb3BlcnR5IHNldHVwXG4gICAgICAgICAgICAgICAgcHJvcFR3ZWVuID0gY3JlYXRlVHdlZW4oaGlkZGVuID8gZGF0YVNob3dbcHJvcF0gOiAwLCBwcm9wLCBhbmltKTtcbiAgICAgICAgICAgICAgICBpZiAoIShwcm9wIGluIGRhdGFTaG93KSkge1xuICAgICAgICAgICAgICAgICAgICBkYXRhU2hvd1twcm9wXSA9IHByb3BUd2Vlbi5zdGFydDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhpZGRlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcFR3ZWVuLmVuZCA9IHByb3BUd2Vlbi5zdGFydDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BUd2Vlbi5zdGFydCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gcHJvcEZpbHRlcihwcm9wcywgc3BlY2lhbEVhc2luZykge1xuICAgICAgICAgICAgdmFyIGluZGV4LCBuYW1lLCBlYXNpbmcsIHZhbHVlLCBob29rcztcbiAgICAgICAgICAgIC8vIGNhbWVsQ2FzZSwgc3BlY2lhbEVhc2luZyBhbmQgZXhwYW5kIGNzc0hvb2sgcGFzc1xuICAgICAgICAgICAgZm9yIChpbmRleCBpbiBwcm9wcykge1xuICAgICAgICAgICAgICAgIG5hbWUgPSBjYW1lbENhc2UoaW5kZXgpO1xuICAgICAgICAgICAgICAgIGVhc2luZyA9IHNwZWNpYWxFYXNpbmdbbmFtZV07XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBwcm9wc1tpbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGVhc2luZyA9IHZhbHVlWzFdO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHByb3BzW2luZGV4XSA9IHZhbHVlWzBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggIT09IG5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcHNbbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHByb3BzW2luZGV4XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaG9va3MgPSBqUXVlcnkuY3NzSG9va3NbbmFtZV07XG4gICAgICAgICAgICAgICAgaWYgKGhvb2tzICYmIFwiZXhwYW5kXCIgaW4gaG9va3MpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBob29rcy5leHBhbmQodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgcHJvcHNbbmFtZV07XG4gICAgICAgICAgICAgICAgICAgIC8vIE5vdCBxdWl0ZSAkLmV4dGVuZCwgdGhpcyB3b24ndCBvdmVyd3JpdGUgZXhpc3Rpbmcga2V5cy5cbiAgICAgICAgICAgICAgICAgICAgLy8gUmV1c2luZyAnaW5kZXgnIGJlY2F1c2Ugd2UgaGF2ZSB0aGUgY29ycmVjdCBcIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICBmb3IgKGluZGV4IGluIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShpbmRleCBpbiBwcm9wcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wc1tpbmRleF0gPSB2YWx1ZVtpbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3BlY2lhbEVhc2luZ1tpbmRleF0gPSBlYXNpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNwZWNpYWxFYXNpbmdbbmFtZV0gPSBlYXNpbmc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIEFuaW1hdGlvbihlbGVtLCBwcm9wZXJ0aWVzLCBvcHRpb25zKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0LCBzdG9wcGVkLCBpbmRleCA9IDAsIGxlbmd0aCA9IEFuaW1hdGlvbi5wcmVmaWx0ZXJzLmxlbmd0aCwgZGVmZXJyZWQgPSBqUXVlcnkuRGVmZXJyZWQoKS5hbHdheXMoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIC8vIERvbid0IG1hdGNoIGVsZW0gaW4gdGhlIDphbmltYXRlZCBzZWxlY3RvclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aWNrLmVsZW07XG4gICAgICAgICAgICB9KSwgdGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RvcHBlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50VGltZSA9IGZ4Tm93IHx8IGNyZWF0ZUZ4Tm93KCksIHJlbWFpbmluZyA9IE1hdGgubWF4KDAsIGFuaW1hdGlvbi5zdGFydFRpbWUgKyBhbmltYXRpb24uZHVyYXRpb24gLSBjdXJyZW50VGltZSksIFxuICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IEFuZHJvaWQgMi4zIG9ubHlcbiAgICAgICAgICAgICAgICAvLyBBcmNoYWljIGNyYXNoIGJ1ZyB3b24ndCBhbGxvdyB1cyB0byB1c2UgYDEgLSAoIDAuNSB8fCAwIClgICh0cmFjLTEyNDk3KVxuICAgICAgICAgICAgICAgIHRlbXAgPSByZW1haW5pbmcgLyBhbmltYXRpb24uZHVyYXRpb24gfHwgMCwgcGVyY2VudCA9IDEgLSB0ZW1wLCBpbmRleCA9IDAsIGxlbmd0aCA9IGFuaW1hdGlvbi50d2VlbnMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGZvciAoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb24udHdlZW5zW2luZGV4XS5ydW4ocGVyY2VudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlZmVycmVkLm5vdGlmeVdpdGgoZWxlbSwgW2FuaW1hdGlvbiwgcGVyY2VudCwgcmVtYWluaW5nXSk7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlcmUncyBtb3JlIHRvIGRvLCB5aWVsZFxuICAgICAgICAgICAgICAgIGlmIChwZXJjZW50IDwgMSAmJiBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlbWFpbmluZztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhpcyB3YXMgYW4gZW1wdHkgYW5pbWF0aW9uLCBzeW50aGVzaXplIGEgZmluYWwgcHJvZ3Jlc3Mgbm90aWZpY2F0aW9uXG4gICAgICAgICAgICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQubm90aWZ5V2l0aChlbGVtLCBbYW5pbWF0aW9uLCAxLCAwXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFJlc29sdmUgdGhlIGFuaW1hdGlvbiBhbmQgcmVwb3J0IGl0cyBjb25jbHVzaW9uXG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZVdpdGgoZWxlbSwgW2FuaW1hdGlvbl0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0sIGFuaW1hdGlvbiA9IGRlZmVycmVkLnByb21pc2Uoe1xuICAgICAgICAgICAgICAgIGVsZW06IGVsZW0sXG4gICAgICAgICAgICAgICAgcHJvcHM6IGpRdWVyeS5leHRlbmQoe30sIHByb3BlcnRpZXMpLFxuICAgICAgICAgICAgICAgIG9wdHM6IGpRdWVyeS5leHRlbmQodHJ1ZSwge1xuICAgICAgICAgICAgICAgICAgICBzcGVjaWFsRWFzaW5nOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgZWFzaW5nOiBqUXVlcnkuZWFzaW5nLl9kZWZhdWx0XG4gICAgICAgICAgICAgICAgfSwgb3B0aW9ucyksXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxQcm9wZXJ0aWVzOiBwcm9wZXJ0aWVzLFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsT3B0aW9uczogb3B0aW9ucyxcbiAgICAgICAgICAgICAgICBzdGFydFRpbWU6IGZ4Tm93IHx8IGNyZWF0ZUZ4Tm93KCksXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IG9wdGlvbnMuZHVyYXRpb24sXG4gICAgICAgICAgICAgICAgdHdlZW5zOiBbXSxcbiAgICAgICAgICAgICAgICBjcmVhdGVUd2VlbjogZnVuY3Rpb24gKHByb3AsIGVuZCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdHdlZW4gPSBqUXVlcnkuVHdlZW4oZWxlbSwgYW5pbWF0aW9uLm9wdHMsIHByb3AsIGVuZCwgYW5pbWF0aW9uLm9wdHMuc3BlY2lhbEVhc2luZ1twcm9wXSB8fCBhbmltYXRpb24ub3B0cy5lYXNpbmcpO1xuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb24udHdlZW5zLnB1c2godHdlZW4pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHdlZW47XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdG9wOiBmdW5jdGlvbiAoZ290b0VuZCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSAwLCBcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgd2UgYXJlIGdvaW5nIHRvIHRoZSBlbmQsIHdlIHdhbnQgdG8gcnVuIGFsbCB0aGUgdHdlZW5zXG4gICAgICAgICAgICAgICAgICAgIC8vIG90aGVyd2lzZSB3ZSBza2lwIHRoaXMgcGFydFxuICAgICAgICAgICAgICAgICAgICBsZW5ndGggPSBnb3RvRW5kID8gYW5pbWF0aW9uLnR3ZWVucy5sZW5ndGggOiAwO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RvcHBlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uLnR3ZWVuc1tpbmRleF0ucnVuKDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlc29sdmUgd2hlbiB3ZSBwbGF5ZWQgdGhlIGxhc3QgZnJhbWU7IG90aGVyd2lzZSwgcmVqZWN0XG4gICAgICAgICAgICAgICAgICAgIGlmIChnb3RvRW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5ub3RpZnlXaXRoKGVsZW0sIFthbmltYXRpb24sIDEsIDBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmVXaXRoKGVsZW0sIFthbmltYXRpb24sIGdvdG9FbmRdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdFdpdGgoZWxlbSwgW2FuaW1hdGlvbiwgZ290b0VuZF0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLCBwcm9wcyA9IGFuaW1hdGlvbi5wcm9wcztcbiAgICAgICAgICAgIHByb3BGaWx0ZXIocHJvcHMsIGFuaW1hdGlvbi5vcHRzLnNwZWNpYWxFYXNpbmcpO1xuICAgICAgICAgICAgZm9yICg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gQW5pbWF0aW9uLnByZWZpbHRlcnNbaW5kZXhdLmNhbGwoYW5pbWF0aW9uLCBlbGVtLCBwcm9wcywgYW5pbWF0aW9uLm9wdHMpO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24ocmVzdWx0LnN0b3ApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuX3F1ZXVlSG9va3MoYW5pbWF0aW9uLmVsZW0sIGFuaW1hdGlvbi5vcHRzLnF1ZXVlKS5zdG9wID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3RvcC5iaW5kKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBqUXVlcnkubWFwKHByb3BzLCBjcmVhdGVUd2VlbiwgYW5pbWF0aW9uKTtcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGFuaW1hdGlvbi5vcHRzLnN0YXJ0KSkge1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvbi5vcHRzLnN0YXJ0LmNhbGwoZWxlbSwgYW5pbWF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEF0dGFjaCBjYWxsYmFja3MgZnJvbSBvcHRpb25zXG4gICAgICAgICAgICBhbmltYXRpb25cbiAgICAgICAgICAgICAgICAucHJvZ3Jlc3MoYW5pbWF0aW9uLm9wdHMucHJvZ3Jlc3MpXG4gICAgICAgICAgICAgICAgLmRvbmUoYW5pbWF0aW9uLm9wdHMuZG9uZSwgYW5pbWF0aW9uLm9wdHMuY29tcGxldGUpXG4gICAgICAgICAgICAgICAgLmZhaWwoYW5pbWF0aW9uLm9wdHMuZmFpbClcbiAgICAgICAgICAgICAgICAuYWx3YXlzKGFuaW1hdGlvbi5vcHRzLmFsd2F5cyk7XG4gICAgICAgICAgICBqUXVlcnkuZngudGltZXIoalF1ZXJ5LmV4dGVuZCh0aWNrLCB7XG4gICAgICAgICAgICAgICAgZWxlbTogZWxlbSxcbiAgICAgICAgICAgICAgICBhbmltOiBhbmltYXRpb24sXG4gICAgICAgICAgICAgICAgcXVldWU6IGFuaW1hdGlvbi5vcHRzLnF1ZXVlXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICByZXR1cm4gYW5pbWF0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGpRdWVyeS5BbmltYXRpb24gPSBqUXVlcnkuZXh0ZW5kKEFuaW1hdGlvbiwge1xuICAgICAgICAgICAgdHdlZW5lcnM6IHtcbiAgICAgICAgICAgICAgICBcIipcIjogW2Z1bmN0aW9uIChwcm9wLCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHR3ZWVuID0gdGhpcy5jcmVhdGVUd2Vlbihwcm9wLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGp1c3RDU1ModHdlZW4uZWxlbSwgcHJvcCwgcmNzc051bS5leGVjKHZhbHVlKSwgdHdlZW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR3ZWVuO1xuICAgICAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHR3ZWVuZXI6IGZ1bmN0aW9uIChwcm9wcywgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihwcm9wcykpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgPSBwcm9wcztcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMgPSBbXCIqXCJdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMgPSBwcm9wcy5tYXRjaChybm90aHRtbHdoaXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHByb3AsIGluZGV4ID0gMCwgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGZvciAoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgICAgICBwcm9wID0gcHJvcHNbaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBBbmltYXRpb24udHdlZW5lcnNbcHJvcF0gPSBBbmltYXRpb24udHdlZW5lcnNbcHJvcF0gfHwgW107XG4gICAgICAgICAgICAgICAgICAgIEFuaW1hdGlvbi50d2VlbmVyc1twcm9wXS51bnNoaWZ0KGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcHJlZmlsdGVyczogW2RlZmF1bHRQcmVmaWx0ZXJdLFxuICAgICAgICAgICAgcHJlZmlsdGVyOiBmdW5jdGlvbiAoY2FsbGJhY2ssIHByZXBlbmQpIHtcbiAgICAgICAgICAgICAgICBpZiAocHJlcGVuZCkge1xuICAgICAgICAgICAgICAgICAgICBBbmltYXRpb24ucHJlZmlsdGVycy51bnNoaWZ0KGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIEFuaW1hdGlvbi5wcmVmaWx0ZXJzLnB1c2goY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGpRdWVyeS5zcGVlZCA9IGZ1bmN0aW9uIChzcGVlZCwgZWFzaW5nLCBmbikge1xuICAgICAgICAgICAgdmFyIG9wdCA9IHNwZWVkICYmIHR5cGVvZiBzcGVlZCA9PT0gXCJvYmplY3RcIiA/IGpRdWVyeS5leHRlbmQoe30sIHNwZWVkKSA6IHtcbiAgICAgICAgICAgICAgICBjb21wbGV0ZTogZm4gfHwgIWZuICYmIGVhc2luZyB8fFxuICAgICAgICAgICAgICAgICAgICBpc0Z1bmN0aW9uKHNwZWVkKSAmJiBzcGVlZCxcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogc3BlZWQsXG4gICAgICAgICAgICAgICAgZWFzaW5nOiBmbiAmJiBlYXNpbmcgfHwgZWFzaW5nICYmICFpc0Z1bmN0aW9uKGVhc2luZykgJiYgZWFzaW5nXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gR28gdG8gdGhlIGVuZCBzdGF0ZSBpZiBmeCBhcmUgb2ZmXG4gICAgICAgICAgICBpZiAoalF1ZXJ5LmZ4Lm9mZikge1xuICAgICAgICAgICAgICAgIG9wdC5kdXJhdGlvbiA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9wdC5kdXJhdGlvbiAhPT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0LmR1cmF0aW9uIGluIGpRdWVyeS5meC5zcGVlZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdC5kdXJhdGlvbiA9IGpRdWVyeS5meC5zcGVlZHNbb3B0LmR1cmF0aW9uXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdC5kdXJhdGlvbiA9IGpRdWVyeS5meC5zcGVlZHMuX2RlZmF1bHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBOb3JtYWxpemUgb3B0LnF1ZXVlIC0gdHJ1ZS91bmRlZmluZWQvbnVsbCAtPiBcImZ4XCJcbiAgICAgICAgICAgIGlmIChvcHQucXVldWUgPT0gbnVsbCB8fCBvcHQucXVldWUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBvcHQucXVldWUgPSBcImZ4XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBRdWV1ZWluZ1xuICAgICAgICAgICAgb3B0Lm9sZCA9IG9wdC5jb21wbGV0ZTtcbiAgICAgICAgICAgIG9wdC5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihvcHQub2xkKSkge1xuICAgICAgICAgICAgICAgICAgICBvcHQub2xkLmNhbGwodGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChvcHQucXVldWUpIHtcbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmRlcXVldWUodGhpcywgb3B0LnF1ZXVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIG9wdDtcbiAgICAgICAgfTtcbiAgICAgICAgalF1ZXJ5LmZuLmV4dGVuZCh7XG4gICAgICAgICAgICBmYWRlVG86IGZ1bmN0aW9uIChzcGVlZCwgdG8sIGVhc2luZywgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAvLyBTaG93IGFueSBoaWRkZW4gZWxlbWVudHMgYWZ0ZXIgc2V0dGluZyBvcGFjaXR5IHRvIDBcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5maWx0ZXIoaXNIaWRkZW5XaXRoaW5UcmVlKS5jc3MoXCJvcGFjaXR5XCIsIDApLnNob3coKVxuICAgICAgICAgICAgICAgICAgICAvLyBBbmltYXRlIHRvIHRoZSB2YWx1ZSBzcGVjaWZpZWRcbiAgICAgICAgICAgICAgICAgICAgLmVuZCgpLmFuaW1hdGUoeyBvcGFjaXR5OiB0byB9LCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYW5pbWF0ZTogZnVuY3Rpb24gKHByb3AsIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVtcHR5ID0galF1ZXJ5LmlzRW1wdHlPYmplY3QocHJvcCksIG9wdGFsbCA9IGpRdWVyeS5zcGVlZChzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayksIGRvQW5pbWF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBPcGVyYXRlIG9uIGEgY29weSBvZiBwcm9wIHNvIHBlci1wcm9wZXJ0eSBlYXNpbmcgd29uJ3QgYmUgbG9zdFxuICAgICAgICAgICAgICAgICAgICB2YXIgYW5pbSA9IEFuaW1hdGlvbih0aGlzLCBqUXVlcnkuZXh0ZW5kKHt9LCBwcm9wKSwgb3B0YWxsKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gRW1wdHkgYW5pbWF0aW9ucywgb3IgZmluaXNoaW5nIHJlc29sdmVzIGltbWVkaWF0ZWx5XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbXB0eSB8fCBkYXRhUHJpdi5nZXQodGhpcywgXCJmaW5pc2hcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW0uc3RvcCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgZG9BbmltYXRpb24uZmluaXNoID0gZG9BbmltYXRpb247XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVtcHR5IHx8IG9wdGFsbC5xdWV1ZSA9PT0gZmFsc2UgP1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVhY2goZG9BbmltYXRpb24pIDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5xdWV1ZShvcHRhbGwucXVldWUsIGRvQW5pbWF0aW9uKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdG9wOiBmdW5jdGlvbiAodHlwZSwgY2xlYXJRdWV1ZSwgZ290b0VuZCkge1xuICAgICAgICAgICAgICAgIHZhciBzdG9wUXVldWUgPSBmdW5jdGlvbiAoaG9va3MpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0b3AgPSBob29rcy5zdG9wO1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgaG9va3Muc3RvcDtcbiAgICAgICAgICAgICAgICAgICAgc3RvcChnb3RvRW5kKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdHlwZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICBnb3RvRW5kID0gY2xlYXJRdWV1ZTtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJRdWV1ZSA9IHR5cGU7XG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjbGVhclF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucXVldWUodHlwZSB8fCBcImZ4XCIsIFtdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkZXF1ZXVlID0gdHJ1ZSwgaW5kZXggPSB0eXBlICE9IG51bGwgJiYgdHlwZSArIFwicXVldWVIb29rc1wiLCB0aW1lcnMgPSBqUXVlcnkudGltZXJzLCBkYXRhID0gZGF0YVByaXYuZ2V0KHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhW2luZGV4XSAmJiBkYXRhW2luZGV4XS5zdG9wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcFF1ZXVlKGRhdGFbaW5kZXhdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaW5kZXggaW4gZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhW2luZGV4XSAmJiBkYXRhW2luZGV4XS5zdG9wICYmIHJydW4udGVzdChpbmRleCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcFF1ZXVlKGRhdGFbaW5kZXhdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZm9yIChpbmRleCA9IHRpbWVycy5sZW5ndGg7IGluZGV4LS07KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGltZXJzW2luZGV4XS5lbGVtID09PSB0aGlzICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHR5cGUgPT0gbnVsbCB8fCB0aW1lcnNbaW5kZXhdLnF1ZXVlID09PSB0eXBlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVyc1tpbmRleF0uYW5pbS5zdG9wKGdvdG9FbmQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcXVldWUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBTdGFydCB0aGUgbmV4dCBpbiB0aGUgcXVldWUgaWYgdGhlIGxhc3Qgc3RlcCB3YXNuJ3QgZm9yY2VkLlxuICAgICAgICAgICAgICAgICAgICAvLyBUaW1lcnMgY3VycmVudGx5IHdpbGwgY2FsbCB0aGVpciBjb21wbGV0ZSBjYWxsYmFja3MsIHdoaWNoXG4gICAgICAgICAgICAgICAgICAgIC8vIHdpbGwgZGVxdWV1ZSBidXQgb25seSBpZiB0aGV5IHdlcmUgZ290b0VuZC5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlcXVldWUgfHwgIWdvdG9FbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5kZXF1ZXVlKHRoaXMsIHR5cGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmluaXNoOiBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICB0eXBlID0gdHlwZSB8fCBcImZ4XCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXgsIGRhdGEgPSBkYXRhUHJpdi5nZXQodGhpcyksIHF1ZXVlID0gZGF0YVt0eXBlICsgXCJxdWV1ZVwiXSwgaG9va3MgPSBkYXRhW3R5cGUgKyBcInF1ZXVlSG9va3NcIl0sIHRpbWVycyA9IGpRdWVyeS50aW1lcnMsIGxlbmd0aCA9IHF1ZXVlID8gcXVldWUubGVuZ3RoIDogMDtcbiAgICAgICAgICAgICAgICAgICAgLy8gRW5hYmxlIGZpbmlzaGluZyBmbGFnIG9uIHByaXZhdGUgZGF0YVxuICAgICAgICAgICAgICAgICAgICBkYXRhLmZpbmlzaCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIC8vIEVtcHR5IHRoZSBxdWV1ZSBmaXJzdFxuICAgICAgICAgICAgICAgICAgICBqUXVlcnkucXVldWUodGhpcywgdHlwZSwgW10pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaG9va3MgJiYgaG9va3Muc3RvcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaG9va3Muc3RvcC5jYWxsKHRoaXMsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIExvb2sgZm9yIGFueSBhY3RpdmUgYW5pbWF0aW9ucywgYW5kIGZpbmlzaCB0aGVtXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaW5kZXggPSB0aW1lcnMubGVuZ3RoOyBpbmRleC0tOykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRpbWVyc1tpbmRleF0uZWxlbSA9PT0gdGhpcyAmJiB0aW1lcnNbaW5kZXhdLnF1ZXVlID09PSB0eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZXJzW2luZGV4XS5hbmltLnN0b3AodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gTG9vayBmb3IgYW55IGFuaW1hdGlvbnMgaW4gdGhlIG9sZCBxdWV1ZSBhbmQgZmluaXNoIHRoZW1cbiAgICAgICAgICAgICAgICAgICAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocXVldWVbaW5kZXhdICYmIHF1ZXVlW2luZGV4XS5maW5pc2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWV1ZVtpbmRleF0uZmluaXNoLmNhbGwodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gVHVybiBvZmYgZmluaXNoaW5nIGZsYWdcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGRhdGEuZmluaXNoO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgalF1ZXJ5LmVhY2goW1widG9nZ2xlXCIsIFwic2hvd1wiLCBcImhpZGVcIl0sIGZ1bmN0aW9uIChfaSwgbmFtZSkge1xuICAgICAgICAgICAgdmFyIGNzc0ZuID0galF1ZXJ5LmZuW25hbWVdO1xuICAgICAgICAgICAgalF1ZXJ5LmZuW25hbWVdID0gZnVuY3Rpb24gKHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNwZWVkID09IG51bGwgfHwgdHlwZW9mIHNwZWVkID09PSBcImJvb2xlYW5cIiA/XG4gICAgICAgICAgICAgICAgICAgIGNzc0ZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGUoZ2VuRngobmFtZSwgdHJ1ZSksIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBHZW5lcmF0ZSBzaG9ydGN1dHMgZm9yIGN1c3RvbSBhbmltYXRpb25zXG4gICAgICAgIGpRdWVyeS5lYWNoKHtcbiAgICAgICAgICAgIHNsaWRlRG93bjogZ2VuRngoXCJzaG93XCIpLFxuICAgICAgICAgICAgc2xpZGVVcDogZ2VuRngoXCJoaWRlXCIpLFxuICAgICAgICAgICAgc2xpZGVUb2dnbGU6IGdlbkZ4KFwidG9nZ2xlXCIpLFxuICAgICAgICAgICAgZmFkZUluOiB7IG9wYWNpdHk6IFwic2hvd1wiIH0sXG4gICAgICAgICAgICBmYWRlT3V0OiB7IG9wYWNpdHk6IFwiaGlkZVwiIH0sXG4gICAgICAgICAgICBmYWRlVG9nZ2xlOiB7IG9wYWNpdHk6IFwidG9nZ2xlXCIgfVxuICAgICAgICB9LCBmdW5jdGlvbiAobmFtZSwgcHJvcHMpIHtcbiAgICAgICAgICAgIGpRdWVyeS5mbltuYW1lXSA9IGZ1bmN0aW9uIChzcGVlZCwgZWFzaW5nLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmFuaW1hdGUocHJvcHMsIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICBqUXVlcnkudGltZXJzID0gW107XG4gICAgICAgIGpRdWVyeS5meC50aWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHRpbWVyLCBpID0gMCwgdGltZXJzID0galF1ZXJ5LnRpbWVycztcbiAgICAgICAgICAgIGZ4Tm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIGZvciAoOyBpIDwgdGltZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGltZXIgPSB0aW1lcnNbaV07XG4gICAgICAgICAgICAgICAgLy8gUnVuIHRoZSB0aW1lciBhbmQgc2FmZWx5IHJlbW92ZSBpdCB3aGVuIGRvbmUgKGFsbG93aW5nIGZvciBleHRlcm5hbCByZW1vdmFsKVxuICAgICAgICAgICAgICAgIGlmICghdGltZXIoKSAmJiB0aW1lcnNbaV0gPT09IHRpbWVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRpbWVycy5zcGxpY2UoaS0tLCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRpbWVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBqUXVlcnkuZnguc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnhOb3cgPSB1bmRlZmluZWQ7XG4gICAgICAgIH07XG4gICAgICAgIGpRdWVyeS5meC50aW1lciA9IGZ1bmN0aW9uICh0aW1lcikge1xuICAgICAgICAgICAgalF1ZXJ5LnRpbWVycy5wdXNoKHRpbWVyKTtcbiAgICAgICAgICAgIGpRdWVyeS5meC5zdGFydCgpO1xuICAgICAgICB9O1xuICAgICAgICBqUXVlcnkuZnguaW50ZXJ2YWwgPSAxMztcbiAgICAgICAgalF1ZXJ5LmZ4LnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGluUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgICAgICAgIHNjaGVkdWxlKCk7XG4gICAgICAgIH07XG4gICAgICAgIGpRdWVyeS5meC5zdG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaW5Qcm9ncmVzcyA9IG51bGw7XG4gICAgICAgIH07XG4gICAgICAgIGpRdWVyeS5meC5zcGVlZHMgPSB7XG4gICAgICAgICAgICBzbG93OiA2MDAsXG4gICAgICAgICAgICBmYXN0OiAyMDAsXG4gICAgICAgICAgICAvLyBEZWZhdWx0IHNwZWVkXG4gICAgICAgICAgICBfZGVmYXVsdDogNDAwXG4gICAgICAgIH07XG4gICAgICAgIC8vIEJhc2VkIG9mZiBvZiB0aGUgcGx1Z2luIGJ5IENsaW50IEhlbGZlcnMsIHdpdGggcGVybWlzc2lvbi5cbiAgICAgICAgalF1ZXJ5LmZuLmRlbGF5ID0gZnVuY3Rpb24gKHRpbWUsIHR5cGUpIHtcbiAgICAgICAgICAgIHRpbWUgPSBqUXVlcnkuZnggPyBqUXVlcnkuZnguc3BlZWRzW3RpbWVdIHx8IHRpbWUgOiB0aW1lO1xuICAgICAgICAgICAgdHlwZSA9IHR5cGUgfHwgXCJmeFwiO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucXVldWUodHlwZSwgZnVuY3Rpb24gKG5leHQsIGhvb2tzKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dChuZXh0LCB0aW1lKTtcbiAgICAgICAgICAgICAgICBob29rcy5zdG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSwgc2VsZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKSwgb3B0ID0gc2VsZWN0LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIikpO1xuICAgICAgICAgICAgaW5wdXQudHlwZSA9IFwiY2hlY2tib3hcIjtcbiAgICAgICAgICAgIC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjMgb25seVxuICAgICAgICAgICAgLy8gRGVmYXVsdCB2YWx1ZSBmb3IgYSBjaGVja2JveCBzaG91bGQgYmUgXCJvblwiXG4gICAgICAgICAgICBzdXBwb3J0LmNoZWNrT24gPSBpbnB1dC52YWx1ZSAhPT0gXCJcIjtcbiAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDw9MTEgb25seVxuICAgICAgICAgICAgLy8gTXVzdCBhY2Nlc3Mgc2VsZWN0ZWRJbmRleCB0byBtYWtlIGRlZmF1bHQgb3B0aW9ucyBzZWxlY3RcbiAgICAgICAgICAgIHN1cHBvcnQub3B0U2VsZWN0ZWQgPSBvcHQuc2VsZWN0ZWQ7XG4gICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHlcbiAgICAgICAgICAgIC8vIEFuIGlucHV0IGxvc2VzIGl0cyB2YWx1ZSBhZnRlciBiZWNvbWluZyBhIHJhZGlvXG4gICAgICAgICAgICBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgICAgICAgIGlucHV0LnZhbHVlID0gXCJ0XCI7XG4gICAgICAgICAgICBpbnB1dC50eXBlID0gXCJyYWRpb1wiO1xuICAgICAgICAgICAgc3VwcG9ydC5yYWRpb1ZhbHVlID0gaW5wdXQudmFsdWUgPT09IFwidFwiO1xuICAgICAgICB9KSgpO1xuICAgICAgICB2YXIgYm9vbEhvb2ssIGF0dHJIYW5kbGUgPSBqUXVlcnkuZXhwci5hdHRySGFuZGxlO1xuICAgICAgICBqUXVlcnkuZm4uZXh0ZW5kKHtcbiAgICAgICAgICAgIGF0dHI6IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhY2Nlc3ModGhpcywgalF1ZXJ5LmF0dHIsIG5hbWUsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoID4gMSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVtb3ZlQXR0cjogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LnJlbW92ZUF0dHIodGhpcywgbmFtZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBqUXVlcnkuZXh0ZW5kKHtcbiAgICAgICAgICAgIGF0dHI6IGZ1bmN0aW9uIChlbGVtLCBuYW1lLCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHZhciByZXQsIGhvb2tzLCBuVHlwZSA9IGVsZW0ubm9kZVR5cGU7XG4gICAgICAgICAgICAgICAgLy8gRG9uJ3QgZ2V0L3NldCBhdHRyaWJ1dGVzIG9uIHRleHQsIGNvbW1lbnQgYW5kIGF0dHJpYnV0ZSBub2Rlc1xuICAgICAgICAgICAgICAgIGlmIChuVHlwZSA9PT0gMyB8fCBuVHlwZSA9PT0gOCB8fCBuVHlwZSA9PT0gMikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIHByb3Agd2hlbiBhdHRyaWJ1dGVzIGFyZSBub3Qgc3VwcG9ydGVkXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBlbGVtLmdldEF0dHJpYnV0ZSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4galF1ZXJ5LnByb3AoZWxlbSwgbmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBBdHRyaWJ1dGUgaG9va3MgYXJlIGRldGVybWluZWQgYnkgdGhlIGxvd2VyY2FzZSB2ZXJzaW9uXG4gICAgICAgICAgICAgICAgLy8gR3JhYiBuZWNlc3NhcnkgaG9vayBpZiBvbmUgaXMgZGVmaW5lZFxuICAgICAgICAgICAgICAgIGlmIChuVHlwZSAhPT0gMSB8fCAhalF1ZXJ5LmlzWE1MRG9jKGVsZW0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGhvb2tzID0galF1ZXJ5LmF0dHJIb29rc1tuYW1lLnRvTG93ZXJDYXNlKCldIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAoalF1ZXJ5LmV4cHIubWF0Y2guYm9vbC50ZXN0KG5hbWUpID8gYm9vbEhvb2sgOiB1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5yZW1vdmVBdHRyKGVsZW0sIG5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChob29rcyAmJiBcInNldFwiIGluIGhvb2tzICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAocmV0ID0gaG9va3Muc2V0KGVsZW0sIHZhbHVlLCBuYW1lKSkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbGVtLnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSArIFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChob29rcyAmJiBcImdldFwiIGluIGhvb2tzICYmIChyZXQgPSBob29rcy5nZXQoZWxlbSwgbmFtZSkpICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldCA9IGpRdWVyeS5maW5kLmF0dHIoZWxlbSwgbmFtZSk7XG4gICAgICAgICAgICAgICAgLy8gTm9uLWV4aXN0ZW50IGF0dHJpYnV0ZXMgcmV0dXJuIG51bGwsIHdlIG5vcm1hbGl6ZSB0byB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICByZXR1cm4gcmV0ID09IG51bGwgPyB1bmRlZmluZWQgOiByZXQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYXR0ckhvb2tzOiB7XG4gICAgICAgICAgICAgICAgdHlwZToge1xuICAgICAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChlbGVtLCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzdXBwb3J0LnJhZGlvVmFsdWUgJiYgdmFsdWUgPT09IFwicmFkaW9cIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVOYW1lKGVsZW0sIFwiaW5wdXRcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsID0gZWxlbS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS52YWx1ZSA9IHZhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlbW92ZUF0dHI6IGZ1bmN0aW9uIChlbGVtLCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHZhciBuYW1lLCBpID0gMCwgXG4gICAgICAgICAgICAgICAgLy8gQXR0cmlidXRlIG5hbWVzIGNhbiBjb250YWluIG5vbi1IVE1MIHdoaXRlc3BhY2UgY2hhcmFjdGVyc1xuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI2F0dHJpYnV0ZXMtMlxuICAgICAgICAgICAgICAgIGF0dHJOYW1lcyA9IHZhbHVlICYmIHZhbHVlLm1hdGNoKHJub3RodG1sd2hpdGUpO1xuICAgICAgICAgICAgICAgIGlmIChhdHRyTmFtZXMgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKG5hbWUgPSBhdHRyTmFtZXNbaSsrXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0ucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gSG9va3MgZm9yIGJvb2xlYW4gYXR0cmlidXRlc1xuICAgICAgICBib29sSG9vayA9IHtcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGVsZW0sIHZhbHVlLCBuYW1lKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgYm9vbGVhbiBhdHRyaWJ1dGVzIHdoZW4gc2V0IHRvIGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeS5yZW1vdmVBdHRyKGVsZW0sIG5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUobmFtZSwgbmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBuYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBqUXVlcnkuZWFjaChqUXVlcnkuZXhwci5tYXRjaC5ib29sLnNvdXJjZS5tYXRjaCgvXFx3Ky9nKSwgZnVuY3Rpb24gKF9pLCBuYW1lKSB7XG4gICAgICAgICAgICB2YXIgZ2V0dGVyID0gYXR0ckhhbmRsZVtuYW1lXSB8fCBqUXVlcnkuZmluZC5hdHRyO1xuICAgICAgICAgICAgYXR0ckhhbmRsZVtuYW1lXSA9IGZ1bmN0aW9uIChlbGVtLCBuYW1lLCBpc1hNTCkge1xuICAgICAgICAgICAgICAgIHZhciByZXQsIGhhbmRsZSwgbG93ZXJjYXNlTmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICBpZiAoIWlzWE1MKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEF2b2lkIGFuIGluZmluaXRlIGxvb3AgYnkgdGVtcG9yYXJpbHkgcmVtb3ZpbmcgdGhpcyBmdW5jdGlvbiBmcm9tIHRoZSBnZXR0ZXJcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlID0gYXR0ckhhbmRsZVtsb3dlcmNhc2VOYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgYXR0ckhhbmRsZVtsb3dlcmNhc2VOYW1lXSA9IHJldDtcbiAgICAgICAgICAgICAgICAgICAgcmV0ID0gZ2V0dGVyKGVsZW0sIG5hbWUsIGlzWE1MKSAhPSBudWxsID9cbiAgICAgICAgICAgICAgICAgICAgICAgIGxvd2VyY2FzZU5hbWUgOlxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgYXR0ckhhbmRsZVtsb3dlcmNhc2VOYW1lXSA9IGhhbmRsZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgcmZvY3VzYWJsZSA9IC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksIHJjbGlja2FibGUgPSAvXig/OmF8YXJlYSkkL2k7XG4gICAgICAgIGpRdWVyeS5mbi5leHRlbmQoe1xuICAgICAgICAgICAgcHJvcDogZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjY2Vzcyh0aGlzLCBqUXVlcnkucHJvcCwgbmFtZSwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZW1vdmVQcm9wOiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpc1tqUXVlcnkucHJvcEZpeFtuYW1lXSB8fCBuYW1lXTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGpRdWVyeS5leHRlbmQoe1xuICAgICAgICAgICAgcHJvcDogZnVuY3Rpb24gKGVsZW0sIG5hbWUsIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJldCwgaG9va3MsIG5UeXBlID0gZWxlbS5ub2RlVHlwZTtcbiAgICAgICAgICAgICAgICAvLyBEb24ndCBnZXQvc2V0IHByb3BlcnRpZXMgb24gdGV4dCwgY29tbWVudCBhbmQgYXR0cmlidXRlIG5vZGVzXG4gICAgICAgICAgICAgICAgaWYgKG5UeXBlID09PSAzIHx8IG5UeXBlID09PSA4IHx8IG5UeXBlID09PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5UeXBlICE9PSAxIHx8ICFqUXVlcnkuaXNYTUxEb2MoZWxlbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRml4IG5hbWUgYW5kIGF0dGFjaCBob29rc1xuICAgICAgICAgICAgICAgICAgICBuYW1lID0galF1ZXJ5LnByb3BGaXhbbmFtZV0gfHwgbmFtZTtcbiAgICAgICAgICAgICAgICAgICAgaG9va3MgPSBqUXVlcnkucHJvcEhvb2tzW25hbWVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaG9va3MgJiYgXCJzZXRcIiBpbiBob29rcyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKHJldCA9IGhvb2tzLnNldChlbGVtLCB2YWx1ZSwgbmFtZSkpICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChlbGVtW25hbWVdID0gdmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaG9va3MgJiYgXCJnZXRcIiBpbiBob29rcyAmJiAocmV0ID0gaG9va3MuZ2V0KGVsZW0sIG5hbWUpKSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbVtuYW1lXTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwcm9wSG9va3M6IHtcbiAgICAgICAgICAgICAgICB0YWJJbmRleDoge1xuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSBvbmx5XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBlbGVtLnRhYkluZGV4IGRvZXNuJ3QgYWx3YXlzIHJldHVybiB0aGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvcnJlY3QgdmFsdWUgd2hlbiBpdCBoYXNuJ3QgYmVlbiBleHBsaWNpdGx5IHNldFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXNlIHByb3BlciBhdHRyaWJ1dGUgcmV0cmlldmFsICh0cmFjLTEyMDcyKVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhYmluZGV4ID0galF1ZXJ5LmZpbmQuYXR0cihlbGVtLCBcInRhYmluZGV4XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhYmluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KHRhYmluZGV4LCAxMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmZvY3VzYWJsZS50ZXN0KGVsZW0ubm9kZU5hbWUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmNsaWNrYWJsZS50ZXN0KGVsZW0ubm9kZU5hbWUpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0uaHJlZikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHByb3BGaXg6IHtcbiAgICAgICAgICAgICAgICBcImZvclwiOiBcImh0bWxGb3JcIixcbiAgICAgICAgICAgICAgICBcImNsYXNzXCI6IFwiY2xhc3NOYW1lXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFN1cHBvcnQ6IElFIDw9MTEgb25seVxuICAgICAgICAvLyBBY2Nlc3NpbmcgdGhlIHNlbGVjdGVkSW5kZXggcHJvcGVydHlcbiAgICAgICAgLy8gZm9yY2VzIHRoZSBicm93c2VyIHRvIHJlc3BlY3Qgc2V0dGluZyBzZWxlY3RlZFxuICAgICAgICAvLyBvbiB0aGUgb3B0aW9uXG4gICAgICAgIC8vIFRoZSBnZXR0ZXIgZW5zdXJlcyBhIGRlZmF1bHQgb3B0aW9uIGlzIHNlbGVjdGVkXG4gICAgICAgIC8vIHdoZW4gaW4gYW4gb3B0Z3JvdXBcbiAgICAgICAgLy8gZXNsaW50IHJ1bGUgXCJuby11bnVzZWQtZXhwcmVzc2lvbnNcIiBpcyBkaXNhYmxlZCBmb3IgdGhpcyBjb2RlXG4gICAgICAgIC8vIHNpbmNlIGl0IGNvbnNpZGVycyBzdWNoIGFjY2Vzc2lvbnMgbm9vcFxuICAgICAgICBpZiAoIXN1cHBvcnQub3B0U2VsZWN0ZWQpIHtcbiAgICAgICAgICAgIGpRdWVyeS5wcm9wSG9va3Muc2VsZWN0ZWQgPSB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICAvKiBlc2xpbnQgbm8tdW51c2VkLWV4cHJlc3Npb25zOiBcIm9mZlwiICovXG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnQgJiYgcGFyZW50LnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudC5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qIGVzbGludCBuby11bnVzZWQtZXhwcmVzc2lvbnM6IFwib2ZmXCIgKi9cbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudCA9IGVsZW0ucGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50LnNlbGVjdGVkSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50LnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBqUXVlcnkuZWFjaChbXG4gICAgICAgICAgICBcInRhYkluZGV4XCIsXG4gICAgICAgICAgICBcInJlYWRPbmx5XCIsXG4gICAgICAgICAgICBcIm1heExlbmd0aFwiLFxuICAgICAgICAgICAgXCJjZWxsU3BhY2luZ1wiLFxuICAgICAgICAgICAgXCJjZWxsUGFkZGluZ1wiLFxuICAgICAgICAgICAgXCJyb3dTcGFuXCIsXG4gICAgICAgICAgICBcImNvbFNwYW5cIixcbiAgICAgICAgICAgIFwidXNlTWFwXCIsXG4gICAgICAgICAgICBcImZyYW1lQm9yZGVyXCIsXG4gICAgICAgICAgICBcImNvbnRlbnRFZGl0YWJsZVwiXG4gICAgICAgIF0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGpRdWVyeS5wcm9wRml4W3RoaXMudG9Mb3dlckNhc2UoKV0gPSB0aGlzO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gU3RyaXAgYW5kIGNvbGxhcHNlIHdoaXRlc3BhY2UgYWNjb3JkaW5nIHRvIEhUTUwgc3BlY1xuICAgICAgICAvLyBodHRwczovL2luZnJhLnNwZWMud2hhdHdnLm9yZy8jc3RyaXAtYW5kLWNvbGxhcHNlLWFzY2lpLXdoaXRlc3BhY2VcbiAgICAgICAgZnVuY3Rpb24gc3RyaXBBbmRDb2xsYXBzZSh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIHRva2VucyA9IHZhbHVlLm1hdGNoKHJub3RodG1sd2hpdGUpIHx8IFtdO1xuICAgICAgICAgICAgcmV0dXJuIHRva2Vucy5qb2luKFwiIFwiKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBnZXRDbGFzcyhlbGVtKSB7XG4gICAgICAgICAgICByZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUgJiYgZWxlbS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKSB8fCBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGNsYXNzZXNUb0FycmF5KHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLm1hdGNoKHJub3RodG1sd2hpdGUpIHx8IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIGpRdWVyeS5mbi5leHRlbmQoe1xuICAgICAgICAgICAgYWRkQ2xhc3M6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHZhciBjbGFzc05hbWVzLCBjdXIsIGN1clZhbHVlLCBjbGFzc05hbWUsIGksIGZpbmFsVmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKGopIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeSh0aGlzKS5hZGRDbGFzcyh2YWx1ZS5jYWxsKHRoaXMsIGosIGdldENsYXNzKHRoaXMpKSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWVzID0gY2xhc3Nlc1RvQXJyYXkodmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmIChjbGFzc05hbWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1clZhbHVlID0gZ2V0Q2xhc3ModGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXIgPSB0aGlzLm5vZGVUeXBlID09PSAxICYmIChcIiBcIiArIHN0cmlwQW5kQ29sbGFwc2UoY3VyVmFsdWUpICsgXCIgXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBjbGFzc05hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA9IGNsYXNzTmFtZXNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXIuaW5kZXhPZihcIiBcIiArIGNsYXNzTmFtZSArIFwiIFwiKSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ciArPSBjbGFzc05hbWUgKyBcIiBcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IGFzc2lnbiBpZiBkaWZmZXJlbnQgdG8gYXZvaWQgdW5uZWVkZWQgcmVuZGVyaW5nLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsVmFsdWUgPSBzdHJpcEFuZENvbGxhcHNlKGN1cik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1clZhbHVlICE9PSBmaW5hbFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgZmluYWxWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHZhciBjbGFzc05hbWVzLCBjdXIsIGN1clZhbHVlLCBjbGFzc05hbWUsIGksIGZpbmFsVmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKGopIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeSh0aGlzKS5yZW1vdmVDbGFzcyh2YWx1ZS5jYWxsKHRoaXMsIGosIGdldENsYXNzKHRoaXMpKSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXR0cihcImNsYXNzXCIsIFwiXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWVzID0gY2xhc3Nlc1RvQXJyYXkodmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmIChjbGFzc05hbWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1clZhbHVlID0gZ2V0Q2xhc3ModGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGV4cHJlc3Npb24gaXMgaGVyZSBmb3IgYmV0dGVyIGNvbXByZXNzaWJpbGl0eSAoc2VlIGFkZENsYXNzKVxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyID0gdGhpcy5ub2RlVHlwZSA9PT0gMSAmJiAoXCIgXCIgKyBzdHJpcEFuZENvbGxhcHNlKGN1clZhbHVlKSArIFwiIFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY2xhc3NOYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWUgPSBjbGFzc05hbWVzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgKmFsbCogaW5zdGFuY2VzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChjdXIuaW5kZXhPZihcIiBcIiArIGNsYXNzTmFtZSArIFwiIFwiKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXIgPSBjdXIucmVwbGFjZShcIiBcIiArIGNsYXNzTmFtZSArIFwiIFwiLCBcIiBcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT25seSBhc3NpZ24gaWYgZGlmZmVyZW50IHRvIGF2b2lkIHVubmVlZGVkIHJlbmRlcmluZy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbFZhbHVlID0gc3RyaXBBbmRDb2xsYXBzZShjdXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJWYWx1ZSAhPT0gZmluYWxWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIGZpbmFsVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRvZ2dsZUNsYXNzOiBmdW5jdGlvbiAodmFsdWUsIHN0YXRlVmFsKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNsYXNzTmFtZXMsIGNsYXNzTmFtZSwgaSwgc2VsZiwgdHlwZSA9IHR5cGVvZiB2YWx1ZSwgaXNWYWxpZFZhbHVlID0gdHlwZSA9PT0gXCJzdHJpbmdcIiB8fCBBcnJheS5pc0FycmF5KHZhbHVlKTtcbiAgICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KHRoaXMpLnRvZ2dsZUNsYXNzKHZhbHVlLmNhbGwodGhpcywgaSwgZ2V0Q2xhc3ModGhpcyksIHN0YXRlVmFsKSwgc3RhdGVWYWwpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzdGF0ZVZhbCA9PT0gXCJib29sZWFuXCIgJiYgaXNWYWxpZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZVZhbCA/IHRoaXMuYWRkQ2xhc3ModmFsdWUpIDogdGhpcy5yZW1vdmVDbGFzcyh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZXMgPSBjbGFzc2VzVG9BcnJheSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRvZ2dsZSBpbmRpdmlkdWFsIGNsYXNzIG5hbWVzXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmID0galF1ZXJ5KHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGNsYXNzTmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWUgPSBjbGFzc05hbWVzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGVhY2ggY2xhc3NOYW1lIGdpdmVuLCBzcGFjZSBzZXBhcmF0ZWQgbGlzdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLmhhc0NsYXNzKGNsYXNzTmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5yZW1vdmVDbGFzcyhjbGFzc05hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5hZGRDbGFzcyhjbGFzc05hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRvZ2dsZSB3aG9sZSBjbGFzcyBuYW1lXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fCB0eXBlID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gZ2V0Q2xhc3ModGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2xhc3NOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RvcmUgY2xhc3NOYW1lIGlmIHNldFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFQcml2LnNldCh0aGlzLCBcIl9fY2xhc3NOYW1lX19cIiwgY2xhc3NOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBlbGVtZW50IGhhcyBhIGNsYXNzIG5hbWUgb3IgaWYgd2UncmUgcGFzc2VkIGBmYWxzZWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGVuIHJlbW92ZSB0aGUgd2hvbGUgY2xhc3NuYW1lIChpZiB0aGVyZSB3YXMgb25lLCB0aGUgYWJvdmUgc2F2ZWQgaXQpLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIGJyaW5nIGJhY2sgd2hhdGV2ZXIgd2FzIHByZXZpb3VzbHkgc2F2ZWQgKGlmIGFueXRoaW5nKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZhbGxpbmcgYmFjayB0byB0aGUgZW1wdHkgc3RyaW5nIGlmIG5vdGhpbmcgd2FzIHN0b3JlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNldEF0dHJpYnV0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgY2xhc3NOYW1lIHx8IHZhbHVlID09PSBmYWxzZSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhUHJpdi5nZXQodGhpcywgXCJfX2NsYXNzTmFtZV9fXCIpIHx8IFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaGFzQ2xhc3M6IGZ1bmN0aW9uIChzZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgIHZhciBjbGFzc05hbWUsIGVsZW0sIGkgPSAwO1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA9IFwiIFwiICsgc2VsZWN0b3IgKyBcIiBcIjtcbiAgICAgICAgICAgICAgICB3aGlsZSAoKGVsZW0gPSB0aGlzW2krK10pKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbGVtLm5vZGVUeXBlID09PSAxICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAoXCIgXCIgKyBzdHJpcEFuZENvbGxhcHNlKGdldENsYXNzKGVsZW0pKSArIFwiIFwiKS5pbmRleE9mKGNsYXNzTmFtZSkgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIHJyZXR1cm4gPSAvXFxyL2c7XG4gICAgICAgIGpRdWVyeS5mbi5leHRlbmQoe1xuICAgICAgICAgICAgdmFsOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgaG9va3MsIHJldCwgdmFsdWVJc0Z1bmN0aW9uLCBlbGVtID0gdGhpc1swXTtcbiAgICAgICAgICAgICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvb2tzID0galF1ZXJ5LnZhbEhvb2tzW2VsZW0udHlwZV0gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkudmFsSG9va3NbZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChob29rcyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZ2V0XCIgaW4gaG9va3MgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAocmV0ID0gaG9va3MuZ2V0KGVsZW0sIFwidmFsdWVcIikpICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0gZWxlbS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBtb3N0IGNvbW1vbiBzdHJpbmcgY2FzZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcmV0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldC5yZXBsYWNlKHJyZXR1cm4sIFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSGFuZGxlIGNhc2VzIHdoZXJlIHZhbHVlIGlzIG51bGwvdW5kZWYgb3IgbnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0ID09IG51bGwgPyBcIlwiIDogcmV0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFsdWVJc0Z1bmN0aW9uID0gaXNGdW5jdGlvbih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5ub2RlVHlwZSAhPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZUlzRnVuY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IHZhbHVlLmNhbGwodGhpcywgaSwgalF1ZXJ5KHRoaXMpLnZhbCgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFRyZWF0IG51bGwvdW5kZWZpbmVkIGFzIFwiXCI7IGNvbnZlcnQgbnVtYmVycyB0byBzdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbCArPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsID0galF1ZXJ5Lm1hcCh2YWwsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSA9PSBudWxsID8gXCJcIiA6IHZhbHVlICsgXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGhvb2tzID0galF1ZXJ5LnZhbEhvb2tzW3RoaXMudHlwZV0gfHwgalF1ZXJ5LnZhbEhvb2tzW3RoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKV07XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHNldCByZXR1cm5zIHVuZGVmaW5lZCwgZmFsbCBiYWNrIHRvIG5vcm1hbCBzZXR0aW5nXG4gICAgICAgICAgICAgICAgICAgIGlmICghaG9va3MgfHwgIShcInNldFwiIGluIGhvb2tzKSB8fCBob29rcy5zZXQodGhpcywgdmFsLCBcInZhbHVlXCIpID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSB2YWw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGpRdWVyeS5leHRlbmQoe1xuICAgICAgICAgICAgdmFsSG9va3M6IHtcbiAgICAgICAgICAgICAgICBvcHRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbCA9IGpRdWVyeS5maW5kLmF0dHIoZWxlbSwgXCJ2YWx1ZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWwgIT0gbnVsbCA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA8PTEwIC0gMTEgb25seVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9wdGlvbi50ZXh0IHRocm93cyBleGNlcHRpb25zICh0cmFjLTE0Njg2LCB0cmFjLTE0ODU4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN0cmlwIGFuZCBjb2xsYXBzZSB3aGl0ZXNwYWNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy8jc3RyaXAtYW5kLWNvbGxhcHNlLXdoaXRlc3BhY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJpcEFuZENvbGxhcHNlKGpRdWVyeS50ZXh0KGVsZW0pKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2VsZWN0OiB7XG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSwgb3B0aW9uLCBpLCBvcHRpb25zID0gZWxlbS5vcHRpb25zLCBpbmRleCA9IGVsZW0uc2VsZWN0ZWRJbmRleCwgb25lID0gZWxlbS50eXBlID09PSBcInNlbGVjdC1vbmVcIiwgdmFsdWVzID0gb25lID8gbnVsbCA6IFtdLCBtYXggPSBvbmUgPyBpbmRleCArIDEgOiBvcHRpb25zLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gbWF4O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IG9uZSA/IGluZGV4IDogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgdGhlIHNlbGVjdGVkIG9wdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoOyBpIDwgbWF4OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb24gPSBvcHRpb25zW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSUU4LTkgZG9lc24ndCB1cGRhdGUgc2VsZWN0ZWQgYWZ0ZXIgZm9ybSByZXNldCAodHJhYy0yNTUxKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgob3B0aW9uLnNlbGVjdGVkIHx8IGkgPT09IGluZGV4KSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEb24ndCByZXR1cm4gb3B0aW9ucyB0aGF0IGFyZSBkaXNhYmxlZCBvciBpbiBhIGRpc2FibGVkIG9wdGdyb3VwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICFvcHRpb24uZGlzYWJsZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCFvcHRpb24ucGFyZW50Tm9kZS5kaXNhYmxlZCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIW5vZGVOYW1lKG9wdGlvbi5wYXJlbnROb2RlLCBcIm9wdGdyb3VwXCIpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBHZXQgdGhlIHNwZWNpZmljIHZhbHVlIGZvciB0aGUgb3B0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0galF1ZXJ5KG9wdGlvbikudmFsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGRvbid0IG5lZWQgYW4gYXJyYXkgZm9yIG9uZSBzZWxlY3RzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNdWx0aS1TZWxlY3RzIHJldHVybiBhbiBhcnJheVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXMucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoZWxlbSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcHRpb25TZXQsIG9wdGlvbiwgb3B0aW9ucyA9IGVsZW0ub3B0aW9ucywgdmFsdWVzID0galF1ZXJ5Lm1ha2VBcnJheSh2YWx1ZSksIGkgPSBvcHRpb25zLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb24gPSBvcHRpb25zW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbmQtYXNzaWduICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbi5zZWxlY3RlZCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5pbkFycmF5KGpRdWVyeS52YWxIb29rcy5vcHRpb24uZ2V0KG9wdGlvbiksIHZhbHVlcykgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25TZXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbmQtYXNzaWduICovXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGb3JjZSBicm93c2VycyB0byBiZWhhdmUgY29uc2lzdGVudGx5IHdoZW4gbm9uLW1hdGNoaW5nIHZhbHVlIGlzIHNldFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFvcHRpb25TZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtLnNlbGVjdGVkSW5kZXggPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBSYWRpb3MgYW5kIGNoZWNrYm94ZXMgZ2V0dGVyL3NldHRlclxuICAgICAgICBqUXVlcnkuZWFjaChbXCJyYWRpb1wiLCBcImNoZWNrYm94XCJdLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBqUXVlcnkudmFsSG9va3NbdGhpc10gPSB7XG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoZWxlbSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGVsZW0uY2hlY2tlZCA9IGpRdWVyeS5pbkFycmF5KGpRdWVyeShlbGVtKS52YWwoKSwgdmFsdWUpID4gLTEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmICghc3VwcG9ydC5jaGVja09uKSB7XG4gICAgICAgICAgICAgICAgalF1ZXJ5LnZhbEhvb2tzW3RoaXNdLmdldCA9IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpID09PSBudWxsID8gXCJvblwiIDogZWxlbS52YWx1ZTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gUmV0dXJuIGpRdWVyeSBmb3IgYXR0cmlidXRlcy1vbmx5IGluY2x1c2lvblxuICAgICAgICB2YXIgbG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb247XG4gICAgICAgIHZhciBub25jZSA9IHsgZ3VpZDogRGF0ZS5ub3coKSB9O1xuICAgICAgICB2YXIgcnF1ZXJ5ID0gKC9cXD8vKTtcbiAgICAgICAgLy8gQ3Jvc3MtYnJvd3NlciB4bWwgcGFyc2luZ1xuICAgICAgICBqUXVlcnkucGFyc2VYTUwgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgdmFyIHhtbCwgcGFyc2VyRXJyb3JFbGVtO1xuICAgICAgICAgICAgaWYgKCFkYXRhIHx8IHR5cGVvZiBkYXRhICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA5IC0gMTEgb25seVxuICAgICAgICAgICAgLy8gSUUgdGhyb3dzIG9uIHBhcnNlRnJvbVN0cmluZyB3aXRoIGludmFsaWQgaW5wdXQuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHhtbCA9IChuZXcgd2luZG93LkRPTVBhcnNlcigpKS5wYXJzZUZyb21TdHJpbmcoZGF0YSwgXCJ0ZXh0L3htbFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7IH1cbiAgICAgICAgICAgIHBhcnNlckVycm9yRWxlbSA9IHhtbCAmJiB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJwYXJzZXJlcnJvclwiKVswXTtcbiAgICAgICAgICAgIGlmICgheG1sIHx8IHBhcnNlckVycm9yRWxlbSkge1xuICAgICAgICAgICAgICAgIGpRdWVyeS5lcnJvcihcIkludmFsaWQgWE1MOiBcIiArIChwYXJzZXJFcnJvckVsZW0gP1xuICAgICAgICAgICAgICAgICAgICBqUXVlcnkubWFwKHBhcnNlckVycm9yRWxlbS5jaGlsZE5vZGVzLCBmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbC50ZXh0Q29udGVudDtcbiAgICAgICAgICAgICAgICAgICAgfSkuam9pbihcIlxcblwiKSA6XG4gICAgICAgICAgICAgICAgICAgIGRhdGEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB4bWw7XG4gICAgICAgIH07XG4gICAgICAgIHZhciByZm9jdXNNb3JwaCA9IC9eKD86Zm9jdXNpbmZvY3VzfGZvY3Vzb3V0Ymx1cikkLywgc3RvcFByb3BhZ2F0aW9uQ2FsbGJhY2sgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgfTtcbiAgICAgICAgalF1ZXJ5LmV4dGVuZChqUXVlcnkuZXZlbnQsIHtcbiAgICAgICAgICAgIHRyaWdnZXI6IGZ1bmN0aW9uIChldmVudCwgZGF0YSwgZWxlbSwgb25seUhhbmRsZXJzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGksIGN1ciwgdG1wLCBidWJibGVUeXBlLCBvbnR5cGUsIGhhbmRsZSwgc3BlY2lhbCwgbGFzdEVsZW1lbnQsIGV2ZW50UGF0aCA9IFtlbGVtIHx8IGRvY3VtZW50XSwgdHlwZSA9IGhhc093bi5jYWxsKGV2ZW50LCBcInR5cGVcIikgPyBldmVudC50eXBlIDogZXZlbnQsIG5hbWVzcGFjZXMgPSBoYXNPd24uY2FsbChldmVudCwgXCJuYW1lc3BhY2VcIikgPyBldmVudC5uYW1lc3BhY2Uuc3BsaXQoXCIuXCIpIDogW107XG4gICAgICAgICAgICAgICAgY3VyID0gbGFzdEVsZW1lbnQgPSB0bXAgPSBlbGVtID0gZWxlbSB8fCBkb2N1bWVudDtcbiAgICAgICAgICAgICAgICAvLyBEb24ndCBkbyBldmVudHMgb24gdGV4dCBhbmQgY29tbWVudCBub2Rlc1xuICAgICAgICAgICAgICAgIGlmIChlbGVtLm5vZGVUeXBlID09PSAzIHx8IGVsZW0ubm9kZVR5cGUgPT09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBmb2N1cy9ibHVyIG1vcnBocyB0byBmb2N1c2luL291dDsgZW5zdXJlIHdlJ3JlIG5vdCBmaXJpbmcgdGhlbSByaWdodCBub3dcbiAgICAgICAgICAgICAgICBpZiAocmZvY3VzTW9ycGgudGVzdCh0eXBlICsgalF1ZXJ5LmV2ZW50LnRyaWdnZXJlZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZS5pbmRleE9mKFwiLlwiKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE5hbWVzcGFjZWQgdHJpZ2dlcjsgY3JlYXRlIGEgcmVnZXhwIHRvIG1hdGNoIGV2ZW50IHR5cGUgaW4gaGFuZGxlKClcbiAgICAgICAgICAgICAgICAgICAgbmFtZXNwYWNlcyA9IHR5cGUuc3BsaXQoXCIuXCIpO1xuICAgICAgICAgICAgICAgICAgICB0eXBlID0gbmFtZXNwYWNlcy5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICBuYW1lc3BhY2VzLnNvcnQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb250eXBlID0gdHlwZS5pbmRleE9mKFwiOlwiKSA8IDAgJiYgXCJvblwiICsgdHlwZTtcbiAgICAgICAgICAgICAgICAvLyBDYWxsZXIgY2FuIHBhc3MgaW4gYSBqUXVlcnkuRXZlbnQgb2JqZWN0LCBPYmplY3QsIG9yIGp1c3QgYW4gZXZlbnQgdHlwZSBzdHJpbmdcbiAgICAgICAgICAgICAgICBldmVudCA9IGV2ZW50W2pRdWVyeS5leHBhbmRvXSA/XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50IDpcbiAgICAgICAgICAgICAgICAgICAgbmV3IGpRdWVyeS5FdmVudCh0eXBlLCB0eXBlb2YgZXZlbnQgPT09IFwib2JqZWN0XCIgJiYgZXZlbnQpO1xuICAgICAgICAgICAgICAgIC8vIFRyaWdnZXIgYml0bWFzazogJiAxIGZvciBuYXRpdmUgaGFuZGxlcnM7ICYgMiBmb3IgalF1ZXJ5IChhbHdheXMgdHJ1ZSlcbiAgICAgICAgICAgICAgICBldmVudC5pc1RyaWdnZXIgPSBvbmx5SGFuZGxlcnMgPyAyIDogMztcbiAgICAgICAgICAgICAgICBldmVudC5uYW1lc3BhY2UgPSBuYW1lc3BhY2VzLmpvaW4oXCIuXCIpO1xuICAgICAgICAgICAgICAgIGV2ZW50LnJuYW1lc3BhY2UgPSBldmVudC5uYW1lc3BhY2UgP1xuICAgICAgICAgICAgICAgICAgICBuZXcgUmVnRXhwKFwiKF58XFxcXC4pXCIgKyBuYW1lc3BhY2VzLmpvaW4oXCJcXFxcLig/Oi4qXFxcXC58KVwiKSArIFwiKFxcXFwufCQpXCIpIDpcbiAgICAgICAgICAgICAgICAgICAgbnVsbDtcbiAgICAgICAgICAgICAgICAvLyBDbGVhbiB1cCB0aGUgZXZlbnQgaW4gY2FzZSBpdCBpcyBiZWluZyByZXVzZWRcbiAgICAgICAgICAgICAgICBldmVudC5yZXN1bHQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgaWYgKCFldmVudC50YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQudGFyZ2V0ID0gZWxlbTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQ2xvbmUgYW55IGluY29taW5nIGRhdGEgYW5kIHByZXBlbmQgdGhlIGV2ZW50LCBjcmVhdGluZyB0aGUgaGFuZGxlciBhcmcgbGlzdFxuICAgICAgICAgICAgICAgIGRhdGEgPSBkYXRhID09IG51bGwgP1xuICAgICAgICAgICAgICAgICAgICBbZXZlbnRdIDpcbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5Lm1ha2VBcnJheShkYXRhLCBbZXZlbnRdKTtcbiAgICAgICAgICAgICAgICAvLyBBbGxvdyBzcGVjaWFsIGV2ZW50cyB0byBkcmF3IG91dHNpZGUgdGhlIGxpbmVzXG4gICAgICAgICAgICAgICAgc3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsW3R5cGVdIHx8IHt9O1xuICAgICAgICAgICAgICAgIGlmICghb25seUhhbmRsZXJzICYmIHNwZWNpYWwudHJpZ2dlciAmJiBzcGVjaWFsLnRyaWdnZXIuYXBwbHkoZWxlbSwgZGF0YSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gRGV0ZXJtaW5lIGV2ZW50IHByb3BhZ2F0aW9uIHBhdGggaW4gYWR2YW5jZSwgcGVyIFczQyBldmVudHMgc3BlYyAodHJhYy05OTUxKVxuICAgICAgICAgICAgICAgIC8vIEJ1YmJsZSB1cCB0byBkb2N1bWVudCwgdGhlbiB0byB3aW5kb3c7IHdhdGNoIGZvciBhIGdsb2JhbCBvd25lckRvY3VtZW50IHZhciAodHJhYy05NzI0KVxuICAgICAgICAgICAgICAgIGlmICghb25seUhhbmRsZXJzICYmICFzcGVjaWFsLm5vQnViYmxlICYmICFpc1dpbmRvdyhlbGVtKSkge1xuICAgICAgICAgICAgICAgICAgICBidWJibGVUeXBlID0gc3BlY2lhbC5kZWxlZ2F0ZVR5cGUgfHwgdHlwZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZm9jdXNNb3JwaC50ZXN0KGJ1YmJsZVR5cGUgKyB0eXBlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VyID0gY3VyLnBhcmVudE5vZGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZm9yICg7IGN1cjsgY3VyID0gY3VyLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50UGF0aC5wdXNoKGN1cik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0bXAgPSBjdXI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gT25seSBhZGQgd2luZG93IGlmIHdlIGdvdCB0byBkb2N1bWVudCAoZS5nLiwgbm90IHBsYWluIG9iaiBvciBkZXRhY2hlZCBET00pXG4gICAgICAgICAgICAgICAgICAgIGlmICh0bXAgPT09IChlbGVtLm93bmVyRG9jdW1lbnQgfHwgZG9jdW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudFBhdGgucHVzaCh0bXAuZGVmYXVsdFZpZXcgfHwgdG1wLnBhcmVudFdpbmRvdyB8fCB3aW5kb3cpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEZpcmUgaGFuZGxlcnMgb24gdGhlIGV2ZW50IHBhdGhcbiAgICAgICAgICAgICAgICBpID0gMDtcbiAgICAgICAgICAgICAgICB3aGlsZSAoKGN1ciA9IGV2ZW50UGF0aFtpKytdKSAmJiAhZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICBsYXN0RWxlbWVudCA9IGN1cjtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQudHlwZSA9IGkgPiAxID9cbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1YmJsZVR5cGUgOlxuICAgICAgICAgICAgICAgICAgICAgICAgc3BlY2lhbC5iaW5kVHlwZSB8fCB0eXBlO1xuICAgICAgICAgICAgICAgICAgICAvLyBqUXVlcnkgaGFuZGxlclxuICAgICAgICAgICAgICAgICAgICBoYW5kbGUgPSAoZGF0YVByaXYuZ2V0KGN1ciwgXCJldmVudHNcIikgfHwgT2JqZWN0LmNyZWF0ZShudWxsKSlbZXZlbnQudHlwZV0gJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFQcml2LmdldChjdXIsIFwiaGFuZGxlXCIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaGFuZGxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGUuYXBwbHkoY3VyLCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBOYXRpdmUgaGFuZGxlclxuICAgICAgICAgICAgICAgICAgICBoYW5kbGUgPSBvbnR5cGUgJiYgY3VyW29udHlwZV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChoYW5kbGUgJiYgaGFuZGxlLmFwcGx5ICYmIGFjY2VwdERhdGEoY3VyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQucmVzdWx0ID0gaGFuZGxlLmFwcGx5KGN1ciwgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQucmVzdWx0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZXZlbnQudHlwZSA9IHR5cGU7XG4gICAgICAgICAgICAgICAgLy8gSWYgbm9ib2R5IHByZXZlbnRlZCB0aGUgZGVmYXVsdCBhY3Rpb24sIGRvIGl0IG5vd1xuICAgICAgICAgICAgICAgIGlmICghb25seUhhbmRsZXJzICYmICFldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoKCFzcGVjaWFsLl9kZWZhdWx0IHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBzcGVjaWFsLl9kZWZhdWx0LmFwcGx5KGV2ZW50UGF0aC5wb3AoKSwgZGF0YSkgPT09IGZhbHNlKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgYWNjZXB0RGF0YShlbGVtKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2FsbCBhIG5hdGl2ZSBET00gbWV0aG9kIG9uIHRoZSB0YXJnZXQgd2l0aCB0aGUgc2FtZSBuYW1lIGFzIHRoZSBldmVudC5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvbid0IGRvIGRlZmF1bHQgYWN0aW9ucyBvbiB3aW5kb3csIHRoYXQncyB3aGVyZSBnbG9iYWwgdmFyaWFibGVzIGJlICh0cmFjLTYxNzApXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob250eXBlICYmIGlzRnVuY3Rpb24oZWxlbVt0eXBlXSkgJiYgIWlzV2luZG93KGVsZW0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRG9uJ3QgcmUtdHJpZ2dlciBhbiBvbkZPTyBldmVudCB3aGVuIHdlIGNhbGwgaXRzIEZPTygpIG1ldGhvZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcCA9IGVsZW1bb250eXBlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodG1wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1bb250eXBlXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFByZXZlbnQgcmUtdHJpZ2dlcmluZyBvZiB0aGUgc2FtZSBldmVudCwgc2luY2Ugd2UgYWxyZWFkeSBidWJibGVkIGl0IGFib3ZlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmV2ZW50LnRyaWdnZXJlZCA9IHR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBzdG9wUHJvcGFnYXRpb25DYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1bdHlwZV0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0RWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIHN0b3BQcm9wYWdhdGlvbkNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmV2ZW50LnRyaWdnZXJlZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodG1wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1bb250eXBlXSA9IHRtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGV2ZW50LnJlc3VsdDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBQaWdneWJhY2sgb24gYSBkb25vciBldmVudCB0byBzaW11bGF0ZSBhIGRpZmZlcmVudCBvbmVcbiAgICAgICAgICAgIC8vIFVzZWQgb25seSBmb3IgYGZvY3VzKGluIHwgb3V0KWAgZXZlbnRzXG4gICAgICAgICAgICBzaW11bGF0ZTogZnVuY3Rpb24gKHR5cGUsIGVsZW0sIGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIGUgPSBqUXVlcnkuZXh0ZW5kKG5ldyBqUXVlcnkuRXZlbnQoKSwgZXZlbnQsIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgaXNTaW11bGF0ZWQ6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBqUXVlcnkuZXZlbnQudHJpZ2dlcihlLCBudWxsLCBlbGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGpRdWVyeS5mbi5leHRlbmQoe1xuICAgICAgICAgICAgdHJpZ2dlcjogZnVuY3Rpb24gKHR5cGUsIGRhdGEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmV2ZW50LnRyaWdnZXIodHlwZSwgZGF0YSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHJpZ2dlckhhbmRsZXI6IGZ1bmN0aW9uICh0eXBlLCBkYXRhKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVsZW0gPSB0aGlzWzBdO1xuICAgICAgICAgICAgICAgIGlmIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBqUXVlcnkuZXZlbnQudHJpZ2dlcih0eXBlLCBkYXRhLCBlbGVtLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgcmJyYWNrZXQgPSAvXFxbXFxdJC8sIHJDUkxGID0gL1xccj9cXG4vZywgcnN1Ym1pdHRlclR5cGVzID0gL14oPzpzdWJtaXR8YnV0dG9ufGltYWdlfHJlc2V0fGZpbGUpJC9pLCByc3VibWl0dGFibGUgPSAvXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxrZXlnZW4pL2k7XG4gICAgICAgIGZ1bmN0aW9uIGJ1aWxkUGFyYW1zKHByZWZpeCwgb2JqLCB0cmFkaXRpb25hbCwgYWRkKSB7XG4gICAgICAgICAgICB2YXIgbmFtZTtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICAgICAgICAgICAgICAvLyBTZXJpYWxpemUgYXJyYXkgaXRlbS5cbiAgICAgICAgICAgICAgICBqUXVlcnkuZWFjaChvYmosIGZ1bmN0aW9uIChpLCB2KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0cmFkaXRpb25hbCB8fCByYnJhY2tldC50ZXN0KHByZWZpeCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRyZWF0IGVhY2ggYXJyYXkgaXRlbSBhcyBhIHNjYWxhci5cbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZChwcmVmaXgsIHYpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSXRlbSBpcyBub24tc2NhbGFyIChhcnJheSBvciBvYmplY3QpLCBlbmNvZGUgaXRzIG51bWVyaWMgaW5kZXguXG4gICAgICAgICAgICAgICAgICAgICAgICBidWlsZFBhcmFtcyhwcmVmaXggKyBcIltcIiArICh0eXBlb2YgdiA9PT0gXCJvYmplY3RcIiAmJiB2ICE9IG51bGwgPyBpIDogXCJcIikgKyBcIl1cIiwgdiwgdHJhZGl0aW9uYWwsIGFkZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCF0cmFkaXRpb25hbCAmJiB0b1R5cGUob2JqKSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgIC8vIFNlcmlhbGl6ZSBvYmplY3QgaXRlbS5cbiAgICAgICAgICAgICAgICBmb3IgKG5hbWUgaW4gb2JqKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1aWxkUGFyYW1zKHByZWZpeCArIFwiW1wiICsgbmFtZSArIFwiXVwiLCBvYmpbbmFtZV0sIHRyYWRpdGlvbmFsLCBhZGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFNlcmlhbGl6ZSBzY2FsYXIgaXRlbS5cbiAgICAgICAgICAgICAgICBhZGQocHJlZml4LCBvYmopO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFNlcmlhbGl6ZSBhbiBhcnJheSBvZiBmb3JtIGVsZW1lbnRzIG9yIGEgc2V0IG9mXG4gICAgICAgIC8vIGtleS92YWx1ZXMgaW50byBhIHF1ZXJ5IHN0cmluZ1xuICAgICAgICBqUXVlcnkucGFyYW0gPSBmdW5jdGlvbiAoYSwgdHJhZGl0aW9uYWwpIHtcbiAgICAgICAgICAgIHZhciBwcmVmaXgsIHMgPSBbXSwgYWRkID0gZnVuY3Rpb24gKGtleSwgdmFsdWVPckZ1bmN0aW9uKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdmFsdWUgaXMgYSBmdW5jdGlvbiwgaW52b2tlIGl0IGFuZCB1c2UgaXRzIHJldHVybiB2YWx1ZVxuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGlzRnVuY3Rpb24odmFsdWVPckZ1bmN0aW9uKSA/XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlT3JGdW5jdGlvbigpIDpcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVPckZ1bmN0aW9uO1xuICAgICAgICAgICAgICAgIHNbcy5sZW5ndGhdID0gZW5jb2RlVVJJQ29tcG9uZW50KGtleSkgKyBcIj1cIiArXG4gICAgICAgICAgICAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSA9PSBudWxsID8gXCJcIiA6IHZhbHVlKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoYSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiBhbiBhcnJheSB3YXMgcGFzc2VkIGluLCBhc3N1bWUgdGhhdCBpdCBpcyBhbiBhcnJheSBvZiBmb3JtIGVsZW1lbnRzLlxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYSkgfHwgKGEuanF1ZXJ5ICYmICFqUXVlcnkuaXNQbGFpbk9iamVjdChhKSkpIHtcbiAgICAgICAgICAgICAgICAvLyBTZXJpYWxpemUgdGhlIGZvcm0gZWxlbWVudHNcbiAgICAgICAgICAgICAgICBqUXVlcnkuZWFjaChhLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZCh0aGlzLm5hbWUsIHRoaXMudmFsdWUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdHJhZGl0aW9uYWwsIGVuY29kZSB0aGUgXCJvbGRcIiB3YXkgKHRoZSB3YXkgMS4zLjIgb3Igb2xkZXJcbiAgICAgICAgICAgICAgICAvLyBkaWQgaXQpLCBvdGhlcndpc2UgZW5jb2RlIHBhcmFtcyByZWN1cnNpdmVseS5cbiAgICAgICAgICAgICAgICBmb3IgKHByZWZpeCBpbiBhKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1aWxkUGFyYW1zKHByZWZpeCwgYVtwcmVmaXhdLCB0cmFkaXRpb25hbCwgYWRkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSZXR1cm4gdGhlIHJlc3VsdGluZyBzZXJpYWxpemF0aW9uXG4gICAgICAgICAgICByZXR1cm4gcy5qb2luKFwiJlwiKTtcbiAgICAgICAgfTtcbiAgICAgICAgalF1ZXJ5LmZuLmV4dGVuZCh7XG4gICAgICAgICAgICBzZXJpYWxpemU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4galF1ZXJ5LnBhcmFtKHRoaXMuc2VyaWFsaXplQXJyYXkoKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2VyaWFsaXplQXJyYXk6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBDYW4gYWRkIHByb3BIb29rIGZvciBcImVsZW1lbnRzXCIgdG8gZmlsdGVyIG9yIGFkZCBmb3JtIGVsZW1lbnRzXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtZW50cyA9IGpRdWVyeS5wcm9wKHRoaXMsIFwiZWxlbWVudHNcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50cyA/IGpRdWVyeS5tYWtlQXJyYXkoZWxlbWVudHMpIDogdGhpcztcbiAgICAgICAgICAgICAgICB9KS5maWx0ZXIoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IHRoaXMudHlwZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gVXNlIC5pcyggXCI6ZGlzYWJsZWRcIiApIHNvIHRoYXQgZmllbGRzZXRbZGlzYWJsZWRdIHdvcmtzXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm5hbWUgJiYgIWpRdWVyeSh0aGlzKS5pcyhcIjpkaXNhYmxlZFwiKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgcnN1Ym1pdHRhYmxlLnRlc3QodGhpcy5ub2RlTmFtZSkgJiYgIXJzdWJtaXR0ZXJUeXBlcy50ZXN0KHR5cGUpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAodGhpcy5jaGVja2VkIHx8ICFyY2hlY2thYmxlVHlwZS50ZXN0KHR5cGUpKTtcbiAgICAgICAgICAgICAgICB9KS5tYXAoZnVuY3Rpb24gKF9pLCBlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWwgPSBqUXVlcnkodGhpcykudmFsKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWwgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGpRdWVyeS5tYXAodmFsLCBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgbmFtZTogZWxlbS5uYW1lLCB2YWx1ZTogdmFsLnJlcGxhY2UockNSTEYsIFwiXFxyXFxuXCIpIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBuYW1lOiBlbGVtLm5hbWUsIHZhbHVlOiB2YWwucmVwbGFjZShyQ1JMRiwgXCJcXHJcXG5cIikgfTtcbiAgICAgICAgICAgICAgICB9KS5nZXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHZhciByMjAgPSAvJTIwL2csIHJoYXNoID0gLyMuKiQvLCByYW50aUNhY2hlID0gLyhbPyZdKV89W14mXSovLCByaGVhZGVycyA9IC9eKC4qPyk6WyBcXHRdKihbXlxcclxcbl0qKSQvbWcsIFxuICAgICAgICAvLyB0cmFjLTc2NTMsIHRyYWMtODEyNSwgdHJhYy04MTUyOiBsb2NhbCBwcm90b2NvbCBkZXRlY3Rpb25cbiAgICAgICAgcmxvY2FsUHJvdG9jb2wgPSAvXig/OmFib3V0fGFwcHxhcHAtc3RvcmFnZXwuKy1leHRlbnNpb258ZmlsZXxyZXN8d2lkZ2V0KTokLywgcm5vQ29udGVudCA9IC9eKD86R0VUfEhFQUQpJC8sIHJwcm90b2NvbCA9IC9eXFwvXFwvLywgXG4gICAgICAgIC8qIFByZWZpbHRlcnNcbiAgICAgICAgKiAxKSBUaGV5IGFyZSB1c2VmdWwgdG8gaW50cm9kdWNlIGN1c3RvbSBkYXRhVHlwZXMgKHNlZSBhamF4L2pzb25wLmpzIGZvciBhbiBleGFtcGxlKVxuICAgICAgICAqIDIpIFRoZXNlIGFyZSBjYWxsZWQ6XG4gICAgICAgICogICAgLSBCRUZPUkUgYXNraW5nIGZvciBhIHRyYW5zcG9ydFxuICAgICAgICAqICAgIC0gQUZURVIgcGFyYW0gc2VyaWFsaXphdGlvbiAocy5kYXRhIGlzIGEgc3RyaW5nIGlmIHMucHJvY2Vzc0RhdGEgaXMgdHJ1ZSlcbiAgICAgICAgKiAzKSBrZXkgaXMgdGhlIGRhdGFUeXBlXG4gICAgICAgICogNCkgdGhlIGNhdGNoYWxsIHN5bWJvbCBcIipcIiBjYW4gYmUgdXNlZFxuICAgICAgICAqIDUpIGV4ZWN1dGlvbiB3aWxsIHN0YXJ0IHdpdGggdHJhbnNwb3J0IGRhdGFUeXBlIGFuZCBUSEVOIGNvbnRpbnVlIGRvd24gdG8gXCIqXCIgaWYgbmVlZGVkXG4gICAgICAgICovXG4gICAgICAgIHByZWZpbHRlcnMgPSB7fSwgXG4gICAgICAgIC8qIFRyYW5zcG9ydHMgYmluZGluZ3NcbiAgICAgICAgKiAxKSBrZXkgaXMgdGhlIGRhdGFUeXBlXG4gICAgICAgICogMikgdGhlIGNhdGNoYWxsIHN5bWJvbCBcIipcIiBjYW4gYmUgdXNlZFxuICAgICAgICAqIDMpIHNlbGVjdGlvbiB3aWxsIHN0YXJ0IHdpdGggdHJhbnNwb3J0IGRhdGFUeXBlIGFuZCBUSEVOIGdvIHRvIFwiKlwiIGlmIG5lZWRlZFxuICAgICAgICAqL1xuICAgICAgICB0cmFuc3BvcnRzID0ge30sIFxuICAgICAgICAvLyBBdm9pZCBjb21tZW50LXByb2xvZyBjaGFyIHNlcXVlbmNlICh0cmFjLTEwMDk4KTsgbXVzdCBhcHBlYXNlIGxpbnQgYW5kIGV2YWRlIGNvbXByZXNzaW9uXG4gICAgICAgIGFsbFR5cGVzID0gXCIqL1wiLmNvbmNhdChcIipcIiksIFxuICAgICAgICAvLyBBbmNob3IgdGFnIGZvciBwYXJzaW5nIHRoZSBkb2N1bWVudCBvcmlnaW5cbiAgICAgICAgb3JpZ2luQW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gICAgICAgIG9yaWdpbkFuY2hvci5ocmVmID0gbG9jYXRpb24uaHJlZjtcbiAgICAgICAgLy8gQmFzZSBcImNvbnN0cnVjdG9yXCIgZm9yIGpRdWVyeS5hamF4UHJlZmlsdGVyIGFuZCBqUXVlcnkuYWpheFRyYW5zcG9ydFxuICAgICAgICBmdW5jdGlvbiBhZGRUb1ByZWZpbHRlcnNPclRyYW5zcG9ydHMoc3RydWN0dXJlKSB7XG4gICAgICAgICAgICAvLyBkYXRhVHlwZUV4cHJlc3Npb24gaXMgb3B0aW9uYWwgYW5kIGRlZmF1bHRzIHRvIFwiKlwiXG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGRhdGFUeXBlRXhwcmVzc2lvbiwgZnVuYykge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YVR5cGVFeHByZXNzaW9uICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIGZ1bmMgPSBkYXRhVHlwZUV4cHJlc3Npb247XG4gICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlRXhwcmVzc2lvbiA9IFwiKlwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgZGF0YVR5cGUsIGkgPSAwLCBkYXRhVHlwZXMgPSBkYXRhVHlwZUV4cHJlc3Npb24udG9Mb3dlckNhc2UoKS5tYXRjaChybm90aHRtbHdoaXRlKSB8fCBbXTtcbiAgICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihmdW5jKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBGb3IgZWFjaCBkYXRhVHlwZSBpbiB0aGUgZGF0YVR5cGVFeHByZXNzaW9uXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICgoZGF0YVR5cGUgPSBkYXRhVHlwZXNbaSsrXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFByZXBlbmQgaWYgcmVxdWVzdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YVR5cGVbMF0gPT09IFwiK1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGUgPSBkYXRhVHlwZS5zbGljZSgxKSB8fCBcIipcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoc3RydWN0dXJlW2RhdGFUeXBlXSA9IHN0cnVjdHVyZVtkYXRhVHlwZV0gfHwgW10pLnVuc2hpZnQoZnVuYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIGFwcGVuZFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHN0cnVjdHVyZVtkYXRhVHlwZV0gPSBzdHJ1Y3R1cmVbZGF0YVR5cGVdIHx8IFtdKS5wdXNoKGZ1bmMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICAvLyBCYXNlIGluc3BlY3Rpb24gZnVuY3Rpb24gZm9yIHByZWZpbHRlcnMgYW5kIHRyYW5zcG9ydHNcbiAgICAgICAgZnVuY3Rpb24gaW5zcGVjdFByZWZpbHRlcnNPclRyYW5zcG9ydHMoc3RydWN0dXJlLCBvcHRpb25zLCBvcmlnaW5hbE9wdGlvbnMsIGpxWEhSKSB7XG4gICAgICAgICAgICB2YXIgaW5zcGVjdGVkID0ge30sIHNlZWtpbmdUcmFuc3BvcnQgPSAoc3RydWN0dXJlID09PSB0cmFuc3BvcnRzKTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGluc3BlY3QoZGF0YVR5cGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWQ7XG4gICAgICAgICAgICAgICAgaW5zcGVjdGVkW2RhdGFUeXBlXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgalF1ZXJ5LmVhY2goc3RydWN0dXJlW2RhdGFUeXBlXSB8fCBbXSwgZnVuY3Rpb24gKF8sIHByZWZpbHRlck9yRmFjdG9yeSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YVR5cGVPclRyYW5zcG9ydCA9IHByZWZpbHRlck9yRmFjdG9yeShvcHRpb25zLCBvcmlnaW5hbE9wdGlvbnMsIGpxWEhSKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhVHlwZU9yVHJhbnNwb3J0ID09PSBcInN0cmluZ1wiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAhc2Vla2luZ1RyYW5zcG9ydCAmJiAhaW5zcGVjdGVkW2RhdGFUeXBlT3JUcmFuc3BvcnRdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGFUeXBlcy51bnNoaWZ0KGRhdGFUeXBlT3JUcmFuc3BvcnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5zcGVjdChkYXRhVHlwZU9yVHJhbnNwb3J0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzZWVraW5nVHJhbnNwb3J0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gIShzZWxlY3RlZCA9IGRhdGFUeXBlT3JUcmFuc3BvcnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbGVjdGVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGluc3BlY3Qob3B0aW9ucy5kYXRhVHlwZXNbMF0pIHx8ICFpbnNwZWN0ZWRbXCIqXCJdICYmIGluc3BlY3QoXCIqXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEEgc3BlY2lhbCBleHRlbmQgZm9yIGFqYXggb3B0aW9uc1xuICAgICAgICAvLyB0aGF0IHRha2VzIFwiZmxhdFwiIG9wdGlvbnMgKG5vdCB0byBiZSBkZWVwIGV4dGVuZGVkKVxuICAgICAgICAvLyBGaXhlcyB0cmFjLTk4ODdcbiAgICAgICAgZnVuY3Rpb24gYWpheEV4dGVuZCh0YXJnZXQsIHNyYykge1xuICAgICAgICAgICAgdmFyIGtleSwgZGVlcCwgZmxhdE9wdGlvbnMgPSBqUXVlcnkuYWpheFNldHRpbmdzLmZsYXRPcHRpb25zIHx8IHt9O1xuICAgICAgICAgICAgZm9yIChrZXkgaW4gc3JjKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNyY1trZXldICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgKGZsYXRPcHRpb25zW2tleV0gPyB0YXJnZXQgOiAoZGVlcCB8fCAoZGVlcCA9IHt9KSkpW2tleV0gPSBzcmNba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGVlcCkge1xuICAgICAgICAgICAgICAgIGpRdWVyeS5leHRlbmQodHJ1ZSwgdGFyZ2V0LCBkZWVwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICAgIH1cbiAgICAgICAgLyogSGFuZGxlcyByZXNwb25zZXMgdG8gYW4gYWpheCByZXF1ZXN0OlxuICAgICAgICAqIC0gZmluZHMgdGhlIHJpZ2h0IGRhdGFUeXBlIChtZWRpYXRlcyBiZXR3ZWVuIGNvbnRlbnQtdHlwZSBhbmQgZXhwZWN0ZWQgZGF0YVR5cGUpXG4gICAgICAgICogLSByZXR1cm5zIHRoZSBjb3JyZXNwb25kaW5nIHJlc3BvbnNlXG4gICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGFqYXhIYW5kbGVSZXNwb25zZXMocywganFYSFIsIHJlc3BvbnNlcykge1xuICAgICAgICAgICAgdmFyIGN0LCB0eXBlLCBmaW5hbERhdGFUeXBlLCBmaXJzdERhdGFUeXBlLCBjb250ZW50cyA9IHMuY29udGVudHMsIGRhdGFUeXBlcyA9IHMuZGF0YVR5cGVzO1xuICAgICAgICAgICAgLy8gUmVtb3ZlIGF1dG8gZGF0YVR5cGUgYW5kIGdldCBjb250ZW50LXR5cGUgaW4gdGhlIHByb2Nlc3NcbiAgICAgICAgICAgIHdoaWxlIChkYXRhVHlwZXNbMF0gPT09IFwiKlwiKSB7XG4gICAgICAgICAgICAgICAgZGF0YVR5cGVzLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgaWYgKGN0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY3QgPSBzLm1pbWVUeXBlIHx8IGpxWEhSLmdldFJlc3BvbnNlSGVhZGVyKFwiQ29udGVudC1UeXBlXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHdlJ3JlIGRlYWxpbmcgd2l0aCBhIGtub3duIGNvbnRlbnQtdHlwZVxuICAgICAgICAgICAgaWYgKGN0KSB7XG4gICAgICAgICAgICAgICAgZm9yICh0eXBlIGluIGNvbnRlbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50c1t0eXBlXSAmJiBjb250ZW50c1t0eXBlXS50ZXN0KGN0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGVzLnVuc2hpZnQodHlwZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIENoZWNrIHRvIHNlZSBpZiB3ZSBoYXZlIGEgcmVzcG9uc2UgZm9yIHRoZSBleHBlY3RlZCBkYXRhVHlwZVxuICAgICAgICAgICAgaWYgKGRhdGFUeXBlc1swXSBpbiByZXNwb25zZXMpIHtcbiAgICAgICAgICAgICAgICBmaW5hbERhdGFUeXBlID0gZGF0YVR5cGVzWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gVHJ5IGNvbnZlcnRpYmxlIGRhdGFUeXBlc1xuICAgICAgICAgICAgICAgIGZvciAodHlwZSBpbiByZXNwb25zZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhVHlwZXNbMF0gfHwgcy5jb252ZXJ0ZXJzW3R5cGUgKyBcIiBcIiArIGRhdGFUeXBlc1swXV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsRGF0YVR5cGUgPSB0eXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFmaXJzdERhdGFUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaXJzdERhdGFUeXBlID0gdHlwZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBPciBqdXN0IHVzZSBmaXJzdCBvbmVcbiAgICAgICAgICAgICAgICBmaW5hbERhdGFUeXBlID0gZmluYWxEYXRhVHlwZSB8fCBmaXJzdERhdGFUeXBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgd2UgZm91bmQgYSBkYXRhVHlwZVxuICAgICAgICAgICAgLy8gV2UgYWRkIHRoZSBkYXRhVHlwZSB0byB0aGUgbGlzdCBpZiBuZWVkZWRcbiAgICAgICAgICAgIC8vIGFuZCByZXR1cm4gdGhlIGNvcnJlc3BvbmRpbmcgcmVzcG9uc2VcbiAgICAgICAgICAgIGlmIChmaW5hbERhdGFUeXBlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZpbmFsRGF0YVR5cGUgIT09IGRhdGFUeXBlc1swXSkge1xuICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZXMudW5zaGlmdChmaW5hbERhdGFUeXBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlc1tmaW5hbERhdGFUeXBlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKiBDaGFpbiBjb252ZXJzaW9ucyBnaXZlbiB0aGUgcmVxdWVzdCBhbmQgdGhlIG9yaWdpbmFsIHJlc3BvbnNlXG4gICAgICAgICogQWxzbyBzZXRzIHRoZSByZXNwb25zZVhYWCBmaWVsZHMgb24gdGhlIGpxWEhSIGluc3RhbmNlXG4gICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGFqYXhDb252ZXJ0KHMsIHJlc3BvbnNlLCBqcVhIUiwgaXNTdWNjZXNzKSB7XG4gICAgICAgICAgICB2YXIgY29udjIsIGN1cnJlbnQsIGNvbnYsIHRtcCwgcHJldiwgY29udmVydGVycyA9IHt9LCBcbiAgICAgICAgICAgIC8vIFdvcmsgd2l0aCBhIGNvcHkgb2YgZGF0YVR5cGVzIGluIGNhc2Ugd2UgbmVlZCB0byBtb2RpZnkgaXQgZm9yIGNvbnZlcnNpb25cbiAgICAgICAgICAgIGRhdGFUeXBlcyA9IHMuZGF0YVR5cGVzLnNsaWNlKCk7XG4gICAgICAgICAgICAvLyBDcmVhdGUgY29udmVydGVycyBtYXAgd2l0aCBsb3dlcmNhc2VkIGtleXNcbiAgICAgICAgICAgIGlmIChkYXRhVHlwZXNbMV0pIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnYgaW4gcy5jb252ZXJ0ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnZlcnRlcnNbY29udi50b0xvd2VyQ2FzZSgpXSA9IHMuY29udmVydGVyc1tjb252XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50ID0gZGF0YVR5cGVzLnNoaWZ0KCk7XG4gICAgICAgICAgICAvLyBDb252ZXJ0IHRvIGVhY2ggc2VxdWVudGlhbCBkYXRhVHlwZVxuICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAocy5yZXNwb25zZUZpZWxkc1tjdXJyZW50XSkge1xuICAgICAgICAgICAgICAgICAgICBqcVhIUltzLnJlc3BvbnNlRmllbGRzW2N1cnJlbnRdXSA9IHJlc3BvbnNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBBcHBseSB0aGUgZGF0YUZpbHRlciBpZiBwcm92aWRlZFxuICAgICAgICAgICAgICAgIGlmICghcHJldiAmJiBpc1N1Y2Nlc3MgJiYgcy5kYXRhRmlsdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gcy5kYXRhRmlsdGVyKHJlc3BvbnNlLCBzLmRhdGFUeXBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcHJldiA9IGN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGRhdGFUeXBlcy5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZXJlJ3Mgb25seSB3b3JrIHRvIGRvIGlmIGN1cnJlbnQgZGF0YVR5cGUgaXMgbm9uLWF1dG9cbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQgPT09IFwiKlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgcmVzcG9uc2UgaWYgcHJldiBkYXRhVHlwZSBpcyBub24tYXV0byBhbmQgZGlmZmVycyBmcm9tIGN1cnJlbnRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChwcmV2ICE9PSBcIipcIiAmJiBwcmV2ICE9PSBjdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTZWVrIGEgZGlyZWN0IGNvbnZlcnRlclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udiA9IGNvbnZlcnRlcnNbcHJldiArIFwiIFwiICsgY3VycmVudF0gfHwgY29udmVydGVyc1tcIiogXCIgKyBjdXJyZW50XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIG5vbmUgZm91bmQsIHNlZWsgYSBwYWlyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbnYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnYyIGluIGNvbnZlcnRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgY29udjIgb3V0cHV0cyBjdXJyZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcCA9IGNvbnYyLnNwbGl0KFwiIFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRtcFsxXSA9PT0gY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgcHJldiBjYW4gYmUgY29udmVydGVkIHRvIGFjY2VwdGVkIGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb252ID0gY29udmVydGVyc1twcmV2ICsgXCIgXCIgKyB0bXBbMF1dIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udmVydGVyc1tcIiogXCIgKyB0bXBbMF1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb25kZW5zZSBlcXVpdmFsZW5jZSBjb252ZXJ0ZXJzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnYgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udiA9IGNvbnZlcnRlcnNbY29udjJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2UsIGluc2VydCB0aGUgaW50ZXJtZWRpYXRlIGRhdGFUeXBlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNvbnZlcnRlcnNbY29udjJdICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSB0bXBbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlcy51bnNoaWZ0KHRtcFsxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXBwbHkgY29udmVydGVyIChpZiBub3QgYW4gZXF1aXZhbGVuY2UpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udiAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVubGVzcyBlcnJvcnMgYXJlIGFsbG93ZWQgdG8gYnViYmxlLCBjYXRjaCBhbmQgcmV0dXJuIHRoZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udiAmJiBzLnRocm93cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IGNvbnYocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gY29udihyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGU6IFwicGFyc2VyZXJyb3JcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogY29udiA/IGUgOiBcIk5vIGNvbnZlcnNpb24gZnJvbSBcIiArIHByZXYgKyBcIiB0byBcIiArIGN1cnJlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyBzdGF0ZTogXCJzdWNjZXNzXCIsIGRhdGE6IHJlc3BvbnNlIH07XG4gICAgICAgIH1cbiAgICAgICAgalF1ZXJ5LmV4dGVuZCh7XG4gICAgICAgICAgICAvLyBDb3VudGVyIGZvciBob2xkaW5nIHRoZSBudW1iZXIgb2YgYWN0aXZlIHF1ZXJpZXNcbiAgICAgICAgICAgIGFjdGl2ZTogMCxcbiAgICAgICAgICAgIC8vIExhc3QtTW9kaWZpZWQgaGVhZGVyIGNhY2hlIGZvciBuZXh0IHJlcXVlc3RcbiAgICAgICAgICAgIGxhc3RNb2RpZmllZDoge30sXG4gICAgICAgICAgICBldGFnOiB7fSxcbiAgICAgICAgICAgIGFqYXhTZXR0aW5nczoge1xuICAgICAgICAgICAgICAgIHVybDogbG9jYXRpb24uaHJlZixcbiAgICAgICAgICAgICAgICB0eXBlOiBcIkdFVFwiLFxuICAgICAgICAgICAgICAgIGlzTG9jYWw6IHJsb2NhbFByb3RvY29sLnRlc3QobG9jYXRpb24ucHJvdG9jb2wpLFxuICAgICAgICAgICAgICAgIGdsb2JhbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBwcm9jZXNzRGF0YTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBhc3luYzogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLThcIixcbiAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDAsXG4gICAgICAgICAgICAgICAgZGF0YTogbnVsbCxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogbnVsbCxcbiAgICAgICAgICAgICAgICB1c2VybmFtZTogbnVsbCxcbiAgICAgICAgICAgICAgICBwYXNzd29yZDogbnVsbCxcbiAgICAgICAgICAgICAgICBjYWNoZTogbnVsbCxcbiAgICAgICAgICAgICAgICB0aHJvd3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHRyYWRpdGlvbmFsOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7fSxcbiAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGFjY2VwdHM6IHtcbiAgICAgICAgICAgICAgICAgICAgXCIqXCI6IGFsbFR5cGVzLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBcInRleHQvcGxhaW5cIixcbiAgICAgICAgICAgICAgICAgICAgaHRtbDogXCJ0ZXh0L2h0bWxcIixcbiAgICAgICAgICAgICAgICAgICAgeG1sOiBcImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWxcIixcbiAgICAgICAgICAgICAgICAgICAganNvbjogXCJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2phdmFzY3JpcHRcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY29udGVudHM6IHtcbiAgICAgICAgICAgICAgICAgICAgeG1sOiAvXFxieG1sXFxiLyxcbiAgICAgICAgICAgICAgICAgICAgaHRtbDogL1xcYmh0bWwvLFxuICAgICAgICAgICAgICAgICAgICBqc29uOiAvXFxianNvblxcYi9cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlRmllbGRzOiB7XG4gICAgICAgICAgICAgICAgICAgIHhtbDogXCJyZXNwb25zZVhNTFwiLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBcInJlc3BvbnNlVGV4dFwiLFxuICAgICAgICAgICAgICAgICAgICBqc29uOiBcInJlc3BvbnNlSlNPTlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvLyBEYXRhIGNvbnZlcnRlcnNcbiAgICAgICAgICAgICAgICAvLyBLZXlzIHNlcGFyYXRlIHNvdXJjZSAob3IgY2F0Y2hhbGwgXCIqXCIpIGFuZCBkZXN0aW5hdGlvbiB0eXBlcyB3aXRoIGEgc2luZ2xlIHNwYWNlXG4gICAgICAgICAgICAgICAgY29udmVydGVyczoge1xuICAgICAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IGFueXRoaW5nIHRvIHRleHRcbiAgICAgICAgICAgICAgICAgICAgXCIqIHRleHRcIjogU3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAvLyBUZXh0IHRvIGh0bWwgKHRydWUgPSBubyB0cmFuc2Zvcm1hdGlvbilcbiAgICAgICAgICAgICAgICAgICAgXCJ0ZXh0IGh0bWxcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgLy8gRXZhbHVhdGUgdGV4dCBhcyBhIGpzb24gZXhwcmVzc2lvblxuICAgICAgICAgICAgICAgICAgICBcInRleHQganNvblwiOiBKU09OLnBhcnNlLFxuICAgICAgICAgICAgICAgICAgICAvLyBQYXJzZSB0ZXh0IGFzIHhtbFxuICAgICAgICAgICAgICAgICAgICBcInRleHQgeG1sXCI6IGpRdWVyeS5wYXJzZVhNTFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLy8gRm9yIG9wdGlvbnMgdGhhdCBzaG91bGRuJ3QgYmUgZGVlcCBleHRlbmRlZDpcbiAgICAgICAgICAgICAgICAvLyB5b3UgY2FuIGFkZCB5b3VyIG93biBjdXN0b20gb3B0aW9ucyBoZXJlIGlmXG4gICAgICAgICAgICAgICAgLy8gYW5kIHdoZW4geW91IGNyZWF0ZSBvbmUgdGhhdCBzaG91bGRuJ3QgYmVcbiAgICAgICAgICAgICAgICAvLyBkZWVwIGV4dGVuZGVkIChzZWUgYWpheEV4dGVuZClcbiAgICAgICAgICAgICAgICBmbGF0T3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICB1cmw6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQ6IHRydWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gQ3JlYXRlcyBhIGZ1bGwgZmxlZGdlZCBzZXR0aW5ncyBvYmplY3QgaW50byB0YXJnZXRcbiAgICAgICAgICAgIC8vIHdpdGggYm90aCBhamF4U2V0dGluZ3MgYW5kIHNldHRpbmdzIGZpZWxkcy5cbiAgICAgICAgICAgIC8vIElmIHRhcmdldCBpcyBvbWl0dGVkLCB3cml0ZXMgaW50byBhamF4U2V0dGluZ3MuXG4gICAgICAgICAgICBhamF4U2V0dXA6IGZ1bmN0aW9uICh0YXJnZXQsIHNldHRpbmdzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNldHRpbmdzID9cbiAgICAgICAgICAgICAgICAgICAgLy8gQnVpbGRpbmcgYSBzZXR0aW5ncyBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAgYWpheEV4dGVuZChhamF4RXh0ZW5kKHRhcmdldCwgalF1ZXJ5LmFqYXhTZXR0aW5ncyksIHNldHRpbmdzKSA6XG4gICAgICAgICAgICAgICAgICAgIC8vIEV4dGVuZGluZyBhamF4U2V0dGluZ3NcbiAgICAgICAgICAgICAgICAgICAgYWpheEV4dGVuZChqUXVlcnkuYWpheFNldHRpbmdzLCB0YXJnZXQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFqYXhQcmVmaWx0ZXI6IGFkZFRvUHJlZmlsdGVyc09yVHJhbnNwb3J0cyhwcmVmaWx0ZXJzKSxcbiAgICAgICAgICAgIGFqYXhUcmFuc3BvcnQ6IGFkZFRvUHJlZmlsdGVyc09yVHJhbnNwb3J0cyh0cmFuc3BvcnRzKSxcbiAgICAgICAgICAgIC8vIE1haW4gbWV0aG9kXG4gICAgICAgICAgICBhamF4OiBmdW5jdGlvbiAodXJsLCBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdXJsIGlzIGFuIG9iamVjdCwgc2ltdWxhdGUgcHJlLTEuNSBzaWduYXR1cmVcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHVybCA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0gdXJsO1xuICAgICAgICAgICAgICAgICAgICB1cmwgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEZvcmNlIG9wdGlvbnMgdG8gYmUgYW4gb2JqZWN0XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgICAgICAgICAgdmFyIHRyYW5zcG9ydCwgXG4gICAgICAgICAgICAgICAgLy8gVVJMIHdpdGhvdXQgYW50aS1jYWNoZSBwYXJhbVxuICAgICAgICAgICAgICAgIGNhY2hlVVJMLCBcbiAgICAgICAgICAgICAgICAvLyBSZXNwb25zZSBoZWFkZXJzXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VIZWFkZXJzU3RyaW5nLCByZXNwb25zZUhlYWRlcnMsIFxuICAgICAgICAgICAgICAgIC8vIHRpbWVvdXQgaGFuZGxlXG4gICAgICAgICAgICAgICAgdGltZW91dFRpbWVyLCBcbiAgICAgICAgICAgICAgICAvLyBVcmwgY2xlYW51cCB2YXJcbiAgICAgICAgICAgICAgICB1cmxBbmNob3IsIFxuICAgICAgICAgICAgICAgIC8vIFJlcXVlc3Qgc3RhdGUgKGJlY29tZXMgZmFsc2UgdXBvbiBzZW5kIGFuZCB0cnVlIHVwb24gY29tcGxldGlvbilcbiAgICAgICAgICAgICAgICBjb21wbGV0ZWQsIFxuICAgICAgICAgICAgICAgIC8vIFRvIGtub3cgaWYgZ2xvYmFsIGV2ZW50cyBhcmUgdG8gYmUgZGlzcGF0Y2hlZFxuICAgICAgICAgICAgICAgIGZpcmVHbG9iYWxzLCBcbiAgICAgICAgICAgICAgICAvLyBMb29wIHZhcmlhYmxlXG4gICAgICAgICAgICAgICAgaSwgXG4gICAgICAgICAgICAgICAgLy8gdW5jYWNoZWQgcGFydCBvZiB0aGUgdXJsXG4gICAgICAgICAgICAgICAgdW5jYWNoZWQsIFxuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgZmluYWwgb3B0aW9ucyBvYmplY3RcbiAgICAgICAgICAgICAgICBzID0galF1ZXJ5LmFqYXhTZXR1cCh7fSwgb3B0aW9ucyksIFxuICAgICAgICAgICAgICAgIC8vIENhbGxiYWNrcyBjb250ZXh0XG4gICAgICAgICAgICAgICAgY2FsbGJhY2tDb250ZXh0ID0gcy5jb250ZXh0IHx8IHMsIFxuICAgICAgICAgICAgICAgIC8vIENvbnRleHQgZm9yIGdsb2JhbCBldmVudHMgaXMgY2FsbGJhY2tDb250ZXh0IGlmIGl0IGlzIGEgRE9NIG5vZGUgb3IgalF1ZXJ5IGNvbGxlY3Rpb25cbiAgICAgICAgICAgICAgICBnbG9iYWxFdmVudENvbnRleHQgPSBzLmNvbnRleHQgJiZcbiAgICAgICAgICAgICAgICAgICAgKGNhbGxiYWNrQ29udGV4dC5ub2RlVHlwZSB8fCBjYWxsYmFja0NvbnRleHQuanF1ZXJ5KSA/XG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeShjYWxsYmFja0NvbnRleHQpIDpcbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmV2ZW50LCBcbiAgICAgICAgICAgICAgICAvLyBEZWZlcnJlZHNcbiAgICAgICAgICAgICAgICBkZWZlcnJlZCA9IGpRdWVyeS5EZWZlcnJlZCgpLCBjb21wbGV0ZURlZmVycmVkID0galF1ZXJ5LkNhbGxiYWNrcyhcIm9uY2UgbWVtb3J5XCIpLCBcbiAgICAgICAgICAgICAgICAvLyBTdGF0dXMtZGVwZW5kZW50IGNhbGxiYWNrc1xuICAgICAgICAgICAgICAgIHN0YXR1c0NvZGUgPSBzLnN0YXR1c0NvZGUgfHwge30sIFxuICAgICAgICAgICAgICAgIC8vIEhlYWRlcnMgKHRoZXkgYXJlIHNlbnQgYWxsIGF0IG9uY2UpXG4gICAgICAgICAgICAgICAgcmVxdWVzdEhlYWRlcnMgPSB7fSwgcmVxdWVzdEhlYWRlcnNOYW1lcyA9IHt9LCBcbiAgICAgICAgICAgICAgICAvLyBEZWZhdWx0IGFib3J0IG1lc3NhZ2VcbiAgICAgICAgICAgICAgICBzdHJBYm9ydCA9IFwiY2FuY2VsZWRcIiwgXG4gICAgICAgICAgICAgICAgLy8gRmFrZSB4aHJcbiAgICAgICAgICAgICAgICBqcVhIUiA9IHtcbiAgICAgICAgICAgICAgICAgICAgcmVhZHlTdGF0ZTogMCxcbiAgICAgICAgICAgICAgICAgICAgLy8gQnVpbGRzIGhlYWRlcnMgaGFzaHRhYmxlIGlmIG5lZWRlZFxuICAgICAgICAgICAgICAgICAgICBnZXRSZXNwb25zZUhlYWRlcjogZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1hdGNoO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBsZXRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2VIZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlSGVhZGVycyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKG1hdGNoID0gcmhlYWRlcnMuZXhlYyhyZXNwb25zZUhlYWRlcnNTdHJpbmcpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VIZWFkZXJzW21hdGNoWzFdLnRvTG93ZXJDYXNlKCkgKyBcIiBcIl0gPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChyZXNwb25zZUhlYWRlcnNbbWF0Y2hbMV0udG9Mb3dlckNhc2UoKSArIFwiIFwiXSB8fCBbXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNvbmNhdChtYXRjaFsyXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2ggPSByZXNwb25zZUhlYWRlcnNba2V5LnRvTG93ZXJDYXNlKCkgKyBcIiBcIl07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2ggPT0gbnVsbCA/IG51bGwgOiBtYXRjaC5qb2luKFwiLCBcIik7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIC8vIFJhdyBzdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgZ2V0QWxsUmVzcG9uc2VIZWFkZXJzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29tcGxldGVkID8gcmVzcG9uc2VIZWFkZXJzU3RyaW5nIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2FjaGVzIHRoZSBoZWFkZXJcbiAgICAgICAgICAgICAgICAgICAgc2V0UmVxdWVzdEhlYWRlcjogZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29tcGxldGVkID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lID0gcmVxdWVzdEhlYWRlcnNOYW1lc1tuYW1lLnRvTG93ZXJDYXNlKCldID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEhlYWRlcnNOYW1lc1tuYW1lLnRvTG93ZXJDYXNlKCldIHx8IG5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEhlYWRlcnNbbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAvLyBPdmVycmlkZXMgcmVzcG9uc2UgY29udGVudC10eXBlIGhlYWRlclxuICAgICAgICAgICAgICAgICAgICBvdmVycmlkZU1pbWVUeXBlOiBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBsZXRlZCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5taW1lVHlwZSA9IHR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgLy8gU3RhdHVzLWRlcGVuZGVudCBjYWxsYmFja3NcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzQ29kZTogZnVuY3Rpb24gKG1hcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWFwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBsZXRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBFeGVjdXRlIHRoZSBhcHByb3ByaWF0ZSBjYWxsYmFja3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganFYSFIuYWx3YXlzKG1hcFtqcVhIUi5zdGF0dXNdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIExhenktYWRkIHRoZSBuZXcgY2FsbGJhY2tzIGluIGEgd2F5IHRoYXQgcHJlc2VydmVzIG9sZCBvbmVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29kZSBpbiBtYXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c0NvZGVbY29kZV0gPSBbc3RhdHVzQ29kZVtjb2RlXSwgbWFwW2NvZGVdXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAvLyBDYW5jZWwgdGhlIHJlcXVlc3RcbiAgICAgICAgICAgICAgICAgICAgYWJvcnQ6IGZ1bmN0aW9uIChzdGF0dXNUZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmluYWxUZXh0ID0gc3RhdHVzVGV4dCB8fCBzdHJBYm9ydDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmFuc3BvcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc3BvcnQuYWJvcnQoZmluYWxUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbmUoMCwgZmluYWxUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAvLyBBdHRhY2ggZGVmZXJyZWRzXG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucHJvbWlzZShqcVhIUik7XG4gICAgICAgICAgICAgICAgLy8gQWRkIHByb3RvY29sIGlmIG5vdCBwcm92aWRlZCAocHJlZmlsdGVycyBtaWdodCBleHBlY3QgaXQpXG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIGZhbHN5IHVybCBpbiB0aGUgc2V0dGluZ3Mgb2JqZWN0ICh0cmFjLTEwMDkzOiBjb25zaXN0ZW5jeSB3aXRoIG9sZCBzaWduYXR1cmUpXG4gICAgICAgICAgICAgICAgLy8gV2UgYWxzbyB1c2UgdGhlIHVybCBwYXJhbWV0ZXIgaWYgYXZhaWxhYmxlXG4gICAgICAgICAgICAgICAgcy51cmwgPSAoKHVybCB8fCBzLnVybCB8fCBsb2NhdGlvbi5ocmVmKSArIFwiXCIpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKHJwcm90b2NvbCwgbG9jYXRpb24ucHJvdG9jb2wgKyBcIi8vXCIpO1xuICAgICAgICAgICAgICAgIC8vIEFsaWFzIG1ldGhvZCBvcHRpb24gdG8gdHlwZSBhcyBwZXIgdGlja2V0IHRyYWMtMTIwMDRcbiAgICAgICAgICAgICAgICBzLnR5cGUgPSBvcHRpb25zLm1ldGhvZCB8fCBvcHRpb25zLnR5cGUgfHwgcy5tZXRob2QgfHwgcy50eXBlO1xuICAgICAgICAgICAgICAgIC8vIEV4dHJhY3QgZGF0YVR5cGVzIGxpc3RcbiAgICAgICAgICAgICAgICBzLmRhdGFUeXBlcyA9IChzLmRhdGFUeXBlIHx8IFwiKlwiKS50b0xvd2VyQ2FzZSgpLm1hdGNoKHJub3RodG1sd2hpdGUpIHx8IFtcIlwiXTtcbiAgICAgICAgICAgICAgICAvLyBBIGNyb3NzLWRvbWFpbiByZXF1ZXN0IGlzIGluIG9yZGVyIHdoZW4gdGhlIG9yaWdpbiBkb2Vzbid0IG1hdGNoIHRoZSBjdXJyZW50IG9yaWdpbi5cbiAgICAgICAgICAgICAgICBpZiAocy5jcm9zc0RvbWFpbiA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHVybEFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xuICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA8PTggLSAxMSwgRWRnZSAxMiAtIDE1XG4gICAgICAgICAgICAgICAgICAgIC8vIElFIHRocm93cyBleGNlcHRpb24gb24gYWNjZXNzaW5nIHRoZSBocmVmIHByb3BlcnR5IGlmIHVybCBpcyBtYWxmb3JtZWQsXG4gICAgICAgICAgICAgICAgICAgIC8vIGUuZy4gaHR0cDovL2V4YW1wbGUuY29tOjgweC9cbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybEFuY2hvci5ocmVmID0gcy51cmw7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA8PTggLSAxMSBvbmx5XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBbmNob3IncyBob3N0IHByb3BlcnR5IGlzbid0IGNvcnJlY3RseSBzZXQgd2hlbiBzLnVybCBpcyByZWxhdGl2ZVxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsQW5jaG9yLmhyZWYgPSB1cmxBbmNob3IuaHJlZjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMuY3Jvc3NEb21haW4gPSBvcmlnaW5BbmNob3IucHJvdG9jb2wgKyBcIi8vXCIgKyBvcmlnaW5BbmNob3IuaG9zdCAhPT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmxBbmNob3IucHJvdG9jb2wgKyBcIi8vXCIgKyB1cmxBbmNob3IuaG9zdDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgYW4gZXJyb3IgcGFyc2luZyB0aGUgVVJMLCBhc3N1bWUgaXQgaXMgY3Jvc3NEb21haW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpdCBjYW4gYmUgcmVqZWN0ZWQgYnkgdGhlIHRyYW5zcG9ydCBpZiBpdCBpcyBpbnZhbGlkXG4gICAgICAgICAgICAgICAgICAgICAgICBzLmNyb3NzRG9tYWluID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IGRhdGEgaWYgbm90IGFscmVhZHkgYSBzdHJpbmdcbiAgICAgICAgICAgICAgICBpZiAocy5kYXRhICYmIHMucHJvY2Vzc0RhdGEgJiYgdHlwZW9mIHMuZGF0YSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICBzLmRhdGEgPSBqUXVlcnkucGFyYW0ocy5kYXRhLCBzLnRyYWRpdGlvbmFsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQXBwbHkgcHJlZmlsdGVyc1xuICAgICAgICAgICAgICAgIGluc3BlY3RQcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKHByZWZpbHRlcnMsIHMsIG9wdGlvbnMsIGpxWEhSKTtcbiAgICAgICAgICAgICAgICAvLyBJZiByZXF1ZXN0IHdhcyBhYm9ydGVkIGluc2lkZSBhIHByZWZpbHRlciwgc3RvcCB0aGVyZVxuICAgICAgICAgICAgICAgIGlmIChjb21wbGV0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGpxWEhSO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBXZSBjYW4gZmlyZSBnbG9iYWwgZXZlbnRzIGFzIG9mIG5vdyBpZiBhc2tlZCB0b1xuICAgICAgICAgICAgICAgIC8vIERvbid0IGZpcmUgZXZlbnRzIGlmIGpRdWVyeS5ldmVudCBpcyB1bmRlZmluZWQgaW4gYW4gQU1ELXVzYWdlIHNjZW5hcmlvICh0cmFjLTE1MTE4KVxuICAgICAgICAgICAgICAgIGZpcmVHbG9iYWxzID0galF1ZXJ5LmV2ZW50ICYmIHMuZ2xvYmFsO1xuICAgICAgICAgICAgICAgIC8vIFdhdGNoIGZvciBhIG5ldyBzZXQgb2YgcmVxdWVzdHNcbiAgICAgICAgICAgICAgICBpZiAoZmlyZUdsb2JhbHMgJiYgalF1ZXJ5LmFjdGl2ZSsrID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeS5ldmVudC50cmlnZ2VyKFwiYWpheFN0YXJ0XCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBVcHBlcmNhc2UgdGhlIHR5cGVcbiAgICAgICAgICAgICAgICBzLnR5cGUgPSBzLnR5cGUudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAvLyBEZXRlcm1pbmUgaWYgcmVxdWVzdCBoYXMgY29udGVudFxuICAgICAgICAgICAgICAgIHMuaGFzQ29udGVudCA9ICFybm9Db250ZW50LnRlc3Qocy50eXBlKTtcbiAgICAgICAgICAgICAgICAvLyBTYXZlIHRoZSBVUkwgaW4gY2FzZSB3ZSdyZSB0b3lpbmcgd2l0aCB0aGUgSWYtTW9kaWZpZWQtU2luY2VcbiAgICAgICAgICAgICAgICAvLyBhbmQvb3IgSWYtTm9uZS1NYXRjaCBoZWFkZXIgbGF0ZXIgb25cbiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgaGFzaCB0byBzaW1wbGlmeSB1cmwgbWFuaXB1bGF0aW9uXG4gICAgICAgICAgICAgICAgY2FjaGVVUkwgPSBzLnVybC5yZXBsYWNlKHJoYXNoLCBcIlwiKTtcbiAgICAgICAgICAgICAgICAvLyBNb3JlIG9wdGlvbnMgaGFuZGxpbmcgZm9yIHJlcXVlc3RzIHdpdGggbm8gY29udGVudFxuICAgICAgICAgICAgICAgIGlmICghcy5oYXNDb250ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlbWVtYmVyIHRoZSBoYXNoIHNvIHdlIGNhbiBwdXQgaXQgYmFja1xuICAgICAgICAgICAgICAgICAgICB1bmNhY2hlZCA9IHMudXJsLnNsaWNlKGNhY2hlVVJMLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIGRhdGEgaXMgYXZhaWxhYmxlIGFuZCBzaG91bGQgYmUgcHJvY2Vzc2VkLCBhcHBlbmQgZGF0YSB0byB1cmxcbiAgICAgICAgICAgICAgICAgICAgaWYgKHMuZGF0YSAmJiAocy5wcm9jZXNzRGF0YSB8fCB0eXBlb2Ygcy5kYXRhID09PSBcInN0cmluZ1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVVUkwgKz0gKHJxdWVyeS50ZXN0KGNhY2hlVVJMKSA/IFwiJlwiIDogXCI/XCIpICsgcy5kYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHJhYy05NjgyOiByZW1vdmUgZGF0YSBzbyB0aGF0IGl0J3Mgbm90IHVzZWQgaW4gYW4gZXZlbnR1YWwgcmV0cnlcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gQWRkIG9yIHVwZGF0ZSBhbnRpLWNhY2hlIHBhcmFtIGlmIG5lZWRlZFxuICAgICAgICAgICAgICAgICAgICBpZiAocy5jYWNoZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlVVJMID0gY2FjaGVVUkwucmVwbGFjZShyYW50aUNhY2hlLCBcIiQxXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdW5jYWNoZWQgPSAocnF1ZXJ5LnRlc3QoY2FjaGVVUkwpID8gXCImXCIgOiBcIj9cIikgKyBcIl89XCIgKyAobm9uY2UuZ3VpZCsrKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5jYWNoZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gUHV0IGhhc2ggYW5kIGFudGktY2FjaGUgb24gdGhlIFVSTCB0aGF0IHdpbGwgYmUgcmVxdWVzdGVkIChnaC0xNzMyKVxuICAgICAgICAgICAgICAgICAgICBzLnVybCA9IGNhY2hlVVJMICsgdW5jYWNoZWQ7XG4gICAgICAgICAgICAgICAgICAgIC8vIENoYW5nZSAnJTIwJyB0byAnKycgaWYgdGhpcyBpcyBlbmNvZGVkIGZvcm0gYm9keSBjb250ZW50IChnaC0yNjU4KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzLmRhdGEgJiYgcy5wcm9jZXNzRGF0YSAmJlxuICAgICAgICAgICAgICAgICAgICAocy5jb250ZW50VHlwZSB8fCBcIlwiKS5pbmRleE9mKFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHMuZGF0YSA9IHMuZGF0YS5yZXBsYWNlKHIyMCwgXCIrXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBTZXQgdGhlIElmLU1vZGlmaWVkLVNpbmNlIGFuZC9vciBJZi1Ob25lLU1hdGNoIGhlYWRlciwgaWYgaW4gaWZNb2RpZmllZCBtb2RlLlxuICAgICAgICAgICAgICAgIGlmIChzLmlmTW9kaWZpZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGpRdWVyeS5sYXN0TW9kaWZpZWRbY2FjaGVVUkxdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKFwiSWYtTW9kaWZpZWQtU2luY2VcIiwgalF1ZXJ5Lmxhc3RNb2RpZmllZFtjYWNoZVVSTF0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChqUXVlcnkuZXRhZ1tjYWNoZVVSTF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoXCJJZi1Ob25lLU1hdGNoXCIsIGpRdWVyeS5ldGFnW2NhY2hlVVJMXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gU2V0IHRoZSBjb3JyZWN0IGhlYWRlciwgaWYgZGF0YSBpcyBiZWluZyBzZW50XG4gICAgICAgICAgICAgICAgaWYgKHMuZGF0YSAmJiBzLmhhc0NvbnRlbnQgJiYgcy5jb250ZW50VHlwZSAhPT0gZmFsc2UgfHwgb3B0aW9ucy5jb250ZW50VHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIsIHMuY29udGVudFR5cGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBTZXQgdGhlIEFjY2VwdHMgaGVhZGVyIGZvciB0aGUgc2VydmVyLCBkZXBlbmRpbmcgb24gdGhlIGRhdGFUeXBlXG4gICAgICAgICAgICAgICAganFYSFIuc2V0UmVxdWVzdEhlYWRlcihcIkFjY2VwdFwiLCBzLmRhdGFUeXBlc1swXSAmJiBzLmFjY2VwdHNbcy5kYXRhVHlwZXNbMF1dID9cbiAgICAgICAgICAgICAgICAgICAgcy5hY2NlcHRzW3MuZGF0YVR5cGVzWzBdXSArXG4gICAgICAgICAgICAgICAgICAgICAgICAocy5kYXRhVHlwZXNbMF0gIT09IFwiKlwiID8gXCIsIFwiICsgYWxsVHlwZXMgKyBcIjsgcT0wLjAxXCIgOiBcIlwiKSA6XG4gICAgICAgICAgICAgICAgICAgIHMuYWNjZXB0c1tcIipcIl0pO1xuICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciBoZWFkZXJzIG9wdGlvblxuICAgICAgICAgICAgICAgIGZvciAoaSBpbiBzLmhlYWRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAganFYSFIuc2V0UmVxdWVzdEhlYWRlcihpLCBzLmhlYWRlcnNbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBBbGxvdyBjdXN0b20gaGVhZGVycy9taW1ldHlwZXMgYW5kIGVhcmx5IGFib3J0XG4gICAgICAgICAgICAgICAgaWYgKHMuYmVmb3JlU2VuZCAmJlxuICAgICAgICAgICAgICAgICAgICAocy5iZWZvcmVTZW5kLmNhbGwoY2FsbGJhY2tDb250ZXh0LCBqcVhIUiwgcykgPT09IGZhbHNlIHx8IGNvbXBsZXRlZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQWJvcnQgaWYgbm90IGRvbmUgYWxyZWFkeSBhbmQgcmV0dXJuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBqcVhIUi5hYm9ydCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBBYm9ydGluZyBpcyBubyBsb25nZXIgYSBjYW5jZWxsYXRpb25cbiAgICAgICAgICAgICAgICBzdHJBYm9ydCA9IFwiYWJvcnRcIjtcbiAgICAgICAgICAgICAgICAvLyBJbnN0YWxsIGNhbGxiYWNrcyBvbiBkZWZlcnJlZHNcbiAgICAgICAgICAgICAgICBjb21wbGV0ZURlZmVycmVkLmFkZChzLmNvbXBsZXRlKTtcbiAgICAgICAgICAgICAgICBqcVhIUi5kb25lKHMuc3VjY2Vzcyk7XG4gICAgICAgICAgICAgICAganFYSFIuZmFpbChzLmVycm9yKTtcbiAgICAgICAgICAgICAgICAvLyBHZXQgdHJhbnNwb3J0XG4gICAgICAgICAgICAgICAgdHJhbnNwb3J0ID0gaW5zcGVjdFByZWZpbHRlcnNPclRyYW5zcG9ydHModHJhbnNwb3J0cywgcywgb3B0aW9ucywganFYSFIpO1xuICAgICAgICAgICAgICAgIC8vIElmIG5vIHRyYW5zcG9ydCwgd2UgYXV0by1hYm9ydFxuICAgICAgICAgICAgICAgIGlmICghdHJhbnNwb3J0KSB7XG4gICAgICAgICAgICAgICAgICAgIGRvbmUoLTEsIFwiTm8gVHJhbnNwb3J0XCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAganFYSFIucmVhZHlTdGF0ZSA9IDE7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNlbmQgZ2xvYmFsIGV2ZW50XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaXJlR2xvYmFscykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYmFsRXZlbnRDb250ZXh0LnRyaWdnZXIoXCJhamF4U2VuZFwiLCBbanFYSFIsIHNdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBJZiByZXF1ZXN0IHdhcyBhYm9ydGVkIGluc2lkZSBhamF4U2VuZCwgc3RvcCB0aGVyZVxuICAgICAgICAgICAgICAgICAgICBpZiAoY29tcGxldGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ganFYSFI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gVGltZW91dFxuICAgICAgICAgICAgICAgICAgICBpZiAocy5hc3luYyAmJiBzLnRpbWVvdXQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lb3V0VGltZXIgPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganFYSFIuYWJvcnQoXCJ0aW1lb3V0XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgcy50aW1lb3V0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc3BvcnQuc2VuZChyZXF1ZXN0SGVhZGVycywgZG9uZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJldGhyb3cgcG9zdC1jb21wbGV0aW9uIGV4Y2VwdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb21wbGV0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUHJvcGFnYXRlIG90aGVycyBhcyByZXN1bHRzXG4gICAgICAgICAgICAgICAgICAgICAgICBkb25lKC0xLCBlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBDYWxsYmFjayBmb3Igd2hlbiBldmVyeXRoaW5nIGlzIGRvbmVcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBkb25lKHN0YXR1cywgbmF0aXZlU3RhdHVzVGV4dCwgcmVzcG9uc2VzLCBoZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpc1N1Y2Nlc3MsIHN1Y2Nlc3MsIGVycm9yLCByZXNwb25zZSwgbW9kaWZpZWQsIHN0YXR1c1RleHQgPSBuYXRpdmVTdGF0dXNUZXh0O1xuICAgICAgICAgICAgICAgICAgICAvLyBJZ25vcmUgcmVwZWF0IGludm9jYXRpb25zXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb21wbGV0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAvLyBDbGVhciB0aW1lb3V0IGlmIGl0IGV4aXN0c1xuICAgICAgICAgICAgICAgICAgICBpZiAodGltZW91dFRpbWVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRpbWVvdXRUaW1lcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gRGVyZWZlcmVuY2UgdHJhbnNwb3J0IGZvciBlYXJseSBnYXJiYWdlIGNvbGxlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgLy8gKG5vIG1hdHRlciBob3cgbG9uZyB0aGUganFYSFIgb2JqZWN0IHdpbGwgYmUgdXNlZClcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNwb3J0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAvLyBDYWNoZSByZXNwb25zZSBoZWFkZXJzXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlSGVhZGVyc1N0cmluZyA9IGhlYWRlcnMgfHwgXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2V0IHJlYWR5U3RhdGVcbiAgICAgICAgICAgICAgICAgICAganFYSFIucmVhZHlTdGF0ZSA9IHN0YXR1cyA+IDAgPyA0IDogMDtcbiAgICAgICAgICAgICAgICAgICAgLy8gRGV0ZXJtaW5lIGlmIHN1Y2Nlc3NmdWxcbiAgICAgICAgICAgICAgICAgICAgaXNTdWNjZXNzID0gc3RhdHVzID49IDIwMCAmJiBzdGF0dXMgPCAzMDAgfHwgc3RhdHVzID09PSAzMDQ7XG4gICAgICAgICAgICAgICAgICAgIC8vIEdldCByZXNwb25zZSBkYXRhXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gYWpheEhhbmRsZVJlc3BvbnNlcyhzLCBqcVhIUiwgcmVzcG9uc2VzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBVc2UgYSBub29wIGNvbnZlcnRlciBmb3IgbWlzc2luZyBzY3JpcHQgYnV0IG5vdCBpZiBqc29ucFxuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzU3VjY2VzcyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmluQXJyYXkoXCJzY3JpcHRcIiwgcy5kYXRhVHlwZXMpID4gLTEgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5pbkFycmF5KFwianNvblwiLCBzLmRhdGFUeXBlcykgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzLmNvbnZlcnRlcnNbXCJ0ZXh0IHNjcmlwdFwiXSA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IG5vIG1hdHRlciB3aGF0ICh0aGF0IHdheSByZXNwb25zZVhYWCBmaWVsZHMgYXJlIGFsd2F5cyBzZXQpXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gYWpheENvbnZlcnQocywgcmVzcG9uc2UsIGpxWEhSLCBpc1N1Y2Nlc3MpO1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiBzdWNjZXNzZnVsLCBoYW5kbGUgdHlwZSBjaGFpbmluZ1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNTdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXQgdGhlIElmLU1vZGlmaWVkLVNpbmNlIGFuZC9vciBJZi1Ob25lLU1hdGNoIGhlYWRlciwgaWYgaW4gaWZNb2RpZmllZCBtb2RlLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMuaWZNb2RpZmllZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGlmaWVkID0ganFYSFIuZ2V0UmVzcG9uc2VIZWFkZXIoXCJMYXN0LU1vZGlmaWVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb2RpZmllZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkubGFzdE1vZGlmaWVkW2NhY2hlVVJMXSA9IG1vZGlmaWVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RpZmllZCA9IGpxWEhSLmdldFJlc3BvbnNlSGVhZGVyKFwiZXRhZ1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobW9kaWZpZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmV0YWdbY2FjaGVVUkxdID0gbW9kaWZpZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgbm8gY29udGVudFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXR1cyA9PT0gMjA0IHx8IHMudHlwZSA9PT0gXCJIRUFEXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNUZXh0ID0gXCJub2NvbnRlbnRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiBub3QgbW9kaWZpZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN0YXR1cyA9PT0gMzA0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzVGV4dCA9IFwibm90bW9kaWZpZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSBoYXZlIGRhdGEsIGxldCdzIGNvbnZlcnQgaXRcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c1RleHQgPSByZXNwb25zZS5zdGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzID0gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvciA9IHJlc3BvbnNlLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzU3VjY2VzcyA9ICFlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEV4dHJhY3QgZXJyb3IgZnJvbSBzdGF0dXNUZXh0IGFuZCBub3JtYWxpemUgZm9yIG5vbi1hYm9ydHNcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yID0gc3RhdHVzVGV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0dXMgfHwgIXN0YXR1c1RleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNUZXh0ID0gXCJlcnJvclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0dXMgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1cyA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFNldCBkYXRhIGZvciB0aGUgZmFrZSB4aHIgb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgIGpxWEhSLnN0YXR1cyA9IHN0YXR1cztcbiAgICAgICAgICAgICAgICAgICAganFYSFIuc3RhdHVzVGV4dCA9IChuYXRpdmVTdGF0dXNUZXh0IHx8IHN0YXR1c1RleHQpICsgXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgLy8gU3VjY2Vzcy9FcnJvclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNTdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlV2l0aChjYWxsYmFja0NvbnRleHQsIFtzdWNjZXNzLCBzdGF0dXNUZXh0LCBqcVhIUl0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0V2l0aChjYWxsYmFja0NvbnRleHQsIFtqcVhIUiwgc3RhdHVzVGV4dCwgZXJyb3JdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBTdGF0dXMtZGVwZW5kZW50IGNhbGxiYWNrc1xuICAgICAgICAgICAgICAgICAgICBqcVhIUi5zdGF0dXNDb2RlKHN0YXR1c0NvZGUpO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXNDb2RlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmlyZUdsb2JhbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsb2JhbEV2ZW50Q29udGV4dC50cmlnZ2VyKGlzU3VjY2VzcyA/IFwiYWpheFN1Y2Nlc3NcIiA6IFwiYWpheEVycm9yXCIsIFtqcVhIUiwgcywgaXNTdWNjZXNzID8gc3VjY2VzcyA6IGVycm9yXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gQ29tcGxldGVcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGVEZWZlcnJlZC5maXJlV2l0aChjYWxsYmFja0NvbnRleHQsIFtqcVhIUiwgc3RhdHVzVGV4dF0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmlyZUdsb2JhbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsb2JhbEV2ZW50Q29udGV4dC50cmlnZ2VyKFwiYWpheENvbXBsZXRlXCIsIFtqcVhIUiwgc10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSGFuZGxlIHRoZSBnbG9iYWwgQUpBWCBjb3VudGVyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISgtLWpRdWVyeS5hY3RpdmUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmV2ZW50LnRyaWdnZXIoXCJhamF4U3RvcFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4ganFYSFI7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0SlNPTjogZnVuY3Rpb24gKHVybCwgZGF0YSwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICByZXR1cm4galF1ZXJ5LmdldCh1cmwsIGRhdGEsIGNhbGxiYWNrLCBcImpzb25cIik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0U2NyaXB0OiBmdW5jdGlvbiAodXJsLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHJldHVybiBqUXVlcnkuZ2V0KHVybCwgdW5kZWZpbmVkLCBjYWxsYmFjaywgXCJzY3JpcHRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBqUXVlcnkuZWFjaChbXCJnZXRcIiwgXCJwb3N0XCJdLCBmdW5jdGlvbiAoX2ksIG1ldGhvZCkge1xuICAgICAgICAgICAgalF1ZXJ5W21ldGhvZF0gPSBmdW5jdGlvbiAodXJsLCBkYXRhLCBjYWxsYmFjaywgdHlwZSkge1xuICAgICAgICAgICAgICAgIC8vIFNoaWZ0IGFyZ3VtZW50cyBpZiBkYXRhIGFyZ3VtZW50IHdhcyBvbWl0dGVkXG4gICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9IHR5cGUgfHwgY2FsbGJhY2s7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrID0gZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gVGhlIHVybCBjYW4gYmUgYW4gb3B0aW9ucyBvYmplY3QgKHdoaWNoIHRoZW4gbXVzdCBoYXZlIC51cmwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGpRdWVyeS5hamF4KGpRdWVyeS5leHRlbmQoe1xuICAgICAgICAgICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogbWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogY2FsbGJhY2tcbiAgICAgICAgICAgICAgICB9LCBqUXVlcnkuaXNQbGFpbk9iamVjdCh1cmwpICYmIHVybCkpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIGpRdWVyeS5hamF4UHJlZmlsdGVyKGZ1bmN0aW9uIChzKSB7XG4gICAgICAgICAgICB2YXIgaTtcbiAgICAgICAgICAgIGZvciAoaSBpbiBzLmhlYWRlcnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaS50b0xvd2VyQ2FzZSgpID09PSBcImNvbnRlbnQtdHlwZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHMuY29udGVudFR5cGUgPSBzLmhlYWRlcnNbaV0gfHwgXCJcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBqUXVlcnkuX2V2YWxVcmwgPSBmdW5jdGlvbiAodXJsLCBvcHRpb25zLCBkb2MpIHtcbiAgICAgICAgICAgIHJldHVybiBqUXVlcnkuYWpheCh7XG4gICAgICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICAgICAgLy8gTWFrZSB0aGlzIGV4cGxpY2l0LCBzaW5jZSB1c2VyIGNhbiBvdmVycmlkZSB0aGlzIHRocm91Z2ggYWpheFNldHVwICh0cmFjLTExMjY0KVxuICAgICAgICAgICAgICAgIHR5cGU6IFwiR0VUXCIsXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6IFwic2NyaXB0XCIsXG4gICAgICAgICAgICAgICAgY2FjaGU6IHRydWUsXG4gICAgICAgICAgICAgICAgYXN5bmM6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGdsb2JhbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgLy8gT25seSBldmFsdWF0ZSB0aGUgcmVzcG9uc2UgaWYgaXQgaXMgc3VjY2Vzc2Z1bCAoZ2gtNDEyNilcbiAgICAgICAgICAgICAgICAvLyBkYXRhRmlsdGVyIGlzIG5vdCBpbnZva2VkIGZvciBmYWlsdXJlIHJlc3BvbnNlcywgc28gdXNpbmcgaXQgaW5zdGVhZFxuICAgICAgICAgICAgICAgIC8vIG9mIHRoZSBkZWZhdWx0IGNvbnZlcnRlciBpcyBrbHVkZ3kgYnV0IGl0IHdvcmtzLlxuICAgICAgICAgICAgICAgIGNvbnZlcnRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgXCJ0ZXh0IHNjcmlwdFwiOiBmdW5jdGlvbiAoKSB7IH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGRhdGFGaWx0ZXI6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICBqUXVlcnkuZ2xvYmFsRXZhbChyZXNwb25zZSwgb3B0aW9ucywgZG9jKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgalF1ZXJ5LmZuLmV4dGVuZCh7XG4gICAgICAgICAgICB3cmFwQWxsOiBmdW5jdGlvbiAoaHRtbCkge1xuICAgICAgICAgICAgICAgIHZhciB3cmFwO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGh0bWwpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBodG1sID0gaHRtbC5jYWxsKHRoaXNbMF0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBlbGVtZW50cyB0byB3cmFwIHRoZSB0YXJnZXQgYXJvdW5kXG4gICAgICAgICAgICAgICAgICAgIHdyYXAgPSBqUXVlcnkoaHRtbCwgdGhpc1swXS5vd25lckRvY3VtZW50KS5lcSgwKS5jbG9uZSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNbMF0ucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd3JhcC5pbnNlcnRCZWZvcmUodGhpc1swXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgd3JhcC5tYXAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW0gPSB0aGlzO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGVsZW0uZmlyc3RFbGVtZW50Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtID0gZWxlbS5maXJzdEVsZW1lbnRDaGlsZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtO1xuICAgICAgICAgICAgICAgICAgICB9KS5hcHBlbmQodGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHdyYXBJbm5lcjogZnVuY3Rpb24gKGh0bWwpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihodG1sKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkodGhpcykud3JhcElubmVyKGh0bWwuY2FsbCh0aGlzLCBpKSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGYgPSBqUXVlcnkodGhpcyksIGNvbnRlbnRzID0gc2VsZi5jb250ZW50cygpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50cy53cmFwQWxsKGh0bWwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5hcHBlbmQoaHRtbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB3cmFwOiBmdW5jdGlvbiAoaHRtbCkge1xuICAgICAgICAgICAgICAgIHZhciBodG1sSXNGdW5jdGlvbiA9IGlzRnVuY3Rpb24oaHRtbCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgICAgICAgICBqUXVlcnkodGhpcykud3JhcEFsbChodG1sSXNGdW5jdGlvbiA/IGh0bWwuY2FsbCh0aGlzLCBpKSA6IGh0bWwpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHVud3JhcDogZnVuY3Rpb24gKHNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQoc2VsZWN0b3IpLm5vdChcImJvZHlcIikuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeSh0aGlzKS5yZXBsYWNlV2l0aCh0aGlzLmNoaWxkTm9kZXMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgalF1ZXJ5LmV4cHIucHNldWRvcy5oaWRkZW4gPSBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgcmV0dXJuICFqUXVlcnkuZXhwci5wc2V1ZG9zLnZpc2libGUoZWxlbSk7XG4gICAgICAgIH07XG4gICAgICAgIGpRdWVyeS5leHByLnBzZXVkb3MudmlzaWJsZSA9IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICByZXR1cm4gISEoZWxlbS5vZmZzZXRXaWR0aCB8fCBlbGVtLm9mZnNldEhlaWdodCB8fCBlbGVtLmdldENsaWVudFJlY3RzKCkubGVuZ3RoKTtcbiAgICAgICAgfTtcbiAgICAgICAgalF1ZXJ5LmFqYXhTZXR0aW5ncy54aHIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgd2luZG93LlhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkgeyB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciB4aHJTdWNjZXNzU3RhdHVzID0ge1xuICAgICAgICAgICAgLy8gRmlsZSBwcm90b2NvbCBhbHdheXMgeWllbGRzIHN0YXR1cyBjb2RlIDAsIGFzc3VtZSAyMDBcbiAgICAgICAgICAgIDA6IDIwMCxcbiAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG4gICAgICAgICAgICAvLyB0cmFjLTE0NTA6IHNvbWV0aW1lcyBJRSByZXR1cm5zIDEyMjMgd2hlbiBpdCBzaG91bGQgYmUgMjA0XG4gICAgICAgICAgICAxMjIzOiAyMDRcbiAgICAgICAgfSwgeGhyU3VwcG9ydGVkID0galF1ZXJ5LmFqYXhTZXR0aW5ncy54aHIoKTtcbiAgICAgICAgc3VwcG9ydC5jb3JzID0gISF4aHJTdXBwb3J0ZWQgJiYgKFwid2l0aENyZWRlbnRpYWxzXCIgaW4geGhyU3VwcG9ydGVkKTtcbiAgICAgICAgc3VwcG9ydC5hamF4ID0geGhyU3VwcG9ydGVkID0gISF4aHJTdXBwb3J0ZWQ7XG4gICAgICAgIGpRdWVyeS5hamF4VHJhbnNwb3J0KGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgICAgICB2YXIgY2FsbGJhY2ssIGVycm9yQ2FsbGJhY2s7XG4gICAgICAgICAgICAvLyBDcm9zcyBkb21haW4gb25seSBhbGxvd2VkIGlmIHN1cHBvcnRlZCB0aHJvdWdoIFhNTEh0dHBSZXF1ZXN0XG4gICAgICAgICAgICBpZiAoc3VwcG9ydC5jb3JzIHx8IHhoclN1cHBvcnRlZCAmJiAhb3B0aW9ucy5jcm9zc0RvbWFpbikge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHNlbmQ6IGZ1bmN0aW9uIChoZWFkZXJzLCBjb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGksIHhociA9IG9wdGlvbnMueGhyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB4aHIub3BlbihvcHRpb25zLnR5cGUsIG9wdGlvbnMudXJsLCBvcHRpb25zLmFzeW5jLCBvcHRpb25zLnVzZXJuYW1lLCBvcHRpb25zLnBhc3N3b3JkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFwcGx5IGN1c3RvbSBmaWVsZHMgaWYgcHJvdmlkZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnhockZpZWxkcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSBpbiBvcHRpb25zLnhockZpZWxkcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4aHJbaV0gPSBvcHRpb25zLnhockZpZWxkc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBPdmVycmlkZSBtaW1lIHR5cGUgaWYgbmVlZGVkXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5taW1lVHlwZSAmJiB4aHIub3ZlcnJpZGVNaW1lVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhoci5vdmVycmlkZU1pbWVUeXBlKG9wdGlvbnMubWltZVR5cGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gWC1SZXF1ZXN0ZWQtV2l0aCBoZWFkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvciBjcm9zcy1kb21haW4gcmVxdWVzdHMsIHNlZWluZyBhcyBjb25kaXRpb25zIGZvciBhIHByZWZsaWdodCBhcmVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFraW4gdG8gYSBqaWdzYXcgcHV6emxlLCB3ZSBzaW1wbHkgbmV2ZXIgc2V0IGl0IHRvIGJlIHN1cmUuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAoaXQgY2FuIGFsd2F5cyBiZSBzZXQgb24gYSBwZXItcmVxdWVzdCBiYXNpcyBvciBldmVuIHVzaW5nIGFqYXhTZXR1cClcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvciBzYW1lLWRvbWFpbiByZXF1ZXN0cywgd29uJ3QgY2hhbmdlIGhlYWRlciBpZiBhbHJlYWR5IHByb3ZpZGVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zLmNyb3NzRG9tYWluICYmICFoZWFkZXJzW1wiWC1SZXF1ZXN0ZWQtV2l0aFwiXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnNbXCJYLVJlcXVlc3RlZC1XaXRoXCJdID0gXCJYTUxIdHRwUmVxdWVzdFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0IGhlYWRlcnNcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSBpbiBoZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoaSwgaGVhZGVyc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDYWxsYmFja1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrID0geGhyLm9ubG9hZCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeGhyLm9uZXJyb3IgPSB4aHIub25hYm9ydCA9IHhoci5vbnRpbWVvdXQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSBcImFib3J0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4aHIuYWJvcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGUgPT09IFwiZXJyb3JcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT24gYSBtYW51YWwgbmF0aXZlIGFib3J0LCBJRTkgdGhyb3dzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXJyb3JzIG9uIGFueSBwcm9wZXJ0eSBhY2Nlc3MgdGhhdCBpcyBub3QgcmVhZHlTdGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgeGhyLnN0YXR1cyAhPT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZSgwLCBcImVycm9yXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZpbGU6IHByb3RvY29sIGFsd2F5cyB5aWVsZHMgc3RhdHVzIDA7IHNlZSB0cmFjLTg2MDUsIHRyYWMtMTQyMDdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeGhyLnN0YXR1cywgeGhyLnN0YXR1c1RleHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlKHhoclN1Y2Nlc3NTdGF0dXNbeGhyLnN0YXR1c10gfHwgeGhyLnN0YXR1cywgeGhyLnN0YXR1c1RleHQsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSUU5IGhhcyBubyBYSFIyIGJ1dCB0aHJvd3Mgb24gYmluYXJ5ICh0cmFjLTExNDI2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvciBYSFIyIG5vbi10ZXh0LCBsZXQgdGhlIGNhbGxlciBoYW5kbGUgaXQgKGdoLTI0OTgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHhoci5yZXNwb25zZVR5cGUgfHwgXCJ0ZXh0XCIpICE9PSBcInRleHRcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgeGhyLnJlc3BvbnNlVGV4dCAhPT0gXCJzdHJpbmdcIiA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgYmluYXJ5OiB4aHIucmVzcG9uc2UgfSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdGV4dDogeGhyLnJlc3BvbnNlVGV4dCB9LCB4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBMaXN0ZW4gdG8gZXZlbnRzXG4gICAgICAgICAgICAgICAgICAgICAgICB4aHIub25sb2FkID0gY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yQ2FsbGJhY2sgPSB4aHIub25lcnJvciA9IHhoci5vbnRpbWVvdXQgPSBjYWxsYmFjayhcImVycm9yXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgOSBvbmx5XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVc2Ugb25yZWFkeXN0YXRlY2hhbmdlIHRvIHJlcGxhY2Ugb25hYm9ydFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdG8gaGFuZGxlIHVuY2F1Z2h0IGFib3J0c1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHhoci5vbmFib3J0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4aHIub25hYm9ydCA9IGVycm9yQ2FsbGJhY2s7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayByZWFkeVN0YXRlIGJlZm9yZSB0aW1lb3V0IGFzIGl0IGNoYW5nZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBbGxvdyBvbmVycm9yIHRvIGJlIGNhbGxlZCBmaXJzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJ1dCB0aGF0IHdpbGwgbm90IGhhbmRsZSBhIG5hdGl2ZSBhYm9ydFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWxzbywgc2F2ZSBlcnJvckNhbGxiYWNrIHRvIGEgdmFyaWFibGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFzIHhoci5vbmVycm9yIGNhbm5vdCBiZSBhY2Nlc3NlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvckNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBhYm9ydCBjYWxsYmFja1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgPSBjYWxsYmFjayhcImFib3J0XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEbyBzZW5kIHRoZSByZXF1ZXN0ICh0aGlzIG1heSByYWlzZSBhbiBleGNlcHRpb24pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeGhyLnNlbmQob3B0aW9ucy5oYXNDb250ZW50ICYmIG9wdGlvbnMuZGF0YSB8fCBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHJhYy0xNDY4MzogT25seSByZXRocm93IGlmIHRoaXMgaGFzbid0IGJlZW4gbm90aWZpZWQgYXMgYW4gZXJyb3IgeWV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBhYm9ydDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBQcmV2ZW50IGF1dG8tZXhlY3V0aW9uIG9mIHNjcmlwdHMgd2hlbiBubyBleHBsaWNpdCBkYXRhVHlwZSB3YXMgcHJvdmlkZWQgKFNlZSBnaC0yNDMyKVxuICAgICAgICBqUXVlcnkuYWpheFByZWZpbHRlcihmdW5jdGlvbiAocykge1xuICAgICAgICAgICAgaWYgKHMuY3Jvc3NEb21haW4pIHtcbiAgICAgICAgICAgICAgICBzLmNvbnRlbnRzLnNjcmlwdCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gSW5zdGFsbCBzY3JpcHQgZGF0YVR5cGVcbiAgICAgICAgalF1ZXJ5LmFqYXhTZXR1cCh7XG4gICAgICAgICAgICBhY2NlcHRzOiB7XG4gICAgICAgICAgICAgICAgc2NyaXB0OiBcInRleHQvamF2YXNjcmlwdCwgYXBwbGljYXRpb24vamF2YXNjcmlwdCwgXCIgK1xuICAgICAgICAgICAgICAgICAgICBcImFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdFwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29udGVudHM6IHtcbiAgICAgICAgICAgICAgICBzY3JpcHQ6IC9cXGIoPzpqYXZhfGVjbWEpc2NyaXB0XFxiL1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbnZlcnRlcnM6IHtcbiAgICAgICAgICAgICAgICBcInRleHQgc2NyaXB0XCI6IGZ1bmN0aW9uICh0ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeS5nbG9iYWxFdmFsKHRleHQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGV4dDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBIYW5kbGUgY2FjaGUncyBzcGVjaWFsIGNhc2UgYW5kIGNyb3NzRG9tYWluXG4gICAgICAgIGpRdWVyeS5hamF4UHJlZmlsdGVyKFwic2NyaXB0XCIsIGZ1bmN0aW9uIChzKSB7XG4gICAgICAgICAgICBpZiAocy5jYWNoZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcy5jYWNoZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHMuY3Jvc3NEb21haW4pIHtcbiAgICAgICAgICAgICAgICBzLnR5cGUgPSBcIkdFVFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gQmluZCBzY3JpcHQgdGFnIGhhY2sgdHJhbnNwb3J0XG4gICAgICAgIGpRdWVyeS5hamF4VHJhbnNwb3J0KFwic2NyaXB0XCIsIGZ1bmN0aW9uIChzKSB7XG4gICAgICAgICAgICAvLyBUaGlzIHRyYW5zcG9ydCBvbmx5IGRlYWxzIHdpdGggY3Jvc3MgZG9tYWluIG9yIGZvcmNlZC1ieS1hdHRycyByZXF1ZXN0c1xuICAgICAgICAgICAgaWYgKHMuY3Jvc3NEb21haW4gfHwgcy5zY3JpcHRBdHRycykge1xuICAgICAgICAgICAgICAgIHZhciBzY3JpcHQsIGNhbGxiYWNrO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHNlbmQ6IGZ1bmN0aW9uIChfLCBjb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NyaXB0ID0galF1ZXJ5KFwiPHNjcmlwdD5cIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cihzLnNjcmlwdEF0dHJzIHx8IHt9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5wcm9wKHsgY2hhcnNldDogcy5zY3JpcHRDaGFyc2V0LCBzcmM6IHMudXJsIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm9uKFwibG9hZCBlcnJvclwiLCBjYWxsYmFjayA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JpcHQucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGUoZXZ0LnR5cGUgPT09IFwiZXJyb3JcIiA/IDQwNCA6IDIwMCwgZXZ0LnR5cGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXNlIG5hdGl2ZSBET00gbWFuaXB1bGF0aW9uIHRvIGF2b2lkIG91ciBkb21NYW5pcCBBSkFYIHRyaWNrZXJ5XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHNjcmlwdFswXSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGFib3J0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBvbGRDYWxsYmFja3MgPSBbXSwgcmpzb25wID0gLyg9KVxcPyg/PSZ8JCl8XFw/XFw/LztcbiAgICAgICAgLy8gRGVmYXVsdCBqc29ucCBzZXR0aW5nc1xuICAgICAgICBqUXVlcnkuYWpheFNldHVwKHtcbiAgICAgICAgICAgIGpzb25wOiBcImNhbGxiYWNrXCIsXG4gICAgICAgICAgICBqc29ucENhbGxiYWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gb2xkQ2FsbGJhY2tzLnBvcCgpIHx8IChqUXVlcnkuZXhwYW5kbyArIFwiX1wiICsgKG5vbmNlLmd1aWQrKykpO1xuICAgICAgICAgICAgICAgIHRoaXNbY2FsbGJhY2tdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2s7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBEZXRlY3QsIG5vcm1hbGl6ZSBvcHRpb25zIGFuZCBpbnN0YWxsIGNhbGxiYWNrcyBmb3IganNvbnAgcmVxdWVzdHNcbiAgICAgICAgalF1ZXJ5LmFqYXhQcmVmaWx0ZXIoXCJqc29uIGpzb25wXCIsIGZ1bmN0aW9uIChzLCBvcmlnaW5hbFNldHRpbmdzLCBqcVhIUikge1xuICAgICAgICAgICAgdmFyIGNhbGxiYWNrTmFtZSwgb3ZlcndyaXR0ZW4sIHJlc3BvbnNlQ29udGFpbmVyLCBqc29uUHJvcCA9IHMuanNvbnAgIT09IGZhbHNlICYmIChyanNvbnAudGVzdChzLnVybCkgP1xuICAgICAgICAgICAgICAgIFwidXJsXCIgOlxuICAgICAgICAgICAgICAgIHR5cGVvZiBzLmRhdGEgPT09IFwic3RyaW5nXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgKHMuY29udGVudFR5cGUgfHwgXCJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIpID09PSAwICYmXG4gICAgICAgICAgICAgICAgICAgIHJqc29ucC50ZXN0KHMuZGF0YSkgJiYgXCJkYXRhXCIpO1xuICAgICAgICAgICAgLy8gSGFuZGxlIGlmZiB0aGUgZXhwZWN0ZWQgZGF0YSB0eXBlIGlzIFwianNvbnBcIiBvciB3ZSBoYXZlIGEgcGFyYW1ldGVyIHRvIHNldFxuICAgICAgICAgICAgaWYgKGpzb25Qcm9wIHx8IHMuZGF0YVR5cGVzWzBdID09PSBcImpzb25wXCIpIHtcbiAgICAgICAgICAgICAgICAvLyBHZXQgY2FsbGJhY2sgbmFtZSwgcmVtZW1iZXJpbmcgcHJlZXhpc3RpbmcgdmFsdWUgYXNzb2NpYXRlZCB3aXRoIGl0XG4gICAgICAgICAgICAgICAgY2FsbGJhY2tOYW1lID0gcy5qc29ucENhbGxiYWNrID0gaXNGdW5jdGlvbihzLmpzb25wQ2FsbGJhY2spID9cbiAgICAgICAgICAgICAgICAgICAgcy5qc29ucENhbGxiYWNrKCkgOlxuICAgICAgICAgICAgICAgICAgICBzLmpzb25wQ2FsbGJhY2s7XG4gICAgICAgICAgICAgICAgLy8gSW5zZXJ0IGNhbGxiYWNrIGludG8gdXJsIG9yIGZvcm0gZGF0YVxuICAgICAgICAgICAgICAgIGlmIChqc29uUHJvcCkge1xuICAgICAgICAgICAgICAgICAgICBzW2pzb25Qcm9wXSA9IHNbanNvblByb3BdLnJlcGxhY2Uocmpzb25wLCBcIiQxXCIgKyBjYWxsYmFja05hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzLmpzb25wICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBzLnVybCArPSAocnF1ZXJ5LnRlc3Qocy51cmwpID8gXCImXCIgOiBcIj9cIikgKyBzLmpzb25wICsgXCI9XCIgKyBjYWxsYmFja05hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFVzZSBkYXRhIGNvbnZlcnRlciB0byByZXRyaWV2ZSBqc29uIGFmdGVyIHNjcmlwdCBleGVjdXRpb25cbiAgICAgICAgICAgICAgICBzLmNvbnZlcnRlcnNbXCJzY3JpcHQganNvblwiXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZUNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmVycm9yKGNhbGxiYWNrTmFtZSArIFwiIHdhcyBub3QgY2FsbGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZUNvbnRhaW5lclswXTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8vIEZvcmNlIGpzb24gZGF0YVR5cGVcbiAgICAgICAgICAgICAgICBzLmRhdGFUeXBlc1swXSA9IFwianNvblwiO1xuICAgICAgICAgICAgICAgIC8vIEluc3RhbGwgY2FsbGJhY2tcbiAgICAgICAgICAgICAgICBvdmVyd3JpdHRlbiA9IHdpbmRvd1tjYWxsYmFja05hbWVdO1xuICAgICAgICAgICAgICAgIHdpbmRvd1tjYWxsYmFja05hbWVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZUNvbnRhaW5lciA9IGFyZ3VtZW50cztcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8vIENsZWFuLXVwIGZ1bmN0aW9uIChmaXJlcyBhZnRlciBjb252ZXJ0ZXJzKVxuICAgICAgICAgICAgICAgIGpxWEhSLmFsd2F5cyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHByZXZpb3VzIHZhbHVlIGRpZG4ndCBleGlzdCAtIHJlbW92ZSBpdFxuICAgICAgICAgICAgICAgICAgICBpZiAob3ZlcndyaXR0ZW4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KHdpbmRvdykucmVtb3ZlUHJvcChjYWxsYmFja05hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIHJlc3RvcmUgcHJlZXhpc3RpbmcgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd1tjYWxsYmFja05hbWVdID0gb3ZlcndyaXR0ZW47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gU2F2ZSBiYWNrIGFzIGZyZWVcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNbY2FsbGJhY2tOYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoYXQgcmUtdXNpbmcgdGhlIG9wdGlvbnMgZG9lc24ndCBzY3JldyB0aGluZ3MgYXJvdW5kXG4gICAgICAgICAgICAgICAgICAgICAgICBzLmpzb25wQ2FsbGJhY2sgPSBvcmlnaW5hbFNldHRpbmdzLmpzb25wQ2FsbGJhY2s7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTYXZlIHRoZSBjYWxsYmFjayBuYW1lIGZvciBmdXR1cmUgdXNlXG4gICAgICAgICAgICAgICAgICAgICAgICBvbGRDYWxsYmFja3MucHVzaChjYWxsYmFja05hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIENhbGwgaWYgaXQgd2FzIGEgZnVuY3Rpb24gYW5kIHdlIGhhdmUgYSByZXNwb25zZVxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2VDb250YWluZXIgJiYgaXNGdW5jdGlvbihvdmVyd3JpdHRlbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJ3cml0dGVuKHJlc3BvbnNlQ29udGFpbmVyWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZUNvbnRhaW5lciA9IG92ZXJ3cml0dGVuID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIERlbGVnYXRlIHRvIHNjcmlwdFxuICAgICAgICAgICAgICAgIHJldHVybiBcInNjcmlwdFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gU3VwcG9ydDogU2FmYXJpIDggb25seVxuICAgICAgICAvLyBJbiBTYWZhcmkgOCBkb2N1bWVudHMgY3JlYXRlZCB2aWEgZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50XG4gICAgICAgIC8vIGNvbGxhcHNlIHNpYmxpbmcgZm9ybXM6IHRoZSBzZWNvbmQgb25lIGJlY29tZXMgYSBjaGlsZCBvZiB0aGUgZmlyc3Qgb25lLlxuICAgICAgICAvLyBCZWNhdXNlIG9mIHRoYXQsIHRoaXMgc2VjdXJpdHkgbWVhc3VyZSBoYXMgdG8gYmUgZGlzYWJsZWQgaW4gU2FmYXJpIDguXG4gICAgICAgIC8vIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xMzczMzdcbiAgICAgICAgc3VwcG9ydC5jcmVhdGVIVE1MRG9jdW1lbnQgPSAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGJvZHkgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoXCJcIikuYm9keTtcbiAgICAgICAgICAgIGJvZHkuaW5uZXJIVE1MID0gXCI8Zm9ybT48L2Zvcm0+PGZvcm0+PC9mb3JtPlwiO1xuICAgICAgICAgICAgcmV0dXJuIGJvZHkuY2hpbGROb2Rlcy5sZW5ndGggPT09IDI7XG4gICAgICAgIH0pKCk7XG4gICAgICAgIC8vIEFyZ3VtZW50IFwiZGF0YVwiIHNob3VsZCBiZSBzdHJpbmcgb2YgaHRtbFxuICAgICAgICAvLyBjb250ZXh0IChvcHRpb25hbCk6IElmIHNwZWNpZmllZCwgdGhlIGZyYWdtZW50IHdpbGwgYmUgY3JlYXRlZCBpbiB0aGlzIGNvbnRleHQsXG4gICAgICAgIC8vIGRlZmF1bHRzIHRvIGRvY3VtZW50XG4gICAgICAgIC8vIGtlZXBTY3JpcHRzIChvcHRpb25hbCk6IElmIHRydWUsIHdpbGwgaW5jbHVkZSBzY3JpcHRzIHBhc3NlZCBpbiB0aGUgaHRtbCBzdHJpbmdcbiAgICAgICAgalF1ZXJ5LnBhcnNlSFRNTCA9IGZ1bmN0aW9uIChkYXRhLCBjb250ZXh0LCBrZWVwU2NyaXB0cykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZXh0ID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICAgICAgICAgIGtlZXBTY3JpcHRzID0gY29udGV4dDtcbiAgICAgICAgICAgICAgICBjb250ZXh0ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgYmFzZSwgcGFyc2VkLCBzY3JpcHRzO1xuICAgICAgICAgICAgaWYgKCFjb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgLy8gU3RvcCBzY3JpcHRzIG9yIGlubGluZSBldmVudCBoYW5kbGVycyBmcm9tIGJlaW5nIGV4ZWN1dGVkIGltbWVkaWF0ZWx5XG4gICAgICAgICAgICAgICAgLy8gYnkgdXNpbmcgZG9jdW1lbnQuaW1wbGVtZW50YXRpb25cbiAgICAgICAgICAgICAgICBpZiAoc3VwcG9ydC5jcmVhdGVIVE1MRG9jdW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dCA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2V0IHRoZSBiYXNlIGhyZWYgZm9yIHRoZSBjcmVhdGVkIGRvY3VtZW50XG4gICAgICAgICAgICAgICAgICAgIC8vIHNvIGFueSBwYXJzZWQgZWxlbWVudHMgd2l0aCBVUkxzXG4gICAgICAgICAgICAgICAgICAgIC8vIGFyZSBiYXNlZCBvbiB0aGUgZG9jdW1lbnQncyBVUkwgKGdoLTI5NjUpXG4gICAgICAgICAgICAgICAgICAgIGJhc2UgPSBjb250ZXh0LmNyZWF0ZUVsZW1lbnQoXCJiYXNlXCIpO1xuICAgICAgICAgICAgICAgICAgICBiYXNlLmhyZWYgPSBkb2N1bWVudC5sb2NhdGlvbi5ocmVmO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmhlYWQuYXBwZW5kQ2hpbGQoYmFzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0ID0gZG9jdW1lbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyc2VkID0gcnNpbmdsZVRhZy5leGVjKGRhdGEpO1xuICAgICAgICAgICAgc2NyaXB0cyA9ICFrZWVwU2NyaXB0cyAmJiBbXTtcbiAgICAgICAgICAgIC8vIFNpbmdsZSB0YWdcbiAgICAgICAgICAgIGlmIChwYXJzZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW2NvbnRleHQuY3JlYXRlRWxlbWVudChwYXJzZWRbMV0pXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcnNlZCA9IGJ1aWxkRnJhZ21lbnQoW2RhdGFdLCBjb250ZXh0LCBzY3JpcHRzKTtcbiAgICAgICAgICAgIGlmIChzY3JpcHRzICYmIHNjcmlwdHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgalF1ZXJ5KHNjcmlwdHMpLnJlbW92ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGpRdWVyeS5tZXJnZShbXSwgcGFyc2VkLmNoaWxkTm9kZXMpO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgKiBMb2FkIGEgdXJsIGludG8gYSBwYWdlXG4gICAgICAgICovXG4gICAgICAgIGpRdWVyeS5mbi5sb2FkID0gZnVuY3Rpb24gKHVybCwgcGFyYW1zLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgdmFyIHNlbGVjdG9yLCB0eXBlLCByZXNwb25zZSwgc2VsZiA9IHRoaXMsIG9mZiA9IHVybC5pbmRleE9mKFwiIFwiKTtcbiAgICAgICAgICAgIGlmIChvZmYgPiAtMSkge1xuICAgICAgICAgICAgICAgIHNlbGVjdG9yID0gc3RyaXBBbmRDb2xsYXBzZSh1cmwuc2xpY2Uob2ZmKSk7XG4gICAgICAgICAgICAgICAgdXJsID0gdXJsLnNsaWNlKDAsIG9mZik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiBpdCdzIGEgZnVuY3Rpb25cbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKHBhcmFtcykpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBhc3N1bWUgdGhhdCBpdCdzIHRoZSBjYWxsYmFja1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrID0gcGFyYW1zO1xuICAgICAgICAgICAgICAgIHBhcmFtcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2UsIGJ1aWxkIGEgcGFyYW0gc3RyaW5nXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwYXJhbXMgJiYgdHlwZW9mIHBhcmFtcyA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgIHR5cGUgPSBcIlBPU1RcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIHdlIGhhdmUgZWxlbWVudHMgdG8gbW9kaWZ5LCBtYWtlIHRoZSByZXF1ZXN0XG4gICAgICAgICAgICBpZiAoc2VsZi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgalF1ZXJ5LmFqYXgoe1xuICAgICAgICAgICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgXCJ0eXBlXCIgdmFyaWFibGUgaXMgdW5kZWZpbmVkLCB0aGVuIFwiR0VUXCIgbWV0aG9kIHdpbGwgYmUgdXNlZC5cbiAgICAgICAgICAgICAgICAgICAgLy8gTWFrZSB2YWx1ZSBvZiB0aGlzIGZpZWxkIGV4cGxpY2l0IHNpbmNlXG4gICAgICAgICAgICAgICAgICAgIC8vIHVzZXIgY2FuIG92ZXJyaWRlIGl0IHRocm91Z2ggYWpheFNldHVwIG1ldGhvZFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlIHx8IFwiR0VUXCIsXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImh0bWxcIixcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogcGFyYW1zXG4gICAgICAgICAgICAgICAgfSkuZG9uZShmdW5jdGlvbiAocmVzcG9uc2VUZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNhdmUgcmVzcG9uc2UgZm9yIHVzZSBpbiBjb21wbGV0ZSBjYWxsYmFja1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IGFyZ3VtZW50cztcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5odG1sKHNlbGVjdG9yID9cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIGEgc2VsZWN0b3Igd2FzIHNwZWNpZmllZCwgbG9jYXRlIHRoZSByaWdodCBlbGVtZW50cyBpbiBhIGR1bW15IGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXhjbHVkZSBzY3JpcHRzIHRvIGF2b2lkIElFICdQZXJtaXNzaW9uIERlbmllZCcgZXJyb3JzXG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkoXCI8ZGl2PlwiKS5hcHBlbmQoalF1ZXJ5LnBhcnNlSFRNTChyZXNwb25zZVRleHQpKS5maW5kKHNlbGVjdG9yKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2UgdXNlIHRoZSBmdWxsIHJlc3VsdFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIHJlcXVlc3Qgc3VjY2VlZHMsIHRoaXMgZnVuY3Rpb24gZ2V0cyBcImRhdGFcIiwgXCJzdGF0dXNcIiwgXCJqcVhIUlwiXG4gICAgICAgICAgICAgICAgICAgIC8vIGJ1dCB0aGV5IGFyZSBpZ25vcmVkIGJlY2F1c2UgcmVzcG9uc2Ugd2FzIHNldCBhYm92ZS5cbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgaXQgZmFpbHMsIHRoaXMgZnVuY3Rpb24gZ2V0cyBcImpxWEhSXCIsIFwic3RhdHVzXCIsIFwiZXJyb3JcIlxuICAgICAgICAgICAgICAgIH0pLmFsd2F5cyhjYWxsYmFjayAmJiBmdW5jdGlvbiAoanFYSFIsIHN0YXR1cykge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkodGhpcywgcmVzcG9uc2UgfHwgW2pxWEhSLnJlc3BvbnNlVGV4dCwgc3RhdHVzLCBqcVhIUl0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICBqUXVlcnkuZXhwci5wc2V1ZG9zLmFuaW1hdGVkID0gZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgIHJldHVybiBqUXVlcnkuZ3JlcChqUXVlcnkudGltZXJzLCBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbSA9PT0gZm4uZWxlbTtcbiAgICAgICAgICAgIH0pLmxlbmd0aDtcbiAgICAgICAgfTtcbiAgICAgICAgalF1ZXJ5Lm9mZnNldCA9IHtcbiAgICAgICAgICAgIHNldE9mZnNldDogZnVuY3Rpb24gKGVsZW0sIG9wdGlvbnMsIGkpIHtcbiAgICAgICAgICAgICAgICB2YXIgY3VyUG9zaXRpb24sIGN1ckxlZnQsIGN1ckNTU1RvcCwgY3VyVG9wLCBjdXJPZmZzZXQsIGN1ckNTU0xlZnQsIGNhbGN1bGF0ZVBvc2l0aW9uLCBwb3NpdGlvbiA9IGpRdWVyeS5jc3MoZWxlbSwgXCJwb3NpdGlvblwiKSwgY3VyRWxlbSA9IGpRdWVyeShlbGVtKSwgcHJvcHMgPSB7fTtcbiAgICAgICAgICAgICAgICAvLyBTZXQgcG9zaXRpb24gZmlyc3QsIGluLWNhc2UgdG9wL2xlZnQgYXJlIHNldCBldmVuIG9uIHN0YXRpYyBlbGVtXG4gICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uID09PSBcInN0YXRpY1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW0uc3R5bGUucG9zaXRpb24gPSBcInJlbGF0aXZlXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGN1ck9mZnNldCA9IGN1ckVsZW0ub2Zmc2V0KCk7XG4gICAgICAgICAgICAgICAgY3VyQ1NTVG9wID0galF1ZXJ5LmNzcyhlbGVtLCBcInRvcFwiKTtcbiAgICAgICAgICAgICAgICBjdXJDU1NMZWZ0ID0galF1ZXJ5LmNzcyhlbGVtLCBcImxlZnRcIik7XG4gICAgICAgICAgICAgICAgY2FsY3VsYXRlUG9zaXRpb24gPSAocG9zaXRpb24gPT09IFwiYWJzb2x1dGVcIiB8fCBwb3NpdGlvbiA9PT0gXCJmaXhlZFwiKSAmJlxuICAgICAgICAgICAgICAgICAgICAoY3VyQ1NTVG9wICsgY3VyQ1NTTGVmdCkuaW5kZXhPZihcImF1dG9cIikgPiAtMTtcbiAgICAgICAgICAgICAgICAvLyBOZWVkIHRvIGJlIGFibGUgdG8gY2FsY3VsYXRlIHBvc2l0aW9uIGlmIGVpdGhlclxuICAgICAgICAgICAgICAgIC8vIHRvcCBvciBsZWZ0IGlzIGF1dG8gYW5kIHBvc2l0aW9uIGlzIGVpdGhlciBhYnNvbHV0ZSBvciBmaXhlZFxuICAgICAgICAgICAgICAgIGlmIChjYWxjdWxhdGVQb3NpdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBjdXJQb3NpdGlvbiA9IGN1ckVsZW0ucG9zaXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgY3VyVG9wID0gY3VyUG9zaXRpb24udG9wO1xuICAgICAgICAgICAgICAgICAgICBjdXJMZWZ0ID0gY3VyUG9zaXRpb24ubGVmdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGN1clRvcCA9IHBhcnNlRmxvYXQoY3VyQ1NTVG9wKSB8fCAwO1xuICAgICAgICAgICAgICAgICAgICBjdXJMZWZ0ID0gcGFyc2VGbG9hdChjdXJDU1NMZWZ0KSB8fCAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihvcHRpb25zKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBVc2UgalF1ZXJ5LmV4dGVuZCBoZXJlIHRvIGFsbG93IG1vZGlmaWNhdGlvbiBvZiBjb29yZGluYXRlcyBhcmd1bWVudCAoZ2gtMTg0OClcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMuY2FsbChlbGVtLCBpLCBqUXVlcnkuZXh0ZW5kKHt9LCBjdXJPZmZzZXQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMudG9wICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMudG9wID0gKG9wdGlvbnMudG9wIC0gY3VyT2Zmc2V0LnRvcCkgKyBjdXJUb3A7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmxlZnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBwcm9wcy5sZWZ0ID0gKG9wdGlvbnMubGVmdCAtIGN1ck9mZnNldC5sZWZ0KSArIGN1ckxlZnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChcInVzaW5nXCIgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnVzaW5nLmNhbGwoZWxlbSwgcHJvcHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY3VyRWxlbS5jc3MocHJvcHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgalF1ZXJ5LmZuLmV4dGVuZCh7XG4gICAgICAgICAgICAvLyBvZmZzZXQoKSByZWxhdGVzIGFuIGVsZW1lbnQncyBib3JkZXIgYm94IHRvIHRoZSBkb2N1bWVudCBvcmlnaW5cbiAgICAgICAgICAgIG9mZnNldDogZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAvLyBQcmVzZXJ2ZSBjaGFpbmluZyBmb3Igc2V0dGVyXG4gICAgICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMgPT09IHVuZGVmaW5lZCA/XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWFjaChmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5vZmZzZXQuc2V0T2Zmc2V0KHRoaXMsIG9wdGlvbnMsIGkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciByZWN0LCB3aW4sIGVsZW0gPSB0aGlzWzBdO1xuICAgICAgICAgICAgICAgIGlmICghZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFJldHVybiB6ZXJvcyBmb3IgZGlzY29ubmVjdGVkIGFuZCBoaWRkZW4gKGRpc3BsYXk6IG5vbmUpIGVsZW1lbnRzIChnaC0yMzEwKVxuICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDw9MTEgb25seVxuICAgICAgICAgICAgICAgIC8vIFJ1bm5pbmcgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IG9uIGFcbiAgICAgICAgICAgICAgICAvLyBkaXNjb25uZWN0ZWQgbm9kZSBpbiBJRSB0aHJvd3MgYW4gZXJyb3JcbiAgICAgICAgICAgICAgICBpZiAoIWVsZW0uZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdG9wOiAwLCBsZWZ0OiAwIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEdldCBkb2N1bWVudC1yZWxhdGl2ZSBwb3NpdGlvbiBieSBhZGRpbmcgdmlld3BvcnQgc2Nyb2xsIHRvIHZpZXdwb3J0LXJlbGF0aXZlIGdCQ1JcbiAgICAgICAgICAgICAgICByZWN0ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgICAgICB3aW4gPSBlbGVtLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdG9wOiByZWN0LnRvcCArIHdpbi5wYWdlWU9mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogcmVjdC5sZWZ0ICsgd2luLnBhZ2VYT2Zmc2V0XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBwb3NpdGlvbigpIHJlbGF0ZXMgYW4gZWxlbWVudCdzIG1hcmdpbiBib3ggdG8gaXRzIG9mZnNldCBwYXJlbnQncyBwYWRkaW5nIGJveFxuICAgICAgICAgICAgLy8gVGhpcyBjb3JyZXNwb25kcyB0byB0aGUgYmVoYXZpb3Igb2YgQ1NTIGFic29sdXRlIHBvc2l0aW9uaW5nXG4gICAgICAgICAgICBwb3NpdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpc1swXSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBvZmZzZXRQYXJlbnQsIG9mZnNldCwgZG9jLCBlbGVtID0gdGhpc1swXSwgcGFyZW50T2Zmc2V0ID0geyB0b3A6IDAsIGxlZnQ6IDAgfTtcbiAgICAgICAgICAgICAgICAvLyBwb3NpdGlvbjpmaXhlZCBlbGVtZW50cyBhcmUgb2Zmc2V0IGZyb20gdGhlIHZpZXdwb3J0LCB3aGljaCBpdHNlbGYgYWx3YXlzIGhhcyB6ZXJvIG9mZnNldFxuICAgICAgICAgICAgICAgIGlmIChqUXVlcnkuY3NzKGVsZW0sIFwicG9zaXRpb25cIikgPT09IFwiZml4ZWRcIikge1xuICAgICAgICAgICAgICAgICAgICAvLyBBc3N1bWUgcG9zaXRpb246Zml4ZWQgaW1wbGllcyBhdmFpbGFiaWxpdHkgb2YgZ2V0Qm91bmRpbmdDbGllbnRSZWN0XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgPSB0aGlzLm9mZnNldCgpO1xuICAgICAgICAgICAgICAgICAgICAvLyBBY2NvdW50IGZvciB0aGUgKnJlYWwqIG9mZnNldCBwYXJlbnQsIHdoaWNoIGNhbiBiZSB0aGUgZG9jdW1lbnQgb3IgaXRzIHJvb3QgZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAvLyB3aGVuIGEgc3RhdGljYWxseSBwb3NpdGlvbmVkIGVsZW1lbnQgaXMgaWRlbnRpZmllZFxuICAgICAgICAgICAgICAgICAgICBkb2MgPSBlbGVtLm93bmVyRG9jdW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldFBhcmVudCA9IGVsZW0ub2Zmc2V0UGFyZW50IHx8IGRvYy5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChvZmZzZXRQYXJlbnQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIChvZmZzZXRQYXJlbnQgPT09IGRvYy5ib2R5IHx8IG9mZnNldFBhcmVudCA9PT0gZG9jLmRvY3VtZW50RWxlbWVudCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5jc3Mob2Zmc2V0UGFyZW50LCBcInBvc2l0aW9uXCIpID09PSBcInN0YXRpY1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXRQYXJlbnQgPSBvZmZzZXRQYXJlbnQucGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob2Zmc2V0UGFyZW50ICYmIG9mZnNldFBhcmVudCAhPT0gZWxlbSAmJiBvZmZzZXRQYXJlbnQubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEluY29ycG9yYXRlIGJvcmRlcnMgaW50byBpdHMgb2Zmc2V0LCBzaW5jZSB0aGV5IGFyZSBvdXRzaWRlIGl0cyBjb250ZW50IG9yaWdpblxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50T2Zmc2V0ID0galF1ZXJ5KG9mZnNldFBhcmVudCkub2Zmc2V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRPZmZzZXQudG9wICs9IGpRdWVyeS5jc3Mob2Zmc2V0UGFyZW50LCBcImJvcmRlclRvcFdpZHRoXCIsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50T2Zmc2V0LmxlZnQgKz0galF1ZXJ5LmNzcyhvZmZzZXRQYXJlbnQsIFwiYm9yZGVyTGVmdFdpZHRoXCIsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFN1YnRyYWN0IHBhcmVudCBvZmZzZXRzIGFuZCBlbGVtZW50IG1hcmdpbnNcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0b3A6IG9mZnNldC50b3AgLSBwYXJlbnRPZmZzZXQudG9wIC0galF1ZXJ5LmNzcyhlbGVtLCBcIm1hcmdpblRvcFwiLCB0cnVlKSxcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogb2Zmc2V0LmxlZnQgLSBwYXJlbnRPZmZzZXQubGVmdCAtIGpRdWVyeS5jc3MoZWxlbSwgXCJtYXJnaW5MZWZ0XCIsIHRydWUpXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBUaGlzIG1ldGhvZCB3aWxsIHJldHVybiBkb2N1bWVudEVsZW1lbnQgaW4gdGhlIGZvbGxvd2luZyBjYXNlczpcbiAgICAgICAgICAgIC8vIDEpIEZvciB0aGUgZWxlbWVudCBpbnNpZGUgdGhlIGlmcmFtZSB3aXRob3V0IG9mZnNldFBhcmVudCwgdGhpcyBtZXRob2Qgd2lsbCByZXR1cm5cbiAgICAgICAgICAgIC8vICAgIGRvY3VtZW50RWxlbWVudCBvZiB0aGUgcGFyZW50IHdpbmRvd1xuICAgICAgICAgICAgLy8gMikgRm9yIHRoZSBoaWRkZW4gb3IgZGV0YWNoZWQgZWxlbWVudFxuICAgICAgICAgICAgLy8gMykgRm9yIGJvZHkgb3IgaHRtbCBlbGVtZW50LCBpLmUuIGluIGNhc2Ugb2YgdGhlIGh0bWwgbm9kZSAtIGl0IHdpbGwgcmV0dXJuIGl0c2VsZlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIGJ1dCB0aG9zZSBleGNlcHRpb25zIHdlcmUgbmV2ZXIgcHJlc2VudGVkIGFzIGEgcmVhbCBsaWZlIHVzZS1jYXNlc1xuICAgICAgICAgICAgLy8gYW5kIG1pZ2h0IGJlIGNvbnNpZGVyZWQgYXMgbW9yZSBwcmVmZXJhYmxlIHJlc3VsdHMuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gVGhpcyBsb2dpYywgaG93ZXZlciwgaXMgbm90IGd1YXJhbnRlZWQgYW5kIGNhbiBjaGFuZ2UgYXQgYW55IHBvaW50IGluIHRoZSBmdXR1cmVcbiAgICAgICAgICAgIG9mZnNldFBhcmVudDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvZmZzZXRQYXJlbnQgPSB0aGlzLm9mZnNldFBhcmVudDtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKG9mZnNldFBhcmVudCAmJiBqUXVlcnkuY3NzKG9mZnNldFBhcmVudCwgXCJwb3NpdGlvblwiKSA9PT0gXCJzdGF0aWNcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0UGFyZW50ID0gb2Zmc2V0UGFyZW50Lm9mZnNldFBhcmVudDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2Zmc2V0UGFyZW50IHx8IGRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIENyZWF0ZSBzY3JvbGxMZWZ0IGFuZCBzY3JvbGxUb3AgbWV0aG9kc1xuICAgICAgICBqUXVlcnkuZWFjaCh7IHNjcm9sbExlZnQ6IFwicGFnZVhPZmZzZXRcIiwgc2Nyb2xsVG9wOiBcInBhZ2VZT2Zmc2V0XCIgfSwgZnVuY3Rpb24gKG1ldGhvZCwgcHJvcCkge1xuICAgICAgICAgICAgdmFyIHRvcCA9IFwicGFnZVlPZmZzZXRcIiA9PT0gcHJvcDtcbiAgICAgICAgICAgIGpRdWVyeS5mblttZXRob2RdID0gZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhY2Nlc3ModGhpcywgZnVuY3Rpb24gKGVsZW0sIG1ldGhvZCwgdmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENvYWxlc2NlIGRvY3VtZW50cyBhbmQgd2luZG93c1xuICAgICAgICAgICAgICAgICAgICB2YXIgd2luO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNXaW5kb3coZWxlbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbiA9IGVsZW07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZWxlbS5ub2RlVHlwZSA9PT0gOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luID0gZWxlbS5kZWZhdWx0VmlldztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3aW4gPyB3aW5bcHJvcF0gOiBlbGVtW21ldGhvZF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHdpbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luLnNjcm9sbFRvKCF0b3AgPyB2YWwgOiB3aW4ucGFnZVhPZmZzZXQsIHRvcCA/IHZhbCA6IHdpbi5wYWdlWU9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtW21ldGhvZF0gPSB2YWw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCBtZXRob2QsIHZhbCwgYXJndW1lbnRzLmxlbmd0aCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gU3VwcG9ydDogU2FmYXJpIDw9NyAtIDkuMSwgQ2hyb21lIDw9MzcgLSA0OVxuICAgICAgICAvLyBBZGQgdGhlIHRvcC9sZWZ0IGNzc0hvb2tzIHVzaW5nIGpRdWVyeS5mbi5wb3NpdGlvblxuICAgICAgICAvLyBXZWJraXQgYnVnOiBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MjkwODRcbiAgICAgICAgLy8gQmxpbmsgYnVnOiBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD01ODkzNDdcbiAgICAgICAgLy8gZ2V0Q29tcHV0ZWRTdHlsZSByZXR1cm5zIHBlcmNlbnQgd2hlbiBzcGVjaWZpZWQgZm9yIHRvcC9sZWZ0L2JvdHRvbS9yaWdodDtcbiAgICAgICAgLy8gcmF0aGVyIHRoYW4gbWFrZSB0aGUgY3NzIG1vZHVsZSBkZXBlbmQgb24gdGhlIG9mZnNldCBtb2R1bGUsIGp1c3QgY2hlY2sgZm9yIGl0IGhlcmVcbiAgICAgICAgalF1ZXJ5LmVhY2goW1widG9wXCIsIFwibGVmdFwiXSwgZnVuY3Rpb24gKF9pLCBwcm9wKSB7XG4gICAgICAgICAgICBqUXVlcnkuY3NzSG9va3NbcHJvcF0gPSBhZGRHZXRIb29rSWYoc3VwcG9ydC5waXhlbFBvc2l0aW9uLCBmdW5jdGlvbiAoZWxlbSwgY29tcHV0ZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoY29tcHV0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWQgPSBjdXJDU1MoZWxlbSwgcHJvcCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIGN1ckNTUyByZXR1cm5zIHBlcmNlbnRhZ2UsIGZhbGxiYWNrIHRvIG9mZnNldFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcm51bW5vbnB4LnRlc3QoY29tcHV0ZWQpID9cbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeShlbGVtKS5wb3NpdGlvbigpW3Byb3BdICsgXCJweFwiIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gQ3JlYXRlIGlubmVySGVpZ2h0LCBpbm5lcldpZHRoLCBoZWlnaHQsIHdpZHRoLCBvdXRlckhlaWdodCBhbmQgb3V0ZXJXaWR0aCBtZXRob2RzXG4gICAgICAgIGpRdWVyeS5lYWNoKHsgSGVpZ2h0OiBcImhlaWdodFwiLCBXaWR0aDogXCJ3aWR0aFwiIH0sIGZ1bmN0aW9uIChuYW1lLCB0eXBlKSB7XG4gICAgICAgICAgICBqUXVlcnkuZWFjaCh7XG4gICAgICAgICAgICAgICAgcGFkZGluZzogXCJpbm5lclwiICsgbmFtZSxcbiAgICAgICAgICAgICAgICBjb250ZW50OiB0eXBlLFxuICAgICAgICAgICAgICAgIFwiXCI6IFwib3V0ZXJcIiArIG5hbWVcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChkZWZhdWx0RXh0cmEsIGZ1bmNOYW1lKSB7XG4gICAgICAgICAgICAgICAgLy8gTWFyZ2luIGlzIG9ubHkgZm9yIG91dGVySGVpZ2h0LCBvdXRlcldpZHRoXG4gICAgICAgICAgICAgICAgalF1ZXJ5LmZuW2Z1bmNOYW1lXSA9IGZ1bmN0aW9uIChtYXJnaW4sIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGFpbmFibGUgPSBhcmd1bWVudHMubGVuZ3RoICYmIChkZWZhdWx0RXh0cmEgfHwgdHlwZW9mIG1hcmdpbiAhPT0gXCJib29sZWFuXCIpLCBleHRyYSA9IGRlZmF1bHRFeHRyYSB8fCAobWFyZ2luID09PSB0cnVlIHx8IHZhbHVlID09PSB0cnVlID8gXCJtYXJnaW5cIiA6IFwiYm9yZGVyXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWNjZXNzKHRoaXMsIGZ1bmN0aW9uIChlbGVtLCB0eXBlLCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRvYztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1dpbmRvdyhlbGVtKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICQoIHdpbmRvdyApLm91dGVyV2lkdGgvSGVpZ2h0IHJldHVybiB3L2ggaW5jbHVkaW5nIHNjcm9sbGJhcnMgKGdoLTE3MjkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmNOYW1lLmluZGV4T2YoXCJvdXRlclwiKSA9PT0gMCA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1bXCJpbm5lclwiICsgbmFtZV0gOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFtcImNsaWVudFwiICsgbmFtZV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBHZXQgZG9jdW1lbnQgd2lkdGggb3IgaGVpZ2h0XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbS5ub2RlVHlwZSA9PT0gOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYyA9IGVsZW0uZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVpdGhlciBzY3JvbGxbV2lkdGgvSGVpZ2h0XSBvciBvZmZzZXRbV2lkdGgvSGVpZ2h0XSBvciBjbGllbnRbV2lkdGgvSGVpZ2h0XSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3aGljaGV2ZXIgaXMgZ3JlYXRlc3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5tYXgoZWxlbS5ib2R5W1wic2Nyb2xsXCIgKyBuYW1lXSwgZG9jW1wic2Nyb2xsXCIgKyBuYW1lXSwgZWxlbS5ib2R5W1wib2Zmc2V0XCIgKyBuYW1lXSwgZG9jW1wib2Zmc2V0XCIgKyBuYW1lXSwgZG9jW1wiY2xpZW50XCIgKyBuYW1lXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gR2V0IHdpZHRoIG9yIGhlaWdodCBvbiB0aGUgZWxlbWVudCwgcmVxdWVzdGluZyBidXQgbm90IGZvcmNpbmcgcGFyc2VGbG9hdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5jc3MoZWxlbSwgdHlwZSwgZXh0cmEpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXQgd2lkdGggb3IgaGVpZ2h0IG9uIHRoZSBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LnN0eWxlKGVsZW0sIHR5cGUsIHZhbHVlLCBleHRyYSk7XG4gICAgICAgICAgICAgICAgICAgIH0sIHR5cGUsIGNoYWluYWJsZSA/IG1hcmdpbiA6IHVuZGVmaW5lZCwgY2hhaW5hYmxlKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBqUXVlcnkuZWFjaChbXG4gICAgICAgICAgICBcImFqYXhTdGFydFwiLFxuICAgICAgICAgICAgXCJhamF4U3RvcFwiLFxuICAgICAgICAgICAgXCJhamF4Q29tcGxldGVcIixcbiAgICAgICAgICAgIFwiYWpheEVycm9yXCIsXG4gICAgICAgICAgICBcImFqYXhTdWNjZXNzXCIsXG4gICAgICAgICAgICBcImFqYXhTZW5kXCJcbiAgICAgICAgXSwgZnVuY3Rpb24gKF9pLCB0eXBlKSB7XG4gICAgICAgICAgICBqUXVlcnkuZm5bdHlwZV0gPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5vbih0eXBlLCBmbik7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgalF1ZXJ5LmZuLmV4dGVuZCh7XG4gICAgICAgICAgICBiaW5kOiBmdW5jdGlvbiAodHlwZXMsIGRhdGEsIGZuKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub24odHlwZXMsIG51bGwsIGRhdGEsIGZuKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1bmJpbmQ6IGZ1bmN0aW9uICh0eXBlcywgZm4pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5vZmYodHlwZXMsIG51bGwsIGZuKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZWxlZ2F0ZTogZnVuY3Rpb24gKHNlbGVjdG9yLCB0eXBlcywgZGF0YSwgZm4pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5vbih0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1bmRlbGVnYXRlOiBmdW5jdGlvbiAoc2VsZWN0b3IsIHR5cGVzLCBmbikge1xuICAgICAgICAgICAgICAgIC8vICggbmFtZXNwYWNlICkgb3IgKCBzZWxlY3RvciwgdHlwZXMgWywgZm5dIClcbiAgICAgICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA9PT0gMSA/XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub2ZmKHNlbGVjdG9yLCBcIioqXCIpIDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vZmYodHlwZXMsIHNlbGVjdG9yIHx8IFwiKipcIiwgZm4pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGhvdmVyOiBmdW5jdGlvbiAoZm5PdmVyLCBmbk91dCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzXG4gICAgICAgICAgICAgICAgICAgIC5vbihcIm1vdXNlZW50ZXJcIiwgZm5PdmVyKVxuICAgICAgICAgICAgICAgICAgICAub24oXCJtb3VzZWxlYXZlXCIsIGZuT3V0IHx8IGZuT3Zlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBqUXVlcnkuZWFjaCgoXCJibHVyIGZvY3VzIGZvY3VzaW4gZm9jdXNvdXQgcmVzaXplIHNjcm9sbCBjbGljayBkYmxjbGljayBcIiArXG4gICAgICAgICAgICBcIm1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIFwiICtcbiAgICAgICAgICAgIFwiY2hhbmdlIHNlbGVjdCBzdWJtaXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBjb250ZXh0bWVudVwiKS5zcGxpdChcIiBcIiksIGZ1bmN0aW9uIChfaSwgbmFtZSkge1xuICAgICAgICAgICAgLy8gSGFuZGxlIGV2ZW50IGJpbmRpbmdcbiAgICAgICAgICAgIGpRdWVyeS5mbltuYW1lXSA9IGZ1bmN0aW9uIChkYXRhLCBmbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID4gMCA/XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub24obmFtZSwgbnVsbCwgZGF0YSwgZm4pIDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyKG5hbWUpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seVxuICAgICAgICAvLyBNYWtlIHN1cmUgd2UgdHJpbSBCT00gYW5kIE5CU1BcbiAgICAgICAgLy8gUmVxdWlyZSB0aGF0IHRoZSBcIndoaXRlc3BhY2UgcnVuXCIgc3RhcnRzIGZyb20gYSBub24td2hpdGVzcGFjZVxuICAgICAgICAvLyB0byBhdm9pZCBPKE5eMikgYmVoYXZpb3Igd2hlbiB0aGUgZW5naW5lIHdvdWxkIHRyeSBtYXRjaGluZyBcIlxccyskXCIgYXQgZWFjaCBzcGFjZSBwb3NpdGlvbi5cbiAgICAgICAgdmFyIHJ0cmltID0gL15bXFxzXFx1RkVGRlxceEEwXSt8KFteXFxzXFx1RkVGRlxceEEwXSlbXFxzXFx1RkVGRlxceEEwXSskL2c7XG4gICAgICAgIC8vIEJpbmQgYSBmdW5jdGlvbiB0byBhIGNvbnRleHQsIG9wdGlvbmFsbHkgcGFydGlhbGx5IGFwcGx5aW5nIGFueVxuICAgICAgICAvLyBhcmd1bWVudHMuXG4gICAgICAgIC8vIGpRdWVyeS5wcm94eSBpcyBkZXByZWNhdGVkIHRvIHByb21vdGUgc3RhbmRhcmRzIChzcGVjaWZpY2FsbHkgRnVuY3Rpb24jYmluZClcbiAgICAgICAgLy8gSG93ZXZlciwgaXQgaXMgbm90IHNsYXRlZCBmb3IgcmVtb3ZhbCBhbnkgdGltZSBzb29uXG4gICAgICAgIGpRdWVyeS5wcm94eSA9IGZ1bmN0aW9uIChmbiwgY29udGV4dCkge1xuICAgICAgICAgICAgdmFyIHRtcCwgYXJncywgcHJveHk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRleHQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICB0bXAgPSBmbltjb250ZXh0XTtcbiAgICAgICAgICAgICAgICBjb250ZXh0ID0gZm47XG4gICAgICAgICAgICAgICAgZm4gPSB0bXA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBRdWljayBjaGVjayB0byBkZXRlcm1pbmUgaWYgdGFyZ2V0IGlzIGNhbGxhYmxlLCBpbiB0aGUgc3BlY1xuICAgICAgICAgICAgLy8gdGhpcyB0aHJvd3MgYSBUeXBlRXJyb3IsIGJ1dCB3ZSB3aWxsIGp1c3QgcmV0dXJuIHVuZGVmaW5lZC5cbiAgICAgICAgICAgIGlmICghaXNGdW5jdGlvbihmbikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2ltdWxhdGVkIGJpbmRcbiAgICAgICAgICAgIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMik7XG4gICAgICAgICAgICBwcm94eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm4uYXBwbHkoY29udGV4dCB8fCB0aGlzLCBhcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBTZXQgdGhlIGd1aWQgb2YgdW5pcXVlIGhhbmRsZXIgdG8gdGhlIHNhbWUgb2Ygb3JpZ2luYWwgaGFuZGxlciwgc28gaXQgY2FuIGJlIHJlbW92ZWRcbiAgICAgICAgICAgIHByb3h5Lmd1aWQgPSBmbi5ndWlkID0gZm4uZ3VpZCB8fCBqUXVlcnkuZ3VpZCsrO1xuICAgICAgICAgICAgcmV0dXJuIHByb3h5O1xuICAgICAgICB9O1xuICAgICAgICBqUXVlcnkuaG9sZFJlYWR5ID0gZnVuY3Rpb24gKGhvbGQpIHtcbiAgICAgICAgICAgIGlmIChob2xkKSB7XG4gICAgICAgICAgICAgICAgalF1ZXJ5LnJlYWR5V2FpdCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgalF1ZXJ5LnJlYWR5KHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBqUXVlcnkuaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG4gICAgICAgIGpRdWVyeS5wYXJzZUpTT04gPSBKU09OLnBhcnNlO1xuICAgICAgICBqUXVlcnkubm9kZU5hbWUgPSBub2RlTmFtZTtcbiAgICAgICAgalF1ZXJ5LmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uO1xuICAgICAgICBqUXVlcnkuaXNXaW5kb3cgPSBpc1dpbmRvdztcbiAgICAgICAgalF1ZXJ5LmNhbWVsQ2FzZSA9IGNhbWVsQ2FzZTtcbiAgICAgICAgalF1ZXJ5LnR5cGUgPSB0b1R5cGU7XG4gICAgICAgIGpRdWVyeS5ub3cgPSBEYXRlLm5vdztcbiAgICAgICAgalF1ZXJ5LmlzTnVtZXJpYyA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgIC8vIEFzIG9mIGpRdWVyeSAzLjAsIGlzTnVtZXJpYyBpcyBsaW1pdGVkIHRvXG4gICAgICAgICAgICAvLyBzdHJpbmdzIGFuZCBudW1iZXJzIChwcmltaXRpdmVzIG9yIG9iamVjdHMpXG4gICAgICAgICAgICAvLyB0aGF0IGNhbiBiZSBjb2VyY2VkIHRvIGZpbml0ZSBudW1iZXJzIChnaC0yNjYyKVxuICAgICAgICAgICAgdmFyIHR5cGUgPSBqUXVlcnkudHlwZShvYmopO1xuICAgICAgICAgICAgcmV0dXJuICh0eXBlID09PSBcIm51bWJlclwiIHx8IHR5cGUgPT09IFwic3RyaW5nXCIpICYmXG4gICAgICAgICAgICAgICAgLy8gcGFyc2VGbG9hdCBOYU5zIG51bWVyaWMtY2FzdCBmYWxzZSBwb3NpdGl2ZXMgKFwiXCIpXG4gICAgICAgICAgICAgICAgLy8gLi4uYnV0IG1pc2ludGVycHJldHMgbGVhZGluZy1udW1iZXIgc3RyaW5ncywgcGFydGljdWxhcmx5IGhleCBsaXRlcmFscyAoXCIweC4uLlwiKVxuICAgICAgICAgICAgICAgIC8vIHN1YnRyYWN0aW9uIGZvcmNlcyBpbmZpbml0aWVzIHRvIE5hTlxuICAgICAgICAgICAgICAgICFpc05hTihvYmogLSBwYXJzZUZsb2F0KG9iaikpO1xuICAgICAgICB9O1xuICAgICAgICBqUXVlcnkudHJpbSA9IGZ1bmN0aW9uICh0ZXh0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGV4dCA9PSBudWxsID9cbiAgICAgICAgICAgICAgICBcIlwiIDpcbiAgICAgICAgICAgICAgICAodGV4dCArIFwiXCIpLnJlcGxhY2UocnRyaW0sIFwiJDFcIik7XG4gICAgICAgIH07XG4gICAgICAgIC8vIFJlZ2lzdGVyIGFzIGEgbmFtZWQgQU1EIG1vZHVsZSwgc2luY2UgalF1ZXJ5IGNhbiBiZSBjb25jYXRlbmF0ZWQgd2l0aCBvdGhlclxuICAgICAgICAvLyBmaWxlcyB0aGF0IG1heSB1c2UgZGVmaW5lLCBidXQgbm90IHZpYSBhIHByb3BlciBjb25jYXRlbmF0aW9uIHNjcmlwdCB0aGF0XG4gICAgICAgIC8vIHVuZGVyc3RhbmRzIGFub255bW91cyBBTUQgbW9kdWxlcy4gQSBuYW1lZCBBTUQgaXMgc2FmZXN0IGFuZCBtb3N0IHJvYnVzdFxuICAgICAgICAvLyB3YXkgdG8gcmVnaXN0ZXIuIExvd2VyY2FzZSBqcXVlcnkgaXMgdXNlZCBiZWNhdXNlIEFNRCBtb2R1bGUgbmFtZXMgYXJlXG4gICAgICAgIC8vIGRlcml2ZWQgZnJvbSBmaWxlIG5hbWVzLCBhbmQgalF1ZXJ5IGlzIG5vcm1hbGx5IGRlbGl2ZXJlZCBpbiBhIGxvd2VyY2FzZVxuICAgICAgICAvLyBmaWxlIG5hbWUuIERvIHRoaXMgYWZ0ZXIgY3JlYXRpbmcgdGhlIGdsb2JhbCBzbyB0aGF0IGlmIGFuIEFNRCBtb2R1bGUgd2FudHNcbiAgICAgICAgLy8gdG8gY2FsbCBub0NvbmZsaWN0IHRvIGhpZGUgdGhpcyB2ZXJzaW9uIG9mIGpRdWVyeSwgaXQgd2lsbCB3b3JrLlxuICAgICAgICAvLyBOb3RlIHRoYXQgZm9yIG1heGltdW0gcG9ydGFiaWxpdHksIGxpYnJhcmllcyB0aGF0IGFyZSBub3QgalF1ZXJ5IHNob3VsZFxuICAgICAgICAvLyBkZWNsYXJlIHRoZW1zZWx2ZXMgYXMgYW5vbnltb3VzIG1vZHVsZXMsIGFuZCBhdm9pZCBzZXR0aW5nIGEgZ2xvYmFsIGlmIGFuXG4gICAgICAgIC8vIEFNRCBsb2FkZXIgaXMgcHJlc2VudC4galF1ZXJ5IGlzIGEgc3BlY2lhbCBjYXNlLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgc2VlXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9qcmJ1cmtlL3JlcXVpcmVqcy93aWtpL1VwZGF0aW5nLWV4aXN0aW5nLWxpYnJhcmllcyN3aWtpLWFub25cbiAgICAgICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgICAgICBkZWZpbmUoXCJqcXVlcnlcIiwgW10sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4galF1ZXJ5O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIFxuICAgICAgICAvLyBNYXAgb3ZlciBqUXVlcnkgaW4gY2FzZSBvZiBvdmVyd3JpdGVcbiAgICAgICAgX2pRdWVyeSA9IHdpbmRvdy5qUXVlcnksIFxuICAgICAgICAvLyBNYXAgb3ZlciB0aGUgJCBpbiBjYXNlIG9mIG92ZXJ3cml0ZVxuICAgICAgICBfJCA9IHdpbmRvdy4kO1xuICAgICAgICBqUXVlcnkubm9Db25mbGljdCA9IGZ1bmN0aW9uIChkZWVwKSB7XG4gICAgICAgICAgICBpZiAod2luZG93LiQgPT09IGpRdWVyeSkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy4kID0gXyQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGVlcCAmJiB3aW5kb3cualF1ZXJ5ID09PSBqUXVlcnkpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cualF1ZXJ5ID0gX2pRdWVyeTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBqUXVlcnk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIEV4cG9zZSBqUXVlcnkgYW5kICQgaWRlbnRpZmllcnMsIGV2ZW4gaW4gQU1EXG4gICAgICAgIC8vICh0cmFjLTcxMDIjY29tbWVudDoxMCwgaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9qcXVlcnkvcHVsbC81NTcpXG4gICAgICAgIC8vIGFuZCBDb21tb25KUyBmb3IgYnJvd3NlciBlbXVsYXRvcnMgKHRyYWMtMTM1NjYpXG4gICAgICAgIGlmICh0eXBlb2Ygbm9HbG9iYWwgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHdpbmRvdy5qUXVlcnkgPSB3aW5kb3cuJCA9IGpRdWVyeTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4galF1ZXJ5O1xuICAgIH0pO1xufVxuZXhwb3J0cy5sb2FkSlF1ZXJ5ID0gbG9hZEpRdWVyeTtcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuU2VhUGlja2xlbGliID0gdm9pZCAwO1xudmFyIGpxdWVyeWxvYWRlcl8xID0gcmVxdWlyZShcIi4vanF1ZXJ5bG9hZGVyXCIpO1xudmFyIGFkZGd1aV8xID0gcmVxdWlyZShcIi4vYWRkZ3VpXCIpO1xudmFyIG1haW5ndWluYW1lID0gbnVsbDtcbnZhciBtYWluZ3VpaHRtbCA9IG51bGw7XG52YXIgbWFpbmd1aXN0eWxlcyA9IG51bGw7XG52YXIgbWFpbmd1aWtleWJpbmQgPSBudWxsO1xudmFyIG1haW5ndWlvbmx5c2hvd2lmaW5nYW1lID0gZmFsc2U7XG5mdW5jdGlvbiBtYWluYWRkZ3VpKCkge1xuICAgICgwLCBhZGRndWlfMS5zZXRndWluYW1lKShtYWluZ3VpbmFtZSk7XG4gICAgKDAsIGFkZGd1aV8xLnNldGd1aWh0bWwpKG1haW5ndWlodG1sKTtcbiAgICAoMCwgYWRkZ3VpXzEuc2V0Z3Vpc3R5bGVzKShtYWluZ3Vpc3R5bGVzKTtcbiAgICAoMCwgYWRkZ3VpXzEuc2V0Z3Vpa2V5YmluZCkobWFpbmd1aWtleWJpbmQpO1xuICAgICgwLCBhZGRndWlfMS5zZXRndWlvbmx5c2hvd2lmaW5nYW1lKShtYWluZ3Vpb25seXNob3dpZmluZ2FtZSk7XG4gICAgKDAsIGFkZGd1aV8xLmFkZGd1aSkoKTtcbn1cbnZhciBTZWFQaWNrbGVsaWIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2VhUGlja2xlbGliKCkge1xuICAgICAgICB0aGlzLmd1aSA9IHtcbiAgICAgICAgICAgIHNldEd1aU5hbWU6IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgbWFpbmd1aW5hbWUgPSBuYW1lO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldEd1aUh0bWw6IGZ1bmN0aW9uIChodG1sKSB7XG4gICAgICAgICAgICAgICAgbWFpbmd1aWh0bWwgPSBodG1sO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldEd1aVN0eWxlczogZnVuY3Rpb24gKHN0eWxlcykge1xuICAgICAgICAgICAgICAgIG1haW5ndWlzdHlsZXMgPSBzdHlsZXM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0R3VpS2V5QmluZDogZnVuY3Rpb24gKGtleWJpbmQpIHtcbiAgICAgICAgICAgICAgICBtYWluZ3Vpa2V5YmluZCA9IGtleWJpbmQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0R3VpT25seVNob3dJZkluR2FtZTogZnVuY3Rpb24gKGlkaykge1xuICAgICAgICAgICAgICAgIG1haW5ndWlvbmx5c2hvd2lmaW5nYW1lID0gaWRrO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFkZEd1aTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICgwLCBhZGRndWlfMS5hZGRndWkpKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnZlcnNpb24gPSBcIjEuMFwiO1xuICAgIH1cbiAgICBTZWFQaWNrbGVsaWIucHJvdG90eXBlLmxvYWRqcXVlcnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICgwLCBqcXVlcnlsb2FkZXJfMS5sb2FkSlF1ZXJ5KSgpO1xuICAgIH07XG4gICAgcmV0dXJuIFNlYVBpY2tsZWxpYjtcbn0oKSk7XG5leHBvcnRzLlNlYVBpY2tsZWxpYiA9IFNlYVBpY2tsZWxpYjtcbnZhciBzZWFwaWNrbGVsaWIgPSBuZXcgU2VhUGlja2xlbGliKCk7XG4iXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJhZGRndWkiLCJzZXRndWlvbmx5c2hvd2lmaW5nYW1lIiwic2V0Z3Vpa2V5YmluZCIsInNldGd1aXN0eWxlcyIsInNldGd1aWh0bWwiLCJzZXRndWluYW1lIiwiZ3Vpb25seXNob3dpZmluZ2FtZSIsImd1aWtleWJpbmQiLCJndWlzdHlsZXMiLCJndWlodG1sIiwiZ3VpbmFtZSIsIm5hbWUiLCJodG1sIiwic3R5bGVzIiwia2V5YmluZCIsImlkayIsImd1aVZpc2libGUiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJrZXkiLCJsb2NhdGlvbiIsIktleWJvYXJkRXZlbnQiLCJET01fS0VZX0xPQ0FUSU9OX1JJR0hUIiwidG9nZ2xlR3VpIiwiaGlkZUd1aSIsImFsZXJ0IiwiZ3VpIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwicG9pbnRlckxvY2tFbGVtZW50IiwiaW5uZXJIVE1MIiwiaWQiLCJzdHlsZSIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImV4aXRQb2ludGVyTG9jayIsInNob3dHdWkiLCJnZXRFbGVtZW50QnlJZCIsInJlbW92ZSIsImxvYWRKUXVlcnkiLCJnbG9iYWwiLCJmYWN0b3J5IiwiY29uc29sZSIsImxvZyIsInRoaXMiLCJub0dsb2JhbCIsImFyciIsImdldFByb3RvIiwiZ2V0UHJvdG90eXBlT2YiLCJzbGljZSIsImZsYXQiLCJhcnJheSIsImNhbGwiLCJjb25jYXQiLCJhcHBseSIsInB1c2giLCJpbmRleE9mIiwiY2xhc3MydHlwZSIsInRvU3RyaW5nIiwiaGFzT3duIiwiaGFzT3duUHJvcGVydHkiLCJmblRvU3RyaW5nIiwiT2JqZWN0RnVuY3Rpb25TdHJpbmciLCJzdXBwb3J0IiwiaXNGdW5jdGlvbiIsIm9iaiIsIm5vZGVUeXBlIiwiaXRlbSIsImlzV2luZG93IiwicHJlc2VydmVkU2NyaXB0QXR0cmlidXRlcyIsInR5cGUiLCJzcmMiLCJub25jZSIsIm5vTW9kdWxlIiwiRE9NRXZhbCIsImNvZGUiLCJub2RlIiwiZG9jIiwiaSIsInZhbCIsInNjcmlwdCIsInRleHQiLCJnZXRBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJoZWFkIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwidG9UeXBlIiwidmVyc2lvbiIsInJodG1sU3VmZml4IiwialF1ZXJ5Iiwic2VsZWN0b3IiLCJjb250ZXh0IiwiZm4iLCJpbml0IiwiaXNBcnJheUxpa2UiLCJsZW5ndGgiLCJub2RlTmFtZSIsImVsZW0iLCJ0b0xvd2VyQ2FzZSIsInByb3RvdHlwZSIsImpxdWVyeSIsImNvbnN0cnVjdG9yIiwidG9BcnJheSIsImdldCIsIm51bSIsInB1c2hTdGFjayIsImVsZW1zIiwicmV0IiwibWVyZ2UiLCJwcmV2T2JqZWN0IiwiZWFjaCIsImNhbGxiYWNrIiwibWFwIiwiYXJndW1lbnRzIiwiZmlyc3QiLCJlcSIsImxhc3QiLCJldmVuIiwiZ3JlcCIsIl9lbGVtIiwib2RkIiwibGVuIiwiaiIsImVuZCIsInNvcnQiLCJzcGxpY2UiLCJleHRlbmQiLCJvcHRpb25zIiwiY29weSIsImNvcHlJc0FycmF5IiwiY2xvbmUiLCJ0YXJnZXQiLCJkZWVwIiwiaXNQbGFpbk9iamVjdCIsIkFycmF5IiwiaXNBcnJheSIsInVuZGVmaW5lZCIsImV4cGFuZG8iLCJNYXRoIiwicmFuZG9tIiwicmVwbGFjZSIsImlzUmVhZHkiLCJlcnJvciIsIm1zZyIsIkVycm9yIiwibm9vcCIsInByb3RvIiwiQ3RvciIsImlzRW1wdHlPYmplY3QiLCJnbG9iYWxFdmFsIiwidGV4dENvbnRlbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJub2RlVmFsdWUiLCJtYWtlQXJyYXkiLCJyZXN1bHRzIiwiaW5BcnJheSIsImlzWE1MRG9jIiwibmFtZXNwYWNlIiwibmFtZXNwYWNlVVJJIiwiZG9jRWxlbSIsIm93bmVyRG9jdW1lbnQiLCJ0ZXN0Iiwic2Vjb25kIiwiaW52ZXJ0IiwibWF0Y2hlcyIsImNhbGxiYWNrRXhwZWN0IiwiYXJnIiwiZ3VpZCIsIlN5bWJvbCIsIml0ZXJhdG9yIiwic3BsaXQiLCJfaSIsInBvcCIsIndoaXRlc3BhY2UiLCJydHJpbUNTUyIsIlJlZ0V4cCIsImNvbnRhaW5zIiwiYSIsImIiLCJidXAiLCJjb21wYXJlRG9jdW1lbnRQb3NpdGlvbiIsInJjc3Nlc2NhcGUiLCJmY3NzZXNjYXBlIiwiY2giLCJhc0NvZGVQb2ludCIsImNoYXJDb2RlQXQiLCJlc2NhcGVTZWxlY3RvciIsInNlbCIsInByZWZlcnJlZERvYyIsInB1c2hOYXRpdmUiLCJFeHByIiwib3V0ZXJtb3N0Q29udGV4dCIsInNvcnRJbnB1dCIsImhhc0R1cGxpY2F0ZSIsImRvY3VtZW50SXNIVE1MIiwicmJ1Z2d5UVNBIiwiZGlycnVucyIsImRvbmUiLCJjbGFzc0NhY2hlIiwiY3JlYXRlQ2FjaGUiLCJ0b2tlbkNhY2hlIiwiY29tcGlsZXJDYWNoZSIsIm5vbm5hdGl2ZVNlbGVjdG9yQ2FjaGUiLCJzb3J0T3JkZXIiLCJib29sZWFucyIsImlkZW50aWZpZXIiLCJhdHRyaWJ1dGVzIiwicHNldWRvcyIsInJ3aGl0ZXNwYWNlIiwicmNvbW1hIiwicmxlYWRpbmdDb21iaW5hdG9yIiwicmRlc2NlbmQiLCJycHNldWRvIiwicmlkZW50aWZpZXIiLCJtYXRjaEV4cHIiLCJJRCIsIkNMQVNTIiwiVEFHIiwiQVRUUiIsIlBTRVVETyIsIkNISUxEIiwiYm9vbCIsIm5lZWRzQ29udGV4dCIsInJpbnB1dHMiLCJyaGVhZGVyIiwicnF1aWNrRXhwciIsInJzaWJsaW5nIiwicnVuZXNjYXBlIiwiZnVuZXNjYXBlIiwiZXNjYXBlIiwibm9uSGV4IiwiaGlnaCIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsInVubG9hZEhhbmRsZXIiLCJzZXREb2N1bWVudCIsImluRGlzYWJsZWRGaWVsZHNldCIsImFkZENvbWJpbmF0b3IiLCJkaXNhYmxlZCIsImRpciIsIm5leHQiLCJjaGlsZE5vZGVzIiwiZSIsImVscyIsImZpbmQiLCJzZWVkIiwibSIsIm5pZCIsIm1hdGNoIiwiZ3JvdXBzIiwibmV3U2VsZWN0b3IiLCJuZXdDb250ZXh0IiwiZXhlYyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsInRlc3RDb250ZXh0Iiwic2NvcGUiLCJ0b2tlbml6ZSIsInRvU2VsZWN0b3IiLCJqb2luIiwicXVlcnlTZWxlY3RvckFsbCIsInFzYUVycm9yIiwicmVtb3ZlQXR0cmlidXRlIiwic2VsZWN0Iiwia2V5cyIsImNhY2hlIiwiY2FjaGVMZW5ndGgiLCJzaGlmdCIsIm1hcmtGdW5jdGlvbiIsImFzc2VydCIsImVsIiwiY3JlYXRlSW5wdXRQc2V1ZG8iLCJjcmVhdGVCdXR0b25Qc2V1ZG8iLCJjcmVhdGVEaXNhYmxlZFBzZXVkbyIsImlzRGlzYWJsZWQiLCJjcmVhdGVQb3NpdGlvbmFsUHNldWRvIiwiYXJndW1lbnQiLCJtYXRjaEluZGV4ZXMiLCJzdWJXaW5kb3ciLCJ3ZWJraXRNYXRjaGVzU2VsZWN0b3IiLCJtc01hdGNoZXNTZWxlY3RvciIsImRlZmF1bHRWaWV3IiwidG9wIiwiZ2V0QnlJZCIsImdldEVsZW1lbnRzQnlOYW1lIiwiZGlzY29ubmVjdGVkTWF0Y2giLCJjc3NIYXMiLCJxdWVyeVNlbGVjdG9yIiwiZmlsdGVyIiwiYXR0cklkIiwiZ2V0QXR0cmlidXRlTm9kZSIsInRhZyIsImNsYXNzTmFtZSIsImlucHV0IiwiY29tcGFyZSIsInNvcnREZXRhY2hlZCIsImV4cHIiLCJlbGVtZW50cyIsIm1hdGNoZXNTZWxlY3RvciIsImF0dHIiLCJhdHRySGFuZGxlIiwidW5pcXVlU29ydCIsImR1cGxpY2F0ZXMiLCJzb3J0U3RhYmxlIiwiY3JlYXRlUHNldWRvIiwicmVsYXRpdmUiLCJwcmVGaWx0ZXIiLCJleGNlc3MiLCJ1bnF1b3RlZCIsIm5vZGVOYW1lU2VsZWN0b3IiLCJleHBlY3RlZE5vZGVOYW1lIiwicGF0dGVybiIsIm9wZXJhdG9yIiwiY2hlY2siLCJyZXN1bHQiLCJ3aGF0IiwiX2FyZ3VtZW50Iiwic2ltcGxlIiwiZm9yd2FyZCIsIm9mVHlwZSIsIl9jb250ZXh0IiwieG1sIiwib3V0ZXJDYWNoZSIsIm5vZGVJbmRleCIsInN0YXJ0IiwicGFyZW50IiwidXNlQ2FjaGUiLCJkaWZmIiwiZmlyc3RDaGlsZCIsImxhc3RDaGlsZCIsInBzZXVkbyIsImFyZ3MiLCJzZXRGaWx0ZXJzIiwiaWR4IiwibWF0Y2hlZCIsIm5vdCIsIm1hdGNoZXIiLCJjb21waWxlIiwidW5tYXRjaGVkIiwiaGFzIiwibGFuZyIsImVsZW1MYW5nIiwiaGFzaCIsInJvb3QiLCJmb2N1cyIsImFjdGl2ZUVsZW1lbnQiLCJlcnIiLCJzYWZlQWN0aXZlRWxlbWVudCIsImhhc0ZvY3VzIiwiaHJlZiIsInRhYkluZGV4IiwiZW5hYmxlZCIsImNoZWNrZWQiLCJzZWxlY3RlZCIsInNlbGVjdGVkSW5kZXgiLCJlbXB0eSIsIm5leHRTaWJsaW5nIiwiaGVhZGVyIiwiYnV0dG9uIiwiX21hdGNoSW5kZXhlcyIsImx0IiwiZ3QiLCJudGgiLCJyYWRpbyIsImNoZWNrYm94IiwiZmlsZSIsInBhc3N3b3JkIiwiaW1hZ2UiLCJzdWJtaXQiLCJyZXNldCIsInBhcnNlT25seSIsInRva2VucyIsInNvRmFyIiwicHJlRmlsdGVycyIsImNhY2hlZCIsImNvbWJpbmF0b3IiLCJiYXNlIiwic2tpcCIsImNoZWNrTm9uRWxlbWVudHMiLCJkb25lTmFtZSIsIm9sZENhY2hlIiwibmV3Q2FjaGUiLCJlbGVtZW50TWF0Y2hlciIsIm1hdGNoZXJzIiwiY29uZGVuc2UiLCJuZXdVbm1hdGNoZWQiLCJtYXBwZWQiLCJzZXRNYXRjaGVyIiwicG9zdEZpbHRlciIsInBvc3RGaW5kZXIiLCJwb3N0U2VsZWN0b3IiLCJ0ZW1wIiwibWF0Y2hlck91dCIsInByZU1hcCIsInBvc3RNYXAiLCJwcmVleGlzdGluZyIsImNvbnRleHRzIiwibXVsdGlwbGVDb250ZXh0cyIsIm1hdGNoZXJJbiIsIm1hdGNoZXJGcm9tVG9rZW5zIiwiY2hlY2tDb250ZXh0IiwibGVhZGluZ1JlbGF0aXZlIiwiaW1wbGljaXRSZWxhdGl2ZSIsIm1hdGNoQ29udGV4dCIsIm1hdGNoQW55Q29udGV4dCIsInNldE1hdGNoZXJzIiwiZWxlbWVudE1hdGNoZXJzIiwiYnlTZXQiLCJieUVsZW1lbnQiLCJzdXBlck1hdGNoZXIiLCJvdXRlcm1vc3QiLCJtYXRjaGVkQ291bnQiLCJzZXRNYXRjaGVkIiwiY29udGV4dEJhY2t1cCIsImRpcnJ1bnNVbmlxdWUiLCJtYXRjaGVyRnJvbUdyb3VwTWF0Y2hlcnMiLCJ0b2tlbiIsImNvbXBpbGVkIiwiZmlsdGVycyIsInVuaXF1ZSIsImdldFRleHQiLCJpc1hNTCIsInNlbGVjdG9ycyIsInVudGlsIiwidHJ1bmNhdGUiLCJpcyIsInNpYmxpbmdzIiwibiIsInJuZWVkc0NvbnRleHQiLCJyc2luZ2xlVGFnIiwid2lubm93IiwicXVhbGlmaWVyIiwic2VsZiIsInJvb3RqUXVlcnkiLCJwYXJzZUhUTUwiLCJyZWFkeSIsInJwYXJlbnRzcHJldiIsImd1YXJhbnRlZWRVbmlxdWUiLCJjaGlsZHJlbiIsImNvbnRlbnRzIiwicHJldiIsInNpYmxpbmciLCJjdXIiLCJ0YXJnZXRzIiwibCIsImNsb3Nlc3QiLCJpbmRleCIsInByZXZBbGwiLCJhZGQiLCJhZGRCYWNrIiwicGFyZW50cyIsInBhcmVudHNVbnRpbCIsIm5leHRBbGwiLCJuZXh0VW50aWwiLCJwcmV2VW50aWwiLCJjb250ZW50RG9jdW1lbnQiLCJjb250ZW50IiwicmV2ZXJzZSIsInJub3RodG1sd2hpdGUiLCJJZGVudGl0eSIsInYiLCJUaHJvd2VyIiwiZXgiLCJhZG9wdFZhbHVlIiwicmVzb2x2ZSIsInJlamVjdCIsIm5vVmFsdWUiLCJtZXRob2QiLCJwcm9taXNlIiwiZmFpbCIsInRoZW4iLCJDYWxsYmFja3MiLCJvYmplY3QiLCJfIiwiZmxhZyIsImNyZWF0ZU9wdGlvbnMiLCJmaXJpbmciLCJtZW1vcnkiLCJmaXJlZCIsImxvY2tlZCIsImxpc3QiLCJxdWV1ZSIsImZpcmluZ0luZGV4IiwiZmlyZSIsIm9uY2UiLCJzdG9wT25GYWxzZSIsImRpc2FibGUiLCJsb2NrIiwiZmlyZVdpdGgiLCJEZWZlcnJlZCIsImZ1bmMiLCJ0dXBsZXMiLCJzdGF0ZSIsImFsd2F5cyIsImRlZmVycmVkIiwicGlwZSIsImZucyIsIm5ld0RlZmVyIiwidHVwbGUiLCJyZXR1cm5lZCIsInByb2dyZXNzIiwibm90aWZ5Iiwib25GdWxmaWxsZWQiLCJvblJlamVjdGVkIiwib25Qcm9ncmVzcyIsIm1heERlcHRoIiwiZGVwdGgiLCJoYW5kbGVyIiwic3BlY2lhbCIsInRoYXQiLCJtaWdodFRocm93IiwiVHlwZUVycm9yIiwibm90aWZ5V2l0aCIsInJlc29sdmVXaXRoIiwicHJvY2VzcyIsImV4Y2VwdGlvbkhvb2siLCJyZWplY3RXaXRoIiwiZ2V0RXJyb3JIb29rIiwiZ2V0U3RhY2tIb29rIiwic2V0VGltZW91dCIsInN0YXRlU3RyaW5nIiwid2hlbiIsInNpbmdsZVZhbHVlIiwicmVtYWluaW5nIiwicmVzb2x2ZUNvbnRleHRzIiwicmVzb2x2ZVZhbHVlcyIsInByaW1hcnkiLCJ1cGRhdGVGdW5jIiwicmVycm9yTmFtZXMiLCJhc3luY0Vycm9yIiwid2FybiIsIm1lc3NhZ2UiLCJzdGFjayIsInJlYWR5RXhjZXB0aW9uIiwicmVhZHlMaXN0IiwiY29tcGxldGVkIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNhdGNoIiwicmVhZHlXYWl0Iiwid2FpdCIsInJlYWR5U3RhdGUiLCJkb1Njcm9sbCIsImFjY2VzcyIsImNoYWluYWJsZSIsImVtcHR5R2V0IiwicmF3IiwiYnVsayIsIl9rZXkiLCJybXNQcmVmaXgiLCJyZGFzaEFscGhhIiwiZmNhbWVsQ2FzZSIsIl9hbGwiLCJsZXR0ZXIiLCJ0b1VwcGVyQ2FzZSIsImNhbWVsQ2FzZSIsInN0cmluZyIsImFjY2VwdERhdGEiLCJvd25lciIsIkRhdGEiLCJ1aWQiLCJjb25maWd1cmFibGUiLCJzZXQiLCJkYXRhIiwicHJvcCIsImhhc0RhdGEiLCJkYXRhUHJpdiIsImRhdGFVc2VyIiwicmJyYWNlIiwicm11bHRpRGFzaCIsImRhdGFBdHRyIiwiSlNPTiIsInBhcnNlIiwiZ2V0RGF0YSIsInJlbW92ZURhdGEiLCJfZGF0YSIsIl9yZW1vdmVEYXRhIiwiYXR0cnMiLCJkZXF1ZXVlIiwic3RhcnRMZW5ndGgiLCJob29rcyIsIl9xdWV1ZUhvb2tzIiwidW5zaGlmdCIsInN0b3AiLCJzZXR0ZXIiLCJjbGVhclF1ZXVlIiwidG1wIiwiY291bnQiLCJkZWZlciIsInBudW0iLCJzb3VyY2UiLCJyY3NzTnVtIiwiY3NzRXhwYW5kIiwiaXNBdHRhY2hlZCIsImNvbXBvc2VkIiwiZ2V0Um9vdE5vZGUiLCJpc0hpZGRlbldpdGhpblRyZWUiLCJkaXNwbGF5IiwiY3NzIiwiYWRqdXN0Q1NTIiwidmFsdWVQYXJ0cyIsInR3ZWVuIiwiYWRqdXN0ZWQiLCJzY2FsZSIsIm1heEl0ZXJhdGlvbnMiLCJjdXJyZW50VmFsdWUiLCJpbml0aWFsIiwidW5pdCIsImNzc051bWJlciIsImluaXRpYWxJblVuaXQiLCJkZWZhdWx0RGlzcGxheU1hcCIsImdldERlZmF1bHREaXNwbGF5Iiwic2hvd0hpZGUiLCJzaG93IiwidmFsdWVzIiwiaGlkZSIsInRvZ2dsZSIsImRpdiIsInJjaGVja2FibGVUeXBlIiwicnRhZ05hbWUiLCJyc2NyaXB0VHlwZSIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJjaGVja0Nsb25lIiwiY2xvbmVOb2RlIiwibm9DbG9uZUNoZWNrZWQiLCJkZWZhdWx0VmFsdWUiLCJvcHRpb24iLCJ3cmFwTWFwIiwidGhlYWQiLCJjb2wiLCJ0ciIsInRkIiwiX2RlZmF1bHQiLCJnZXRBbGwiLCJzZXRHbG9iYWxFdmFsIiwicmVmRWxlbWVudHMiLCJ0Ym9keSIsInRmb290IiwiY29sZ3JvdXAiLCJjYXB0aW9uIiwidGgiLCJvcHRncm91cCIsInJodG1sIiwiYnVpbGRGcmFnbWVudCIsInNjcmlwdHMiLCJzZWxlY3Rpb24iLCJpZ25vcmVkIiwid3JhcCIsImF0dGFjaGVkIiwiZnJhZ21lbnQiLCJub2RlcyIsImh0bWxQcmVmaWx0ZXIiLCJjcmVhdGVUZXh0Tm9kZSIsInJ0eXBlbmFtZXNwYWNlIiwicmV0dXJuVHJ1ZSIsInJldHVybkZhbHNlIiwib24iLCJ0eXBlcyIsIm9uZSIsIm9yaWdGbiIsIm9mZiIsImxldmVyYWdlTmF0aXZlIiwiaXNTZXR1cCIsInNhdmVkIiwiaXNUcmlnZ2VyIiwiZGVsZWdhdGVUeXBlIiwic3RvcFByb3BhZ2F0aW9uIiwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwicHJldmVudERlZmF1bHQiLCJ0cmlnZ2VyIiwiaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQiLCJoYW5kbGVPYmpJbiIsImV2ZW50SGFuZGxlIiwiZXZlbnRzIiwidCIsImhhbmRsZU9iaiIsImhhbmRsZXJzIiwibmFtZXNwYWNlcyIsIm9yaWdUeXBlIiwiZWxlbURhdGEiLCJjcmVhdGUiLCJoYW5kbGUiLCJ0cmlnZ2VyZWQiLCJkaXNwYXRjaCIsImJpbmRUeXBlIiwiZGVsZWdhdGVDb3VudCIsInNldHVwIiwibWFwcGVkVHlwZXMiLCJvcmlnQ291bnQiLCJ0ZWFyZG93biIsInJlbW92ZUV2ZW50IiwibmF0aXZlRXZlbnQiLCJoYW5kbGVyUXVldWUiLCJmaXgiLCJkZWxlZ2F0ZVRhcmdldCIsInByZURpc3BhdGNoIiwiaXNQcm9wYWdhdGlvblN0b3BwZWQiLCJjdXJyZW50VGFyZ2V0Iiwicm5hbWVzcGFjZSIsInBvc3REaXNwYXRjaCIsIm1hdGNoZWRIYW5kbGVycyIsIm1hdGNoZWRTZWxlY3RvcnMiLCJhZGRQcm9wIiwiaG9vayIsIkV2ZW50IiwiZW51bWVyYWJsZSIsIm9yaWdpbmFsRXZlbnQiLCJ3cml0YWJsZSIsImxvYWQiLCJub0J1YmJsZSIsImNsaWNrIiwiYmVmb3JldW5sb2FkIiwicmV0dXJuVmFsdWUiLCJwcm9wcyIsImlzRGVmYXVsdFByZXZlbnRlZCIsImRlZmF1bHRQcmV2ZW50ZWQiLCJyZWxhdGVkVGFyZ2V0IiwidGltZVN0YW1wIiwiRGF0ZSIsIm5vdyIsImlzU2ltdWxhdGVkIiwiYWx0S2V5IiwiYnViYmxlcyIsImNhbmNlbGFibGUiLCJjaGFuZ2VkVG91Y2hlcyIsImN0cmxLZXkiLCJkZXRhaWwiLCJldmVudFBoYXNlIiwibWV0YUtleSIsInBhZ2VYIiwicGFnZVkiLCJzaGlmdEtleSIsInZpZXciLCJjaGFyQ29kZSIsImtleUNvZGUiLCJidXR0b25zIiwiY2xpZW50WCIsImNsaWVudFkiLCJvZmZzZXRYIiwib2Zmc2V0WSIsInBvaW50ZXJJZCIsInBvaW50ZXJUeXBlIiwic2NyZWVuWCIsInNjcmVlblkiLCJ0YXJnZXRUb3VjaGVzIiwidG9FbGVtZW50IiwidG91Y2hlcyIsIndoaWNoIiwiYmx1ciIsImZvY3VzTWFwcGVkSGFuZGxlciIsImRvY3VtZW50TW9kZSIsInNpbXVsYXRlIiwiYXR0YWNoZXMiLCJkYXRhSG9sZGVyIiwibW91c2VlbnRlciIsIm1vdXNlbGVhdmUiLCJwb2ludGVyZW50ZXIiLCJwb2ludGVybGVhdmUiLCJvcmlnIiwicmVsYXRlZCIsInJub0lubmVyaHRtbCIsInJjaGVja2VkIiwicmNsZWFuU2NyaXB0IiwibWFuaXB1bGF0aW9uVGFyZ2V0IiwiZGlzYWJsZVNjcmlwdCIsInJlc3RvcmVTY3JpcHQiLCJjbG9uZUNvcHlFdmVudCIsImRlc3QiLCJ1ZGF0YU9sZCIsInVkYXRhQ3VyIiwiZml4SW5wdXQiLCJkb21NYW5pcCIsImNvbGxlY3Rpb24iLCJoYXNTY3JpcHRzIiwiaU5vQ2xvbmUiLCJ2YWx1ZUlzRnVuY3Rpb24iLCJfZXZhbFVybCIsImtlZXBEYXRhIiwiY2xlYW5EYXRhIiwiZGF0YUFuZEV2ZW50cyIsImRlZXBEYXRhQW5kRXZlbnRzIiwic3JjRWxlbWVudHMiLCJkZXN0RWxlbWVudHMiLCJpblBhZ2UiLCJkZXRhY2giLCJhcHBlbmQiLCJwcmVwZW5kIiwiaW5zZXJ0QmVmb3JlIiwiYmVmb3JlIiwiYWZ0ZXIiLCJyZXBsYWNlV2l0aCIsInJlcGxhY2VDaGlsZCIsImFwcGVuZFRvIiwicHJlcGVuZFRvIiwiaW5zZXJ0QWZ0ZXIiLCJyZXBsYWNlQWxsIiwib3JpZ2luYWwiLCJpbnNlcnQiLCJybnVtbm9ucHgiLCJyY3VzdG9tUHJvcCIsImdldFN0eWxlcyIsIm9wZW5lciIsImdldENvbXB1dGVkU3R5bGUiLCJzd2FwIiwib2xkIiwicmJveFN0eWxlIiwiY3VyQ1NTIiwiY29tcHV0ZWQiLCJ3aWR0aCIsIm1pbldpZHRoIiwibWF4V2lkdGgiLCJpc0N1c3RvbVByb3AiLCJnZXRQcm9wZXJ0eVZhbHVlIiwicGl4ZWxCb3hTdHlsZXMiLCJhZGRHZXRIb29rSWYiLCJjb25kaXRpb25GbiIsImhvb2tGbiIsImNvbXB1dGVTdHlsZVRlc3RzIiwiY29udGFpbmVyIiwiY3NzVGV4dCIsImRpdlN0eWxlIiwicGl4ZWxQb3NpdGlvblZhbCIsInJlbGlhYmxlTWFyZ2luTGVmdFZhbCIsInJvdW5kUGl4ZWxNZWFzdXJlcyIsIm1hcmdpbkxlZnQiLCJyaWdodCIsInBpeGVsQm94U3R5bGVzVmFsIiwiYm94U2l6aW5nUmVsaWFibGVWYWwiLCJwb3NpdGlvbiIsInNjcm9sbGJveFNpemVWYWwiLCJvZmZzZXRXaWR0aCIsIm1lYXN1cmUiLCJyb3VuZCIsInBhcnNlRmxvYXQiLCJyZWxpYWJsZVRyRGltZW5zaW9uc1ZhbCIsImJhY2tncm91bmRDbGlwIiwiY2xlYXJDbG9uZVN0eWxlIiwiYm94U2l6aW5nUmVsaWFibGUiLCJwaXhlbFBvc2l0aW9uIiwicmVsaWFibGVNYXJnaW5MZWZ0Iiwic2Nyb2xsYm94U2l6ZSIsInJlbGlhYmxlVHJEaW1lbnNpb25zIiwidGFibGUiLCJ0ckNoaWxkIiwidHJTdHlsZSIsImhlaWdodCIsInBhcnNlSW50IiwiYm9yZGVyVG9wV2lkdGgiLCJib3JkZXJCb3R0b21XaWR0aCIsIm9mZnNldEhlaWdodCIsImNzc1ByZWZpeGVzIiwiZW1wdHlTdHlsZSIsInZlbmRvclByb3BzIiwiZmluYWxQcm9wTmFtZSIsImZpbmFsIiwiY3NzUHJvcHMiLCJjYXBOYW1lIiwidmVuZG9yUHJvcE5hbWUiLCJyZGlzcGxheXN3YXAiLCJjc3NTaG93IiwidmlzaWJpbGl0eSIsImNzc05vcm1hbFRyYW5zZm9ybSIsImxldHRlclNwYWNpbmciLCJmb250V2VpZ2h0Iiwic2V0UG9zaXRpdmVOdW1iZXIiLCJzdWJ0cmFjdCIsIm1heCIsImJveE1vZGVsQWRqdXN0bWVudCIsImRpbWVuc2lvbiIsImJveCIsImlzQm9yZGVyQm94IiwiY29tcHV0ZWRWYWwiLCJleHRyYSIsImRlbHRhIiwibWFyZ2luRGVsdGEiLCJjZWlsIiwiZ2V0V2lkdGhPckhlaWdodCIsInZhbHVlSXNCb3JkZXJCb3giLCJvZmZzZXRQcm9wIiwiZ2V0Q2xpZW50UmVjdHMiLCJUd2VlbiIsImVhc2luZyIsImNzc0hvb2tzIiwib3BhY2l0eSIsImFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50IiwiYXNwZWN0UmF0aW8iLCJib3JkZXJJbWFnZVNsaWNlIiwiY29sdW1uQ291bnQiLCJmbGV4R3JvdyIsImZsZXhTaHJpbmsiLCJncmlkQXJlYSIsImdyaWRDb2x1bW4iLCJncmlkQ29sdW1uRW5kIiwiZ3JpZENvbHVtblN0YXJ0IiwiZ3JpZFJvdyIsImdyaWRSb3dFbmQiLCJncmlkUm93U3RhcnQiLCJsaW5lSGVpZ2h0Iiwib3JkZXIiLCJvcnBoYW5zIiwid2lkb3dzIiwiekluZGV4Iiwiem9vbSIsImZpbGxPcGFjaXR5IiwiZmxvb2RPcGFjaXR5Iiwic3RvcE9wYWNpdHkiLCJzdHJva2VNaXRlcmxpbWl0Iiwic3Ryb2tlT3BhY2l0eSIsIm9yaWdOYW1lIiwic2V0UHJvcGVydHkiLCJpc0Zpbml0ZSIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInNjcm9sbGJveFNpemVCdWdneSIsImxlZnQiLCJtYXJnaW4iLCJwYWRkaW5nIiwiYm9yZGVyIiwicHJlZml4Iiwic3VmZml4IiwiZXhwYW5kIiwiZXhwYW5kZWQiLCJwYXJ0cyIsInByb3BIb29rcyIsInJ1biIsInBlcmNlbnQiLCJlYXNlZCIsImR1cmF0aW9uIiwicG9zIiwic3RlcCIsImZ4Iiwic2Nyb2xsVG9wIiwic2Nyb2xsTGVmdCIsImxpbmVhciIsInAiLCJzd2luZyIsImNvcyIsIlBJIiwiZnhOb3ciLCJpblByb2dyZXNzIiwicmZ4dHlwZXMiLCJycnVuIiwic2NoZWR1bGUiLCJoaWRkZW4iLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJpbnRlcnZhbCIsInRpY2siLCJjcmVhdGVGeE5vdyIsImdlbkZ4IiwiaW5jbHVkZVdpZHRoIiwiY3JlYXRlVHdlZW4iLCJhbmltYXRpb24iLCJBbmltYXRpb24iLCJ0d2VlbmVycyIsInByb3BlcnRpZXMiLCJzdG9wcGVkIiwicHJlZmlsdGVycyIsImN1cnJlbnRUaW1lIiwic3RhcnRUaW1lIiwidHdlZW5zIiwib3B0cyIsInNwZWNpYWxFYXNpbmciLCJvcmlnaW5hbFByb3BlcnRpZXMiLCJvcmlnaW5hbE9wdGlvbnMiLCJnb3RvRW5kIiwicHJvcEZpbHRlciIsImJpbmQiLCJjb21wbGV0ZSIsInRpbWVyIiwiYW5pbSIsInR3ZWVuZXIiLCJvbGRmaXJlIiwicHJvcFR3ZWVuIiwicmVzdG9yZURpc3BsYXkiLCJpc0JveCIsImRhdGFTaG93IiwidW5xdWV1ZWQiLCJvdmVyZmxvdyIsIm92ZXJmbG93WCIsIm92ZXJmbG93WSIsInByZWZpbHRlciIsInNwZWVkIiwib3B0Iiwic3BlZWRzIiwiZmFkZVRvIiwidG8iLCJhbmltYXRlIiwib3B0YWxsIiwiZG9BbmltYXRpb24iLCJmaW5pc2giLCJzdG9wUXVldWUiLCJ0aW1lcnMiLCJjc3NGbiIsInNsaWRlRG93biIsInNsaWRlVXAiLCJzbGlkZVRvZ2dsZSIsImZhZGVJbiIsImZhZGVPdXQiLCJmYWRlVG9nZ2xlIiwic2xvdyIsImZhc3QiLCJkZWxheSIsInRpbWUiLCJ0aW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiY2hlY2tPbiIsIm9wdFNlbGVjdGVkIiwicmFkaW9WYWx1ZSIsImJvb2xIb29rIiwicmVtb3ZlQXR0ciIsIm5UeXBlIiwiYXR0ckhvb2tzIiwiYXR0ck5hbWVzIiwiZ2V0dGVyIiwibG93ZXJjYXNlTmFtZSIsInJmb2N1c2FibGUiLCJyY2xpY2thYmxlIiwic3RyaXBBbmRDb2xsYXBzZSIsImdldENsYXNzIiwiY2xhc3Nlc1RvQXJyYXkiLCJyZW1vdmVQcm9wIiwicHJvcEZpeCIsInRhYmluZGV4IiwiYWRkQ2xhc3MiLCJjbGFzc05hbWVzIiwiY3VyVmFsdWUiLCJmaW5hbFZhbHVlIiwicmVtb3ZlQ2xhc3MiLCJ0b2dnbGVDbGFzcyIsInN0YXRlVmFsIiwiaXNWYWxpZFZhbHVlIiwiaGFzQ2xhc3MiLCJycmV0dXJuIiwidmFsSG9va3MiLCJvcHRpb25TZXQiLCJycXVlcnkiLCJwYXJzZVhNTCIsInBhcnNlckVycm9yRWxlbSIsIkRPTVBhcnNlciIsInBhcnNlRnJvbVN0cmluZyIsInJmb2N1c01vcnBoIiwic3RvcFByb3BhZ2F0aW9uQ2FsbGJhY2siLCJvbmx5SGFuZGxlcnMiLCJidWJibGVUeXBlIiwib250eXBlIiwibGFzdEVsZW1lbnQiLCJldmVudFBhdGgiLCJwYXJlbnRXaW5kb3ciLCJ0cmlnZ2VySGFuZGxlciIsInJicmFja2V0IiwickNSTEYiLCJyc3VibWl0dGVyVHlwZXMiLCJyc3VibWl0dGFibGUiLCJidWlsZFBhcmFtcyIsInRyYWRpdGlvbmFsIiwicGFyYW0iLCJzIiwidmFsdWVPckZ1bmN0aW9uIiwiZW5jb2RlVVJJQ29tcG9uZW50Iiwic2VyaWFsaXplIiwic2VyaWFsaXplQXJyYXkiLCJyMjAiLCJyaGFzaCIsInJhbnRpQ2FjaGUiLCJyaGVhZGVycyIsInJub0NvbnRlbnQiLCJycHJvdG9jb2wiLCJ0cmFuc3BvcnRzIiwiYWxsVHlwZXMiLCJvcmlnaW5BbmNob3IiLCJhZGRUb1ByZWZpbHRlcnNPclRyYW5zcG9ydHMiLCJzdHJ1Y3R1cmUiLCJkYXRhVHlwZUV4cHJlc3Npb24iLCJkYXRhVHlwZSIsImRhdGFUeXBlcyIsImluc3BlY3RQcmVmaWx0ZXJzT3JUcmFuc3BvcnRzIiwianFYSFIiLCJpbnNwZWN0ZWQiLCJzZWVraW5nVHJhbnNwb3J0IiwiaW5zcGVjdCIsInByZWZpbHRlck9yRmFjdG9yeSIsImRhdGFUeXBlT3JUcmFuc3BvcnQiLCJhamF4RXh0ZW5kIiwiZmxhdE9wdGlvbnMiLCJhamF4U2V0dGluZ3MiLCJhY3RpdmUiLCJsYXN0TW9kaWZpZWQiLCJldGFnIiwidXJsIiwiaXNMb2NhbCIsInByb3RvY29sIiwicHJvY2Vzc0RhdGEiLCJhc3luYyIsImNvbnRlbnRUeXBlIiwiYWNjZXB0cyIsImpzb24iLCJyZXNwb25zZUZpZWxkcyIsImNvbnZlcnRlcnMiLCJhamF4U2V0dXAiLCJzZXR0aW5ncyIsImFqYXhQcmVmaWx0ZXIiLCJhamF4VHJhbnNwb3J0IiwiYWpheCIsInRyYW5zcG9ydCIsImNhY2hlVVJMIiwicmVzcG9uc2VIZWFkZXJzU3RyaW5nIiwicmVzcG9uc2VIZWFkZXJzIiwidGltZW91dFRpbWVyIiwidXJsQW5jaG9yIiwiZmlyZUdsb2JhbHMiLCJ1bmNhY2hlZCIsImNhbGxiYWNrQ29udGV4dCIsImdsb2JhbEV2ZW50Q29udGV4dCIsImNvbXBsZXRlRGVmZXJyZWQiLCJzdGF0dXNDb2RlIiwicmVxdWVzdEhlYWRlcnMiLCJyZXF1ZXN0SGVhZGVyc05hbWVzIiwic3RyQWJvcnQiLCJnZXRSZXNwb25zZUhlYWRlciIsImdldEFsbFJlc3BvbnNlSGVhZGVycyIsInNldFJlcXVlc3RIZWFkZXIiLCJvdmVycmlkZU1pbWVUeXBlIiwibWltZVR5cGUiLCJzdGF0dXMiLCJhYm9ydCIsInN0YXR1c1RleHQiLCJmaW5hbFRleHQiLCJjcm9zc0RvbWFpbiIsImhvc3QiLCJoYXNDb250ZW50IiwiaWZNb2RpZmllZCIsImhlYWRlcnMiLCJiZWZvcmVTZW5kIiwic3VjY2VzcyIsInNlbmQiLCJuYXRpdmVTdGF0dXNUZXh0IiwicmVzcG9uc2VzIiwiaXNTdWNjZXNzIiwicmVzcG9uc2UiLCJtb2RpZmllZCIsImN0IiwiZmluYWxEYXRhVHlwZSIsImZpcnN0RGF0YVR5cGUiLCJhamF4SGFuZGxlUmVzcG9uc2VzIiwiY29udjIiLCJjdXJyZW50IiwiY29udiIsImRhdGFGaWx0ZXIiLCJ0aHJvd3MiLCJhamF4Q29udmVydCIsImdldEpTT04iLCJnZXRTY3JpcHQiLCJ3cmFwQWxsIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJ3cmFwSW5uZXIiLCJodG1sSXNGdW5jdGlvbiIsInVud3JhcCIsInZpc2libGUiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsInhoclN1Y2Nlc3NTdGF0dXMiLCJ4aHJTdXBwb3J0ZWQiLCJjb3JzIiwiZXJyb3JDYWxsYmFjayIsIm9wZW4iLCJ1c2VybmFtZSIsInhockZpZWxkcyIsIm9ubG9hZCIsIm9uZXJyb3IiLCJvbmFib3J0Iiwib250aW1lb3V0Iiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVzcG9uc2VUeXBlIiwicmVzcG9uc2VUZXh0IiwiYmluYXJ5Iiwic2NyaXB0QXR0cnMiLCJjaGFyc2V0Iiwic2NyaXB0Q2hhcnNldCIsImV2dCIsIm9sZENhbGxiYWNrcyIsInJqc29ucCIsImpzb25wIiwianNvbnBDYWxsYmFjayIsIm9yaWdpbmFsU2V0dGluZ3MiLCJjYWxsYmFja05hbWUiLCJvdmVyd3JpdHRlbiIsInJlc3BvbnNlQ29udGFpbmVyIiwianNvblByb3AiLCJjcmVhdGVIVE1MRG9jdW1lbnQiLCJpbXBsZW1lbnRhdGlvbiIsImtlZXBTY3JpcHRzIiwicGFyc2VkIiwicGFyYW1zIiwiYW5pbWF0ZWQiLCJvZmZzZXQiLCJzZXRPZmZzZXQiLCJjdXJQb3NpdGlvbiIsImN1ckxlZnQiLCJjdXJDU1NUb3AiLCJjdXJUb3AiLCJjdXJPZmZzZXQiLCJjdXJDU1NMZWZ0IiwiY3VyRWxlbSIsInVzaW5nIiwicmVjdCIsIndpbiIsInBhZ2VZT2Zmc2V0IiwicGFnZVhPZmZzZXQiLCJvZmZzZXRQYXJlbnQiLCJwYXJlbnRPZmZzZXQiLCJzY3JvbGxUbyIsIkhlaWdodCIsIldpZHRoIiwiZGVmYXVsdEV4dHJhIiwiZnVuY05hbWUiLCJ1bmJpbmQiLCJkZWxlZ2F0ZSIsInVuZGVsZWdhdGUiLCJob3ZlciIsImZuT3ZlciIsImZuT3V0IiwicnRyaW0iLCJwcm94eSIsImhvbGRSZWFkeSIsImhvbGQiLCJwYXJzZUpTT04iLCJpc051bWVyaWMiLCJpc05hTiIsInRyaW0iLCJfalF1ZXJ5IiwiXyQiLCIkIiwibm9Db25mbGljdCIsIm1vZHVsZSIsInciLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwianF1ZXJ5bG9hZGVyXzEiLCJhZGRndWlfMSIsIlNlYVBpY2tsZWxpYiIsInNldEd1aU5hbWUiLCJzZXRHdWlIdG1sIiwic2V0R3VpU3R5bGVzIiwic2V0R3VpS2V5QmluZCIsInNldEd1aU9ubHlTaG93SWZJbkdhbWUiLCJhZGRHdWkiLCJsb2FkanF1ZXJ5Il0sInNvdXJjZVJvb3QiOiIifQ==